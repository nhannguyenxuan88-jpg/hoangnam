var BV=Object.defineProperty;var cC=e=>{throw TypeError(e)};var UV=(e,t,r)=>t in e?BV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var va=(e,t,r)=>UV(e,typeof t!="symbol"?t+"":t,r),j5=(e,t,r)=>t.has(e)||cC("Cannot "+r);var Le=(e,t,r)=>(j5(e,t,"read from private field"),r?r.call(e):t.get(e)),mr=(e,t,r)=>t.has(e)?cC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qt=(e,t,r,a)=>(j5(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Vr=(e,t,r)=>(j5(e,t,"access private method"),r);var Ab=(e,t,r,a)=>({set _(n){qt(e,t,n,r)},get _(){return Le(e,t,a)}});function y9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var eEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zV(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var A5={exports:{}},Sx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function qV(){if(uC)return Sx;uC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,n,i){var s=null;if(i!==void 0&&(s=""+i),n.key!==void 0&&(s=""+n.key),"key"in n){i={};for(var l in n)l!=="key"&&(i[l]=n[l])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:s,ref:n!==void 0?n:null,props:i}}return Sx.Fragment=t,Sx.jsx=r,Sx.jsxs=r,Sx}var dC;function $V(){return dC||(dC=1,A5.exports=qV()),A5.exports}var o=$V(),T5={exports:{}},Ir={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function HV(){if(hC)return Ir;hC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function p(re){return re===null||typeof re!="object"?null:(re=x&&re[x]||re["@@iterator"],typeof re=="function"?re:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function k(re,P,W){this.props=re,this.context=P,this.refs=v,this.updater=W||y}k.prototype.isReactComponent={},k.prototype.setState=function(re,P){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,P,"setState")},k.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function N(){}N.prototype=k.prototype;function _(re,P,W){this.props=re,this.context=P,this.refs=v,this.updater=W||y}var A=_.prototype=new N;A.constructor=_,b(A,k.prototype),A.isPureReactComponent=!0;var D=Array.isArray;function M(){}var L={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function F(re,P,W){var z=W.ref;return{$$typeof:e,type:re,key:P,ref:z!==void 0?z:null,props:W}}function H(re,P){return F(re.type,P,re.props)}function O(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function I(re){var P={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(W){return P[W]})}var V=/\/+/g;function Y(re,P){return typeof re=="object"&&re!==null&&re.key!=null?I(""+re.key):P.toString(36)}function te(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(M,M):(re.status="pending",re.then(function(P){re.status==="pending"&&(re.status="fulfilled",re.value=P)},function(P){re.status==="pending"&&(re.status="rejected",re.reason=P)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function X(re,P,W,z,q){var Z=typeof re;(Z==="undefined"||Z==="boolean")&&(re=null);var se=!1;if(re===null)se=!0;else switch(Z){case"bigint":case"string":case"number":se=!0;break;case"object":switch(re.$$typeof){case e:case t:se=!0;break;case h:return se=re._init,X(se(re._payload),P,W,z,q)}}if(se)return q=q(re),se=z===""?"."+Y(re,0):z,D(q)?(W="",se!=null&&(W=se.replace(V,"$&/")+"/"),X(q,P,W,"",function(me){return me})):q!=null&&(O(q)&&(q=H(q,W+(q.key==null||re&&re.key===q.key?"":(""+q.key).replace(V,"$&/")+"/")+se)),P.push(q)),1;se=0;var ee=z===""?".":z+":";if(D(re))for(var Q=0;Q<re.length;Q++)z=re[Q],Z=ee+Y(z,Q),se+=X(z,P,W,Z,q);else if(Q=p(re),typeof Q=="function")for(re=Q.call(re),Q=0;!(z=re.next()).done;)z=z.value,Z=ee+Y(z,Q++),se+=X(z,P,W,Z,q);else if(Z==="object"){if(typeof re.then=="function")return X(te(re),P,W,z,q);throw P=String(re),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return se}function ae(re,P,W){if(re==null)return re;var z=[],q=0;return X(re,z,"","",function(Z){return P.call(W,Z,q++)}),z}function de(re){if(re._status===-1){var P=re._result;P=P(),P.then(function(W){(re._status===0||re._status===-1)&&(re._status=1,re._result=W)},function(W){(re._status===0||re._status===-1)&&(re._status=2,re._result=W)}),re._status===-1&&(re._status=0,re._result=P)}if(re._status===1)return re._result.default;throw re._result}var oe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},De={map:ae,forEach:function(re,P,W){ae(re,function(){P.apply(this,arguments)},W)},count:function(re){var P=0;return ae(re,function(){P++}),P},toArray:function(re){return ae(re,function(P){return P})||[]},only:function(re){if(!O(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return Ir.Activity=m,Ir.Children=De,Ir.Component=k,Ir.Fragment=r,Ir.Profiler=n,Ir.PureComponent=_,Ir.StrictMode=a,Ir.Suspense=u,Ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ir.__COMPILER_RUNTIME={__proto__:null,c:function(re){return L.H.useMemoCache(re)}},Ir.cache=function(re){return function(){return re.apply(null,arguments)}},Ir.cacheSignal=function(){return null},Ir.cloneElement=function(re,P,W){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var z=b({},re.props),q=re.key;if(P!=null)for(Z in P.key!==void 0&&(q=""+P.key),P)!B.call(P,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&P.ref===void 0||(z[Z]=P[Z]);var Z=arguments.length-2;if(Z===1)z.children=W;else if(1<Z){for(var se=Array(Z),ee=0;ee<Z;ee++)se[ee]=arguments[ee+2];z.children=se}return F(re.type,q,z)},Ir.createContext=function(re){return re={$$typeof:s,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:i,_context:re},re},Ir.createElement=function(re,P,W){var z,q={},Z=null;if(P!=null)for(z in P.key!==void 0&&(Z=""+P.key),P)B.call(P,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(q[z]=P[z]);var se=arguments.length-2;if(se===1)q.children=W;else if(1<se){for(var ee=Array(se),Q=0;Q<se;Q++)ee[Q]=arguments[Q+2];q.children=ee}if(re&&re.defaultProps)for(z in se=re.defaultProps,se)q[z]===void 0&&(q[z]=se[z]);return F(re,Z,q)},Ir.createRef=function(){return{current:null}},Ir.forwardRef=function(re){return{$$typeof:l,render:re}},Ir.isValidElement=O,Ir.lazy=function(re){return{$$typeof:h,_payload:{_status:-1,_result:re},_init:de}},Ir.memo=function(re,P){return{$$typeof:d,type:re,compare:P===void 0?null:P}},Ir.startTransition=function(re){var P=L.T,W={};L.T=W;try{var z=re(),q=L.S;q!==null&&q(W,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(M,oe)}catch(Z){oe(Z)}finally{P!==null&&W.types!==null&&(P.types=W.types),L.T=P}},Ir.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ir.use=function(re){return L.H.use(re)},Ir.useActionState=function(re,P,W){return L.H.useActionState(re,P,W)},Ir.useCallback=function(re,P){return L.H.useCallback(re,P)},Ir.useContext=function(re){return L.H.useContext(re)},Ir.useDebugValue=function(){},Ir.useDeferredValue=function(re,P){return L.H.useDeferredValue(re,P)},Ir.useEffect=function(re,P){return L.H.useEffect(re,P)},Ir.useEffectEvent=function(re){return L.H.useEffectEvent(re)},Ir.useId=function(){return L.H.useId()},Ir.useImperativeHandle=function(re,P,W){return L.H.useImperativeHandle(re,P,W)},Ir.useInsertionEffect=function(re,P){return L.H.useInsertionEffect(re,P)},Ir.useLayoutEffect=function(re,P){return L.H.useLayoutEffect(re,P)},Ir.useMemo=function(re,P){return L.H.useMemo(re,P)},Ir.useOptimistic=function(re,P){return L.H.useOptimistic(re,P)},Ir.useReducer=function(re,P,W){return L.H.useReducer(re,P,W)},Ir.useRef=function(re){return L.H.useRef(re)},Ir.useState=function(re){return L.H.useState(re)},Ir.useSyncExternalStore=function(re,P,W){return L.H.useSyncExternalStore(re,P,W)},Ir.useTransition=function(){return L.H.useTransition()},Ir.version="19.2.0",Ir}var fC;function bg(){return fC||(fC=1,T5.exports=HV()),T5.exports}var j=bg();const fa=Hc(j),WV=y9({__proto__:null,default:fa},[j]);var E5={exports:{}},Nx={},C5={exports:{}},O5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function VV(){return mC||(mC=1,(function(e){function t(X,ae){var de=X.length;X.push(ae);e:for(;0<de;){var oe=de-1>>>1,De=X[oe];if(0<n(De,ae))X[oe]=ae,X[de]=De,de=oe;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ae=X[0],de=X.pop();if(de!==ae){X[0]=de;e:for(var oe=0,De=X.length,re=De>>>1;oe<re;){var P=2*(oe+1)-1,W=X[P],z=P+1,q=X[z];if(0>n(W,de))z<De&&0>n(q,W)?(X[oe]=q,X[z]=de,oe=z):(X[oe]=W,X[P]=de,oe=P);else if(z<De&&0>n(q,de))X[oe]=q,X[z]=de,oe=z;else break e}}return ae}function n(X,ae){var de=X.sortIndex-ae.sortIndex;return de!==0?de:X.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],h=1,m=null,x=3,p=!1,y=!1,b=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function A(X){for(var ae=r(d);ae!==null;){if(ae.callback===null)a(d);else if(ae.startTime<=X)a(d),ae.sortIndex=ae.expirationTime,t(u,ae);else break;ae=r(d)}}function D(X){if(b=!1,A(X),!y)if(r(u)!==null)y=!0,M||(M=!0,I());else{var ae=r(d);ae!==null&&te(D,ae.startTime-X)}}var M=!1,L=-1,B=5,F=-1;function H(){return v?!0:!(e.unstable_now()-F<B)}function O(){if(v=!1,M){var X=e.unstable_now();F=X;var ae=!0;try{e:{y=!1,b&&(b=!1,N(L),L=-1),p=!0;var de=x;try{t:{for(A(X),m=r(u);m!==null&&!(m.expirationTime>X&&H());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,x=m.priorityLevel;var De=oe(m.expirationTime<=X);if(X=e.unstable_now(),typeof De=="function"){m.callback=De,A(X),ae=!0;break t}m===r(u)&&a(u),A(X)}else a(u);m=r(u)}if(m!==null)ae=!0;else{var re=r(d);re!==null&&te(D,re.startTime-X),ae=!1}}break e}finally{m=null,x=de,p=!1}ae=void 0}}finally{ae?I():M=!1}}}var I;if(typeof _=="function")I=function(){_(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=O,I=function(){Y.postMessage(null)}}else I=function(){k(O,0)};function te(X,ae){L=k(function(){X(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var de=x;x=ae;try{return X()}finally{x=de}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=x;x=X;try{return ae()}finally{x=de}},e.unstable_scheduleCallback=function(X,ae,de){var oe=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?oe+de:oe):de=oe,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=de+De,X={id:h++,callback:ae,priorityLevel:X,startTime:de,expirationTime:De,sortIndex:-1},de>oe?(X.sortIndex=de,t(d,X),r(u)===null&&X===r(d)&&(b?(N(L),L=-1):b=!0,te(D,de-oe))):(X.sortIndex=De,t(u,X),y||p||(y=!0,M||(M=!0,I()))),X},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(X){var ae=x;return function(){var de=x;x=ae;try{return X.apply(this,arguments)}finally{x=de}}}})(O5)),O5}var pC;function KV(){return pC||(pC=1,C5.exports=VV()),C5.exports}var P5={exports:{}},Cs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function GV(){if(gC)return Cs;gC=1;var e=bg();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Cs.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(u,d,null,h)},Cs.flushSync=function(u){var d=s.T,h=a.p;try{if(s.T=null,a.p=2,u)return u()}finally{s.T=d,a.p=h,a.d.f()}},Cs.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(u,d))},Cs.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Cs.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?a.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:p}):h==="script"&&a.d.X(u,{crossOrigin:m,integrity:x,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cs.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);a.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(u)},Cs.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);a.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cs.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);a.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(u)},Cs.requestFormReset=function(u){a.d.r(u)},Cs.unstable_batchedUpdates=function(u,d){return u(d)},Cs.useFormState=function(u,d,h){return s.H.useFormState(u,d,h)},Cs.useFormStatus=function(){return s.H.useHostTransitionStatus()},Cs.version="19.2.0",Cs}var xC;function w9(){if(xC)return P5.exports;xC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),P5.exports=GV(),P5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function YV(){if(vC)return Nx;vC=1;var e=KV(),t=bg(),r=w9();function a(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function s(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(a(188))}function d(c){var f=c.alternate;if(!f){if(f=i(c),f===null)throw Error(a(188));return f!==c?null:c}for(var g=c,w=f;;){var T=g.return;if(T===null)break;var C=T.alternate;if(C===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===g)return u(T),c;if(C===w)return u(T),f;C=C.sibling}throw Error(a(188))}if(g.return!==w.return)g=T,w=C;else{for(var G=!1,fe=T.child;fe;){if(fe===g){G=!0,g=T,w=C;break}if(fe===w){G=!0,w=T,g=C;break}fe=fe.sibling}if(!G){for(fe=C.child;fe;){if(fe===g){G=!0,g=C,w=T;break}if(fe===w){G=!0,w=C,g=T;break}fe=fe.sibling}if(!G)throw Error(a(189))}}if(g.alternate!==w)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function I(c){return c===null||typeof c!="object"?null:(c=O&&c[O]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function Y(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case k:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case _:return c.displayName||"Context";case N:return(c._context.displayName||"Context")+".Consumer";case A:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case L:return f=c.displayName||null,f!==null?f:Y(c.type)||"Memo";case B:f=c._payload,c=c._init;try{return Y(c(f))}catch{}}return null}var te=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},oe=[],De=-1;function re(c){return{current:c}}function P(c){0>De||(c.current=oe[De],oe[De]=null,De--)}function W(c,f){De++,oe[De]=c.current,c.current=f}var z=re(null),q=re(null),Z=re(null),se=re(null);function ee(c,f){switch(W(Z,f),W(q,c),W(z,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?PE(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=PE(f),c=DE(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}P(z),W(z,c)}function Q(){P(z),P(q),P(Z)}function me(c){c.memoizedState!==null&&W(se,c);var f=z.current,g=DE(f,c.type);f!==g&&(W(q,c),W(z,g))}function Ae(c){q.current===c&&(P(z),P(q)),se.current===c&&(P(se),yx._currentValue=de)}var J,ke;function ye(c){if(J===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);J=f&&f[1]||"",ke=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+c+ke}var ce=!1;function qe(c,f){if(!c||ce)return"";ce=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(st){var rt=st}Reflect.construct(c,[],wt)}else{try{wt.call()}catch(st){rt=st}c.call(wt.prototype)}}else{try{throw Error()}catch(st){rt=st}(wt=c())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(st){if(st&&rt&&typeof st.stack=="string")return[st.stack,rt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=w.DetermineComponentFrameRoot(),G=C[0],fe=C[1];if(G&&fe){var Pe=G.split(`
`),et=fe.split(`
`);for(T=w=0;w<Pe.length&&!Pe[w].includes("DetermineComponentFrameRoot");)w++;for(;T<et.length&&!et[T].includes("DetermineComponentFrameRoot");)T++;if(w===Pe.length||T===et.length)for(w=Pe.length-1,T=et.length-1;1<=w&&0<=T&&Pe[w]!==et[T];)T--;for(;1<=w&&0<=T;w--,T--)if(Pe[w]!==et[T]){if(w!==1||T!==1)do if(w--,T--,0>T||Pe[w]!==et[T]){var ft=`
`+Pe[w].replace(" at new "," at ");return c.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",c.displayName)),ft}while(1<=w&&0<=T);break}}}finally{ce=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?ye(g):""}function ze(c,f){switch(c.tag){case 26:case 27:case 5:return ye(c.type);case 16:return ye("Lazy");case 13:return c.child!==f&&f!==null?ye("Suspense Fallback"):ye("Suspense");case 19:return ye("SuspenseList");case 0:case 15:return qe(c.type,!1);case 11:return qe(c.type.render,!1);case 1:return qe(c.type,!0);case 31:return ye("Activity");default:return""}}function mt(c){try{var f="",g=null;do f+=ze(c,g),g=c,c=c.return;while(c);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Te=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,ut=e.unstable_shouldYield,bt=e.unstable_requestPaint,Me=e.unstable_now,at=e.unstable_getCurrentPriorityLevel,yt=e.unstable_ImmediatePriority,lr=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,kt=e.unstable_LowPriority,ht=e.unstable_IdlePriority,_t=e.log,hr=e.unstable_setDisableYieldValue,Ut=null,At=null;function Lt(c){if(typeof _t=="function"&&hr(c),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ut,c)}catch{}}var _r=Math.clz32?Math.clz32:rr,Gt=Math.log,Ar=Math.LN2;function rr(c){return c>>>=0,c===0?32:31-(Gt(c)/Ar|0)|0}var Yr=256,Dt=262144,cr=4194304;function zt(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Dr(c,f,g){var w=c.pendingLanes;if(w===0)return 0;var T=0,C=c.suspendedLanes,G=c.pingedLanes;c=c.warmLanes;var fe=w&134217727;return fe!==0?(w=fe&~C,w!==0?T=zt(w):(G&=fe,G!==0?T=zt(G):g||(g=fe&~c,g!==0&&(T=zt(g))))):(fe=w&~C,fe!==0?T=zt(fe):G!==0?T=zt(G):g||(g=w&~c,g!==0&&(T=zt(g)))),T===0?0:f!==0&&f!==T&&(f&C)===0&&(C=T&-T,g=f&-f,C>=g||C===32&&(g&4194048)!==0)?f:T}function hs(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function wn(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var c=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),c}function bi(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function Pt(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Gs(c,f,g,w,T,C){var G=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var fe=c.entanglements,Pe=c.expirationTimes,et=c.hiddenUpdates;for(g=G&~g;0<g;){var ft=31-_r(g),wt=1<<ft;fe[ft]=0,Pe[ft]=-1;var rt=et[ft];if(rt!==null)for(et[ft]=null,ft=0;ft<rt.length;ft++){var st=rt[ft];st!==null&&(st.lane&=-536870913)}g&=~wt}w!==0&&fs(c,w,0),C!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=C&~(G&~f))}function fs(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var w=31-_r(f);c.entangledLanes|=f,c.entanglements[w]=c.entanglements[w]|1073741824|g&261930}function Ln(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var w=31-_r(g),T=1<<w;T&f|c[w]&f&&(c[w]|=f),g&=~T}}function yi(c,f){var g=f&-f;return g=(g&42)!==0?1:ra(g),(g&(c.suspendedLanes|f))!==0?0:g}function ra(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Xa(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function le(){var c=ae.p;return c!==0?c:(c=window.event,c===void 0?32:rC(c.type))}function Se(c,f){var g=ae.p;try{return ae.p=c,f()}finally{ae.p=g}}var ge=Math.random().toString(36).slice(2),xe="__reactFiber$"+ge,be="__reactProps$"+ge,_e="__reactContainer$"+ge,Ve="__reactEvents$"+ge,it="__reactListeners$"+ge,Ge="__reactHandles$"+ge,Ye="__reactResources$"+ge,Qe="__reactMarker$"+ge;function xt(c){delete c[xe],delete c[be],delete c[Ve],delete c[it],delete c[Ge]}function Ot(c){var f=c[xe];if(f)return f;for(var g=c.parentNode;g;){if(f=g[_e]||g[xe]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=UE(c);c!==null;){if(g=c[xe])return g;c=UE(c)}return f}c=g,g=c.parentNode}return null}function Ft(c){if(c=c[xe]||c[_e]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function Ct(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(a(33))}function Ce(c){var f=c[Ye];return f||(f=c[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function nt(c){c[Qe]=!0}var $t=new Set,Ht={};function zr(c,f){Qa(c,f),Qa(c+"Capture",f)}function Qa(c,f){for(Ht[c]=f,c=0;c<f.length;c++)$t.add(f[c])}var cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nn={},Ea={};function qo(c){return Te.call(Ea,c)?!0:Te.call(nn,c)?!1:cn.test(c)?Ea[c]=!0:(nn[c]=!0,!1)}function Mn(c,f,g){if(qo(f))if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+g)}}function u0(c,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+g)}}function Ca(c,f,g,w){if(w===null)c.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(f,g,""+w)}}function ms(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Oh(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ic(c,f,g){var w=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var T=w.get,C=w.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return T.call(this)},set:function(G){g=""+G,C.call(this,G)}}),Object.defineProperty(c,f,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function sc(c){if(!c._valueTracker){var f=Oh(c)?"checked":"value";c._valueTracker=ic(c,f,""+c[f])}}function xo(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return c&&(w=Oh(c)?c.checked?"true":"false":c.value),c=w,c!==g?(f.setValue(c),!0):!1}function bl(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var In=/[\n"\\]/g;function Qi(c){return c.replace(In,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ph(c,f,g,w,T,C,G,fe){c.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.type=G:c.removeAttribute("type"),f!=null?G==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+ms(f)):c.value!==""+ms(f)&&(c.value=""+ms(f)):G!=="submit"&&G!=="reset"||c.removeAttribute("value"),f!=null?Dh(c,G,ms(f)):g!=null?Dh(c,G,ms(g)):w!=null&&c.removeAttribute("value"),T==null&&C!=null&&(c.defaultChecked=!!C),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?c.name=""+ms(fe):c.removeAttribute("name")}function _m(c,f,g,w,T,C,G,fe){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),f!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){sc(c);return}g=g!=null?""+ms(g):"",f=f!=null?""+ms(f):g,fe||f===c.value||(c.value=f),c.defaultValue=f}w=w??T,w=typeof w!="function"&&typeof w!="symbol"&&!!w,c.checked=fe?c.checked:!!w,c.defaultChecked=!!w,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(c.name=G),sc(c)}function Dh(c,f,g){f==="number"&&bl(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function ps(c,f,g,w){if(c=c.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<c.length;g++)T=f.hasOwnProperty("$"+c[g].value),c[g].selected!==T&&(c[g].selected=T),T&&w&&(c[g].defaultSelected=!0)}else{for(g=""+ms(g),f=null,T=0;T<c.length;T++){if(c[T].value===g){c[T].selected=!0,w&&(c[T].defaultSelected=!0);return}f!==null||c[T].disabled||(f=c[T])}f!==null&&(f.selected=!0)}}function Lh(c,f,g){if(f!=null&&(f=""+ms(f),f!==c.value&&(c.value=f),g==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=g!=null?""+ms(g):""}function Mh(c,f,g,w){if(f==null){if(w!=null){if(g!=null)throw Error(a(92));if(te(w)){if(1<w.length)throw Error(a(93));w=w[0]}g=w}g==null&&(g=""),f=g}g=ms(f),c.defaultValue=g,w=c.textContent,w===g&&w!==""&&w!==null&&(c.value=w),sc(c)}function Ys(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var Ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sm(c,f,g){var w=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":w?c.setProperty(f,g):typeof g!="number"||g===0||Ih.has(f)?f==="float"?c.cssFloat=g:c[f]=(""+g).trim():c[f]=g+"px"}function Nm(c,f,g){if(f!=null&&typeof f!="object")throw Error(a(62));if(c=c.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?c.setProperty(w,""):w==="float"?c.cssFloat="":c[w]="");for(var T in f)w=f[T],f.hasOwnProperty(T)&&g[T]!==w&&Sm(c,T,w)}else for(var C in f)f.hasOwnProperty(C)&&Sm(c,C,f[C])}function Rh(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(c){return Hu.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ho(){}var oc=null;function Wu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yr=null,Yc=null;function jm(c){var f=Ft(c);if(f&&(c=f.stateNode)){var g=c[be]||null;e:switch(c=f.stateNode,f.type){case"input":if(Ph(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Qi(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==c&&w.form===c.form){var T=w[be]||null;if(!T)throw Error(a(90));Ph(w,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)w=g[f],w.form===c.form&&xo(w)}break e;case"textarea":Lh(c,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ps(c,!!g.multiple,f,!1)}}}var Bh=!1;function Am(c,f,g){if(Bh)return c(f,g);Bh=!0;try{var w=c(f);return w}finally{if(Bh=!1,(yr!==null||Yc!==null)&&(ib(),yr&&(f=yr,c=Yc,Yc=yr=null,jm(f),c)))for(f=0;f<c.length;f++)jm(c[f])}}function Xs(c,f){var g=c.stateNode;if(g===null)return null;var w=g[be]||null;if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(a(231,f,typeof g));return g}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=!1;if(Pi)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{Uh=!1}var Qs=null,Ku=null,yl=null;function Gu(){if(yl)return yl;var c,f=Ku,g=f.length,w,T="value"in Qs?Qs.value:Qs.textContent,C=T.length;for(c=0;c<g&&f[c]===T[c];c++);var G=g-c;for(w=1;w<=G&&f[g-w]===T[C-w];w++);return yl=T.slice(c,1<w?1-w:void 0)}function lc(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function d0(){return!0}function h0(){return!1}function wi(c){function f(g,w,T,C,G){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=C,this.target=G,this.currentTarget=null;for(var fe in c)c.hasOwnProperty(fe)&&(g=c[fe],this[fe]=g?g(C):C[fe]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?d0:h0,this.isPropagationStopped=h0,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=d0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=d0)},persist:function(){},isPersistent:d0}),f}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=wi(Js),cc=m({},Js,{view:0,detail:0}),f0=wi(cc),Yu,uc,Xc,Xu=m({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Xc&&(Xc&&c.type==="mousemove"?(Yu=c.screenX-Xc.screenX,uc=c.screenY-Xc.screenY):uc=Yu=0,Xc=c),Yu)},movementY:function(c){return"movementY"in c?c.movementY:uc}}),kl=wi(Xu),dc=m({},Xu,{dataTransfer:0}),Tm=wi(dc),Em=m({},cc,{relatedTarget:0}),hc=wi(Em),Cm=m({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),R=wi(Cm),ne=m({},Js,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),je=wi(ne),Ie=m({},Js,{data:0}),$e=wi(Ie),pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ir(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Qt[c])?!!f[c]:!1}function Sr(){return ir}var Lr=m({},cc,{key:function(c){if(c.key){var f=pt[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=lc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Nt[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(c){return c.type==="keypress"?lc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?lc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),pa=wi(Lr),un=m({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=wi(un),Ua=m({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),oi=wi(Ua),Vn=m({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Di=wi(Vn),vo=m({},Xu,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),As=wi(vo),Om=m({},Js,{newState:0,oldState:0}),m0=wi(Om),Qu=[9,13,27,32],_l=Pi&&"CompositionEvent"in window,Wo=null;Pi&&"documentMode"in document&&(Wo=document.documentMode);var Ju=Pi&&"TextEvent"in window&&!Wo,Qc=Pi&&(!_l||Wo&&8<Wo&&11>=Wo),Li=" ",Jc=!1;function Zc(c,f){switch(c){case"keyup":return Qu.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p0(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Sl=!1;function kn(c,f){switch(c){case"compositionend":return p0(f);case"keypress":return f.which!==32?null:(Jc=!0,Li);case"textInput":return c=f.data,c===Li&&Jc?null:c;default:return null}}function fc(c,f){if(Sl)return c==="compositionend"||!_l&&Zc(c,f)?(c=Gu(),yl=Ku=Qs=null,Sl=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Qc&&f.locale!=="ko"?null:f.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!g0[c.type]:f==="textarea"}function Zs(c,f,g,w){yr?Yc?Yc.push(w):Yc=[w]:yr=w,f=hb(f,"onChange"),0<f.length&&(g=new wl("onChange","change",null,g,w),c.push({event:g,listeners:f}))}var Vo=null,mc=null;function qh(c){jE(c,0)}function Ko(c){var f=Ct(c);if(xo(f))return c}function eu(c,f){if(c==="change")return f}var Ts=!1;if(Pi){var gs;if(Pi){var Nl="oninput"in document;if(!Nl){var jl=document.createElement("div");jl.setAttribute("oninput","return;"),Nl=typeof jl.oninput=="function"}gs=Nl}else gs=!1;Ts=gs&&(!document.documentMode||9<document.documentMode)}function pc(){Vo&&(Vo.detachEvent("onpropertychange",x0),mc=Vo=null)}function x0(c){if(c.propertyName==="value"&&Ko(mc)){var f=[];Zs(f,mc,c,Wu(c)),Am(qh,f)}}function v0(c,f,g){c==="focusin"?(pc(),Vo=f,mc=g,Vo.attachEvent("onpropertychange",x0)):c==="focusout"&&pc()}function Fn(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ko(mc)}function Pm(c,f){if(c==="click")return Ko(f)}function Al(c,f){if(c==="input"||c==="change")return Ko(f)}function Tl(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Mi=typeof Object.is=="function"?Object.is:Tl;function gc(c,f){if(Mi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!Te.call(f,T)||!Mi(c[T],f[T]))return!1}return!0}function b0(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function y0(c,f){var g=b0(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=f&&w>=f)return{node:g,offset:f-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=b0(g)}}function xc(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?xc(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function vc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=bl(c.document);f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=bl(c.document)}return f}function El(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var Zu=Pi&&"documentMode"in document&&11>=document.documentMode,eo=null,bc=null,Ji=null,bo=!1;function ga(c,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;bo||eo==null||eo!==bl(w)||(w=eo,"selectionStart"in w&&El(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ji&&gc(Ji,w)||(Ji=w,w=hb(bc,"onSelect"),0<w.length&&(f=new wl("onSelect","select",null,f,g),c.push({event:f,listeners:w}),f.target=eo)))}function sa(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var za={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Bn={},Cl={};Pi&&(Cl=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Go(c){if(Bn[c])return Bn[c];if(!za[c])return c;var f=za[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Cl)return Bn[c]=f[g];return c}var ed=Go("animationend"),$h=Go("animationiteration"),$g=Go("animationstart"),Mv=Go("transitionrun"),Iv=Go("transitionstart"),Rv=Go("transitioncancel"),Hg=Go("transitionend"),Wg=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function yo(c,f){Wg.set(c,f),zr(f,[c])}var Hh=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},to=[],rd=0,Dm=0;function Wh(){for(var c=rd,f=Dm=rd=0;f<c;){var g=to[f];to[f++]=null;var w=to[f];to[f++]=null;var T=to[f];to[f++]=null;var C=to[f];if(to[f++]=null,w!==null&&T!==null){var G=w.pending;G===null?T.next=T:(T.next=G.next,G.next=T),w.pending=T}C!==0&&Kh(g,T,C)}}function Vh(c,f,g,w){to[rd++]=c,to[rd++]=f,to[rd++]=g,to[rd++]=w,Dm|=w,c.lanes|=w,c=c.alternate,c!==null&&(c.lanes|=w)}function Lm(c,f,g,w){return Vh(c,f,g,w),Zi(c)}function yc(c,f){return Vh(c,null,null,f),Zi(c)}function Kh(c,f,g){c.lanes|=g;var w=c.alternate;w!==null&&(w.lanes|=g);for(var T=!1,C=c.return;C!==null;)C.childLanes|=g,w=C.alternate,w!==null&&(w.childLanes|=g),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(T=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,T&&f!==null&&(T=31-_r(g),c=C.hiddenUpdates,w=c[T],w===null?c[T]=[f]:w.push(f),f.lane=g|536870912),C):null}function Zi(c){if(50<fx)throw fx=0,Xk=null,Error(a(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Ii={};function Mm(c,f,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(c,f,g,w){return new Mm(c,f,g,w)}function Im(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wo(c,f){var g=c.alternate;return g===null?(g=es(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function Gh(c,f){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function w0(c,f,g,w,T,C){var G=0;if(w=c,typeof c=="function")Im(c)&&(G=1);else if(typeof c=="string")G=AV(c,g,z.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case F:return c=es(31,g,f,T),c.elementType=F,c.lanes=C,c;case b:return tu(g.children,T,C,f);case v:G=8,T|=24;break;case k:return c=es(12,g,f,T|2),c.elementType=k,c.lanes=C,c;case D:return c=es(13,g,f,T),c.elementType=D,c.lanes=C,c;case M:return c=es(19,g,f,T),c.elementType=M,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case _:G=10;break e;case N:G=9;break e;case A:G=11;break e;case L:G=14;break e;case B:G=16,w=null;break e}G=29,g=Error(a(130,c===null?"null":typeof c,"")),w=null}return f=es(G,g,f,T),f.elementType=c,f.type=w,f.lanes=C,f}function tu(c,f,g,w){return c=es(7,c,w,f),c.lanes=g,c}function Yh(c,f,g){return c=es(6,c,null,f),c.lanes=g,c}function Rm(c){var f=es(18,null,null,0);return f.stateNode=c,f}function k0(c,f,g){return f=es(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Fm=new WeakMap;function ko(c,f){if(typeof c=="object"&&c!==null){var g=Fm.get(c);return g!==void 0?g:(f={value:c,source:f,stack:mt(f)},Fm.set(c,f),f)}return{value:c,source:f,stack:mt(f)}}var _0=[],ad=0,Bm=null,Xh=0,_o=[],So=0,ru=null,No=1,jo="";function ro(c,f){_0[ad++]=Xh,_0[ad++]=Bm,Bm=c,Xh=f}function Fv(c,f,g){_o[So++]=No,_o[So++]=jo,_o[So++]=ru,ru=c;var w=No;c=jo;var T=32-_r(w)-1;w&=~(1<<T),g+=1;var C=32-_r(f)+T;if(30<C){var G=T-T%5;C=(w&(1<<G)-1).toString(32),w>>=G,T-=G,No=1<<32-_r(f)+T|g<<T|w,jo=C+c}else No=1<<C|g<<T|w,jo=c}function Vg(c){c.return!==null&&(ro(c,1),Fv(c,1,0))}function Um(c){for(;c===Bm;)Bm=_0[--ad],_0[ad]=null,Xh=_0[--ad],_0[ad]=null;for(;c===ru;)ru=_o[--So],_o[So]=null,jo=_o[--So],_o[So]=null,No=_o[--So],_o[So]=null}function Bv(c,f){_o[So++]=No,_o[So++]=jo,_o[So++]=ru,No=f.id,jo=f.overflow,ru=c}var Ri=null,Ja=null,Jr=!1,xs=null,_n=!1,Yo=Error(a(519));function au(c){var f=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw S0(ko(f,c)),Yo}function Kg(c){var f=c.stateNode,g=c.type,w=c.memoizedProps;switch(f[xe]=c,f[be]=w,g){case"dialog":ea("cancel",f),ea("close",f);break;case"iframe":case"object":case"embed":ea("load",f);break;case"video":case"audio":for(g=0;g<px.length;g++)ea(px[g],f);break;case"source":ea("error",f);break;case"img":case"image":case"link":ea("error",f),ea("load",f);break;case"details":ea("toggle",f);break;case"input":ea("invalid",f),_m(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":ea("invalid",f);break;case"textarea":ea("invalid",f),Mh(f,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||w.suppressHydrationWarning===!0||CE(f.textContent,g)?(w.popover!=null&&(ea("beforetoggle",f),ea("toggle",f)),w.onScroll!=null&&ea("scroll",f),w.onScrollEnd!=null&&ea("scrollend",f),w.onClick!=null&&(f.onclick=Ho),f=!0):f=!1,f||au(c,!0)}function wc(c){for(Ri=c.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ri=Ri.return}}function Fi(c){if(c!==Ri)return!1;if(!Jr)return wc(c),Jr=!0,!1;var f=c.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||d5(c.type,c.memoizedProps)),g=!g),g&&Ja&&au(c),wc(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Ja=BE(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Ja=BE(c)}else f===27?(f=Ja,F0(c.type)?(c=g5,g5=null,Ja=c):Ja=f):Ja=Ri?Ll(c.stateNode.nextSibling):null;return!0}function nd(){Ja=Ri=null,Jr=!1}function Gg(){var c=xs;return c!==null&&(Po===null?Po=c:Po.push.apply(Po,c),xs=null),c}function S0(c){xs===null?xs=[c]:xs.push(c)}var zm=re(null),nu=null,Ol=null;function iu(c,f,g){W(zm,f._currentValue),f._currentValue=g}function Ao(c){c._currentValue=zm.current,P(zm)}function N0(c,f,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===g)break;c=c.return}}function id(c,f,g,w){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var C=T.dependencies;if(C!==null){var G=T.child;C=C.firstContext;e:for(;C!==null;){var fe=C;C=T;for(var Pe=0;Pe<f.length;Pe++)if(fe.context===f[Pe]){C.lanes|=g,fe=C.alternate,fe!==null&&(fe.lanes|=g),N0(C.return,g,c),w||(G=null);break e}C=fe.next}}else if(T.tag===18){if(G=T.return,G===null)throw Error(a(341));G.lanes|=g,C=G.alternate,C!==null&&(C.lanes|=g),N0(G,g,c),G=null}else G=T.child;if(G!==null)G.return=T;else for(G=T;G!==null;){if(G===c){G=null;break}if(T=G.sibling,T!==null){T.return=G.return,G=T;break}G=G.return}T=G}}function su(c,f,g,w){c=null;for(var T=f,C=!1;T!==null;){if(!C){if((T.flags&524288)!==0)C=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var G=T.alternate;if(G===null)throw Error(a(387));if(G=G.memoizedProps,G!==null){var fe=T.type;Mi(T.pendingProps.value,G.value)||(c!==null?c.push(fe):c=[fe])}}else if(T===se.current){if(G=T.alternate,G===null)throw Error(a(387));G.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(yx):c=[yx])}T=T.return}c!==null&&id(f,c,g,w),f.flags|=262144}function qm(c){for(c=c.firstContext;c!==null;){if(!Mi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function ou(c){nu=c,Ol=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Bi(c){return Uv(nu,c)}function $m(c,f){return nu===null&&ou(c),Uv(c,f)}function Uv(c,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Ol===null){if(c===null)throw Error(a(308));Ol=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Ol=Ol.next=f;return g}var pk=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,w){c.push(w)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},gk=e.unstable_scheduleCallback,xk=e.unstable_NormalPriority,Un={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j0(){return{controller:new pk,data:new Map,refCount:0}}function Qh(c){c.refCount--,c.refCount===0&&gk(xk,function(){c.controller.abort()})}var Jh=null,Hm=0,S=0,E=null;function U(c,f){if(Jh===null){var g=Jh=[];Hm=0,S=r5(),E={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Hm++,f.then(K,K),f}function K(){if(--Hm===0&&Jh!==null){E!==null&&(E.status="fulfilled");var c=Jh;Jh=null,S=0,E=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function ie(c,f){var g=[],w={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return c.then(function(){w.status="fulfilled",w.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(w.status="rejected",w.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),w}var ue=X.S;X.S=function(c,f){eE=Me(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&U(c,f),ue!==null&&ue(c,f)};var he=re(null);function pe(){var c=he.current;return c!==null?c:en.pooledCache}function ve(c,f){f===null?W(he,he.current):W(he,f.pool)}function Ne(){var c=pe();return c===null?null:{parent:Un._currentValue,pool:c}}var Re=Error(a(460)),Je=Error(a(474)),we=Error(a(542)),Ue={then:function(){}};function We(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ct(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(Ho,Ho),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Et(c),c;default:if(typeof f.status=="string")f.then(Ho,Ho);else{if(c=en,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=f,c.status="pending",c.then(function(w){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=w}},function(w){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Et(c),c}throw lt=f,Re}}function Ke(c){try{var f=c._init;return f(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(lt=g,Re):g}}var lt=null;function gt(){if(lt===null)throw Error(a(459));var c=lt;return lt=null,c}function Et(c){if(c===Re||c===we)throw Error(a(483))}var St=null,Zt=0;function Wt(c){var f=Zt;return Zt+=1,St===null&&(St=[]),ct(St,c,f)}function Or(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Yt(c,f){throw f.$$typeof===x?Error(a(525)):(c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Xr(c){function f(He,Fe){if(c){var Ze=He.deletions;Ze===null?(He.deletions=[Fe],He.flags|=16):Ze.push(Fe)}}function g(He,Fe){if(!c)return null;for(;Fe!==null;)f(He,Fe),Fe=Fe.sibling;return null}function w(He){for(var Fe=new Map;He!==null;)He.key!==null?Fe.set(He.key,He):Fe.set(He.index,He),He=He.sibling;return Fe}function T(He,Fe){return He=wo(He,Fe),He.index=0,He.sibling=null,He}function C(He,Fe,Ze){return He.index=Ze,c?(Ze=He.alternate,Ze!==null?(Ze=Ze.index,Ze<Fe?(He.flags|=67108866,Fe):Ze):(He.flags|=67108866,Fe)):(He.flags|=1048576,Fe)}function G(He){return c&&He.alternate===null&&(He.flags|=67108866),He}function fe(He,Fe,Ze,vt){return Fe===null||Fe.tag!==6?(Fe=Yh(Ze,He.mode,vt),Fe.return=He,Fe):(Fe=T(Fe,Ze),Fe.return=He,Fe)}function Pe(He,Fe,Ze,vt){var vr=Ze.type;return vr===b?ft(He,Fe,Ze.props.children,vt,Ze.key):Fe!==null&&(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===B&&Ke(vr)===Fe.type)?(Fe=T(Fe,Ze.props),Or(Fe,Ze),Fe.return=He,Fe):(Fe=w0(Ze.type,Ze.key,Ze.props,null,He.mode,vt),Or(Fe,Ze),Fe.return=He,Fe)}function et(He,Fe,Ze,vt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ze.containerInfo||Fe.stateNode.implementation!==Ze.implementation?(Fe=k0(Ze,He.mode,vt),Fe.return=He,Fe):(Fe=T(Fe,Ze.children||[]),Fe.return=He,Fe)}function ft(He,Fe,Ze,vt,vr){return Fe===null||Fe.tag!==7?(Fe=tu(Ze,He.mode,vt,vr),Fe.return=He,Fe):(Fe=T(Fe,Ze),Fe.return=He,Fe)}function wt(He,Fe,Ze){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=Yh(""+Fe,He.mode,Ze),Fe.return=He,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case p:return Ze=w0(Fe.type,Fe.key,Fe.props,null,He.mode,Ze),Or(Ze,Fe),Ze.return=He,Ze;case y:return Fe=k0(Fe,He.mode,Ze),Fe.return=He,Fe;case B:return Fe=Ke(Fe),wt(He,Fe,Ze)}if(te(Fe)||I(Fe))return Fe=tu(Fe,He.mode,Ze,null),Fe.return=He,Fe;if(typeof Fe.then=="function")return wt(He,Wt(Fe),Ze);if(Fe.$$typeof===_)return wt(He,$m(He,Fe),Ze);Yt(He,Fe)}return null}function rt(He,Fe,Ze,vt){var vr=Fe!==null?Fe.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return vr!==null?null:fe(He,Fe,""+Ze,vt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return Ze.key===vr?Pe(He,Fe,Ze,vt):null;case y:return Ze.key===vr?et(He,Fe,Ze,vt):null;case B:return Ze=Ke(Ze),rt(He,Fe,Ze,vt)}if(te(Ze)||I(Ze))return vr!==null?null:ft(He,Fe,Ze,vt,null);if(typeof Ze.then=="function")return rt(He,Fe,Wt(Ze),vt);if(Ze.$$typeof===_)return rt(He,Fe,$m(He,Ze),vt);Yt(He,Ze)}return null}function st(He,Fe,Ze,vt,vr){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return He=He.get(Ze)||null,fe(Fe,He,""+vt,vr);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case p:return He=He.get(vt.key===null?Ze:vt.key)||null,Pe(Fe,He,vt,vr);case y:return He=He.get(vt.key===null?Ze:vt.key)||null,et(Fe,He,vt,vr);case B:return vt=Ke(vt),st(He,Fe,Ze,vt,vr)}if(te(vt)||I(vt))return He=He.get(Ze)||null,ft(Fe,He,vt,vr,null);if(typeof vt.then=="function")return st(He,Fe,Ze,Wt(vt),vr);if(vt.$$typeof===_)return st(He,Fe,Ze,$m(Fe,vt),vr);Yt(Fe,vt)}return null}function Jt(He,Fe,Ze,vt){for(var vr=null,wa=null,sr=Fe,qr=Fe=0,na=null;sr!==null&&qr<Ze.length;qr++){sr.index>qr?(na=sr,sr=null):na=sr.sibling;var ka=rt(He,sr,Ze[qr],vt);if(ka===null){sr===null&&(sr=na);break}c&&sr&&ka.alternate===null&&f(He,sr),Fe=C(ka,Fe,qr),wa===null?vr=ka:wa.sibling=ka,wa=ka,sr=na}if(qr===Ze.length)return g(He,sr),Jr&&ro(He,qr),vr;if(sr===null){for(;qr<Ze.length;qr++)sr=wt(He,Ze[qr],vt),sr!==null&&(Fe=C(sr,Fe,qr),wa===null?vr=sr:wa.sibling=sr,wa=sr);return Jr&&ro(He,qr),vr}for(sr=w(sr);qr<Ze.length;qr++)na=st(sr,He,qr,Ze[qr],vt),na!==null&&(c&&na.alternate!==null&&sr.delete(na.key===null?qr:na.key),Fe=C(na,Fe,qr),wa===null?vr=na:wa.sibling=na,wa=na);return c&&sr.forEach(function($0){return f(He,$0)}),Jr&&ro(He,qr),vr}function kr(He,Fe,Ze,vt){if(Ze==null)throw Error(a(151));for(var vr=null,wa=null,sr=Fe,qr=Fe=0,na=null,ka=Ze.next();sr!==null&&!ka.done;qr++,ka=Ze.next()){sr.index>qr?(na=sr,sr=null):na=sr.sibling;var $0=rt(He,sr,ka.value,vt);if($0===null){sr===null&&(sr=na);break}c&&sr&&$0.alternate===null&&f(He,sr),Fe=C($0,Fe,qr),wa===null?vr=$0:wa.sibling=$0,wa=$0,sr=na}if(ka.done)return g(He,sr),Jr&&ro(He,qr),vr;if(sr===null){for(;!ka.done;qr++,ka=Ze.next())ka=wt(He,ka.value,vt),ka!==null&&(Fe=C(ka,Fe,qr),wa===null?vr=ka:wa.sibling=ka,wa=ka);return Jr&&ro(He,qr),vr}for(sr=w(sr);!ka.done;qr++,ka=Ze.next())ka=st(sr,He,qr,ka.value,vt),ka!==null&&(c&&ka.alternate!==null&&sr.delete(ka.key===null?qr:ka.key),Fe=C(ka,Fe,qr),wa===null?vr=ka:wa.sibling=ka,wa=ka);return c&&sr.forEach(function(FV){return f(He,FV)}),Jr&&ro(He,qr),vr}function Wa(He,Fe,Ze,vt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===b&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:e:{for(var vr=Ze.key;Fe!==null;){if(Fe.key===vr){if(vr=Ze.type,vr===b){if(Fe.tag===7){g(He,Fe.sibling),vt=T(Fe,Ze.props.children),vt.return=He,He=vt;break e}}else if(Fe.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===B&&Ke(vr)===Fe.type){g(He,Fe.sibling),vt=T(Fe,Ze.props),Or(vt,Ze),vt.return=He,He=vt;break e}g(He,Fe);break}else f(He,Fe);Fe=Fe.sibling}Ze.type===b?(vt=tu(Ze.props.children,He.mode,vt,Ze.key),vt.return=He,He=vt):(vt=w0(Ze.type,Ze.key,Ze.props,null,He.mode,vt),Or(vt,Ze),vt.return=He,He=vt)}return G(He);case y:e:{for(vr=Ze.key;Fe!==null;){if(Fe.key===vr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ze.containerInfo&&Fe.stateNode.implementation===Ze.implementation){g(He,Fe.sibling),vt=T(Fe,Ze.children||[]),vt.return=He,He=vt;break e}else{g(He,Fe);break}else f(He,Fe);Fe=Fe.sibling}vt=k0(Ze,He.mode,vt),vt.return=He,He=vt}return G(He);case B:return Ze=Ke(Ze),Wa(He,Fe,Ze,vt)}if(te(Ze))return Jt(He,Fe,Ze,vt);if(I(Ze)){if(vr=I(Ze),typeof vr!="function")throw Error(a(150));return Ze=vr.call(Ze),kr(He,Fe,Ze,vt)}if(typeof Ze.then=="function")return Wa(He,Fe,Wt(Ze),vt);if(Ze.$$typeof===_)return Wa(He,Fe,$m(He,Ze),vt);Yt(He,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,Fe!==null&&Fe.tag===6?(g(He,Fe.sibling),vt=T(Fe,Ze),vt.return=He,He=vt):(g(He,Fe),vt=Yh(Ze,He.mode,vt),vt.return=He,He=vt),G(He)):g(He,Fe)}return function(He,Fe,Ze,vt){try{Zt=0;var vr=Wa(He,Fe,Ze,vt);return St=null,vr}catch(sr){if(sr===Re||sr===we)throw sr;var wa=es(29,sr,null,He.mode);return wa.lanes=vt,wa.return=He,wa}finally{}}}var Za=Xr(!0),Mr=Xr(!1),Vt=!1;function Bt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dn(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function wr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Br(c,f,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(Ta&2)!==0){var T=w.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),w.pending=f,f=Zi(c),Kh(c,null,g),f}return Vh(c,w,f,g),Zi(c)}function ja(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,Ln(c,g)}}function li(c,f){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var G={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?T=C=G:C=C.next=G,g=g.next}while(g!==null);C===null?T=C=f:C=C.next=f}else T=C=f;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:w.shared,callbacks:w.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}var Ui=!1;function qa(){if(Ui){var c=E;if(c!==null)throw c}}function Kn(c,f,g,w){Ui=!1;var T=c.updateQueue;Vt=!1;var C=T.firstBaseUpdate,G=T.lastBaseUpdate,fe=T.shared.pending;if(fe!==null){T.shared.pending=null;var Pe=fe,et=Pe.next;Pe.next=null,G===null?C=et:G.next=et,G=Pe;var ft=c.alternate;ft!==null&&(ft=ft.updateQueue,fe=ft.lastBaseUpdate,fe!==G&&(fe===null?ft.firstBaseUpdate=et:fe.next=et,ft.lastBaseUpdate=Pe))}if(C!==null){var wt=T.baseState;G=0,ft=et=Pe=null,fe=C;do{var rt=fe.lane&-536870913,st=rt!==fe.lane;if(st?(aa&rt)===rt:(w&rt)===rt){rt!==0&&rt===S&&(Ui=!0),ft!==null&&(ft=ft.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Jt=c,kr=fe;rt=f;var Wa=g;switch(kr.tag){case 1:if(Jt=kr.payload,typeof Jt=="function"){wt=Jt.call(Wa,wt,rt);break e}wt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=kr.payload,rt=typeof Jt=="function"?Jt.call(Wa,wt,rt):Jt,rt==null)break e;wt=m({},wt,rt);break e;case 2:Vt=!0}}rt=fe.callback,rt!==null&&(c.flags|=64,st&&(c.flags|=8192),st=T.callbacks,st===null?T.callbacks=[rt]:st.push(rt))}else st={lane:rt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ft===null?(et=ft=st,Pe=wt):ft=ft.next=st,G|=rt;if(fe=fe.next,fe===null){if(fe=T.shared.pending,fe===null)break;st=fe,fe=st.next,st.next=null,T.lastBaseUpdate=st,T.shared.pending=null}}while(!0);ft===null&&(Pe=wt),T.baseState=Pe,T.firstBaseUpdate=et,T.lastBaseUpdate=ft,C===null&&(T.shared.lanes=0),D0|=G,c.lanes=G,c.memoizedState=wt}}function ts(c,f){if(typeof c!="function")throw Error(a(191,c));c.call(f)}function Gn(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)ts(g[c],f)}var Wr=re(null),ua=re(0);function hn(c,f){c=pd,W(ua,c),W(Wr,f),pd=c|f.baseLanes}function xa(){W(ua,pd),W(Wr,Wr.current)}function ci(){pd=ua.current,P(Wr),P(ua)}var fn=re(null),da=null;function zn(c){var f=c.alternate;W(oa,oa.current&1),W(fn,c),da===null&&(f===null||Wr.current!==null||f.memoizedState!==null)&&(da=c)}function Aa(c){W(oa,oa.current),W(fn,c),da===null&&(da=c)}function Yn(c){c.tag===22?(W(oa,oa.current),W(fn,c),da===null&&(da=c)):Xn()}function Xn(){W(oa,oa.current),W(fn,fn.current)}function Pa(c){P(fn),da===c&&(da=null),P(oa)}var oa=re(0);function rs(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||m5(g)||p5(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Sn=0,fr=null,xr=null,ha=null,Es=!1,To=!1,vs=!1,Qn=0,lu=0,cu=null,Wm=0;function $a(){throw Error(a(321))}function Yg(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Mi(c[g],f[g]))return!1;return!0}function Xg(c,f,g,w,T,C){return Sn=C,fr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=c===null||c.memoizedState===null?dT:Nk,vs=!1,C=g(w,T),vs=!1,To&&(C=kc(f,g,w,T)),Vm(c),C}function Vm(c){X.H=nx;var f=xr!==null&&xr.next!==null;if(Sn=0,ha=xr=fr=null,Es=!1,lu=0,cu=null,f)throw Error(a(300));c===null||_i||(c=c.dependencies,c!==null&&qm(c)&&(_i=!0))}function kc(c,f,g,w){fr=c;var T=0;do{if(To&&(cu=null),lu=0,To=!1,25<=T)throw Error(a(301));if(T+=1,ha=xr=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}X.H=hT,C=f(g,w)}while(To);return C}function vk(){var c=X.H,f=c.useState()[0];return f=typeof f.then=="function"?uu(f):f,c=c.useState()[0],(xr!==null?xr.memoizedState:null)!==c&&(fr.flags|=1024),f}function Qg(){var c=Qn!==0;return Qn=0,c}function Jg(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function Km(c){if(Es){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Es=!1}Sn=0,ha=xr=fr=null,To=!1,lu=Qn=0,cu=null}function ki(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?fr.memoizedState=ha=c:ha=ha.next=c,ha}function Nn(){if(xr===null){var c=fr.alternate;c=c!==null?c.memoizedState:null}else c=xr.next;var f=ha===null?fr.memoizedState:ha.next;if(f!==null)ha=f,xr=c;else{if(c===null)throw fr.alternate===null?Error(a(467)):Error(a(310));xr=c,c={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},ha===null?fr.memoizedState=ha=c:ha=ha.next=c}return ha}function Zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(c){var f=lu;return lu+=1,cu===null&&(cu=[]),c=ct(cu,c,f),f=fr,(ha===null?f.memoizedState:ha.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?dT:Nk),c}function A0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return uu(c);if(c.$$typeof===_)return Bi(c)}throw Error(a(438,String(c)))}function sd(c){var f=null,g=fr.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var w=fr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Zh(),fr.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),w=0;w<c;w++)g[w]=H;return f.index++,g}function Pl(c,f){return typeof f=="function"?f(c):f}function Gm(c){var f=Nn();return T0(f,xr,c)}function T0(c,f,g){var w=c.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=g;var T=c.baseQueue,C=w.pending;if(C!==null){if(T!==null){var G=T.next;T.next=C.next,C.next=G}f.baseQueue=T=C,w.pending=null}if(C=c.baseState,T===null)c.memoizedState=C;else{f=T.next;var fe=G=null,Pe=null,et=f,ft=!1;do{var wt=et.lane&-536870913;if(wt!==et.lane?(aa&wt)===wt:(Sn&wt)===wt){var rt=et.revertLane;if(rt===0)Pe!==null&&(Pe=Pe.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),wt===S&&(ft=!0);else if((Sn&rt)===rt){et=et.next,rt===S&&(ft=!0);continue}else wt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Pe===null?(fe=Pe=wt,G=C):Pe=Pe.next=wt,fr.lanes|=rt,D0|=rt;wt=et.action,vs&&g(C,wt),C=et.hasEagerState?et.eagerState:g(C,wt)}else rt={lane:wt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Pe===null?(fe=Pe=rt,G=C):Pe=Pe.next=rt,fr.lanes|=wt,D0|=wt;et=et.next}while(et!==null&&et!==f);if(Pe===null?G=C:Pe.next=fe,!Mi(C,c.memoizedState)&&(_i=!0,ft&&(g=E,g!==null)))throw g;c.memoizedState=C,c.baseState=G,c.baseQueue=Pe,w.lastRenderedState=C}return T===null&&(w.lanes=0),[c.memoizedState,w.dispatch]}function Ym(c){var f=Nn(),g=f.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=c;var w=g.dispatch,T=g.pending,C=f.memoizedState;if(T!==null){g.pending=null;var G=T=T.next;do C=c(C,G.action),G=G.next;while(G!==T);Mi(C,f.memoizedState)||(_i=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),g.lastRenderedState=C}return[C,w]}function Xm(c,f,g){var w=fr,T=Nn(),C=Jr;if(C){if(g===void 0)throw Error(a(407));g=g()}else g=f();var G=!Mi((xr||T).memoizedState,g);if(G&&(T.memoizedState=g,_i=!0),T=T.queue,bk(ex.bind(null,w,T,c),[c]),T.getSnapshot!==f||G||ha!==null&&ha.memoizedState.tag&1){if(w.flags|=2048,ld(9,{destroy:void 0},Zg.bind(null,w,T,g,f),null),en===null)throw Error(a(349));C||(Sn&127)!==0||_c(w,f,g)}return g}function _c(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=fr.updateQueue,f===null?(f=Zh(),fr.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function Zg(c,f,g,w){f.value=g,f.getSnapshot=w,zv(f)&&tx(c)}function ex(c,f,g){return g(function(){zv(f)&&tx(c)})}function zv(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Mi(c,g)}catch{return!0}}function tx(c){var f=yc(c,2);f!==null&&Do(f,c,2)}function du(c){var f=ki();if(typeof c=="function"){var g=c;if(c=g(),vs){Lt(!0);try{g()}finally{Lt(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:c},f}function qv(c,f,g,w){return c.baseState=g,T0(c,xr,typeof w=="function"?w:Pl)}function $v(c,f,g,w,T){if(Kv(c))throw Error(a(485));if(c=f.action,c!==null){var C={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){C.listeners.push(G)}};X.T!==null?g(!0):C.isTransition=!1,w(C),g=f.pending,g===null?(C.next=f.pending=C,Hv(f,C)):(C.next=g.next,f.pending=g.next=C)}}function Hv(c,f){var g=f.action,w=f.payload,T=c.state;if(f.isTransition){var C=X.T,G={};X.T=G;try{var fe=g(T,w),Pe=X.S;Pe!==null&&Pe(G,fe),rx(c,f,fe)}catch(et){od(c,f,et)}finally{C!==null&&G.types!==null&&(C.types=G.types),X.T=C}}else try{C=g(T,w),rx(c,f,C)}catch(et){od(c,f,et)}}function rx(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){Wv(c,f,w)},function(w){return od(c,f,w)}):Wv(c,f,g)}function Wv(c,f,g){f.status="fulfilled",f.value=g,Qm(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,Hv(c,g)))}function od(c,f,g){var w=c.pending;if(c.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=g,Qm(f),f=f.next;while(f!==w)}c.action=null}function Qm(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function ef(c,f){return f}function Dl(c,f){if(Jr){var g=en.formState;if(g!==null){e:{var w=fr;if(Jr){if(Ja){t:{for(var T=Ja,C=_n;T.nodeType!==8;){if(!C){T=null;break t}if(T=Ll(T.nextSibling),T===null){T=null;break t}}C=T.data,T=C==="F!"||C==="F"?T:null}if(T){Ja=Ll(T.nextSibling),w=T.data==="F!";break e}}au(w)}w=!1}w&&(f=g[0])}}return g=ki(),g.memoizedState=g.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:f},g.queue=w,g=lT.bind(null,fr,w),w.dispatch=g,w=du(!1),C=Sk.bind(null,fr,!1,w.queue),w=ki(),T={state:f,dispatch:null,action:c,pending:null},w.queue=T,g=$v.bind(null,fr,T,C,g),T.dispatch=g,w.memoizedState=c,[f,g,!1]}function Sc(c){var f=Nn();return Nc(f,xr,c)}function Nc(c,f,g){if(f=T0(c,f,ef)[0],c=Gm(Pl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var w=uu(f)}catch(G){throw G===Re?we:G}else w=f;f=Nn();var T=f.queue,C=T.dispatch;return g!==f.memoizedState&&(fr.flags|=2048,ld(9,{destroy:void 0},Jm.bind(null,T,g),null)),[w,C,c]}function Jm(c,f){c.action=f}function Zm(c){var f=Nn(),g=xr;if(g!==null)return Nc(f,g,c);Nn(),f=f.memoizedState,g=Nn();var w=g.queue.dispatch;return g.memoizedState=c,[f,w,!1]}function ld(c,f,g,w){return c={tag:c,create:g,deps:w,inst:f,next:null},f=fr.updateQueue,f===null&&(f=Zh(),fr.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,f.lastEffect=c),c}function Vv(){return Nn().memoizedState}function E0(c,f,g,w){var T=ki();fr.flags|=c,T.memoizedState=ld(1|f,{destroy:void 0},g,w===void 0?null:w)}function C0(c,f,g,w){var T=Nn();w=w===void 0?null:w;var C=T.memoizedState.inst;xr!==null&&w!==null&&Yg(w,xr.memoizedState.deps)?T.memoizedState=ld(f,C,g,w):(fr.flags|=c,T.memoizedState=ld(1|f,C,g,w))}function GA(c,f){E0(8390656,8,c,f)}function bk(c,f){C0(2048,8,c,f)}function PW(c){fr.flags|=4;var f=fr.updateQueue;if(f===null)f=Zh(),fr.updateQueue=f,f.events=[c];else{var g=f.events;g===null?f.events=[c]:g.push(c)}}function YA(c){var f=Nn().memoizedState;return PW({ref:f,nextImpl:c}),function(){if((Ta&2)!==0)throw Error(a(440));return f.impl.apply(void 0,arguments)}}function XA(c,f){return C0(4,2,c,f)}function QA(c,f){return C0(4,4,c,f)}function JA(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function ZA(c,f,g){g=g!=null?g.concat([c]):null,C0(4,4,JA.bind(null,f,c),g)}function yk(){}function eT(c,f){var g=Nn();f=f===void 0?null:f;var w=g.memoizedState;return f!==null&&Yg(f,w[1])?w[0]:(g.memoizedState=[c,f],c)}function tT(c,f){var g=Nn();f=f===void 0?null:f;var w=g.memoizedState;if(f!==null&&Yg(f,w[1]))return w[0];if(w=c(),vs){Lt(!0);try{c()}finally{Lt(!1)}}return g.memoizedState=[w,f],w}function wk(c,f,g){return g===void 0||(Sn&1073741824)!==0&&(aa&261930)===0?c.memoizedState=f:(c.memoizedState=g,c=rE(),fr.lanes|=c,D0|=c,g)}function rT(c,f,g,w){return Mi(g,f)?g:Wr.current!==null?(c=wk(c,g,w),Mi(c,f)||(_i=!0),c):(Sn&42)===0||(Sn&1073741824)!==0&&(aa&261930)===0?(_i=!0,c.memoizedState=g):(c=rE(),fr.lanes|=c,D0|=c,f)}function aT(c,f,g,w,T){var C=ae.p;ae.p=C!==0&&8>C?C:8;var G=X.T,fe={};X.T=fe,Sk(c,!1,f,g);try{var Pe=T(),et=X.S;if(et!==null&&et(fe,Pe),Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var ft=ie(Pe,w);ax(c,f,ft,Jo(c))}else ax(c,f,w,Jo(c))}catch(wt){ax(c,f,{then:function(){},status:"rejected",reason:wt},Jo())}finally{ae.p=C,G!==null&&fe.types!==null&&(G.types=fe.types),X.T=G}}function DW(){}function kk(c,f,g,w){if(c.tag!==5)throw Error(a(476));var T=nT(c).queue;aT(c,T,f,de,g===null?DW:function(){return iT(c),g(w)})}function nT(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:de},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function iT(c){var f=nT(c);f.next===null&&(f=c.alternate.memoizedState),ax(c,f.next.queue,{},Jo())}function _k(){return Bi(yx)}function sT(){return Nn().memoizedState}function oT(){return Nn().memoizedState}function LW(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=Jo();c=wr(g);var w=Br(f,c,g);w!==null&&(Do(w,f,g),ja(w,f,g)),f={cache:j0()},c.payload=f;return}f=f.return}}function MW(c,f,g){var w=Jo();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Kv(c)?cT(f,g):(g=Lm(c,f,g,w),g!==null&&(Do(g,c,w),uT(g,f,w)))}function lT(c,f,g){var w=Jo();ax(c,f,g,w)}function ax(c,f,g,w){var T={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Kv(c))cT(f,T);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var G=f.lastRenderedState,fe=C(G,g);if(T.hasEagerState=!0,T.eagerState=fe,Mi(fe,G))return Vh(c,f,T,0),en===null&&Wh(),!1}catch{}finally{}if(g=Lm(c,f,T,w),g!==null)return Do(g,c,w),uT(g,f,w),!0}return!1}function Sk(c,f,g,w){if(w={lane:2,revertLane:r5(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Kv(c)){if(f)throw Error(a(479))}else f=Lm(c,g,w,2),f!==null&&Do(f,c,2)}function Kv(c){var f=c.alternate;return c===fr||f!==null&&f===fr}function cT(c,f){To=Es=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function uT(c,f,g){if((g&4194048)!==0){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,Ln(c,g)}}var nx={readContext:Bi,use:A0,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};nx.useEffectEvent=$a;var dT={readContext:Bi,use:A0,useCallback:function(c,f){return ki().memoizedState=[c,f===void 0?null:f],c},useContext:Bi,useEffect:GA,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,E0(4194308,4,JA.bind(null,f,c),g)},useLayoutEffect:function(c,f){return E0(4194308,4,c,f)},useInsertionEffect:function(c,f){E0(4,2,c,f)},useMemo:function(c,f){var g=ki();f=f===void 0?null:f;var w=c();if(vs){Lt(!0);try{c()}finally{Lt(!1)}}return g.memoizedState=[w,f],w},useReducer:function(c,f,g){var w=ki();if(g!==void 0){var T=g(f);if(vs){Lt(!0);try{g(f)}finally{Lt(!1)}}}else T=f;return w.memoizedState=w.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},w.queue=c,c=c.dispatch=MW.bind(null,fr,c),[w.memoizedState,c]},useRef:function(c){var f=ki();return c={current:c},f.memoizedState=c},useState:function(c){c=du(c);var f=c.queue,g=lT.bind(null,fr,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:yk,useDeferredValue:function(c,f){var g=ki();return wk(g,c,f)},useTransition:function(){var c=du(!1);return c=aT.bind(null,fr,c.queue,!0,!1),ki().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var w=fr,T=ki();if(Jr){if(g===void 0)throw Error(a(407));g=g()}else{if(g=f(),en===null)throw Error(a(349));(aa&127)!==0||_c(w,f,g)}T.memoizedState=g;var C={value:g,getSnapshot:f};return T.queue=C,GA(ex.bind(null,w,C,c),[c]),w.flags|=2048,ld(9,{destroy:void 0},Zg.bind(null,w,C,g,f),null),g},useId:function(){var c=ki(),f=en.identifierPrefix;if(Jr){var g=jo,w=No;g=(w&~(1<<32-_r(w)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Qn++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Wm++,f="_"+f+"r_"+g.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:_k,useFormState:Dl,useActionState:Dl,useOptimistic:function(c){var f=ki();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Sk.bind(null,fr,!0,g),g.dispatch=f,[c,f]},useMemoCache:sd,useCacheRefresh:function(){return ki().memoizedState=LW.bind(null,fr)},useEffectEvent:function(c){var f=ki(),g={impl:c};return f.memoizedState=g,function(){if((Ta&2)!==0)throw Error(a(440));return g.impl.apply(void 0,arguments)}}},Nk={readContext:Bi,use:A0,useCallback:eT,useContext:Bi,useEffect:bk,useImperativeHandle:ZA,useInsertionEffect:XA,useLayoutEffect:QA,useMemo:tT,useReducer:Gm,useRef:Vv,useState:function(){return Gm(Pl)},useDebugValue:yk,useDeferredValue:function(c,f){var g=Nn();return rT(g,xr.memoizedState,c,f)},useTransition:function(){var c=Gm(Pl)[0],f=Nn().memoizedState;return[typeof c=="boolean"?c:uu(c),f]},useSyncExternalStore:Xm,useId:sT,useHostTransitionStatus:_k,useFormState:Sc,useActionState:Sc,useOptimistic:function(c,f){var g=Nn();return qv(g,xr,c,f)},useMemoCache:sd,useCacheRefresh:oT};Nk.useEffectEvent=YA;var hT={readContext:Bi,use:A0,useCallback:eT,useContext:Bi,useEffect:bk,useImperativeHandle:ZA,useInsertionEffect:XA,useLayoutEffect:QA,useMemo:tT,useReducer:Ym,useRef:Vv,useState:function(){return Ym(Pl)},useDebugValue:yk,useDeferredValue:function(c,f){var g=Nn();return xr===null?wk(g,c,f):rT(g,xr.memoizedState,c,f)},useTransition:function(){var c=Ym(Pl)[0],f=Nn().memoizedState;return[typeof c=="boolean"?c:uu(c),f]},useSyncExternalStore:Xm,useId:sT,useHostTransitionStatus:_k,useFormState:Zm,useActionState:Zm,useOptimistic:function(c,f){var g=Nn();return xr!==null?qv(g,xr,c,f):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:sd,useCacheRefresh:oT};hT.useEffectEvent=YA;function jk(c,f,g,w){f=c.memoizedState,g=g(w,f),g=g==null?f:m({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Ak={enqueueSetState:function(c,f,g){c=c._reactInternals;var w=Jo(),T=wr(w);T.payload=f,g!=null&&(T.callback=g),f=Br(c,T,w),f!==null&&(Do(f,c,w),ja(f,c,w))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var w=Jo(),T=wr(w);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=Br(c,T,w),f!==null&&(Do(f,c,w),ja(f,c,w))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Jo(),w=wr(g);w.tag=2,f!=null&&(w.callback=f),f=Br(c,w,g),f!==null&&(Do(f,c,g),ja(f,c,g))}};function fT(c,f,g,w,T,C,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,C,G):f.prototype&&f.prototype.isPureReactComponent?!gc(g,w)||!gc(T,C):!0}function mT(c,f,g,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==c&&Ak.enqueueReplaceState(f,f.state,null)}function tf(c,f){var g=f;if("ref"in f){g={};for(var w in f)w!=="ref"&&(g[w]=f[w])}if(c=c.defaultProps){g===f&&(g=m({},g));for(var T in c)g[T]===void 0&&(g[T]=c[T])}return g}function pT(c){Hh(c)}function gT(c){console.error(c)}function xT(c){Hh(c)}function Gv(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function vT(c,f,g){try{var w=c.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Tk(c,f,g){return g=wr(g),g.tag=3,g.payload={element:null},g.callback=function(){Gv(c,f)},g}function bT(c){return c=wr(c),c.tag=3,c}function yT(c,f,g,w){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var C=w.value;c.payload=function(){return T(C)},c.callback=function(){vT(f,g,w)}}var G=g.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(c.callback=function(){vT(f,g,w),typeof T!="function"&&(L0===null?L0=new Set([this]):L0.add(this));var fe=w.stack;this.componentDidCatch(w.value,{componentStack:fe!==null?fe:""})})}function IW(c,f,g,w,T){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=g.alternate,f!==null&&su(f,g,T,!0),g=fn.current,g!==null){switch(g.tag){case 31:case 13:return da===null?sb():g.alternate===null&&Jn===0&&(Jn=3),g.flags&=-257,g.flags|=65536,g.lanes=T,w===Ue?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([w]):f.add(w),Zk(c,w,T)),!1;case 22:return g.flags|=65536,w===Ue?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([w]):g.add(w)),Zk(c,w,T)),!1}throw Error(a(435,g.tag))}return Zk(c,w,T),sb(),!1}if(Jr)return f=fn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,w!==Yo&&(c=Error(a(422),{cause:w}),S0(ko(c,g)))):(w!==Yo&&(f=Error(a(423),{cause:w}),S0(ko(f,g))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,w=ko(w,g),T=Tk(c.stateNode,w,T),li(c,T),Jn!==4&&(Jn=2)),!1;var C=Error(a(520),{cause:w});if(C=ko(C,g),hx===null?hx=[C]:hx.push(C),Jn!==4&&(Jn=2),f===null)return!0;w=ko(w,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=T&-T,g.lanes|=c,c=Tk(g.stateNode,w,c),li(g,c),!1;case 1:if(f=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(L0===null||!L0.has(C))))return g.flags|=65536,T&=-T,g.lanes|=T,T=bT(T),yT(T,c,g,w),li(g,T),!1}g=g.return}while(g!==null);return!1}var Ek=Error(a(461)),_i=!1;function bs(c,f,g,w){f.child=c===null?Mr(f,null,g,w):Za(f,c.child,g,w)}function wT(c,f,g,w,T){g=g.render;var C=f.ref;if("ref"in w){var G={};for(var fe in w)fe!=="ref"&&(G[fe]=w[fe])}else G=w;return ou(f),w=Xg(c,f,g,G,C,T),fe=Qg(),c!==null&&!_i?(Jg(c,f,T),cd(c,f,T)):(Jr&&fe&&Vg(f),f.flags|=1,bs(c,f,w,T),f.child)}function kT(c,f,g,w,T){if(c===null){var C=g.type;return typeof C=="function"&&!Im(C)&&C.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=C,_T(c,f,C,w,T)):(c=w0(g.type,null,w,f,f.mode,T),c.ref=f.ref,c.return=f,f.child=c)}if(C=c.child,!Rk(c,T)){var G=C.memoizedProps;if(g=g.compare,g=g!==null?g:gc,g(G,w)&&c.ref===f.ref)return cd(c,f,T)}return f.flags|=1,c=wo(C,w),c.ref=f.ref,c.return=f,f.child=c}function _T(c,f,g,w,T){if(c!==null){var C=c.memoizedProps;if(gc(C,w)&&c.ref===f.ref)if(_i=!1,f.pendingProps=w=C,Rk(c,T))(c.flags&131072)!==0&&(_i=!0);else return f.lanes=c.lanes,cd(c,f,T)}return Ck(c,f,g,w,T)}function ST(c,f,g,w){var T=w.children,C=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|g:g,c!==null){for(w=f.child=c.child,T=0;w!==null;)T=T|w.lanes|w.childLanes,w=w.sibling;w=T&~C}else w=0,f.child=null;return NT(c,f,C,g,w)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&ve(f,C!==null?C.cachePool:null),C!==null?hn(f,C):xa(),Yn(f);else return w=f.lanes=536870912,NT(c,f,C!==null?C.baseLanes|g:g,g,w)}else C!==null?(ve(f,C.cachePool),hn(f,C),Xn(),f.memoizedState=null):(c!==null&&ve(f,null),xa(),Xn());return bs(c,f,T,g),f.child}function ix(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function NT(c,f,g,w,T){var C=pe();return C=C===null?null:{parent:Un._currentValue,pool:C},f.memoizedState={baseLanes:g,cachePool:C},c!==null&&ve(f,null),xa(),Yn(f),c!==null&&su(c,f,w,!0),f.childLanes=T,null}function Yv(c,f){return f=Qv({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function jT(c,f,g){return Za(f,c.child,null,g),c=Yv(f,f.pendingProps),c.flags|=2,Pa(f),f.memoizedState=null,c}function RW(c,f,g){var w=f.pendingProps,T=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(Jr){if(w.mode==="hidden")return c=Yv(f,w),f.lanes=536870912,ix(null,c);if(Aa(f),(c=Ja)?(c=FE(c,_n),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:ru!==null?{id:No,overflow:jo}:null,retryLane:536870912,hydrationErrors:null},g=Rm(c),g.return=f,f.child=g,Ri=f,Ja=null)):c=null,c===null)throw au(f);return f.lanes=536870912,null}return Yv(f,w)}var C=c.memoizedState;if(C!==null){var G=C.dehydrated;if(Aa(f),T)if(f.flags&256)f.flags&=-257,f=jT(c,f,g);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(a(558));else if(_i||su(c,f,g,!1),T=(g&c.childLanes)!==0,_i||T){if(w=en,w!==null&&(G=yi(w,g),G!==0&&G!==C.retryLane))throw C.retryLane=G,yc(c,G),Do(w,c,G),Ek;sb(),f=jT(c,f,g)}else c=C.treeContext,Ja=Ll(G.nextSibling),Ri=f,Jr=!0,xs=null,_n=!1,c!==null&&Bv(f,c),f=Yv(f,w),f.flags|=4096;return f}return c=wo(c.child,{mode:w.mode,children:w.children}),c.ref=f.ref,f.child=c,c.return=f,c}function Xv(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(c===null||c.ref!==g)&&(f.flags|=4194816)}}function Ck(c,f,g,w,T){return ou(f),g=Xg(c,f,g,w,void 0,T),w=Qg(),c!==null&&!_i?(Jg(c,f,T),cd(c,f,T)):(Jr&&w&&Vg(f),f.flags|=1,bs(c,f,g,T),f.child)}function AT(c,f,g,w,T,C){return ou(f),f.updateQueue=null,g=kc(f,w,g,T),Vm(c),w=Qg(),c!==null&&!_i?(Jg(c,f,C),cd(c,f,C)):(Jr&&w&&Vg(f),f.flags|=1,bs(c,f,g,C),f.child)}function TT(c,f,g,w,T){if(ou(f),f.stateNode===null){var C=Ii,G=g.contextType;typeof G=="object"&&G!==null&&(C=Bi(G)),C=new g(w,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ak,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=w,C.state=f.memoizedState,C.refs={},Bt(f),G=g.contextType,C.context=typeof G=="object"&&G!==null?Bi(G):Ii,C.state=f.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(jk(f,g,G,w),C.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(G=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),G!==C.state&&Ak.enqueueReplaceState(C,C.state,null),Kn(f,w,C,T),qa(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(c===null){C=f.stateNode;var fe=f.memoizedProps,Pe=tf(g,fe);C.props=Pe;var et=C.context,ft=g.contextType;G=Ii,typeof ft=="object"&&ft!==null&&(G=Bi(ft));var wt=g.getDerivedStateFromProps;ft=typeof wt=="function"||typeof C.getSnapshotBeforeUpdate=="function",fe=f.pendingProps!==fe,ft||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(fe||et!==G)&&mT(f,C,w,G),Vt=!1;var rt=f.memoizedState;C.state=rt,Kn(f,w,C,T),qa(),et=f.memoizedState,fe||rt!==et||Vt?(typeof wt=="function"&&(jk(f,g,wt,w),et=f.memoizedState),(Pe=Vt||fT(f,g,Pe,w,rt,et,G))?(ft||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=et),C.props=w,C.state=et,C.context=G,w=Pe):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{C=f.stateNode,dn(c,f),G=f.memoizedProps,ft=tf(g,G),C.props=ft,wt=f.pendingProps,rt=C.context,et=g.contextType,Pe=Ii,typeof et=="object"&&et!==null&&(Pe=Bi(et)),fe=g.getDerivedStateFromProps,(et=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G!==wt||rt!==Pe)&&mT(f,C,w,Pe),Vt=!1,rt=f.memoizedState,C.state=rt,Kn(f,w,C,T),qa();var st=f.memoizedState;G!==wt||rt!==st||Vt||c!==null&&c.dependencies!==null&&qm(c.dependencies)?(typeof fe=="function"&&(jk(f,g,fe,w),st=f.memoizedState),(ft=Vt||fT(f,g,ft,w,rt,st,Pe)||c!==null&&c.dependencies!==null&&qm(c.dependencies))?(et||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(w,st,Pe),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(w,st,Pe)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||G===c.memoizedProps&&rt===c.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&rt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=st),C.props=w,C.state=st,C.context=Pe,w=ft):(typeof C.componentDidUpdate!="function"||G===c.memoizedProps&&rt===c.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===c.memoizedProps&&rt===c.memoizedState||(f.flags|=1024),w=!1)}return C=w,Xv(c,f),w=(f.flags&128)!==0,C||w?(C=f.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,c!==null&&w?(f.child=Za(f,c.child,null,T),f.child=Za(f,null,g,T)):bs(c,f,g,T),f.memoizedState=C.state,c=f.child):c=cd(c,f,T),c}function ET(c,f,g,w){return nd(),f.flags|=256,bs(c,f,g,w),f.child}var Ok={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pk(c){return{baseLanes:c,cachePool:Ne()}}function Dk(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=Qo),c}function CT(c,f,g){var w=f.pendingProps,T=!1,C=(f.flags&128)!==0,G;if((G=C)||(G=c!==null&&c.memoizedState===null?!1:(oa.current&2)!==0),G&&(T=!0,f.flags&=-129),G=(f.flags&32)!==0,f.flags&=-33,c===null){if(Jr){if(T?zn(f):Xn(),(c=Ja)?(c=FE(c,_n),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:ru!==null?{id:No,overflow:jo}:null,retryLane:536870912,hydrationErrors:null},g=Rm(c),g.return=f,f.child=g,Ri=f,Ja=null)):c=null,c===null)throw au(f);return p5(c)?f.lanes=32:f.lanes=536870912,null}var fe=w.children;return w=w.fallback,T?(Xn(),T=f.mode,fe=Qv({mode:"hidden",children:fe},T),w=tu(w,T,g,null),fe.return=f,w.return=f,fe.sibling=w,f.child=fe,w=f.child,w.memoizedState=Pk(g),w.childLanes=Dk(c,G,g),f.memoizedState=Ok,ix(null,w)):(zn(f),Lk(f,fe))}var Pe=c.memoizedState;if(Pe!==null&&(fe=Pe.dehydrated,fe!==null)){if(C)f.flags&256?(zn(f),f.flags&=-257,f=Mk(c,f,g)):f.memoizedState!==null?(Xn(),f.child=c.child,f.flags|=128,f=null):(Xn(),fe=w.fallback,T=f.mode,w=Qv({mode:"visible",children:w.children},T),fe=tu(fe,T,g,null),fe.flags|=2,w.return=f,fe.return=f,w.sibling=fe,f.child=w,Za(f,c.child,null,g),w=f.child,w.memoizedState=Pk(g),w.childLanes=Dk(c,G,g),f.memoizedState=Ok,f=ix(null,w));else if(zn(f),p5(fe)){if(G=fe.nextSibling&&fe.nextSibling.dataset,G)var et=G.dgst;G=et,w=Error(a(419)),w.stack="",w.digest=G,S0({value:w,source:null,stack:null}),f=Mk(c,f,g)}else if(_i||su(c,f,g,!1),G=(g&c.childLanes)!==0,_i||G){if(G=en,G!==null&&(w=yi(G,g),w!==0&&w!==Pe.retryLane))throw Pe.retryLane=w,yc(c,w),Do(G,c,w),Ek;m5(fe)||sb(),f=Mk(c,f,g)}else m5(fe)?(f.flags|=192,f.child=c.child,f=null):(c=Pe.treeContext,Ja=Ll(fe.nextSibling),Ri=f,Jr=!0,xs=null,_n=!1,c!==null&&Bv(f,c),f=Lk(f,w.children),f.flags|=4096);return f}return T?(Xn(),fe=w.fallback,T=f.mode,Pe=c.child,et=Pe.sibling,w=wo(Pe,{mode:"hidden",children:w.children}),w.subtreeFlags=Pe.subtreeFlags&65011712,et!==null?fe=wo(et,fe):(fe=tu(fe,T,g,null),fe.flags|=2),fe.return=f,w.return=f,w.sibling=fe,f.child=w,ix(null,w),w=f.child,fe=c.child.memoizedState,fe===null?fe=Pk(g):(T=fe.cachePool,T!==null?(Pe=Un._currentValue,T=T.parent!==Pe?{parent:Pe,pool:Pe}:T):T=Ne(),fe={baseLanes:fe.baseLanes|g,cachePool:T}),w.memoizedState=fe,w.childLanes=Dk(c,G,g),f.memoizedState=Ok,ix(c.child,w)):(zn(f),g=c.child,c=g.sibling,g=wo(g,{mode:"visible",children:w.children}),g.return=f,g.sibling=null,c!==null&&(G=f.deletions,G===null?(f.deletions=[c],f.flags|=16):G.push(c)),f.child=g,f.memoizedState=null,g)}function Lk(c,f){return f=Qv({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Qv(c,f){return c=es(22,c,null,f),c.lanes=0,c}function Mk(c,f,g){return Za(f,c.child,null,g),c=Lk(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function OT(c,f,g){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),N0(c.return,f,g)}function Ik(c,f,g,w,T,C){var G=c.memoizedState;G===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T,treeForkCount:C}:(G.isBackwards=f,G.rendering=null,G.renderingStartTime=0,G.last=w,G.tail=g,G.tailMode=T,G.treeForkCount=C)}function PT(c,f,g){var w=f.pendingProps,T=w.revealOrder,C=w.tail;w=w.children;var G=oa.current,fe=(G&2)!==0;if(fe?(G=G&1|2,f.flags|=128):G&=1,W(oa,G),bs(c,f,w,g),w=Jr?Xh:0,!fe&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&OT(c,g,f);else if(c.tag===19)OT(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(g=f.child,T=null;g!==null;)c=g.alternate,c!==null&&rs(c)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),Ik(f,!1,T,g,C,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(c=T.alternate,c!==null&&rs(c)===null){f.child=T;break}c=T.sibling,T.sibling=g,g=T,T=c}Ik(f,!0,g,null,C,w);break;case"together":Ik(f,!1,null,null,void 0,w);break;default:f.memoizedState=null}return f.child}function cd(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),D0|=f.lanes,(g&f.childLanes)===0)if(c!==null){if(su(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,g=wo(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=wo(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function Rk(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&qm(c)))}function FW(c,f,g){switch(f.tag){case 3:ee(f,f.stateNode.containerInfo),iu(f,Un,c.memoizedState.cache),nd();break;case 27:case 5:me(f);break;case 4:ee(f,f.stateNode.containerInfo);break;case 10:iu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Aa(f),null;break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(zn(f),f.flags|=128,null):(g&f.child.childLanes)!==0?CT(c,f,g):(zn(f),c=cd(c,f,g),c!==null?c.sibling:null);zn(f);break;case 19:var T=(c.flags&128)!==0;if(w=(g&f.childLanes)!==0,w||(su(c,f,g,!1),w=(g&f.childLanes)!==0),T){if(w)return PT(c,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),W(oa,oa.current),w)break;return null;case 22:return f.lanes=0,ST(c,f,g,f.pendingProps);case 24:iu(f,Un,c.memoizedState.cache)}return cd(c,f,g)}function DT(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)_i=!0;else{if(!Rk(c,g)&&(f.flags&128)===0)return _i=!1,FW(c,f,g);_i=(c.flags&131072)!==0}else _i=!1,Jr&&(f.flags&1048576)!==0&&Fv(f,Xh,f.index);switch(f.lanes=0,f.tag){case 16:e:{var w=f.pendingProps;if(c=Ke(f.elementType),f.type=c,typeof c=="function")Im(c)?(w=tf(c,w),f.tag=1,f=TT(null,f,c,w,g)):(f.tag=0,f=Ck(null,f,c,w,g));else{if(c!=null){var T=c.$$typeof;if(T===A){f.tag=11,f=wT(null,f,c,w,g);break e}else if(T===L){f.tag=14,f=kT(null,f,c,w,g);break e}}throw f=Y(c)||c,Error(a(306,f,""))}}return f;case 0:return Ck(c,f,f.type,f.pendingProps,g);case 1:return w=f.type,T=tf(w,f.pendingProps),TT(c,f,w,T,g);case 3:e:{if(ee(f,f.stateNode.containerInfo),c===null)throw Error(a(387));w=f.pendingProps;var C=f.memoizedState;T=C.element,dn(c,f),Kn(f,w,null,g);var G=f.memoizedState;if(w=G.cache,iu(f,Un,w),w!==C.cache&&id(f,[Un],g,!0),qa(),w=G.element,C.isDehydrated)if(C={element:w,isDehydrated:!1,cache:G.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=ET(c,f,w,g);break e}else if(w!==T){T=ko(Error(a(424)),f),S0(T),f=ET(c,f,w,g);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Ja=Ll(c.firstChild),Ri=f,Jr=!0,xs=null,_n=!0,g=Mr(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(nd(),w===T){f=cd(c,f,g);break e}bs(c,f,w,g)}f=f.child}return f;case 26:return Xv(c,f),c===null?(g=HE(f.type,null,f.pendingProps,null))?f.memoizedState=g:Jr||(g=f.type,c=f.pendingProps,w=fb(Z.current).createElement(g),w[xe]=f,w[be]=c,ys(w,g,c),nt(w),f.stateNode=w):f.memoizedState=HE(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return me(f),c===null&&Jr&&(w=f.stateNode=zE(f.type,f.pendingProps,Z.current),Ri=f,_n=!0,T=Ja,F0(f.type)?(g5=T,Ja=Ll(w.firstChild)):Ja=T),bs(c,f,f.pendingProps.children,g),Xv(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Jr&&((T=w=Ja)&&(w=mV(w,f.type,f.pendingProps,_n),w!==null?(f.stateNode=w,Ri=f,Ja=Ll(w.firstChild),_n=!1,T=!0):T=!1),T||au(f)),me(f),T=f.type,C=f.pendingProps,G=c!==null?c.memoizedProps:null,w=C.children,d5(T,C)?w=null:G!==null&&d5(T,G)&&(f.flags|=32),f.memoizedState!==null&&(T=Xg(c,f,vk,null,null,g),yx._currentValue=T),Xv(c,f),bs(c,f,w,g),f.child;case 6:return c===null&&Jr&&((c=g=Ja)&&(g=pV(g,f.pendingProps,_n),g!==null?(f.stateNode=g,Ri=f,Ja=null,c=!0):c=!1),c||au(f)),null;case 13:return CT(c,f,g);case 4:return ee(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Za(f,null,w,g):bs(c,f,w,g),f.child;case 11:return wT(c,f,f.type,f.pendingProps,g);case 7:return bs(c,f,f.pendingProps,g),f.child;case 8:return bs(c,f,f.pendingProps.children,g),f.child;case 12:return bs(c,f,f.pendingProps.children,g),f.child;case 10:return w=f.pendingProps,iu(f,f.type,w.value),bs(c,f,w.children,g),f.child;case 9:return T=f.type._context,w=f.pendingProps.children,ou(f),T=Bi(T),w=w(T),f.flags|=1,bs(c,f,w,g),f.child;case 14:return kT(c,f,f.type,f.pendingProps,g);case 15:return _T(c,f,f.type,f.pendingProps,g);case 19:return PT(c,f,g);case 31:return RW(c,f,g);case 22:return ST(c,f,g,f.pendingProps);case 24:return ou(f),w=Bi(Un),c===null?(T=pe(),T===null&&(T=en,C=j0(),T.pooledCache=C,C.refCount++,C!==null&&(T.pooledCacheLanes|=g),T=C),f.memoizedState={parent:w,cache:T},Bt(f),iu(f,Un,T)):((c.lanes&g)!==0&&(dn(c,f),Kn(f,null,null,g),qa()),T=c.memoizedState,C=f.memoizedState,T.parent!==w?(T={parent:w,cache:w},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),iu(f,Un,w)):(w=C.cache,iu(f,Un,w),w!==T.cache&&id(f,[Un],g,!0))),bs(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function ud(c){c.flags|=4}function Fk(c,f,g,w,T){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(sE())c.flags|=8192;else throw lt=Ue,Je}else c.flags&=-16777217}function LT(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!YE(f))if(sE())c.flags|=8192;else throw lt=Ue,Je}function Jv(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?ma():536870912,c.lanes|=f,ap|=f)}function sx(c,f){if(!Jr)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function mn(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(f)for(var T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&65011712,w|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=w,c.childLanes=g,f}function BW(c,f,g){var w=f.pendingProps;switch(Um(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(f),null;case 1:return mn(f),null;case 3:return g=f.stateNode,w=null,c!==null&&(w=c.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),Ao(Un),Q(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Fi(f)?ud(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Gg())),mn(f),null;case 26:var T=f.type,C=f.memoizedState;return c===null?(ud(f),C!==null?(mn(f),LT(f,C)):(mn(f),Fk(f,T,null,w,g))):C?C!==c.memoizedState?(ud(f),mn(f),LT(f,C)):(mn(f),f.flags&=-16777217):(c=c.memoizedProps,c!==w&&ud(f),mn(f),Fk(f,T,c,w,g)),null;case 27:if(Ae(f),g=Z.current,T=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==w&&ud(f);else{if(!w){if(f.stateNode===null)throw Error(a(166));return mn(f),null}c=z.current,Fi(f)?Kg(f):(c=zE(T,w,g),f.stateNode=c,ud(f))}return mn(f),null;case 5:if(Ae(f),T=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==w&&ud(f);else{if(!w){if(f.stateNode===null)throw Error(a(166));return mn(f),null}if(C=z.current,Fi(f))Kg(f);else{var G=fb(Z.current);switch(C){case 1:C=G.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:C=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":C=G.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":C=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":C=G.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof w.is=="string"?G.createElement("select",{is:w.is}):G.createElement("select"),w.multiple?C.multiple=!0:w.size&&(C.size=w.size);break;default:C=typeof w.is=="string"?G.createElement(T,{is:w.is}):G.createElement(T)}}C[xe]=f,C[be]=w;e:for(G=f.child;G!==null;){if(G.tag===5||G.tag===6)C.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===f)break e;for(;G.sibling===null;){if(G.return===null||G.return===f)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}f.stateNode=C;e:switch(ys(C,T,w),T){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&ud(f)}}return mn(f),Fk(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,g),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==w&&ud(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(a(166));if(c=Z.current,Fi(f)){if(c=f.stateNode,g=f.memoizedProps,w=null,T=Ri,T!==null)switch(T.tag){case 27:case 5:w=T.memoizedProps}c[xe]=f,c=!!(c.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||CE(c.nodeValue,g)),c||au(f,!0)}else c=fb(c).createTextNode(w),c[xe]=f,f.stateNode=c}return mn(f),null;case 31:if(g=f.memoizedState,c===null||c.memoizedState!==null){if(w=Fi(f),g!==null){if(c===null){if(!w)throw Error(a(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(557));c[xe]=f}else nd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mn(f),c=!1}else g=Gg(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return f.flags&256?(Pa(f),f):(Pa(f),null);if((f.flags&128)!==0)throw Error(a(558))}return mn(f),null;case 13:if(w=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=Fi(f),w!==null&&w.dehydrated!==null){if(c===null){if(!T)throw Error(a(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[xe]=f}else nd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;mn(f),T=!1}else T=Gg(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Pa(f),f):(Pa(f),null)}return Pa(f),(f.flags&128)!==0?(f.lanes=g,f):(g=w!==null,c=c!==null&&c.memoizedState!==null,g&&(w=f.child,T=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(T=w.alternate.memoizedState.cachePool.pool),C=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(C=w.memoizedState.cachePool.pool),C!==T&&(w.flags|=2048)),g!==c&&g&&(f.child.flags|=8192),Jv(f,f.updateQueue),mn(f),null);case 4:return Q(),c===null&&s5(f.stateNode.containerInfo),mn(f),null;case 10:return Ao(f.type),mn(f),null;case 19:if(P(oa),w=f.memoizedState,w===null)return mn(f),null;if(T=(f.flags&128)!==0,C=w.rendering,C===null)if(T)sx(w,!1);else{if(Jn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(C=rs(c),C!==null){for(f.flags|=128,sx(w,!1),c=C.updateQueue,f.updateQueue=c,Jv(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)Gh(g,c),g=g.sibling;return W(oa,oa.current&1|2),Jr&&ro(f,w.treeForkCount),f.child}c=c.sibling}w.tail!==null&&Me()>ab&&(f.flags|=128,T=!0,sx(w,!1),f.lanes=4194304)}else{if(!T)if(c=rs(C),c!==null){if(f.flags|=128,T=!0,c=c.updateQueue,f.updateQueue=c,Jv(f,c),sx(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Jr)return mn(f),null}else 2*Me()-w.renderingStartTime>ab&&g!==536870912&&(f.flags|=128,T=!0,sx(w,!1),f.lanes=4194304);w.isBackwards?(C.sibling=f.child,f.child=C):(c=w.last,c!==null?c.sibling=C:f.child=C,w.last=C)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Me(),c.sibling=null,g=oa.current,W(oa,T?g&1|2:g&1),Jr&&ro(f,w.treeForkCount),c):(mn(f),null);case 22:case 23:return Pa(f),ci(),w=f.memoizedState!==null,c!==null?c.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(g&536870912)!==0&&(f.flags&128)===0&&(mn(f),f.subtreeFlags&6&&(f.flags|=8192)):mn(f),g=f.updateQueue,g!==null&&Jv(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048),c!==null&&P(he),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Ao(Un),mn(f),null;case 25:return null;case 30:return null}throw Error(a(156,f.tag))}function UW(c,f){switch(Um(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ao(Un),Q(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Ae(f),null;case 31:if(f.memoizedState!==null){if(Pa(f),f.alternate===null)throw Error(a(340));nd()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(Pa(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));nd()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return P(oa),null;case 4:return Q(),null;case 10:return Ao(f.type),null;case 22:case 23:return Pa(f),ci(),c!==null&&P(he),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ao(Un),null;case 25:return null;default:return null}}function MT(c,f){switch(Um(f),f.tag){case 3:Ao(Un),Q();break;case 26:case 27:case 5:Ae(f);break;case 4:Q();break;case 31:f.memoizedState!==null&&Pa(f);break;case 13:Pa(f);break;case 19:P(oa);break;case 10:Ao(f.type);break;case 22:case 23:Pa(f),ci(),c!==null&&P(he);break;case 24:Ao(Un)}}function ox(c,f){try{var g=f.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var T=w.next;g=T;do{if((g.tag&c)===c){w=void 0;var C=g.create,G=g.inst;w=C(),G.destroy=w}g=g.next}while(g!==T)}}catch(fe){La(f,f.return,fe)}}function O0(c,f,g){try{var w=f.updateQueue,T=w!==null?w.lastEffect:null;if(T!==null){var C=T.next;w=C;do{if((w.tag&c)===c){var G=w.inst,fe=G.destroy;if(fe!==void 0){G.destroy=void 0,T=f;var Pe=g,et=fe;try{et()}catch(ft){La(T,Pe,ft)}}}w=w.next}while(w!==C)}}catch(ft){La(f,f.return,ft)}}function IT(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{Gn(f,g)}catch(w){La(c,c.return,w)}}}function RT(c,f,g){g.props=tf(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(w){La(c,f,w)}}function lx(c,f){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var w=c.stateNode;break;case 30:w=c.stateNode;break;default:w=c.stateNode}typeof g=="function"?c.refCleanup=g(w):g.current=w}}catch(T){La(c,f,T)}}function hu(c,f){var g=c.ref,w=c.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(T){La(c,f,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){La(c,f,T)}else g.current=null}function FT(c){var f=c.type,g=c.memoizedProps,w=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(T){La(c,c.return,T)}}function Bk(c,f,g){try{var w=c.stateNode;lV(w,c.type,g,f),w[be]=f}catch(T){La(c,c.return,T)}}function BT(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&F0(c.type)||c.tag===4}function Uk(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||BT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&F0(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zk(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(c),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Ho));else if(w!==4&&(w===27&&F0(c.type)&&(g=c.stateNode,f=null),c=c.child,c!==null))for(zk(c,f,g),c=c.sibling;c!==null;)zk(c,f,g),c=c.sibling}function Zv(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(w!==4&&(w===27&&F0(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(Zv(c,f,g),c=c.sibling;c!==null;)Zv(c,f,g),c=c.sibling}function UT(c){var f=c.stateNode,g=c.memoizedProps;try{for(var w=c.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);ys(f,w,g),f[xe]=c,f[be]=g}catch(C){La(c,c.return,C)}}var dd=!1,Si=!1,qk=!1,zT=typeof WeakSet=="function"?WeakSet:Set,as=null;function zW(c,f){if(c=c.containerInfo,c5=yb,c=vc(c),El(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,C=w.focusNode;w=w.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var G=0,fe=-1,Pe=-1,et=0,ft=0,wt=c,rt=null;t:for(;;){for(var st;wt!==g||T!==0&&wt.nodeType!==3||(fe=G+T),wt!==C||w!==0&&wt.nodeType!==3||(Pe=G+w),wt.nodeType===3&&(G+=wt.nodeValue.length),(st=wt.firstChild)!==null;)rt=wt,wt=st;for(;;){if(wt===c)break t;if(rt===g&&++et===T&&(fe=G),rt===C&&++ft===w&&(Pe=G),(st=wt.nextSibling)!==null)break;wt=rt,rt=wt.parentNode}wt=st}g=fe===-1||Pe===-1?null:{start:fe,end:Pe}}else g=null}g=g||{start:0,end:0}}else g=null;for(u5={focusedElem:c,selectionRange:g},yb=!1,as=f;as!==null;)if(f=as,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,as=c;else for(;as!==null;){switch(f=as,C=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(g=0;g<c.length;g++)T=c[g],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,g=f,T=C.memoizedProps,C=C.memoizedState,w=g.stateNode;try{var Jt=tf(g.type,T);c=w.getSnapshotBeforeUpdate(Jt,C),w.__reactInternalSnapshotBeforeUpdate=c}catch(kr){La(g,g.return,kr)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,g=c.nodeType,g===9)f5(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":f5(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(a(163))}if(c=f.sibling,c!==null){c.return=f.return,as=c;break}as=f.return}}function qT(c,f,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:fd(c,g),w&4&&ox(5,g);break;case 1:if(fd(c,g),w&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch(G){La(g,g.return,G)}else{var T=tf(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(T,f,c.__reactInternalSnapshotBeforeUpdate)}catch(G){La(g,g.return,G)}}w&64&&IT(g),w&512&&lx(g,g.return);break;case 3:if(fd(c,g),w&64&&(c=g.updateQueue,c!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{Gn(c,f)}catch(G){La(g,g.return,G)}}break;case 27:f===null&&w&4&&UT(g);case 26:case 5:fd(c,g),f===null&&w&4&&FT(g),w&512&&lx(g,g.return);break;case 12:fd(c,g);break;case 31:fd(c,g),w&4&&WT(c,g);break;case 13:fd(c,g),w&4&&VT(c,g),w&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=XW.bind(null,g),gV(c,g))));break;case 22:if(w=g.memoizedState!==null||dd,!w){f=f!==null&&f.memoizedState!==null||Si,T=dd;var C=Si;dd=w,(Si=f)&&!C?md(c,g,(g.subtreeFlags&8772)!==0):fd(c,g),dd=T,Si=C}break;case 30:break;default:fd(c,g)}}function $T(c){var f=c.alternate;f!==null&&(c.alternate=null,$T(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&xt(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var jn=null,Eo=!1;function hd(c,f,g){for(g=g.child;g!==null;)HT(c,f,g),g=g.sibling}function HT(c,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ut,g)}catch{}switch(g.tag){case 26:Si||hu(g,f),hd(c,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Si||hu(g,f);var w=jn,T=Eo;F0(g.type)&&(jn=g.stateNode,Eo=!1),hd(c,f,g),xx(g.stateNode),jn=w,Eo=T;break;case 5:Si||hu(g,f);case 6:if(w=jn,T=Eo,jn=null,hd(c,f,g),jn=w,Eo=T,jn!==null)if(Eo)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(g.stateNode)}catch(C){La(g,f,C)}else try{jn.removeChild(g.stateNode)}catch(C){La(g,f,C)}break;case 18:jn!==null&&(Eo?(c=jn,IE(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),dp(c)):IE(jn,g.stateNode));break;case 4:w=jn,T=Eo,jn=g.stateNode.containerInfo,Eo=!0,hd(c,f,g),jn=w,Eo=T;break;case 0:case 11:case 14:case 15:O0(2,g,f),Si||O0(4,g,f),hd(c,f,g);break;case 1:Si||(hu(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"&&RT(g,f,w)),hd(c,f,g);break;case 21:hd(c,f,g);break;case 22:Si=(w=Si)||g.memoizedState!==null,hd(c,f,g),Si=w;break;default:hd(c,f,g)}}function WT(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{dp(c)}catch(g){La(f,f.return,g)}}}function VT(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{dp(c)}catch(g){La(f,f.return,g)}}function qW(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new zT),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new zT),f;default:throw Error(a(435,c.tag))}}function eb(c,f){var g=qW(c);f.forEach(function(w){if(!g.has(w)){g.add(w);var T=QW.bind(null,c,w);w.then(T,T)}})}function Co(c,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w],C=c,G=f,fe=G;e:for(;fe!==null;){switch(fe.tag){case 27:if(F0(fe.type)){jn=fe.stateNode,Eo=!1;break e}break;case 5:jn=fe.stateNode,Eo=!1;break e;case 3:case 4:jn=fe.stateNode.containerInfo,Eo=!0;break e}fe=fe.return}if(jn===null)throw Error(a(160));HT(C,G,T),jn=null,Eo=!1,C=T.alternate,C!==null&&(C.return=null),T.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)KT(f,c),f=f.sibling}var jc=null;function KT(c,f){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Co(f,c),Oo(c),w&4&&(O0(3,c,c.return),ox(3,c),O0(5,c,c.return));break;case 1:Co(f,c),Oo(c),w&512&&(Si||g===null||hu(g,g.return)),w&64&&dd&&(c=c.updateQueue,c!==null&&(w=c.callbacks,w!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var T=jc;if(Co(f,c),Oo(c),w&512&&(Si||g===null||hu(g,g.return)),w&4){var C=g!==null?g.memoizedState:null;if(w=c.memoizedState,g===null)if(w===null)if(c.stateNode===null){e:{w=c.type,g=c.memoizedProps,T=T.ownerDocument||T;t:switch(w){case"title":C=T.getElementsByTagName("title")[0],(!C||C[Qe]||C[xe]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=T.createElement(w),T.head.insertBefore(C,T.querySelector("head > title"))),ys(C,w,g),C[xe]=c,nt(C),w=C;break e;case"link":var G=KE("link","href",T).get(w+(g.href||""));if(G){for(var fe=0;fe<G.length;fe++)if(C=G[fe],C.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){G.splice(fe,1);break t}}C=T.createElement(w),ys(C,w,g),T.head.appendChild(C);break;case"meta":if(G=KE("meta","content",T).get(w+(g.content||""))){for(fe=0;fe<G.length;fe++)if(C=G[fe],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){G.splice(fe,1);break t}}C=T.createElement(w),ys(C,w,g),T.head.appendChild(C);break;default:throw Error(a(468,w))}C[xe]=c,nt(C),w=C}c.stateNode=w}else GE(T,c.type,c.stateNode);else c.stateNode=VE(T,w,c.memoizedProps);else C!==w?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,w===null?GE(T,c.type,c.stateNode):VE(T,w,c.memoizedProps)):w===null&&c.stateNode!==null&&Bk(c,c.memoizedProps,g.memoizedProps)}break;case 27:Co(f,c),Oo(c),w&512&&(Si||g===null||hu(g,g.return)),g!==null&&w&4&&Bk(c,c.memoizedProps,g.memoizedProps);break;case 5:if(Co(f,c),Oo(c),w&512&&(Si||g===null||hu(g,g.return)),c.flags&32){T=c.stateNode;try{Ys(T,"")}catch(Jt){La(c,c.return,Jt)}}w&4&&c.stateNode!=null&&(T=c.memoizedProps,Bk(c,T,g!==null?g.memoizedProps:T)),w&1024&&(qk=!0);break;case 6:if(Co(f,c),Oo(c),w&4){if(c.stateNode===null)throw Error(a(162));w=c.memoizedProps,g=c.stateNode;try{g.nodeValue=w}catch(Jt){La(c,c.return,Jt)}}break;case 3:if(gb=null,T=jc,jc=mb(f.containerInfo),Co(f,c),jc=T,Oo(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{dp(f.containerInfo)}catch(Jt){La(c,c.return,Jt)}qk&&(qk=!1,GT(c));break;case 4:w=jc,jc=mb(c.stateNode.containerInfo),Co(f,c),Oo(c),jc=w;break;case 12:Co(f,c),Oo(c);break;case 31:Co(f,c),Oo(c),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,eb(c,w)));break;case 13:Co(f,c),Oo(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(rb=Me()),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,eb(c,w)));break;case 22:T=c.memoizedState!==null;var Pe=g!==null&&g.memoizedState!==null,et=dd,ft=Si;if(dd=et||T,Si=ft||Pe,Co(f,c),Si=ft,dd=et,Oo(c),w&8192)e:for(f=c.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(g===null||Pe||dd||Si||rf(c)),g=null,f=c;;){if(f.tag===5||f.tag===26){if(g===null){Pe=g=f;try{if(C=Pe.stateNode,T)G=C.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{fe=Pe.stateNode;var wt=Pe.memoizedProps.style,rt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;fe.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(Jt){La(Pe,Pe.return,Jt)}}}else if(f.tag===6){if(g===null){Pe=f;try{Pe.stateNode.nodeValue=T?"":Pe.memoizedProps}catch(Jt){La(Pe,Pe.return,Jt)}}}else if(f.tag===18){if(g===null){Pe=f;try{var st=Pe.stateNode;T?RE(st,!0):RE(Pe.stateNode,!1)}catch(Jt){La(Pe,Pe.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=c.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,eb(c,g))));break;case 19:Co(f,c),Oo(c),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,eb(c,w)));break;case 30:break;case 21:break;default:Co(f,c),Oo(c)}}function Oo(c){var f=c.flags;if(f&2){try{for(var g,w=c.return;w!==null;){if(BT(w)){g=w;break}w=w.return}if(g==null)throw Error(a(160));switch(g.tag){case 27:var T=g.stateNode,C=Uk(c);Zv(c,C,T);break;case 5:var G=g.stateNode;g.flags&32&&(Ys(G,""),g.flags&=-33);var fe=Uk(c);Zv(c,fe,G);break;case 3:case 4:var Pe=g.stateNode.containerInfo,et=Uk(c);zk(c,et,Pe);break;default:throw Error(a(161))}}catch(ft){La(c,c.return,ft)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function GT(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;GT(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function fd(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)qT(c,f.alternate,f),f=f.sibling}function rf(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:O0(4,f,f.return),rf(f);break;case 1:hu(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&RT(f,f.return,g),rf(f);break;case 27:xx(f.stateNode);case 26:case 5:hu(f,f.return),rf(f);break;case 22:f.memoizedState===null&&rf(f);break;case 30:rf(f);break;default:rf(f)}c=c.sibling}}function md(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,T=c,C=f,G=C.flags;switch(C.tag){case 0:case 11:case 15:md(T,C,g),ox(4,C);break;case 1:if(md(T,C,g),w=C,T=w.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(et){La(w,w.return,et)}if(w=C,T=w.updateQueue,T!==null){var fe=w.stateNode;try{var Pe=T.shared.hiddenCallbacks;if(Pe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Pe.length;T++)ts(Pe[T],fe)}catch(et){La(w,w.return,et)}}g&&G&64&&IT(C),lx(C,C.return);break;case 27:UT(C);case 26:case 5:md(T,C,g),g&&w===null&&G&4&&FT(C),lx(C,C.return);break;case 12:md(T,C,g);break;case 31:md(T,C,g),g&&G&4&&WT(T,C);break;case 13:md(T,C,g),g&&G&4&&VT(T,C);break;case 22:C.memoizedState===null&&md(T,C,g),lx(C,C.return);break;case 30:break;default:md(T,C,g)}f=f.sibling}}function $k(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Qh(g))}function Hk(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Qh(c))}function Ac(c,f,g,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)YT(c,f,g,w),f=f.sibling}function YT(c,f,g,w){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Ac(c,f,g,w),T&2048&&ox(9,f);break;case 1:Ac(c,f,g,w);break;case 3:Ac(c,f,g,w),T&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Qh(c)));break;case 12:if(T&2048){Ac(c,f,g,w),c=f.stateNode;try{var C=f.memoizedProps,G=C.id,fe=C.onPostCommit;typeof fe=="function"&&fe(G,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Pe){La(f,f.return,Pe)}}else Ac(c,f,g,w);break;case 31:Ac(c,f,g,w);break;case 13:Ac(c,f,g,w);break;case 23:break;case 22:C=f.stateNode,G=f.alternate,f.memoizedState!==null?C._visibility&2?Ac(c,f,g,w):cx(c,f):C._visibility&2?Ac(c,f,g,w):(C._visibility|=2,ep(c,f,g,w,(f.subtreeFlags&10256)!==0||!1)),T&2048&&$k(G,f);break;case 24:Ac(c,f,g,w),T&2048&&Hk(f.alternate,f);break;default:Ac(c,f,g,w)}}function ep(c,f,g,w,T){for(T=T&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=c,G=f,fe=g,Pe=w,et=G.flags;switch(G.tag){case 0:case 11:case 15:ep(C,G,fe,Pe,T),ox(8,G);break;case 23:break;case 22:var ft=G.stateNode;G.memoizedState!==null?ft._visibility&2?ep(C,G,fe,Pe,T):cx(C,G):(ft._visibility|=2,ep(C,G,fe,Pe,T)),T&&et&2048&&$k(G.alternate,G);break;case 24:ep(C,G,fe,Pe,T),T&&et&2048&&Hk(G.alternate,G);break;default:ep(C,G,fe,Pe,T)}f=f.sibling}}function cx(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,w=f,T=w.flags;switch(w.tag){case 22:cx(g,w),T&2048&&$k(w.alternate,w);break;case 24:cx(g,w),T&2048&&Hk(w.alternate,w);break;default:cx(g,w)}f=f.sibling}}var ux=8192;function tp(c,f,g){if(c.subtreeFlags&ux)for(c=c.child;c!==null;)XT(c,f,g),c=c.sibling}function XT(c,f,g){switch(c.tag){case 26:tp(c,f,g),c.flags&ux&&c.memoizedState!==null&&TV(g,jc,c.memoizedState,c.memoizedProps);break;case 5:tp(c,f,g);break;case 3:case 4:var w=jc;jc=mb(c.stateNode.containerInfo),tp(c,f,g),jc=w;break;case 22:c.memoizedState===null&&(w=c.alternate,w!==null&&w.memoizedState!==null?(w=ux,ux=16777216,tp(c,f,g),ux=w):tp(c,f,g));break;default:tp(c,f,g)}}function QT(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function dx(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];as=w,ZT(w,c)}QT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JT(c),c=c.sibling}function JT(c){switch(c.tag){case 0:case 11:case 15:dx(c),c.flags&2048&&O0(9,c,c.return);break;case 3:dx(c);break;case 12:dx(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,tb(c)):dx(c);break;default:dx(c)}}function tb(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];as=w,ZT(w,c)}QT(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:O0(8,f,f.return),tb(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,tb(f));break;default:tb(f)}c=c.sibling}}function ZT(c,f){for(;as!==null;){var g=as;switch(g.tag){case 0:case 11:case 15:O0(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Qh(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,as=w;else e:for(g=c;as!==null;){w=as;var T=w.sibling,C=w.return;if($T(w),w===g){as=null;break e}if(T!==null){T.return=C,as=T;break e}as=C}}}var $W={getCacheForType:function(c){var f=Bi(Un),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g},cacheSignal:function(){return Bi(Un).controller.signal}},HW=typeof WeakMap=="function"?WeakMap:Map,Ta=0,en=null,Zr=null,aa=0,Da=0,Xo=null,P0=!1,rp=!1,Wk=!1,pd=0,Jn=0,D0=0,af=0,Vk=0,Qo=0,ap=0,hx=null,Po=null,Kk=!1,rb=0,eE=0,ab=1/0,nb=null,L0=null,zi=0,M0=null,np=null,gd=0,Gk=0,Yk=null,tE=null,fx=0,Xk=null;function Jo(){return(Ta&2)!==0&&aa!==0?aa&-aa:X.T!==null?r5():le()}function rE(){if(Qo===0)if((aa&536870912)===0||Jr){var c=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Qo=c}else Qo=536870912;return c=fn.current,c!==null&&(c.flags|=32),Qo}function Do(c,f,g){(c===en&&(Da===2||Da===9)||c.cancelPendingCommit!==null)&&(ip(c,0),I0(c,aa,Qo,!1)),Pt(c,g),((Ta&2)===0||c!==en)&&(c===en&&((Ta&2)===0&&(af|=g),Jn===4&&I0(c,aa,Qo,!1)),fu(c))}function aE(c,f,g){if((Ta&6)!==0)throw Error(a(327));var w=!g&&(f&127)===0&&(f&c.expiredLanes)===0||hs(c,f),T=w?KW(c,f):Jk(c,f,!0),C=w;do{if(T===0){rp&&!w&&I0(c,f,0,!1);break}else{if(g=c.current.alternate,C&&!WW(g)){T=Jk(c,f,!1),C=!1;continue}if(T===2){if(C=f,c.errorRecoveryDisabledLanes&C)var G=0;else G=c.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){f=G;e:{var fe=c;T=hx;var Pe=fe.current.memoizedState.isDehydrated;if(Pe&&(ip(fe,G).flags|=256),G=Jk(fe,G,!1),G!==2){if(Wk&&!Pe){fe.errorRecoveryDisabledLanes|=C,af|=C,T=4;break e}C=Po,Po=T,C!==null&&(Po===null?Po=C:Po.push.apply(Po,C))}T=G}if(C=!1,T!==2)continue}}if(T===1){ip(c,0),I0(c,f,0,!0);break}e:{switch(w=c,C=T,C){case 0:case 1:throw Error(a(345));case 4:if((f&4194048)!==f)break;case 6:I0(w,f,Qo,!P0);break e;case 2:Po=null;break;case 3:case 5:break;default:throw Error(a(329))}if((f&62914560)===f&&(T=rb+300-Me(),10<T)){if(I0(w,f,Qo,!P0),Dr(w,0,!0)!==0)break e;gd=f,w.timeoutHandle=LE(nE.bind(null,w,g,Po,nb,Kk,f,Qo,af,ap,P0,C,"Throttled",-0,0),T);break e}nE(w,g,Po,nb,Kk,f,Qo,af,ap,P0,C,null,-0,0)}}break}while(!0);fu(c)}function nE(c,f,g,w,T,C,G,fe,Pe,et,ft,wt,rt,st){if(c.timeoutHandle=-1,wt=f.subtreeFlags,wt&8192||(wt&16785408)===16785408){wt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ho},XT(f,C,wt);var Jt=(C&62914560)===C?rb-Me():(C&4194048)===C?eE-Me():0;if(Jt=EV(wt,Jt),Jt!==null){gd=C,c.cancelPendingCommit=Jt(hE.bind(null,c,f,C,g,w,T,G,fe,Pe,ft,wt,null,rt,st)),I0(c,C,G,!et);return}}hE(c,f,C,g,w,T,G,fe,Pe)}function WW(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var T=g[w],C=T.getSnapshot;T=T.value;try{if(!Mi(C(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function I0(c,f,g,w){f&=~Vk,f&=~af,c.suspendedLanes|=f,c.pingedLanes&=~f,w&&(c.warmLanes|=f),w=c.expirationTimes;for(var T=f;0<T;){var C=31-_r(T),G=1<<C;w[C]=-1,T&=~G}g!==0&&fs(c,g,f)}function ib(){return(Ta&6)===0?(mx(0),!1):!0}function Qk(){if(Zr!==null){if(Da===0)var c=Zr.return;else c=Zr,Ol=nu=null,Km(c),St=null,Zt=0,c=Zr;for(;c!==null;)MT(c.alternate,c),c=c.return;Zr=null}}function ip(c,f){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,dV(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),gd=0,Qk(),en=c,Zr=g=wo(c.current,null),aa=f,Da=0,Xo=null,P0=!1,rp=hs(c,f),Wk=!1,ap=Qo=Vk=af=D0=Jn=0,Po=hx=null,Kk=!1,(f&8)!==0&&(f|=f&32);var w=c.entangledLanes;if(w!==0)for(c=c.entanglements,w&=f;0<w;){var T=31-_r(w),C=1<<T;f|=c[T],w&=~C}return pd=f,Wh(),g}function iE(c,f){fr=null,X.H=nx,f===Re||f===we?(f=gt(),Da=3):f===Je?(f=gt(),Da=4):Da=f===Ek?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Xo=f,Zr===null&&(Jn=1,Gv(c,ko(f,c.current)))}function sE(){var c=fn.current;return c===null?!0:(aa&4194048)===aa?da===null:(aa&62914560)===aa||(aa&536870912)!==0?c===da:!1}function oE(){var c=X.H;return X.H=nx,c===null?nx:c}function lE(){var c=X.A;return X.A=$W,c}function sb(){Jn=4,P0||(aa&4194048)!==aa&&fn.current!==null||(rp=!0),(D0&134217727)===0&&(af&134217727)===0||en===null||I0(en,aa,Qo,!1)}function Jk(c,f,g){var w=Ta;Ta|=2;var T=oE(),C=lE();(en!==c||aa!==f)&&(nb=null,ip(c,f)),f=!1;var G=Jn;e:do try{if(Da!==0&&Zr!==null){var fe=Zr,Pe=Xo;switch(Da){case 8:Qk(),G=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(f=!0);var et=Da;if(Da=0,Xo=null,sp(c,fe,Pe,et),g&&rp){G=0;break e}break;default:et=Da,Da=0,Xo=null,sp(c,fe,Pe,et)}}VW(),G=Jn;break}catch(ft){iE(c,ft)}while(!0);return f&&c.shellSuspendCounter++,Ol=nu=null,Ta=w,X.H=T,X.A=C,Zr===null&&(en=null,aa=0,Wh()),G}function VW(){for(;Zr!==null;)cE(Zr)}function KW(c,f){var g=Ta;Ta|=2;var w=oE(),T=lE();en!==c||aa!==f?(nb=null,ab=Me()+500,ip(c,f)):rp=hs(c,f);e:do try{if(Da!==0&&Zr!==null){f=Zr;var C=Xo;t:switch(Da){case 1:Da=0,Xo=null,sp(c,f,C,1);break;case 2:case 9:if(We(C)){Da=0,Xo=null,uE(f);break}f=function(){Da!==2&&Da!==9||en!==c||(Da=7),fu(c)},C.then(f,f);break e;case 3:Da=7;break e;case 4:Da=5;break e;case 7:We(C)?(Da=0,Xo=null,uE(f)):(Da=0,Xo=null,sp(c,f,C,7));break;case 5:var G=null;switch(Zr.tag){case 26:G=Zr.memoizedState;case 5:case 27:var fe=Zr;if(G?YE(G):fe.stateNode.complete){Da=0,Xo=null;var Pe=fe.sibling;if(Pe!==null)Zr=Pe;else{var et=fe.return;et!==null?(Zr=et,ob(et)):Zr=null}break t}}Da=0,Xo=null,sp(c,f,C,5);break;case 6:Da=0,Xo=null,sp(c,f,C,6);break;case 8:Qk(),Jn=6;break e;default:throw Error(a(462))}}GW();break}catch(ft){iE(c,ft)}while(!0);return Ol=nu=null,X.H=w,X.A=T,Ta=g,Zr!==null?0:(en=null,aa=0,Wh(),Jn)}function GW(){for(;Zr!==null&&!ut();)cE(Zr)}function cE(c){var f=DT(c.alternate,c,pd);c.memoizedProps=c.pendingProps,f===null?ob(c):Zr=f}function uE(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=AT(g,f,f.pendingProps,f.type,void 0,aa);break;case 11:f=AT(g,f,f.pendingProps,f.type.render,f.ref,aa);break;case 5:Km(f);default:MT(g,f),f=Zr=Gh(f,pd),f=DT(g,f,pd)}c.memoizedProps=c.pendingProps,f===null?ob(c):Zr=f}function sp(c,f,g,w){Ol=nu=null,Km(f),St=null,Zt=0;var T=f.return;try{if(IW(c,T,f,g,aa)){Jn=1,Gv(c,ko(g,c.current)),Zr=null;return}}catch(C){if(T!==null)throw Zr=T,C;Jn=1,Gv(c,ko(g,c.current)),Zr=null;return}f.flags&32768?(Jr||w===1?c=!0:rp||(aa&536870912)!==0?c=!1:(P0=c=!0,(w===2||w===9||w===3||w===6)&&(w=fn.current,w!==null&&w.tag===13&&(w.flags|=16384))),dE(f,c)):ob(f)}function ob(c){var f=c;do{if((f.flags&32768)!==0){dE(f,P0);return}c=f.return;var g=BW(f.alternate,f,pd);if(g!==null){Zr=g;return}if(f=f.sibling,f!==null){Zr=f;return}Zr=f=c}while(f!==null);Jn===0&&(Jn=5)}function dE(c,f){do{var g=UW(c.alternate,c);if(g!==null){g.flags&=32767,Zr=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Zr=c;return}Zr=c=g}while(c!==null);Jn=6,Zr=null}function hE(c,f,g,w,T,C,G,fe,Pe){c.cancelPendingCommit=null;do lb();while(zi!==0);if((Ta&6)!==0)throw Error(a(327));if(f!==null){if(f===c.current)throw Error(a(177));if(C=f.lanes|f.childLanes,C|=Dm,Gs(c,g,C,G,fe,Pe),c===en&&(Zr=en=null,aa=0),np=f,M0=c,gd=g,Gk=C,Yk=T,tE=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,JW(Rt,function(){return xE(),null})):(c.callbackNode=null,c.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=X.T,X.T=null,T=ae.p,ae.p=2,G=Ta,Ta|=4;try{zW(c,f,g)}finally{Ta=G,ae.p=T,X.T=w}}zi=1,fE(),mE(),pE()}}function fE(){if(zi===1){zi=0;var c=M0,f=np,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=X.T,X.T=null;var w=ae.p;ae.p=2;var T=Ta;Ta|=4;try{KT(f,c);var C=u5,G=vc(c.containerInfo),fe=C.focusedElem,Pe=C.selectionRange;if(G!==fe&&fe&&fe.ownerDocument&&xc(fe.ownerDocument.documentElement,fe)){if(Pe!==null&&El(fe)){var et=Pe.start,ft=Pe.end;if(ft===void 0&&(ft=et),"selectionStart"in fe)fe.selectionStart=et,fe.selectionEnd=Math.min(ft,fe.value.length);else{var wt=fe.ownerDocument||document,rt=wt&&wt.defaultView||window;if(rt.getSelection){var st=rt.getSelection(),Jt=fe.textContent.length,kr=Math.min(Pe.start,Jt),Wa=Pe.end===void 0?kr:Math.min(Pe.end,Jt);!st.extend&&kr>Wa&&(G=Wa,Wa=kr,kr=G);var He=y0(fe,kr),Fe=y0(fe,Wa);if(He&&Fe&&(st.rangeCount!==1||st.anchorNode!==He.node||st.anchorOffset!==He.offset||st.focusNode!==Fe.node||st.focusOffset!==Fe.offset)){var Ze=wt.createRange();Ze.setStart(He.node,He.offset),st.removeAllRanges(),kr>Wa?(st.addRange(Ze),st.extend(Fe.node,Fe.offset)):(Ze.setEnd(Fe.node,Fe.offset),st.addRange(Ze))}}}}for(wt=[],st=fe;st=st.parentNode;)st.nodeType===1&&wt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<wt.length;fe++){var vt=wt[fe];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}yb=!!c5,u5=c5=null}finally{Ta=T,ae.p=w,X.T=g}}c.current=f,zi=2}}function mE(){if(zi===2){zi=0;var c=M0,f=np,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=X.T,X.T=null;var w=ae.p;ae.p=2;var T=Ta;Ta|=4;try{qT(c,f.alternate,f)}finally{Ta=T,ae.p=w,X.T=g}}zi=3}}function pE(){if(zi===4||zi===3){zi=0,bt();var c=M0,f=np,g=gd,w=tE;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?zi=5:(zi=0,np=M0=null,gE(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(L0=null),Xa(g),f=f.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ut,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=X.T,T=ae.p,ae.p=2,X.T=null;try{for(var C=c.onRecoverableError,G=0;G<w.length;G++){var fe=w[G];C(fe.value,{componentStack:fe.stack})}}finally{X.T=f,ae.p=T}}(gd&3)!==0&&lb(),fu(c),T=c.pendingLanes,(g&261930)!==0&&(T&42)!==0?c===Xk?fx++:(fx=0,Xk=c):fx=0,mx(0)}}function gE(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Qh(f)))}function lb(){return fE(),mE(),pE(),xE()}function xE(){if(zi!==5)return!1;var c=M0,f=Gk;Gk=0;var g=Xa(gd),w=X.T,T=ae.p;try{ae.p=32>g?32:g,X.T=null,g=Yk,Yk=null;var C=M0,G=gd;if(zi=0,np=M0=null,gd=0,(Ta&6)!==0)throw Error(a(331));var fe=Ta;if(Ta|=4,JT(C.current),YT(C,C.current,G,g),Ta=fe,mx(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ut,C)}catch{}return!0}finally{ae.p=T,X.T=w,gE(c,f)}}function vE(c,f,g){f=ko(g,f),f=Tk(c.stateNode,f,2),c=Br(c,f,2),c!==null&&(Pt(c,2),fu(c))}function La(c,f,g){if(c.tag===3)vE(c,c,g);else for(;f!==null;){if(f.tag===3){vE(f,c,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(L0===null||!L0.has(w))){c=ko(g,c),g=bT(2),w=Br(f,g,2),w!==null&&(yT(g,w,f,c),Pt(w,2),fu(w));break}}f=f.return}}function Zk(c,f,g){var w=c.pingCache;if(w===null){w=c.pingCache=new HW;var T=new Set;w.set(f,T)}else T=w.get(f),T===void 0&&(T=new Set,w.set(f,T));T.has(g)||(Wk=!0,T.add(g),c=YW.bind(null,c,f,g),f.then(c,c))}function YW(c,f,g){var w=c.pingCache;w!==null&&w.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,en===c&&(aa&g)===g&&(Jn===4||Jn===3&&(aa&62914560)===aa&&300>Me()-rb?(Ta&2)===0&&ip(c,0):Vk|=g,ap===aa&&(ap=0)),fu(c)}function bE(c,f){f===0&&(f=ma()),c=yc(c,f),c!==null&&(Pt(c,f),fu(c))}function XW(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),bE(c,g)}function QW(c,f){var g=0;switch(c.tag){case 31:case 13:var w=c.stateNode,T=c.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=c.stateNode;break;case 22:w=c.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(f),bE(c,g)}function JW(c,f){return Ee(c,f)}var cb=null,op=null,e5=!1,ub=!1,t5=!1,R0=0;function fu(c){c!==op&&c.next===null&&(op===null?cb=op=c:op=op.next=c),ub=!0,e5||(e5=!0,eV())}function mx(c,f){if(!t5&&ub){t5=!0;do for(var g=!1,w=cb;w!==null;){if(c!==0){var T=w.pendingLanes;if(T===0)var C=0;else{var G=w.suspendedLanes,fe=w.pingedLanes;C=(1<<31-_r(42|c)+1)-1,C&=T&~(G&~fe),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(g=!0,_E(w,C))}else C=aa,C=Dr(w,w===en?C:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(C&3)===0||hs(w,C)||(g=!0,_E(w,C));w=w.next}while(g);t5=!1}}function ZW(){yE()}function yE(){ub=e5=!1;var c=0;R0!==0&&uV()&&(c=R0);for(var f=Me(),g=null,w=cb;w!==null;){var T=w.next,C=wE(w,f);C===0?(w.next=null,g===null?cb=T:g.next=T,T===null&&(op=g)):(g=w,(c!==0||(C&3)!==0)&&(ub=!0)),w=T}zi!==0&&zi!==5||mx(c),R0!==0&&(R0=0)}function wE(c,f){for(var g=c.suspendedLanes,w=c.pingedLanes,T=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var G=31-_r(C),fe=1<<G,Pe=T[G];Pe===-1?((fe&g)===0||(fe&w)!==0)&&(T[G]=wn(fe,f)):Pe<=f&&(c.expiredLanes|=fe),C&=~fe}if(f=en,g=aa,g=Dr(c,c===f?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w=c.callbackNode,g===0||c===f&&(Da===2||Da===9)||c.cancelPendingCommit!==null)return w!==null&&w!==null&&Be(w),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||hs(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(w!==null&&Be(w),Xa(g)){case 2:case 8:g=lr;break;case 32:g=Rt;break;case 268435456:g=ht;break;default:g=Rt}return w=kE.bind(null,c),g=Ee(g,w),c.callbackPriority=f,c.callbackNode=g,f}return w!==null&&w!==null&&Be(w),c.callbackPriority=2,c.callbackNode=null,2}function kE(c,f){if(zi!==0&&zi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(lb()&&c.callbackNode!==g)return null;var w=aa;return w=Dr(c,c===en?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w===0?null:(aE(c,w,f),wE(c,Me()),c.callbackNode!=null&&c.callbackNode===g?kE.bind(null,c):null)}function _E(c,f){if(lb())return null;aE(c,f,!0)}function eV(){hV(function(){(Ta&6)!==0?Ee(yt,ZW):yE()})}function r5(){if(R0===0){var c=S;c===0&&(c=Yr,Yr<<=1,(Yr&261888)===0&&(Yr=256)),R0=c}return R0}function SE(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$o(""+c)}function NE(c,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,c.id&&g.setAttribute("form",c.id),f.parentNode.insertBefore(g,f),c=new FormData(c),g.parentNode.removeChild(g),c}function tV(c,f,g,w,T){if(f==="submit"&&g&&g.stateNode===T){var C=SE((T[be]||null).action),G=w.submitter;G&&(f=(f=G[be]||null)?SE(f.formAction):G.getAttribute("formAction"),f!==null&&(C=f,G=null));var fe=new wl("action","action",null,w,T);c.push({event:fe,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(R0!==0){var Pe=G?NE(T,G):new FormData(T);kk(g,{pending:!0,data:Pe,method:T.method,action:C},null,Pe)}}else typeof C=="function"&&(fe.preventDefault(),Pe=G?NE(T,G):new FormData(T),kk(g,{pending:!0,data:Pe,method:T.method,action:C},C,Pe))},currentTarget:T}]})}}for(var a5=0;a5<td.length;a5++){var n5=td[a5],rV=n5.toLowerCase(),aV=n5[0].toUpperCase()+n5.slice(1);yo(rV,"on"+aV)}yo(ed,"onAnimationEnd"),yo($h,"onAnimationIteration"),yo($g,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(Mv,"onTransitionRun"),yo(Iv,"onTransitionStart"),yo(Rv,"onTransitionCancel"),yo(Hg,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var px="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(px));function jE(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],T=w.event;w=w.listeners;e:{var C=void 0;if(f)for(var G=w.length-1;0<=G;G--){var fe=w[G],Pe=fe.instance,et=fe.currentTarget;if(fe=fe.listener,Pe!==C&&T.isPropagationStopped())break e;C=fe,T.currentTarget=et;try{C(T)}catch(ft){Hh(ft)}T.currentTarget=null,C=Pe}else for(G=0;G<w.length;G++){if(fe=w[G],Pe=fe.instance,et=fe.currentTarget,fe=fe.listener,Pe!==C&&T.isPropagationStopped())break e;C=fe,T.currentTarget=et;try{C(T)}catch(ft){Hh(ft)}T.currentTarget=null,C=Pe}}}}function ea(c,f){var g=f[Ve];g===void 0&&(g=f[Ve]=new Set);var w=c+"__bubble";g.has(w)||(AE(f,c,2,!1),g.add(w))}function i5(c,f,g){var w=0;f&&(w|=4),AE(g,c,w,f)}var db="_reactListening"+Math.random().toString(36).slice(2);function s5(c){if(!c[db]){c[db]=!0,$t.forEach(function(g){g!=="selectionchange"&&(nV.has(g)||i5(g,!1,c),i5(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[db]||(f[db]=!0,i5("selectionchange",!1,f))}}function AE(c,f,g,w){switch(rC(f)){case 2:var T=PV;break;case 8:T=DV;break;default:T=w5}g=T.bind(null,f,g,c),T=void 0,!Uh||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),w?T!==void 0?c.addEventListener(f,g,{capture:!0,passive:T}):c.addEventListener(f,g,!0):T!==void 0?c.addEventListener(f,g,{passive:T}):c.addEventListener(f,g,!1)}function o5(c,f,g,w,T){var C=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var fe=w.stateNode.containerInfo;if(fe===T)break;if(G===4)for(G=w.return;G!==null;){var Pe=G.tag;if((Pe===3||Pe===4)&&G.stateNode.containerInfo===T)return;G=G.return}for(;fe!==null;){if(G=Ot(fe),G===null)return;if(Pe=G.tag,Pe===5||Pe===6||Pe===26||Pe===27){w=C=G;continue e}fe=fe.parentNode}}w=w.return}Am(function(){var et=C,ft=Wu(g),wt=[];e:{var rt=Wg.get(c);if(rt!==void 0){var st=wl,Jt=c;switch(c){case"keypress":if(lc(g)===0)break e;case"keydown":case"keyup":st=pa;break;case"focusin":Jt="focus",st=hc;break;case"focusout":Jt="blur",st=hc;break;case"beforeblur":case"afterblur":st=hc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=oi;break;case ed:case $h:case $g:st=R;break;case Hg:st=Di;break;case"scroll":case"scrollend":st=f0;break;case"wheel":st=As;break;case"copy":case"cut":case"paste":st=je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Rn;break;case"toggle":case"beforetoggle":st=m0}var kr=(f&4)!==0,Wa=!kr&&(c==="scroll"||c==="scrollend"),He=kr?rt!==null?rt+"Capture":null:rt;kr=[];for(var Fe=et,Ze;Fe!==null;){var vt=Fe;if(Ze=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||Ze===null||He===null||(vt=Xs(Fe,He),vt!=null&&kr.push(gx(Fe,vt,Ze))),Wa)break;Fe=Fe.return}0<kr.length&&(rt=new st(rt,Jt,null,g,ft),wt.push({event:rt,listeners:kr}))}}if((f&7)===0){e:{if(rt=c==="mouseover"||c==="pointerover",st=c==="mouseout"||c==="pointerout",rt&&g!==oc&&(Jt=g.relatedTarget||g.fromElement)&&(Ot(Jt)||Jt[_e]))break e;if((st||rt)&&(rt=ft.window===ft?ft:(rt=ft.ownerDocument)?rt.defaultView||rt.parentWindow:window,st?(Jt=g.relatedTarget||g.toElement,st=et,Jt=Jt?Ot(Jt):null,Jt!==null&&(Wa=i(Jt),kr=Jt.tag,Jt!==Wa||kr!==5&&kr!==27&&kr!==6)&&(Jt=null)):(st=null,Jt=et),st!==Jt)){if(kr=kl,vt="onMouseLeave",He="onMouseEnter",Fe="mouse",(c==="pointerout"||c==="pointerover")&&(kr=Rn,vt="onPointerLeave",He="onPointerEnter",Fe="pointer"),Wa=st==null?rt:Ct(st),Ze=Jt==null?rt:Ct(Jt),rt=new kr(vt,Fe+"leave",st,g,ft),rt.target=Wa,rt.relatedTarget=Ze,vt=null,Ot(ft)===et&&(kr=new kr(He,Fe+"enter",Jt,g,ft),kr.target=Ze,kr.relatedTarget=Wa,vt=kr),Wa=vt,st&&Jt)t:{for(kr=iV,He=st,Fe=Jt,Ze=0,vt=He;vt;vt=kr(vt))Ze++;vt=0;for(var vr=Fe;vr;vr=kr(vr))vt++;for(;0<Ze-vt;)He=kr(He),Ze--;for(;0<vt-Ze;)Fe=kr(Fe),vt--;for(;Ze--;){if(He===Fe||Fe!==null&&He===Fe.alternate){kr=He;break t}He=kr(He),Fe=kr(Fe)}kr=null}else kr=null;st!==null&&TE(wt,rt,st,kr,!1),Jt!==null&&Wa!==null&&TE(wt,Wa,Jt,kr,!0)}}e:{if(rt=et?Ct(et):window,st=rt.nodeName&&rt.nodeName.toLowerCase(),st==="select"||st==="input"&&rt.type==="file")var wa=eu;else if(zh(rt))if(Ts)wa=Al;else{wa=Fn;var sr=v0}else st=rt.nodeName,!st||st.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?et&&Rh(et.elementType)&&(wa=eu):wa=Pm;if(wa&&(wa=wa(c,et))){Zs(wt,wa,g,ft);break e}sr&&sr(c,rt,et),c==="focusout"&&et&&rt.type==="number"&&et.memoizedProps.value!=null&&Dh(rt,"number",rt.value)}switch(sr=et?Ct(et):window,c){case"focusin":(zh(sr)||sr.contentEditable==="true")&&(eo=sr,bc=et,Ji=null);break;case"focusout":Ji=bc=eo=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,ga(wt,g,ft);break;case"selectionchange":if(Zu)break;case"keydown":case"keyup":ga(wt,g,ft)}var qr;if(_l)e:{switch(c){case"compositionstart":var na="onCompositionStart";break e;case"compositionend":na="onCompositionEnd";break e;case"compositionupdate":na="onCompositionUpdate";break e}na=void 0}else Sl?Zc(c,g)&&(na="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(na="onCompositionStart");na&&(Qc&&g.locale!=="ko"&&(Sl||na!=="onCompositionStart"?na==="onCompositionEnd"&&Sl&&(qr=Gu()):(Qs=ft,Ku="value"in Qs?Qs.value:Qs.textContent,Sl=!0)),sr=hb(et,na),0<sr.length&&(na=new $e(na,c,null,g,ft),wt.push({event:na,listeners:sr}),qr?na.data=qr:(qr=p0(g),qr!==null&&(na.data=qr)))),(qr=Ju?kn(c,g):fc(c,g))&&(na=hb(et,"onBeforeInput"),0<na.length&&(sr=new $e("onBeforeInput","beforeinput",null,g,ft),wt.push({event:sr,listeners:na}),sr.data=qr)),tV(wt,c,et,g,ft)}jE(wt,f)})}function gx(c,f,g){return{instance:c,listener:f,currentTarget:g}}function hb(c,f){for(var g=f+"Capture",w=[];c!==null;){var T=c,C=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||C===null||(T=Xs(c,g),T!=null&&w.unshift(gx(c,T,C)),T=Xs(c,f),T!=null&&w.push(gx(c,T,C))),c.tag===3)return w;c=c.return}return[]}function iV(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function TE(c,f,g,w,T){for(var C=f._reactName,G=[];g!==null&&g!==w;){var fe=g,Pe=fe.alternate,et=fe.stateNode;if(fe=fe.tag,Pe!==null&&Pe===w)break;fe!==5&&fe!==26&&fe!==27||et===null||(Pe=et,T?(et=Xs(g,C),et!=null&&G.unshift(gx(g,et,Pe))):T||(et=Xs(g,C),et!=null&&G.push(gx(g,et,Pe)))),g=g.return}G.length!==0&&c.push({event:f,listeners:G})}var sV=/\r\n?/g,oV=/\u0000|\uFFFD/g;function EE(c){return(typeof c=="string"?c:""+c).replace(sV,`
`).replace(oV,"")}function CE(c,f){return f=EE(f),EE(c)===f}function Ha(c,f,g,w,T,C){switch(g){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||Ys(c,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&Ys(c,""+w);break;case"className":u0(c,"class",w);break;case"tabIndex":u0(c,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":u0(c,g,w);break;case"style":Nm(c,w,C);break;case"data":if(f!=="object"){u0(c,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||g!=="href")){c.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(g);break}w=$o(""+w),c.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(f!=="input"&&Ha(c,f,"name",T.name,T,null),Ha(c,f,"formEncType",T.formEncType,T,null),Ha(c,f,"formMethod",T.formMethod,T,null),Ha(c,f,"formTarget",T.formTarget,T,null)):(Ha(c,f,"encType",T.encType,T,null),Ha(c,f,"method",T.method,T,null),Ha(c,f,"target",T.target,T,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(g);break}w=$o(""+w),c.setAttribute(g,w);break;case"onClick":w!=null&&(c.onclick=Ho);break;case"onScroll":w!=null&&ea("scroll",c);break;case"onScrollEnd":w!=null&&ea("scrollend",c);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(T.children!=null)throw Error(a(60));c.innerHTML=g}}break;case"multiple":c.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":c.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){c.removeAttribute("xlink:href");break}g=$o(""+w),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(g,""+w):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":w===!0?c.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(g,w):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?c.setAttribute(g,w):c.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?c.removeAttribute(g):c.setAttribute(g,w);break;case"popover":ea("beforetoggle",c),ea("toggle",c),Mn(c,"popover",w);break;case"xlinkActuate":Ca(c,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Ca(c,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Ca(c,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Ca(c,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Ca(c,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Ca(c,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Ca(c,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Ca(c,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Ca(c,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Mn(c,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Fh.get(g)||g,Mn(c,g,w))}}function l5(c,f,g,w,T,C){switch(g){case"style":Nm(c,w,C);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(T.children!=null)throw Error(a(60));c.innerHTML=g}}break;case"children":typeof w=="string"?Ys(c,w):(typeof w=="number"||typeof w=="bigint")&&Ys(c,""+w);break;case"onScroll":w!=null&&ea("scroll",c);break;case"onScrollEnd":w!=null&&ea("scrollend",c);break;case"onClick":w!=null&&(c.onclick=Ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ht.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),C=c[be]||null,C=C!=null?C[g]:null,typeof C=="function"&&c.removeEventListener(f,C,T),typeof w=="function")){typeof C!="function"&&C!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(f,w,T);break e}g in c?c[g]=w:w===!0?c.setAttribute(g,""):Mn(c,g,w)}}}function ys(c,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ea("error",c),ea("load",c);var w=!1,T=!1,C;for(C in g)if(g.hasOwnProperty(C)){var G=g[C];if(G!=null)switch(C){case"src":w=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:Ha(c,f,C,G,g,null)}}T&&Ha(c,f,"srcSet",g.srcSet,g,null),w&&Ha(c,f,"src",g.src,g,null);return;case"input":ea("invalid",c);var fe=C=G=T=null,Pe=null,et=null;for(w in g)if(g.hasOwnProperty(w)){var ft=g[w];if(ft!=null)switch(w){case"name":T=ft;break;case"type":G=ft;break;case"checked":Pe=ft;break;case"defaultChecked":et=ft;break;case"value":C=ft;break;case"defaultValue":fe=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(a(137,f));break;default:Ha(c,f,w,ft,g,null)}}_m(c,C,fe,Pe,et,G,T,!1);return;case"select":ea("invalid",c),w=G=C=null;for(T in g)if(g.hasOwnProperty(T)&&(fe=g[T],fe!=null))switch(T){case"value":C=fe;break;case"defaultValue":G=fe;break;case"multiple":w=fe;default:Ha(c,f,T,fe,g,null)}f=C,g=G,c.multiple=!!w,f!=null?ps(c,!!w,f,!1):g!=null&&ps(c,!!w,g,!0);return;case"textarea":ea("invalid",c),C=T=w=null;for(G in g)if(g.hasOwnProperty(G)&&(fe=g[G],fe!=null))switch(G){case"value":w=fe;break;case"defaultValue":T=fe;break;case"children":C=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(91));break;default:Ha(c,f,G,fe,g,null)}Mh(c,w,T,C);return;case"option":for(Pe in g)if(g.hasOwnProperty(Pe)&&(w=g[Pe],w!=null))switch(Pe){case"selected":c.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ha(c,f,Pe,w,g,null)}return;case"dialog":ea("beforetoggle",c),ea("toggle",c),ea("cancel",c),ea("close",c);break;case"iframe":case"object":ea("load",c);break;case"video":case"audio":for(w=0;w<px.length;w++)ea(px[w],c);break;case"image":ea("error",c),ea("load",c);break;case"details":ea("toggle",c);break;case"embed":case"source":case"link":ea("error",c),ea("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in g)if(g.hasOwnProperty(et)&&(w=g[et],w!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:Ha(c,f,et,w,g,null)}return;default:if(Rh(f)){for(ft in g)g.hasOwnProperty(ft)&&(w=g[ft],w!==void 0&&l5(c,f,ft,w,g,void 0));return}}for(fe in g)g.hasOwnProperty(fe)&&(w=g[fe],w!=null&&Ha(c,f,fe,w,g,null))}function lV(c,f,g,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,C=null,G=null,fe=null,Pe=null,et=null,ft=null;for(st in g){var wt=g[st];if(g.hasOwnProperty(st)&&wt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Pe=wt;default:w.hasOwnProperty(st)||Ha(c,f,st,null,w,wt)}}for(var rt in w){var st=w[rt];if(wt=g[rt],w.hasOwnProperty(rt)&&(st!=null||wt!=null))switch(rt){case"type":C=st;break;case"name":T=st;break;case"checked":et=st;break;case"defaultChecked":ft=st;break;case"value":G=st;break;case"defaultValue":fe=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,f));break;default:st!==wt&&Ha(c,f,rt,st,w,wt)}}Ph(c,G,fe,Pe,et,ft,C,T);return;case"select":st=G=fe=rt=null;for(C in g)if(Pe=g[C],g.hasOwnProperty(C)&&Pe!=null)switch(C){case"value":break;case"multiple":st=Pe;default:w.hasOwnProperty(C)||Ha(c,f,C,null,w,Pe)}for(T in w)if(C=w[T],Pe=g[T],w.hasOwnProperty(T)&&(C!=null||Pe!=null))switch(T){case"value":rt=C;break;case"defaultValue":fe=C;break;case"multiple":G=C;default:C!==Pe&&Ha(c,f,T,C,w,Pe)}f=fe,g=G,w=st,rt!=null?ps(c,!!g,rt,!1):!!w!=!!g&&(f!=null?ps(c,!!g,f,!0):ps(c,!!g,g?[]:"",!1));return;case"textarea":st=rt=null;for(fe in g)if(T=g[fe],g.hasOwnProperty(fe)&&T!=null&&!w.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Ha(c,f,fe,null,w,T)}for(G in w)if(T=w[G],C=g[G],w.hasOwnProperty(G)&&(T!=null||C!=null))switch(G){case"value":rt=T;break;case"defaultValue":st=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:T!==C&&Ha(c,f,G,T,w,C)}Lh(c,rt,st);return;case"option":for(var Jt in g)if(rt=g[Jt],g.hasOwnProperty(Jt)&&rt!=null&&!w.hasOwnProperty(Jt))switch(Jt){case"selected":c.selected=!1;break;default:Ha(c,f,Jt,null,w,rt)}for(Pe in w)if(rt=w[Pe],st=g[Pe],w.hasOwnProperty(Pe)&&rt!==st&&(rt!=null||st!=null))switch(Pe){case"selected":c.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Ha(c,f,Pe,rt,w,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kr in g)rt=g[kr],g.hasOwnProperty(kr)&&rt!=null&&!w.hasOwnProperty(kr)&&Ha(c,f,kr,null,w,rt);for(et in w)if(rt=w[et],st=g[et],w.hasOwnProperty(et)&&rt!==st&&(rt!=null||st!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(a(137,f));break;default:Ha(c,f,et,rt,w,st)}return;default:if(Rh(f)){for(var Wa in g)rt=g[Wa],g.hasOwnProperty(Wa)&&rt!==void 0&&!w.hasOwnProperty(Wa)&&l5(c,f,Wa,void 0,w,rt);for(ft in w)rt=w[ft],st=g[ft],!w.hasOwnProperty(ft)||rt===st||rt===void 0&&st===void 0||l5(c,f,ft,rt,w,st);return}}for(var He in g)rt=g[He],g.hasOwnProperty(He)&&rt!=null&&!w.hasOwnProperty(He)&&Ha(c,f,He,null,w,rt);for(wt in w)rt=w[wt],st=g[wt],!w.hasOwnProperty(wt)||rt===st||rt==null&&st==null||Ha(c,f,wt,rt,w,st)}function OE(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cV(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var T=g[w],C=T.transferSize,G=T.initiatorType,fe=T.duration;if(C&&fe&&OE(G)){for(G=0,fe=T.responseEnd,w+=1;w<g.length;w++){var Pe=g[w],et=Pe.startTime;if(et>fe)break;var ft=Pe.transferSize,wt=Pe.initiatorType;ft&&OE(wt)&&(Pe=Pe.responseEnd,G+=ft*(Pe<fe?1:(fe-et)/(Pe-et)))}if(--w,f+=8*(C+G)/(T.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var c5=null,u5=null;function fb(c){return c.nodeType===9?c:c.ownerDocument}function PE(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function d5(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var h5=null;function uV(){var c=window.event;return c&&c.type==="popstate"?c===h5?!1:(h5=c,!0):(h5=null,!1)}var LE=typeof setTimeout=="function"?setTimeout:void 0,dV=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,hV=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(c){return ME.resolve(null).then(c).catch(fV)}:LE;function fV(c){setTimeout(function(){throw c})}function F0(c){return c==="head"}function IE(c,f){var g=f,w=0;do{var T=g.nextSibling;if(c.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"||g==="/&"){if(w===0){c.removeChild(T),dp(f);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")xx(c.ownerDocument.documentElement);else if(g==="head"){g=c.ownerDocument.head,xx(g);for(var C=g.firstChild;C;){var G=C.nextSibling,fe=C.nodeName;C[Qe]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&C.rel.toLowerCase()==="stylesheet"||g.removeChild(C),C=G}}else g==="body"&&xx(c.ownerDocument.body);g=T}while(g);dp(f)}function RE(c,f){var g=c;c=0;do{var w=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(c===0)break;c--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||c++;g=w}while(g)}function f5(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":f5(g),xt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function mV(c,f,g,w){for(;c.nodeType===1;){var T=g;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(w){if(!c[Qe])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var C=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=Ll(c.nextSibling),c===null)break}return null}function pV(c,f,g){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=Ll(c.nextSibling),c===null))return null;return c}function FE(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=Ll(c.nextSibling),c===null))return null;return c}function m5(c){return c.data==="$?"||c.data==="$~"}function p5(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function gV(c,f){var g=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||g.readyState!=="loading")f();else{var w=function(){f(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),c._reactRetry=w}}function Ll(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var g5=null;function BE(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"||g==="/&"){if(f===0)return Ll(c.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}c=c.nextSibling}return null}function UE(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return c;f--}else g!=="/$"&&g!=="/&"||f++}c=c.previousSibling}return null}function zE(c,f,g){switch(f=fb(g),c){case"html":if(c=f.documentElement,!c)throw Error(a(452));return c;case"head":if(c=f.head,!c)throw Error(a(453));return c;case"body":if(c=f.body,!c)throw Error(a(454));return c;default:throw Error(a(451))}}function xx(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);xt(c)}var Ml=new Map,qE=new Set;function mb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var xd=ae.d;ae.d={f:xV,r:vV,D:bV,C:yV,L:wV,m:kV,X:SV,S:_V,M:NV};function xV(){var c=xd.f(),f=ib();return c||f}function vV(c){var f=Ft(c);f!==null&&f.tag===5&&f.type==="form"?iT(f):xd.r(c)}var lp=typeof document>"u"?null:document;function $E(c,f,g){var w=lp;if(w&&typeof f=="string"&&f){var T=Qi(f);T='link[rel="'+c+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),qE.has(T)||(qE.add(T),c={rel:c,crossOrigin:g,href:f},w.querySelector(T)===null&&(f=w.createElement("link"),ys(f,"link",c),nt(f),w.head.appendChild(f)))}}function bV(c){xd.D(c),$E("dns-prefetch",c,null)}function yV(c,f){xd.C(c,f),$E("preconnect",c,f)}function wV(c,f,g){xd.L(c,f,g);var w=lp;if(w&&c&&f){var T='link[rel="preload"][as="'+Qi(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+Qi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+Qi(g.imageSizes)+'"]')):T+='[href="'+Qi(c)+'"]';var C=T;switch(f){case"style":C=cp(c);break;case"script":C=up(c)}Ml.has(C)||(c=m({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:c,as:f},g),Ml.set(C,c),w.querySelector(T)!==null||f==="style"&&w.querySelector(vx(C))||f==="script"&&w.querySelector(bx(C))||(f=w.createElement("link"),ys(f,"link",c),nt(f),w.head.appendChild(f)))}}function kV(c,f){xd.m(c,f);var g=lp;if(g&&c){var w=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Qi(w)+'"][href="'+Qi(c)+'"]',C=T;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=up(c)}if(!Ml.has(C)&&(c=m({rel:"modulepreload",href:c},f),Ml.set(C,c),g.querySelector(T)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(bx(C)))return}w=g.createElement("link"),ys(w,"link",c),nt(w),g.head.appendChild(w)}}}function _V(c,f,g){xd.S(c,f,g);var w=lp;if(w&&c){var T=Ce(w).hoistableStyles,C=cp(c);f=f||"default";var G=T.get(C);if(!G){var fe={loading:0,preload:null};if(G=w.querySelector(vx(C)))fe.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":f},g),(g=Ml.get(C))&&x5(c,g);var Pe=G=w.createElement("link");nt(Pe),ys(Pe,"link",c),Pe._p=new Promise(function(et,ft){Pe.onload=et,Pe.onerror=ft}),Pe.addEventListener("load",function(){fe.loading|=1}),Pe.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,pb(G,f,w)}G={type:"stylesheet",instance:G,count:1,state:fe},T.set(C,G)}}}function SV(c,f){xd.X(c,f);var g=lp;if(g&&c){var w=Ce(g).hoistableScripts,T=up(c),C=w.get(T);C||(C=g.querySelector(bx(T)),C||(c=m({src:c,async:!0},f),(f=Ml.get(T))&&v5(c,f),C=g.createElement("script"),nt(C),ys(C,"link",c),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(T,C))}}function NV(c,f){xd.M(c,f);var g=lp;if(g&&c){var w=Ce(g).hoistableScripts,T=up(c),C=w.get(T);C||(C=g.querySelector(bx(T)),C||(c=m({src:c,async:!0,type:"module"},f),(f=Ml.get(T))&&v5(c,f),C=g.createElement("script"),nt(C),ys(C,"link",c),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(T,C))}}function HE(c,f,g,w){var T=(T=Z.current)?mb(T):null;if(!T)throw Error(a(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=cp(g.href),g=Ce(T).hoistableStyles,w=g.get(f),w||(w={type:"style",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=cp(g.href);var C=Ce(T).hoistableStyles,G=C.get(c);if(G||(T=T.ownerDocument||T,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,G),(C=T.querySelector(vx(c)))&&!C._p&&(G.instance=C,G.state.loading=5),Ml.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ml.set(c,g),C||jV(T,c,g,G.state))),f&&w===null)throw Error(a(528,""));return G}if(f&&w!==null)throw Error(a(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=up(g),g=Ce(T).hoistableScripts,w=g.get(f),w||(w={type:"script",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,c))}}function cp(c){return'href="'+Qi(c)+'"'}function vx(c){return'link[rel="stylesheet"]['+c+"]"}function WE(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function jV(c,f,g,w){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=c.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),ys(f,"link",g),nt(f),c.head.appendChild(f))}function up(c){return'[src="'+Qi(c)+'"]'}function bx(c){return"script[async]"+c}function VE(c,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var w=c.querySelector('style[data-href~="'+Qi(g.href)+'"]');if(w)return f.instance=w,nt(w),w;var T=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(c.ownerDocument||c).createElement("style"),nt(w),ys(w,"style",T),pb(w,g.precedence,c),f.instance=w;case"stylesheet":T=cp(g.href);var C=c.querySelector(vx(T));if(C)return f.state.loading|=4,f.instance=C,nt(C),C;w=WE(g),(T=Ml.get(T))&&x5(w,T),C=(c.ownerDocument||c).createElement("link"),nt(C);var G=C;return G._p=new Promise(function(fe,Pe){G.onload=fe,G.onerror=Pe}),ys(C,"link",w),f.state.loading|=4,pb(C,g.precedence,c),f.instance=C;case"script":return C=up(g.src),(T=c.querySelector(bx(C)))?(f.instance=T,nt(T),T):(w=g,(T=Ml.get(C))&&(w=m({},g),v5(w,T)),c=c.ownerDocument||c,T=c.createElement("script"),nt(T),ys(T,"link",w),c.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(a(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,pb(w,g.precedence,c));return f.instance}function pb(c,f,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=w.length?w[w.length-1]:null,C=T,G=0;G<w.length;G++){var fe=w[G];if(fe.dataset.precedence===f)C=fe;else if(C!==T)break}C?C.parentNode.insertBefore(c,C.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(c,f.firstChild))}function x5(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function v5(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var gb=null;function KE(c,f,g){if(gb===null){var w=new Map,T=gb=new Map;T.set(g,w)}else T=gb,w=T.get(g),w||(w=new Map,T.set(g,w));if(w.has(c))return w;for(w.set(c,null),g=g.getElementsByTagName(c),T=0;T<g.length;T++){var C=g[T];if(!(C[Qe]||C[xe]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var G=C.getAttribute(f)||"";G=c+G;var fe=w.get(G);fe?fe.push(C):w.set(G,[C])}}return w}function GE(c,f,g){c=c.ownerDocument||c,c.head.insertBefore(g,f==="title"?c.querySelector("head > title"):null)}function AV(c,f,g){if(g===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function YE(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function TV(c,f,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var T=cp(w.href),C=f.querySelector(vx(T));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=xb.bind(c),f.then(c,c)),g.state.loading|=4,g.instance=C,nt(C);return}C=f.ownerDocument||f,w=WE(w),(T=Ml.get(T))&&x5(w,T),C=C.createElement("link"),nt(C);var G=C;G._p=new Promise(function(fe,Pe){G.onload=fe,G.onerror=Pe}),ys(C,"link",w),g.instance=C}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(c.count++,g=xb.bind(c),f.addEventListener("load",g),f.addEventListener("error",g))}}var b5=0;function EV(c,f){return c.stylesheets&&c.count===0&&bb(c,c.stylesheets),0<c.count||0<c.imgCount?function(g){var w=setTimeout(function(){if(c.stylesheets&&bb(c,c.stylesheets),c.unsuspend){var C=c.unsuspend;c.unsuspend=null,C()}},6e4+f);0<c.imgBytes&&b5===0&&(b5=62500*cV());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&bb(c,c.stylesheets),c.unsuspend)){var C=c.unsuspend;c.unsuspend=null,C()}},(c.imgBytes>b5?50:800)+f);return c.unsuspend=g,function(){c.unsuspend=null,clearTimeout(w),clearTimeout(T)}}:null}function xb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var vb=null;function bb(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,vb=new Map,f.forEach(CV,c),vb=null,xb.call(c))}function CV(c,f){if(!(f.state.loading&4)){var g=vb.get(c);if(g)var w=g.get(null);else{g=new Map,vb.set(c,g);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<T.length;C++){var G=T[C];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(g.set(G.dataset.precedence,G),w=G)}w&&g.set(null,w)}T=f.instance,G=T.getAttribute("data-precedence"),C=g.get(G)||w,C===w&&g.set(null,T),g.set(G,T),this.count++,w=xb.bind(this),T.addEventListener("load",w),T.addEventListener("error",w),C?C.parentNode.insertBefore(T,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),f.state.loading|=4}}var yx={$$typeof:_,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function OV(c,f,g,w,T,C,G,fe,Pe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=w,this.onUncaughtError=T,this.onCaughtError=C,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Pe,this.incompleteTransitions=new Map}function XE(c,f,g,w,T,C,G,fe,Pe,et,ft,wt){return c=new OV(c,f,g,G,Pe,et,ft,wt,fe),f=1,C===!0&&(f|=24),C=es(3,null,null,f),c.current=C,C.stateNode=c,f=j0(),f.refCount++,c.pooledCache=f,f.refCount++,C.memoizedState={element:w,isDehydrated:g,cache:f},Bt(C),c}function QE(c){return c?(c=Ii,c):Ii}function JE(c,f,g,w,T,C){T=QE(T),w.context===null?w.context=T:w.pendingContext=T,w=wr(f),w.payload={element:g},C=C===void 0?null:C,C!==null&&(w.callback=C),g=Br(c,w,f),g!==null&&(Do(g,c,f),ja(g,c,f))}function ZE(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function y5(c,f){ZE(c,f),(c=c.alternate)&&ZE(c,f)}function eC(c){if(c.tag===13||c.tag===31){var f=yc(c,67108864);f!==null&&Do(f,c,67108864),y5(c,67108864)}}function tC(c){if(c.tag===13||c.tag===31){var f=Jo();f=ra(f);var g=yc(c,f);g!==null&&Do(g,c,f),y5(c,f)}}var yb=!0;function PV(c,f,g,w){var T=X.T;X.T=null;var C=ae.p;try{ae.p=2,w5(c,f,g,w)}finally{ae.p=C,X.T=T}}function DV(c,f,g,w){var T=X.T;X.T=null;var C=ae.p;try{ae.p=8,w5(c,f,g,w)}finally{ae.p=C,X.T=T}}function w5(c,f,g,w){if(yb){var T=k5(w);if(T===null)o5(c,f,w,wb,g),aC(c,w);else if(MV(T,c,f,g,w))w.stopPropagation();else if(aC(c,w),f&4&&-1<LV.indexOf(c)){for(;T!==null;){var C=Ft(T);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var G=zt(C.pendingLanes);if(G!==0){var fe=C;for(fe.pendingLanes|=2,fe.entangledLanes|=2;G;){var Pe=1<<31-_r(G);fe.entanglements[1]|=Pe,G&=~Pe}fu(C),(Ta&6)===0&&(ab=Me()+500,mx(0))}}break;case 31:case 13:fe=yc(C,2),fe!==null&&Do(fe,C,2),ib(),y5(C,2)}if(C=k5(w),C===null&&o5(c,f,w,wb,g),C===T)break;T=C}T!==null&&w.stopPropagation()}else o5(c,f,w,null,g)}}function k5(c){return c=Wu(c),_5(c)}var wb=null;function _5(c){if(wb=null,c=Ot(c),c!==null){var f=i(c);if(f===null)c=null;else{var g=f.tag;if(g===13){if(c=s(f),c!==null)return c;c=null}else if(g===31){if(c=l(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return wb=c,null}function rC(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case yt:return 2;case lr:return 8;case Rt:case kt:return 32;case ht:return 268435456;default:return 32}default:return 32}}var S5=!1,B0=null,U0=null,z0=null,wx=new Map,kx=new Map,q0=[],LV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aC(c,f){switch(c){case"focusin":case"focusout":B0=null;break;case"dragenter":case"dragleave":U0=null;break;case"mouseover":case"mouseout":z0=null;break;case"pointerover":case"pointerout":wx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":kx.delete(f.pointerId)}}function _x(c,f,g,w,T,C){return c===null||c.nativeEvent!==C?(c={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:C,targetContainers:[T]},f!==null&&(f=Ft(f),f!==null&&eC(f)),c):(c.eventSystemFlags|=w,f=c.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),c)}function MV(c,f,g,w,T){switch(f){case"focusin":return B0=_x(B0,c,f,g,w,T),!0;case"dragenter":return U0=_x(U0,c,f,g,w,T),!0;case"mouseover":return z0=_x(z0,c,f,g,w,T),!0;case"pointerover":var C=T.pointerId;return wx.set(C,_x(wx.get(C)||null,c,f,g,w,T)),!0;case"gotpointercapture":return C=T.pointerId,kx.set(C,_x(kx.get(C)||null,c,f,g,w,T)),!0}return!1}function nC(c){var f=Ot(c.target);if(f!==null){var g=i(f);if(g!==null){if(f=g.tag,f===13){if(f=s(g),f!==null){c.blockedOn=f,Se(c.priority,function(){tC(g)});return}}else if(f===31){if(f=l(g),f!==null){c.blockedOn=f,Se(c.priority,function(){tC(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function kb(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=k5(c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);oc=w,g.target.dispatchEvent(w),oc=null}else return f=Ft(g),f!==null&&eC(f),c.blockedOn=g,!1;f.shift()}return!0}function iC(c,f,g){kb(c)&&g.delete(f)}function IV(){S5=!1,B0!==null&&kb(B0)&&(B0=null),U0!==null&&kb(U0)&&(U0=null),z0!==null&&kb(z0)&&(z0=null),wx.forEach(iC),kx.forEach(iC)}function _b(c,f){c.blockedOn===f&&(c.blockedOn=null,S5||(S5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IV)))}var Sb=null;function sC(c){Sb!==c&&(Sb=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sb===c&&(Sb=null);for(var f=0;f<c.length;f+=3){var g=c[f],w=c[f+1],T=c[f+2];if(typeof w!="function"){if(_5(w||g)===null)continue;break}var C=Ft(g);C!==null&&(c.splice(f,3),f-=3,kk(C,{pending:!0,data:T,method:g.method,action:w},w,T))}}))}function dp(c){function f(Pe){return _b(Pe,c)}B0!==null&&_b(B0,c),U0!==null&&_b(U0,c),z0!==null&&_b(z0,c),wx.forEach(f),kx.forEach(f);for(var g=0;g<q0.length;g++){var w=q0[g];w.blockedOn===c&&(w.blockedOn=null)}for(;0<q0.length&&(g=q0[0],g.blockedOn===null);)nC(g),g.blockedOn===null&&q0.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var T=g[w],C=g[w+1],G=T[be]||null;if(typeof C=="function")G||sC(g);else if(G){var fe=null;if(C&&C.hasAttribute("formAction")){if(T=C,G=C[be]||null)fe=G.formAction;else if(_5(T)!==null)continue}else fe=G.action;typeof fe=="function"?g[w+1]=fe:(g.splice(w,3),w-=3),sC(g)}}}function oC(){function c(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(G){return T=G})},focusReset:"manual",scroll:"manual"})}function f(){T!==null&&(T(),T=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),T!==null&&(T(),T=null)}}}function N5(c){this._internalRoot=c}Nb.prototype.render=N5.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(a(409));var g=f.current,w=Jo();JE(g,w,c,f,null,null)},Nb.prototype.unmount=N5.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;JE(c.current,2,null,c,null,null),ib(),f[_e]=null}};function Nb(c){this._internalRoot=c}Nb.prototype.unstable_scheduleHydration=function(c){if(c){var f=le();c={blockedOn:null,target:c,priority:f};for(var g=0;g<q0.length&&f!==0&&f<q0[g].priority;g++);q0.splice(g,0,c),g===0&&nC(c)}};var lC=t.version;if(lC!=="19.2.0")throw Error(a(527,lC,"19.2.0"));ae.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=d(f),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var RV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jb.isDisabled&&jb.supportsFiber)try{Ut=jb.inject(RV),At=jb}catch{}}return Nx.createRoot=function(c,f){if(!n(c))throw Error(a(299));var g=!1,w="",T=pT,C=gT,G=xT;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError)),f=XE(c,1,!1,null,null,g,w,null,T,C,G,oC),c[_e]=f.current,s5(c),new N5(f)},Nx.hydrateRoot=function(c,f,g){if(!n(c))throw Error(a(299));var w=!1,T="",C=pT,G=gT,fe=xT,Pe=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(fe=g.onRecoverableError),g.formState!==void 0&&(Pe=g.formState)),f=XE(c,1,!0,f,g??null,w,T,Pe,C,G,fe,oC),f.context=QE(null),g=f.current,w=Jo(),w=ra(w),T=wr(w),T.callback=null,Br(g,T,w),g=w,f.current.lanes=g,Pt(f,g),fu(f),c[_e]=f.current,s5(c),new Nb(f)},Nx.version="19.2.0",Nx}var bC;function XV(){if(bC)return E5.exports;bC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E5.exports=YV(),E5.exports}var QV=XV();const JV=Hc(QV);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yC="popstate";function ZV(e={}){function t(n,i){let{pathname:s="/",search:l="",hash:u=""}=dm(n.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),dS("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){let s=n.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let u=n.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof i=="string"?i:d1(i))}function a(n,i){Ql(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return tK(t,r,a,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ql(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eK(){return Math.random().toString(36).substring(2,10)}function wC(e,t){return{usr:e.state,key:e.key,idx:t}}function dS(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dm(t):t,state:r,key:t&&t.key||a||eK()}}function d1({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function tK(e,t,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,s=n.history,l="POP",u=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function m(){l="POP";let v=h(),k=v==null?null:v-d;d=v,u&&u({action:l,location:b.location,delta:k})}function x(v,k){l="PUSH";let N=dS(b.location,v,k);r&&r(N,v),d=h()+1;let _=wC(N,d),A=b.createHref(N);try{s.pushState(_,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;n.location.assign(A)}i&&u&&u({action:l,location:b.location,delta:1})}function p(v,k){l="REPLACE";let N=dS(b.location,v,k);r&&r(N,v),d=h();let _=wC(N,d),A=b.createHref(N);s.replaceState(_,"",A),i&&u&&u({action:l,location:b.location,delta:0})}function y(v){return rK(v)}let b={get action(){return l},get location(){return e(n,s)},listen(v){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(yC,m),u=v,()=>{n.removeEventListener(yC,m),u=null}},createHref(v){return t(n,v)},createURL:y,encodeLocation(v){let k=y(v);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:p,go(v){return s.go(v)}};return b}function rK(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:d1(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function k9(e,t,r="/"){return aK(e,t,r,!1)}function aK(e,t,r,a){let n=typeof t=="string"?dm(t):t,i=Wd(n.pathname||"/",r);if(i==null)return null;let s=_9(e);nK(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=pK(i);l=fK(s[u],d,a)}return l}function _9(e,t=[],r=[],a="",n=!1){let i=(s,l,u=n,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&u)return;Cn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let m=Ld([a,h.relativePath]),x=r.concat(h);s.children&&s.children.length>0&&(Cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_9(s.children,t,x,m,u)),!(s.path==null&&!s.index)&&t.push({path:m,score:dK(m,s.index),routesMeta:x})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of S9(s.path))i(s,l,!0,d)}),t}function S9(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let s=S9(a.join("/")),l=[];return l.push(...s.map(u=>u===""?i:[i,u].join("/"))),n&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function nK(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hK(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var iK=/^:[\w-]+$/,sK=3,oK=2,lK=1,cK=10,uK=-2,kC=e=>e==="*";function dK(e,t){let r=e.split("/"),a=r.length;return r.some(kC)&&(a+=uK),t&&(a+=oK),r.filter(n=>!kC(n)).reduce((n,i)=>n+(iK.test(i)?sK:i===""?lK:cK),a)}function hK(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function fK(e,t,r=!1){let{routesMeta:a}=e,n={},i="/",s=[];for(let l=0;l<a.length;++l){let u=a[l],d=l===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Ly({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),x=u.route;if(!m&&d&&r&&!a[a.length-1].route.index&&(m=Ly({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:Ld([i,m.pathname]),pathnameBase:bK(Ld([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Ld([i,m.pathnameBase]))}return s}function Ly(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=mK(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,{paramName:h,isOptional:m},x)=>{if(h==="*"){let y=l[x]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[x];return m&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function mK(e,t=!1,r=!0){Ql(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(a.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function pK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ql(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function gK(e,t="/"){let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?dm(e):e;return{pathname:r?r.startsWith("/")?r:xK(r,t):t,search:yK(a),hash:wK(n)}}function xK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function D5(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kN(e){let t=vK(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function _N(e,t,r,a=!1){let n;typeof e=="string"?n=dm(e):(n={...e},Cn(!n.pathname||!n.pathname.includes("?"),D5("?","pathname","search",n)),Cn(!n.pathname||!n.pathname.includes("#"),D5("#","pathname","hash",n)),Cn(!n.search||!n.search.includes("#"),D5("#","search","hash",n)));let i=e===""||n.pathname==="",s=i?"/":n.pathname,l;if(s==null)l=r;else{let m=t.length-1;if(!a&&s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}l=m>=0?t[m]:"/"}let u=gK(n,l),d=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Ld=e=>e.join("/").replace(/\/\/+/g,"/"),bK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N9=["POST","PUT","PATCH","DELETE"];new Set(N9);var _K=["GET",...N9];new Set(_K);var yg=j.createContext(null);yg.displayName="DataRouter";var ew=j.createContext(null);ew.displayName="DataRouterState";j.createContext(!1);var j9=j.createContext({isTransitioning:!1});j9.displayName="ViewTransition";var SK=j.createContext(new Map);SK.displayName="Fetchers";var NK=j.createContext(null);NK.displayName="Await";var Wc=j.createContext(null);Wc.displayName="Navigation";var J1=j.createContext(null);J1.displayName="Location";var Fu=j.createContext({outlet:null,matches:[],isDataRoute:!1});Fu.displayName="Route";var SN=j.createContext(null);SN.displayName="RouteError";function jK(e,{relative:t}={}){Cn(wg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(Wc),{hash:n,pathname:i,search:s}=Z1(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Ld([r,i])),a.createHref({pathname:l,search:s,hash:n})}function wg(){return j.useContext(J1)!=null}function Bu(){return Cn(wg(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(J1).location}var A9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T9(e){j.useContext(Wc).static||j.useLayoutEffect(e)}function tw(){let{isDataRoute:e}=j.useContext(Fu);return e?BK():AK()}function AK(){Cn(wg(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(yg),{basename:t,navigator:r}=j.useContext(Wc),{matches:a}=j.useContext(Fu),{pathname:n}=Bu(),i=JSON.stringify(kN(a)),s=j.useRef(!1);return T9(()=>{s.current=!0}),j.useCallback((u,d={})=>{if(Ql(s.current,A9),!s.current)return;if(typeof u=="number"){r.go(u);return}let h=_N(u,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ld([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,n,e])}j.createContext(null);function Z1(e,{relative:t}={}){let{matches:r}=j.useContext(Fu),{pathname:a}=Bu(),n=JSON.stringify(kN(r));return j.useMemo(()=>_N(e,JSON.parse(n),a,t==="path"),[e,n,a,t])}function TK(e,t){return E9(e,t)}function E9(e,t,r,a,n){var N;Cn(wg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Wc),{matches:s}=j.useContext(Fu),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let _=m&&m.path||"";C9(d,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Bu(),p;if(t){let _=typeof t=="string"?dm(t):t;Cn(h==="/"||((N=_.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=x;let y=p.pathname||"/",b=y;if(h!=="/"){let _=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=k9(e,{pathname:b});Ql(m||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ql(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=DK(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Ld([h,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Ld([h,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,r,a,n);return t&&k?j.createElement(J1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},k):k}function EK(){let e=FK(),t=kK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:n},r):null,s)}var CK=j.createElement(EK,null),OK=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Fu.Provider,{value:this.props.routeContext},j.createElement(SN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PK({routeContext:e,match:t,children:r}){let a=j.useContext(yg);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Fu.Provider,{value:e},r)}function DK(e,t=[],r=null,a=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:x}=r,p=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let x,p=!1,y=null,b=null;r&&(x=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||CK,l&&(u<0&&m===0?(C9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):u===m&&(p=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,m+1)),k=()=>{let N;return x?N=y:p?N=b:h.route.Component?N=j.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,j.createElement(PK,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?j.createElement(OK,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:k(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:a}):k()},null)}function NN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LK(e){let t=j.useContext(yg);return Cn(t,NN(e)),t}function MK(e){let t=j.useContext(ew);return Cn(t,NN(e)),t}function IK(e){let t=j.useContext(Fu);return Cn(t,NN(e)),t}function jN(e){let t=IK(e),r=t.matches[t.matches.length-1];return Cn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function RK(){return jN("useRouteId")}function FK(){var a;let e=j.useContext(SN),t=MK("useRouteError"),r=jN("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function BK(){let{router:e}=LK("useNavigate"),t=jN("useNavigate"),r=j.useRef(!1);return T9(()=>{r.current=!0}),j.useCallback(async(n,i={})=>{Ql(r.current,A9),r.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var _C={};function C9(e,t,r){!t&&!_C[e]&&(_C[e]=!0,Ql(!1,r))}j.memo(UK);function UK({routes:e,future:t,state:r,unstable_onError:a}){return E9(e,void 0,r,a,t)}function O9({to:e,replace:t,state:r,relative:a}){Cn(wg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=j.useContext(Wc);Ql(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Fu),{pathname:s}=Bu(),l=tw(),u=_N(e,kN(i),s,a==="path"),d=JSON.stringify(u);return j.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:a})},[l,d,a,t,r]),null}function Zn(e){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zK({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){Cn(!wg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:s,navigator:n,static:i,future:{}}),[s,n,i]);typeof r=="string"&&(r=dm(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:x="default"}=r,p=j.useMemo(()=>{let y=Wd(u,s);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:x},navigationType:a}},[s,u,d,h,m,x,a]);return Ql(p!=null,`<Router basename="${s}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:j.createElement(Wc.Provider,{value:l},j.createElement(J1.Provider,{children:t,value:p}))}function SC({children:e,location:t}){return TK(hS(e),t)}function hS(e,t=[]){let r=[];return j.Children.forEach(e,(a,n)=>{if(!j.isValidElement(a))return;let i=[...t,n];if(a.type===j.Fragment){r.push.apply(r,hS(a.props.children,i));return}Cn(a.type===Zn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=hS(a.props.children,i)),r.push(s)}),r}var wy="get",ky="application/x-www-form-urlencoded";function rw(e){return e!=null&&typeof e.tagName=="string"}function qK(e){return rw(e)&&e.tagName.toLowerCase()==="button"}function $K(e){return rw(e)&&e.tagName.toLowerCase()==="form"}function HK(e){return rw(e)&&e.tagName.toLowerCase()==="input"}function WK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VK(e,t){return e.button===0&&(!t||t==="_self")&&!WK(e)}var Tb=null;function KK(){if(Tb===null)try{new FormData(document.createElement("form"),0),Tb=!1}catch{Tb=!0}return Tb}var GK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function L5(e){return e!=null&&!GK.has(e)?(Ql(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ky}"`),null):e}function YK(e,t){let r,a,n,i,s;if($K(e)){let l=e.getAttribute("action");a=l?Wd(l,t):null,r=e.getAttribute("method")||wy,n=L5(e.getAttribute("enctype"))||ky,i=new FormData(e)}else if(qK(e)||HK(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(a=u?Wd(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||wy,n=L5(e.getAttribute("formenctype"))||L5(l.getAttribute("enctype"))||ky,i=new FormData(l,e),!KK()){let{name:d,type:h,value:m}=e;if(h==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,m)}}else{if(rw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wy,a=null,n=ky,s=e}return i&&n==="text/plain"&&(s=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function AN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XK(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Wd(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function QK(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZK(e,t,r){let a=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let s=await QK(i,r);return s.links?s.links():[]}return[]}));return aG(a.flat(1).filter(JK).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function NC(e,t,r,a,n,i){let s=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var h;return r[d].pathname!==u.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>s(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{var m;let h=a.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function eG(e,t,{includeHydrateFallback:r}={}){return tG(e.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function tG(e){return[...new Set(e)]}function rG(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function aG(e,t){let r=new Set;return new Set(t),e.reduce((a,n)=>{let i=JSON.stringify(rG(n));return r.has(i)||(r.add(i),a.push({key:i,link:n})),a},[])}function P9(){let e=j.useContext(yg);return AN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nG(){let e=j.useContext(ew);return AN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var TN=j.createContext(void 0);TN.displayName="FrameworkContext";function D9(){let e=j.useContext(TN);return AN(e,"You must render this element inside a <HydratedRouter> element"),e}function iG(e,t){let r=j.useContext(TN),[a,n]=j.useState(!1),[i,s]=j.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=k=>{k.forEach(N=>{s(N.isIntersecting)})},v=new IntersectionObserver(b,{threshold:.5});return x.current&&v.observe(x.current),()=>{v.disconnect()}}},[e]),j.useEffect(()=>{if(a){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[a]);let p=()=>{n(!0)},y=()=>{n(!1),s(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:jx(l,p),onBlur:jx(u,y),onMouseEnter:jx(d,p),onMouseLeave:jx(h,y),onTouchStart:jx(m,p)}]:[!1,x,{}]}function jx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function sG({page:e,...t}){let{router:r}=P9(),a=j.useMemo(()=>k9(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?j.createElement(lG,{page:e,matches:a,...t}):null}function oG(e){let{manifest:t,routeModules:r}=D9(),[a,n]=j.useState([]);return j.useEffect(()=>{let i=!1;return ZK(e,t,r).then(s=>{i||n(s)}),()=>{i=!0}},[e,t,r]),a}function lG({page:e,matches:t,...r}){let a=Bu(),{manifest:n,routeModules:i}=D9(),{basename:s}=P9(),{loaderData:l,matches:u}=nG(),d=j.useMemo(()=>NC(e,t,u,n,a,"data"),[e,t,u,n,a]),h=j.useMemo(()=>NC(e,t,u,n,a,"assets"),[e,t,u,n,a]),m=j.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,b=!1;if(t.forEach(k=>{var _;let N=n.routes[k.route.id];!N||!N.hasLoader||(!d.some(A=>A.route.id===k.route.id)&&k.route.id in l&&((_=i[k.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?b=!0:y.add(k.route.id))}),y.size===0)return[];let v=XK(e,s,"data");return b&&y.size>0&&v.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[v.pathname+v.search]},[s,l,a,n,d,t,e,i]),x=j.useMemo(()=>eG(h,n),[h,n]),p=oG(h);return j.createElement(j.Fragment,null,m.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),p.map(({key:y,link:b})=>j.createElement("link",{key:y,nonce:r.nonce,...b})))}function cG(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var L9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L9&&(window.__reactRouterVersion="7.9.5")}catch{}function uG({basename:e,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=ZV({window:r,v5Compat:!0}));let n=a.current,[i,s]=j.useState({action:n.action,location:n.location}),l=j.useCallback(u=>{j.startTransition(()=>s(u))},[s]);return j.useLayoutEffect(()=>n.listen(l),[n,l]),j.createElement(zK,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var M9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ev=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:n,reloadDocument:i,replace:s,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m,...x},p){let{basename:y}=j.useContext(Wc),b=typeof d=="string"&&M9.test(d),v,k=!1;if(typeof d=="string"&&b&&(v=d,L9))try{let F=new URL(window.location.href),H=d.startsWith("//")?new URL(F.protocol+d):new URL(d),O=Wd(H.pathname,y);H.origin===F.origin&&O!=null?d=O+H.search+H.hash:k=!0}catch{Ql(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=jK(d,{relative:n}),[_,A,D]=iG(a,x),M=mG(d,{replace:s,state:l,target:u,preventScrollReset:h,relative:n,viewTransition:m});function L(F){t&&t(F),F.defaultPrevented||M(F)}let B=j.createElement("a",{...x,...D,href:v||N,onClick:k||i?t:L,ref:cG(p,A),target:u,"data-discover":!b&&r==="render"?"true":void 0});return _&&!b?j.createElement(j.Fragment,null,B,j.createElement(sG,{page:N})):B});ev.displayName="Link";var dG=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:n=!1,style:i,to:s,viewTransition:l,children:u,...d},h){let m=Z1(s,{relative:d.relative}),x=Bu(),p=j.useContext(ew),{navigator:y,basename:b}=j.useContext(Wc),v=p!=null&&bG(m)&&l===!0,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,N=x.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(N=N.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&b&&(_=Wd(_,b)||_);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=N===k||!n&&N.startsWith(k)&&N.charAt(A)==="/",M=_!=null&&(_===k||!n&&_.startsWith(k)&&_.charAt(k.length)==="/"),L={isActive:D,isPending:M,isTransitioning:v},B=D?t:void 0,F;typeof a=="function"?F=a(L):F=[a,D?"active":null,M?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(L):i;return j.createElement(ev,{...d,"aria-current":B,className:F,ref:h,style:H,to:s,viewTransition:l},typeof u=="function"?u(L):u)});dG.displayName="NavLink";var hG=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:i,method:s=wy,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...x},p)=>{let y=xG(),b=vG(l,{relative:d}),v=s.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&M9.test(l),N=_=>{if(u&&u(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||s;y(A||_.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:n,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return j.createElement("form",{ref:p,method:v,action:b,onSubmit:a?u:N,...x,"data-discover":!k&&e==="render"?"true":void 0})});hG.displayName="Form";function fG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I9(e){let t=j.useContext(yg);return Cn(t,fG(e)),t}function mG(e,{target:t,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:s}={}){let l=tw(),u=Bu(),d=Z1(e,{relative:i});return j.useCallback(h=>{if(VK(h,t)){h.preventDefault();let m=r!==void 0?r:d1(u)===d1(d);l(e,{replace:m,state:a,preventScrollReset:n,relative:i,viewTransition:s})}},[u,l,d,r,a,t,e,n,i,s])}var pG=0,gG=()=>`__${String(++pG)}__`;function xG(){let{router:e}=I9("useSubmit"),{basename:t}=j.useContext(Wc),r=RK();return j.useCallback(async(a,n={})=>{let{action:i,method:s,encType:l,formData:u,body:d}=YK(a,t);if(n.navigate===!1){let h=n.fetcherKey||gG();await e.fetch(h,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:d,formMethod:n.method||s,formEncType:n.encType||l,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:d,formMethod:n.method||s,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,r])}function vG(e,{relative:t}={}){let{basename:r}=j.useContext(Wc),a=j.useContext(Fu);Cn(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...Z1(e||".",{relative:t})},s=Bu();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ld([r,i.pathname])),d1(i)}function bG(e,{relative:t}={}){let r=j.useContext(j9);Cn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=I9("useViewTransitionState"),n=Z1(e,{relative:t});if(!r.isTransitioning)return!1;let i=Wd(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=Wd(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ly(n.pathname,s)!=null||Ly(n.pathname,i)!=null}var R9=w9(),kg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yG={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Z0,wN,c9,wG=(c9=class{constructor(){mr(this,Z0,yG);mr(this,wN,!1)}setTimeoutProvider(e){qt(this,Z0,e)}setTimeout(e,t){return Le(this,Z0).setTimeout(e,t)}clearTimeout(e){Le(this,Z0).clearTimeout(e)}setInterval(e,t){return Le(this,Z0).setInterval(e,t)}clearInterval(e){Le(this,Z0).clearInterval(e)}},Z0=new WeakMap,wN=new WeakMap,c9),gf=new wG;function kG(e){setTimeout(e,0)}var qf=typeof window>"u"||"Deno"in globalThis;function io(){}function _G(e,t){return typeof e=="function"?e(t):e}function fS(e){return typeof e=="number"&&e>=0&&e!==1/0}function F9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dh(e,t){return typeof e=="function"?e(t):e}function Kl(e,t){return typeof e=="function"?e(t):e}function jC(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:s,stale:l}=e;if(s){if(a){if(t.queryHash!==EN(s,t.options))return!1}else if(!h1(t.queryKey,s))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function AC(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if($f(t.options.mutationKey)!==$f(i))return!1}else if(!h1(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function EN(e,t){return((t==null?void 0:t.queryKeyHashFn)||$f)(e)}function $f(e){return JSON.stringify(e,(t,r)=>mS(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function h1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>h1(e[r],t[r])):!1}var SG=Object.prototype.hasOwnProperty;function CN(e,t){if(e===t)return e;const r=TC(e)&&TC(t);if(!r&&!(mS(e)&&mS(t)))return t;const n=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,l=r?new Array(s):{};let u=0;for(let d=0;d<s;d++){const h=r?d:i[d],m=e[h],x=t[h];if(m===x){l[h]=m,(r?d<n:SG.call(e,h))&&u++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){l[h]=x;continue}const p=CN(m,x);l[h]=p,p===m&&u++}return n===s&&u===n?e:l}function My(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function TC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mS(e){if(!EC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!EC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function EC(e){return Object.prototype.toString.call(e)==="[object Object]"}function NG(e){return new Promise(t=>{gf.setTimeout(t,e)})}function pS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?CN(e,t):t}function jG(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function AG(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var ON=Symbol();function B9(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ON?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function U9(e,t){return typeof e=="function"?e(...t):!!e}var _f,eh,Xp,u9,TG=(u9=class extends kg{constructor(){super();mr(this,_f);mr(this,eh);mr(this,Xp);qt(this,Xp,t=>{if(!qf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Le(this,eh)||this.setEventListener(Le(this,Xp))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,eh))==null||t.call(this),qt(this,eh,void 0))}setEventListener(t){var r;qt(this,Xp,t),(r=Le(this,eh))==null||r.call(this),qt(this,eh,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Le(this,_f)!==t&&(qt(this,_f,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Le(this,_f)=="boolean"?Le(this,_f):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_f=new WeakMap,eh=new WeakMap,Xp=new WeakMap,u9),PN=new TG;function gS(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}var EG=kG;function CG(){let e=[],t=0,r=l=>{l()},a=l=>{l()},n=EG;const i=l=>{t?e.push(l):n(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&n(()=>{a(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||s()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var hi=CG(),Qp,th,Jp,d9,OG=(d9=class extends kg{constructor(){super();mr(this,Qp,!0);mr(this,th);mr(this,Jp);qt(this,Jp,t=>{if(!qf&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Le(this,th)||this.setEventListener(Le(this,Jp))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,th))==null||t.call(this),qt(this,th,void 0))}setEventListener(t){var r;qt(this,Jp,t),(r=Le(this,th))==null||r.call(this),qt(this,th,t(this.setOnline.bind(this)))}setOnline(t){Le(this,Qp)!==t&&(qt(this,Qp,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Le(this,Qp)}},Qp=new WeakMap,th=new WeakMap,Jp=new WeakMap,d9),Iy=new OG;function PG(e){return Math.min(1e3*2**e,3e4)}function z9(e){return(e??"online")==="online"?Iy.isOnline():!0}var xS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function q9(e){let t=!1,r=0,a;const n=gS(),i=()=>n.status!=="pending",s=b=>{var v;if(!i()){const k=new xS(b);x(k),(v=e.onCancel)==null||v.call(e,k)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>PN.isFocused()&&(e.networkMode==="always"||Iy.isOnline())&&e.canRun(),h=()=>z9(e.networkMode)&&e.canRun(),m=b=>{i()||(a==null||a(),n.resolve(b))},x=b=>{i()||(a==null||a(),n.reject(b))},p=()=>new Promise(b=>{var v;a=k=>{(i()||d())&&b(k)},(v=e.onPause)==null||v.call(e)}).then(()=>{var b;a=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const v=r===0?e.initialPromise:void 0;try{b=v??e.fn()}catch(k){b=Promise.reject(k)}Promise.resolve(b).then(m).catch(k=>{var M;if(i())return;const N=e.retry??(qf?0:3),_=e.retryDelay??PG,A=typeof _=="function"?_(r,k):_,D=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,k);if(t||!D){x(k);return}r++,(M=e.onFail)==null||M.call(e,r,k),NG(A).then(()=>d()?void 0:p()).then(()=>{t?x(k):y()})})};return{promise:n,status:()=>n.status,cancel:s,continue:()=>(a==null||a(),n),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?y():p().then(y),n)}}var Sf,h9,$9=(h9=class{constructor(){mr(this,Sf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fS(this.gcTime)&&qt(this,Sf,gf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qf?1/0:300*1e3))}clearGcTimeout(){Le(this,Sf)&&(gf.clearTimeout(Le(this,Sf)),qt(this,Sf,void 0))}},Sf=new WeakMap,h9),Nf,Zp,Wl,jf,ns,K1,Af,Dc,yd,f9,DG=(f9=class extends $9{constructor(t){super();mr(this,Dc);mr(this,Nf);mr(this,Zp);mr(this,Wl);mr(this,jf);mr(this,ns);mr(this,K1);mr(this,Af);qt(this,Af,!1),qt(this,K1,t.defaultOptions),this.setOptions(t.options),this.observers=[],qt(this,jf,t.client),qt(this,Wl,Le(this,jf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qt(this,Nf,OC(this.options)),this.state=t.state??Le(this,Nf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Le(this,ns))==null?void 0:t.promise}setOptions(t){if(this.options={...Le(this,K1),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=OC(this.options);r.data!==void 0&&(this.setState(CC(r.data,r.dataUpdatedAt)),qt(this,Nf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Le(this,Wl).remove(this)}setData(t,r){const a=pS(this.state.data,t,this.options);return Vr(this,Dc,yd).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Vr(this,Dc,yd).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=Le(this,ns))==null?void 0:a.promise;return(n=Le(this,ns))==null||n.cancel(t),r?r.then(io).catch(io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Le(this,Nf))}isActive(){return this.observers.some(t=>Kl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ON||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Le(this,ns))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Le(this,ns))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Le(this,Wl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Le(this,ns)&&(Le(this,Af)?Le(this,ns).cancel({revert:!0}):Le(this,ns).cancelRetry()),this.scheduleGc()),Le(this,Wl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vr(this,Dc,yd).call(this,{type:"invalidate"})}async fetch(t,r){var u,d,h,m,x,p,y,b,v,k,N,_;if(this.state.fetchStatus!=="idle"&&((u=Le(this,ns))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Le(this,ns))return Le(this,ns).continueRetry(),Le(this,ns).promise}if(t&&this.setOptions(t),!this.options.queryFn){const A=this.observers.find(D=>D.options.queryFn);A&&this.setOptions(A.options)}const a=new AbortController,n=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(qt(this,Af,!0),a.signal)})},i=()=>{const A=B9(this.options,r),M=(()=>{const L={client:Le(this,jf),queryKey:this.queryKey,meta:this.meta};return n(L),L})();return qt(this,Af,!1),this.options.persister?this.options.persister(A,M,this):A(M)},l=(()=>{const A={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Le(this,jf),state:this.state,fetchFn:i};return n(A),A})();(d=this.options.behavior)==null||d.onFetch(l,this),qt(this,Zp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Vr(this,Dc,yd).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),qt(this,ns,q9({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:A=>{A instanceof xS&&A.revert&&this.setState({...Le(this,Zp),fetchStatus:"idle"}),a.abort()},onFail:(A,D)=>{Vr(this,Dc,yd).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Vr(this,Dc,yd).call(this,{type:"pause"})},onContinue:()=>{Vr(this,Dc,yd).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const A=await Le(this,ns).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(p=(x=Le(this,Wl).config).onSuccess)==null||p.call(x,A,this),(b=(y=Le(this,Wl).config).onSettled)==null||b.call(y,A,this.state.error,this),A}catch(A){if(A instanceof xS){if(A.silent)return Le(this,ns).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Vr(this,Dc,yd).call(this,{type:"error",error:A}),(k=(v=Le(this,Wl).config).onError)==null||k.call(v,A,this),(_=(N=Le(this,Wl).config).onSettled)==null||_.call(N,this.state.data,A,this),A}finally{this.scheduleGc()}}},Nf=new WeakMap,Zp=new WeakMap,Wl=new WeakMap,jf=new WeakMap,ns=new WeakMap,K1=new WeakMap,Af=new WeakMap,Dc=new WeakSet,yd=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...H9(a.data,this.options),fetchMeta:t.meta??null};case"success":const n={...a,...CC(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return qt(this,Zp,t.manual?n:void 0),n;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),hi.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Le(this,Wl).notify({query:this,type:"updated",action:t})})},f9);function H9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z9(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function OC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Lo,la,G1,ao,Tf,eg,_d,rh,Y1,tg,rg,Ef,Cf,ah,ag,Oa,Ux,vS,bS,yS,wS,kS,_S,SS,W9,m9,LG=(m9=class extends kg{constructor(t,r){super();mr(this,Oa);mr(this,Lo);mr(this,la);mr(this,G1);mr(this,ao);mr(this,Tf);mr(this,eg);mr(this,_d);mr(this,rh);mr(this,Y1);mr(this,tg);mr(this,rg);mr(this,Ef);mr(this,Cf);mr(this,ah);mr(this,ag,new Set);this.options=r,qt(this,Lo,t),qt(this,rh,null),qt(this,_d,gS()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Le(this,la).addObserver(this),PC(Le(this,la),this.options)?Vr(this,Oa,Ux).call(this):this.updateResult(),Vr(this,Oa,wS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return NS(Le(this,la),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return NS(Le(this,la),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vr(this,Oa,kS).call(this),Vr(this,Oa,_S).call(this),Le(this,la).removeObserver(this)}setOptions(t){const r=this.options,a=Le(this,la);if(this.options=Le(this,Lo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kl(this.options.enabled,Le(this,la))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vr(this,Oa,SS).call(this),Le(this,la).setOptions(this.options),r._defaulted&&!My(this.options,r)&&Le(this,Lo).getQueryCache().notify({type:"observerOptionsUpdated",query:Le(this,la),observer:this});const n=this.hasListeners();n&&DC(Le(this,la),a,this.options,r)&&Vr(this,Oa,Ux).call(this),this.updateResult(),n&&(Le(this,la)!==a||Kl(this.options.enabled,Le(this,la))!==Kl(r.enabled,Le(this,la))||dh(this.options.staleTime,Le(this,la))!==dh(r.staleTime,Le(this,la)))&&Vr(this,Oa,vS).call(this);const i=Vr(this,Oa,bS).call(this);n&&(Le(this,la)!==a||Kl(this.options.enabled,Le(this,la))!==Kl(r.enabled,Le(this,la))||i!==Le(this,ah))&&Vr(this,Oa,yS).call(this,i)}getOptimisticResult(t){const r=Le(this,Lo).getQueryCache().build(Le(this,Lo),t),a=this.createResult(r,t);return IG(this,a)&&(qt(this,ao,a),qt(this,eg,this.options),qt(this,Tf,Le(this,la).state)),a}getCurrentResult(){return Le(this,ao)}trackResult(t,r){return new Proxy(t,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Le(this,_d).status==="pending"&&Le(this,_d).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(t){Le(this,ag).add(t)}getCurrentQuery(){return Le(this,la)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Le(this,Lo).defaultQueryOptions(t),a=Le(this,Lo).getQueryCache().build(Le(this,Lo),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return Vr(this,Oa,Ux).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Le(this,ao)))}createResult(t,r){var F;const a=Le(this,la),n=this.options,i=Le(this,ao),s=Le(this,Tf),l=Le(this,eg),d=t!==a?t.state:Le(this,G1),{state:h}=t;let m={...h},x=!1,p;if(r._optimisticResults){const H=this.hasListeners(),O=!H&&PC(t,r),I=H&&DC(t,a,r,n);(O||I)&&(m={...m,...H9(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:v}=m;p=m.data;let k=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let H;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(H=i.data,k=!0):H=typeof r.placeholderData=="function"?r.placeholderData((F=Le(this,rg))==null?void 0:F.state.data,Le(this,rg)):r.placeholderData,H!==void 0&&(v="success",p=pS(i==null?void 0:i.data,H,r),x=!0)}if(r.select&&p!==void 0&&!k)if(i&&p===(s==null?void 0:s.data)&&r.select===Le(this,Y1))p=Le(this,tg);else try{qt(this,Y1,r.select),p=r.select(p),p=pS(i==null?void 0:i.data,p,r),qt(this,tg,p),qt(this,rh,null)}catch(H){qt(this,rh,H)}Le(this,rh)&&(y=Le(this,rh),p=Le(this,tg),b=Date.now(),v="error");const N=m.fetchStatus==="fetching",_=v==="pending",A=v==="error",D=_&&N,M=p!==void 0,B={status:v,fetchStatus:m.fetchStatus,isPending:_,isSuccess:v==="success",isError:A,isInitialLoading:D,isLoading:D,data:p,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!_,isLoadingError:A&&!M,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:A&&M,isStale:DN(t,r),refetch:this.refetch,promise:Le(this,_d),isEnabled:Kl(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const H=V=>{B.status==="error"?V.reject(B.error):B.data!==void 0&&V.resolve(B.data)},O=()=>{const V=qt(this,_d,B.promise=gS());H(V)},I=Le(this,_d);switch(I.status){case"pending":t.queryHash===a.queryHash&&H(I);break;case"fulfilled":(B.status==="error"||B.data!==I.value)&&O();break;case"rejected":(B.status!=="error"||B.error!==I.reason)&&O();break}}return B}updateResult(){const t=Le(this,ao),r=this.createResult(Le(this,la),this.options);if(qt(this,Tf,Le(this,la).state),qt(this,eg,this.options),Le(this,Tf).data!==void 0&&qt(this,rg,Le(this,la)),My(r,t))return;qt(this,ao,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!Le(this,ag).size)return!0;const s=new Set(i??Le(this,ag));return this.options.throwOnError&&s.add("error"),Object.keys(Le(this,ao)).some(l=>{const u=l;return Le(this,ao)[u]!==t[u]&&s.has(u)})};Vr(this,Oa,W9).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vr(this,Oa,wS).call(this)}},Lo=new WeakMap,la=new WeakMap,G1=new WeakMap,ao=new WeakMap,Tf=new WeakMap,eg=new WeakMap,_d=new WeakMap,rh=new WeakMap,Y1=new WeakMap,tg=new WeakMap,rg=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,ah=new WeakMap,ag=new WeakMap,Oa=new WeakSet,Ux=function(t){Vr(this,Oa,SS).call(this);let r=Le(this,la).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(io)),r},vS=function(){Vr(this,Oa,kS).call(this);const t=dh(this.options.staleTime,Le(this,la));if(qf||Le(this,ao).isStale||!fS(t))return;const a=F9(Le(this,ao).dataUpdatedAt,t)+1;qt(this,Ef,gf.setTimeout(()=>{Le(this,ao).isStale||this.updateResult()},a))},bS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Le(this,la)):this.options.refetchInterval)??!1},yS=function(t){Vr(this,Oa,_S).call(this),qt(this,ah,t),!(qf||Kl(this.options.enabled,Le(this,la))===!1||!fS(Le(this,ah))||Le(this,ah)===0)&&qt(this,Cf,gf.setInterval(()=>{(this.options.refetchIntervalInBackground||PN.isFocused())&&Vr(this,Oa,Ux).call(this)},Le(this,ah)))},wS=function(){Vr(this,Oa,vS).call(this),Vr(this,Oa,yS).call(this,Vr(this,Oa,bS).call(this))},kS=function(){Le(this,Ef)&&(gf.clearTimeout(Le(this,Ef)),qt(this,Ef,void 0))},_S=function(){Le(this,Cf)&&(gf.clearInterval(Le(this,Cf)),qt(this,Cf,void 0))},SS=function(){const t=Le(this,Lo).getQueryCache().build(Le(this,Lo),this.options);if(t===Le(this,la))return;const r=Le(this,la);qt(this,la,t),qt(this,G1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},W9=function(t){hi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Le(this,ao))}),Le(this,Lo).getQueryCache().notify({query:Le(this,la),type:"observerResultsUpdated"})})},m9);function MG(e,t){return Kl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function PC(e,t){return MG(e,t)||e.state.data!==void 0&&NS(e,t,t.refetchOnMount)}function NS(e,t,r){if(Kl(t.enabled,e)!==!1&&dh(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&DN(e,t)}return!1}function DC(e,t,r,a){return(e!==t||Kl(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&DN(e,r)}function DN(e,t){return Kl(t.enabled,e)!==!1&&e.isStaleByTime(dh(t.staleTime,e))}function IG(e,t){return!My(e.getCurrentResult(),t)}function LC(e){return{onFetch:(t,r)=>{var h,m,x,p,y;const a=t.options,n=(x=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},k=B9(t.options,t.fetchOptions),N=async(_,A,D)=>{if(b)return Promise.reject();if(A==null&&_.pages.length)return Promise.resolve(_);const L=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:A,direction:D?"backward":"forward",meta:t.options.meta};return v(O),O})(),B=await k(L),{maxPages:F}=t.options,H=D?AG:jG;return{pages:H(_.pages,B,F),pageParams:H(_.pageParams,A,F)}};if(n&&i.length){const _=n==="backward",A=_?RG:MC,D={pages:i,pageParams:s},M=A(a,D);l=await N(D,M,_)}else{const _=e??i.length;do{const A=u===0?s[0]??a.initialPageParam:MC(a,l);if(u>0&&A==null)break;l=await N(l,A),u++}while(u<_)}return l};t.options.persister?t.fetchFn=()=>{var b,v;return(v=(b=t.options).persister)==null?void 0:v.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function MC(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function RG(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var X1,ku,no,Of,_u,G0,p9,FG=(p9=class extends $9{constructor(t){super();mr(this,_u);mr(this,X1);mr(this,ku);mr(this,no);mr(this,Of);qt(this,X1,t.client),this.mutationId=t.mutationId,qt(this,no,t.mutationCache),qt(this,ku,[]),this.state=t.state||V9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Le(this,ku).includes(t)||(Le(this,ku).push(t),this.clearGcTimeout(),Le(this,no).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qt(this,ku,Le(this,ku).filter(r=>r!==t)),this.scheduleGc(),Le(this,no).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Le(this,ku).length||(this.state.status==="pending"?this.scheduleGc():Le(this,no).remove(this))}continue(){var t;return((t=Le(this,Of))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,u,d,h,m,x,p,y,b,v,k,N,_,A,D,M,L,B,F;const r=()=>{Vr(this,_u,G0).call(this,{type:"continue"})},a={client:Le(this,X1),meta:this.options.meta,mutationKey:this.options.mutationKey};qt(this,Of,q9({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(H,O)=>{Vr(this,_u,G0).call(this,{type:"failed",failureCount:H,error:O})},onPause:()=>{Vr(this,_u,G0).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Le(this,no).canRun(this)}));const n=this.state.status==="pending",i=!Le(this,Of).canStart();try{if(n)r();else{Vr(this,_u,G0).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=Le(this,no).config).onMutate)==null?void 0:l.call(s,t,this,a));const O=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t,a));O!==this.state.context&&Vr(this,_u,G0).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const H=await Le(this,Of).start();return await((m=(h=Le(this,no).config).onSuccess)==null?void 0:m.call(h,H,t,this.state.context,this,a)),await((p=(x=this.options).onSuccess)==null?void 0:p.call(x,H,t,this.state.context,a)),await((b=(y=Le(this,no).config).onSettled)==null?void 0:b.call(y,H,null,this.state.variables,this.state.context,this,a)),await((k=(v=this.options).onSettled)==null?void 0:k.call(v,H,null,t,this.state.context,a)),Vr(this,_u,G0).call(this,{type:"success",data:H}),H}catch(H){try{throw await((_=(N=Le(this,no).config).onError)==null?void 0:_.call(N,H,t,this.state.context,this,a)),await((D=(A=this.options).onError)==null?void 0:D.call(A,H,t,this.state.context,a)),await((L=(M=Le(this,no).config).onSettled)==null?void 0:L.call(M,void 0,H,this.state.variables,this.state.context,this,a)),await((F=(B=this.options).onSettled)==null?void 0:F.call(B,void 0,H,t,this.state.context,a)),H}finally{Vr(this,_u,G0).call(this,{type:"error",error:H})}}finally{Le(this,no).runNext(this)}}},X1=new WeakMap,ku=new WeakMap,no=new WeakMap,Of=new WeakMap,_u=new WeakSet,G0=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hi.batch(()=>{Le(this,ku).forEach(a=>{a.onMutationUpdate(t)}),Le(this,no).notify({mutation:this,type:"updated",action:t})})},p9);function V9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sd,Lc,Q1,g9,BG=(g9=class extends kg{constructor(t={}){super();mr(this,Sd);mr(this,Lc);mr(this,Q1);this.config=t,qt(this,Sd,new Set),qt(this,Lc,new Map),qt(this,Q1,0)}build(t,r,a){const n=new FG({client:t,mutationCache:this,mutationId:++Ab(this,Q1)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){Le(this,Sd).add(t);const r=Eb(t);if(typeof r=="string"){const a=Le(this,Lc).get(r);a?a.push(t):Le(this,Lc).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Le(this,Sd).delete(t)){const r=Eb(t);if(typeof r=="string"){const a=Le(this,Lc).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&Le(this,Lc).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Eb(t);if(typeof r=="string"){const a=Le(this,Lc).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=Eb(t);if(typeof r=="string"){const n=(a=Le(this,Lc).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hi.batch(()=>{Le(this,Sd).forEach(t=>{this.notify({type:"removed",mutation:t})}),Le(this,Sd).clear(),Le(this,Lc).clear()})}getAll(){return Array.from(Le(this,Sd))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>AC(r,a))}findAll(t={}){return this.getAll().filter(r=>AC(t,r))}notify(t){hi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return hi.batch(()=>Promise.all(t.map(r=>r.continue().catch(io))))}},Sd=new WeakMap,Lc=new WeakMap,Q1=new WeakMap,g9);function Eb(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Nd,nh,Mo,jd,Hd,_y,jS,x9,UG=(x9=class extends kg{constructor(r,a){super();mr(this,Hd);mr(this,Nd);mr(this,nh);mr(this,Mo);mr(this,jd);qt(this,Nd,r),this.setOptions(a),this.bindMethods(),Vr(this,Hd,_y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=Le(this,Nd).defaultMutationOptions(r),My(this.options,a)||Le(this,Nd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Le(this,Mo),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&$f(a.mutationKey)!==$f(this.options.mutationKey)?this.reset():((n=Le(this,Mo))==null?void 0:n.state.status)==="pending"&&Le(this,Mo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Le(this,Mo))==null||r.removeObserver(this)}onMutationUpdate(r){Vr(this,Hd,_y).call(this),Vr(this,Hd,jS).call(this,r)}getCurrentResult(){return Le(this,nh)}reset(){var r;(r=Le(this,Mo))==null||r.removeObserver(this),qt(this,Mo,void 0),Vr(this,Hd,_y).call(this),Vr(this,Hd,jS).call(this)}mutate(r,a){var n;return qt(this,jd,a),(n=Le(this,Mo))==null||n.removeObserver(this),qt(this,Mo,Le(this,Nd).getMutationCache().build(Le(this,Nd),this.options)),Le(this,Mo).addObserver(this),Le(this,Mo).execute(r)}},Nd=new WeakMap,nh=new WeakMap,Mo=new WeakMap,jd=new WeakMap,Hd=new WeakSet,_y=function(){var a;const r=((a=Le(this,Mo))==null?void 0:a.state)??V9();qt(this,nh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jS=function(r){hi.batch(()=>{var a,n,i,s,l,u,d,h;if(Le(this,jd)&&this.hasListeners()){const m=Le(this,nh).variables,x=Le(this,nh).context,p={client:Le(this,Nd),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(a=Le(this,jd)).onSuccess)==null||n.call(a,r.data,m,x,p),(s=(i=Le(this,jd)).onSettled)==null||s.call(i,r.data,null,m,x,p)):(r==null?void 0:r.type)==="error"&&((u=(l=Le(this,jd)).onError)==null||u.call(l,r.error,m,x,p),(h=(d=Le(this,jd)).onSettled)==null||h.call(d,void 0,r.error,m,x,p))}this.listeners.forEach(m=>{m(Le(this,nh))})})},x9),Su,v9,zG=(v9=class extends kg{constructor(t={}){super();mr(this,Su);this.config=t,qt(this,Su,new Map)}build(t,r,a){const n=r.queryKey,i=r.queryHash??EN(n,r);let s=this.get(i);return s||(s=new DG({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){Le(this,Su).has(t.queryHash)||(Le(this,Su).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Le(this,Su).get(t.queryHash);r&&(t.destroy(),r===t&&Le(this,Su).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Le(this,Su).get(t)}getAll(){return[...Le(this,Su).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>jC(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>jC(t,a)):r}notify(t){hi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){hi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Su=new WeakMap,v9),ei,ih,sh,ng,ig,oh,sg,og,b9,qG=(b9=class{constructor(e={}){mr(this,ei);mr(this,ih);mr(this,sh);mr(this,ng);mr(this,ig);mr(this,oh);mr(this,sg);mr(this,og);qt(this,ei,e.queryCache||new zG),qt(this,ih,e.mutationCache||new BG),qt(this,sh,e.defaultOptions||{}),qt(this,ng,new Map),qt(this,ig,new Map),qt(this,oh,0)}mount(){Ab(this,oh)._++,Le(this,oh)===1&&(qt(this,sg,PN.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,ei).onFocus())})),qt(this,og,Iy.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,ei).onOnline())})))}unmount(){var e,t;Ab(this,oh)._--,Le(this,oh)===0&&((e=Le(this,sg))==null||e.call(this),qt(this,sg,void 0),(t=Le(this,og))==null||t.call(this),qt(this,og,void 0))}isFetching(e){return Le(this,ei).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Le(this,ih).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Le(this,ei).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Le(this,ei).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(dh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Le(this,ei).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=Le(this,ei).get(a.queryHash),i=n==null?void 0:n.state.data,s=_G(t,i);if(s!==void 0)return Le(this,ei).build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return hi.batch(()=>Le(this,ei).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Le(this,ei).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Le(this,ei);hi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Le(this,ei);return hi.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=hi.batch(()=>Le(this,ei).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(io).catch(io)}invalidateQueries(e,t={}){return hi.batch(()=>(Le(this,ei).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=hi.batch(()=>Le(this,ei).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(io)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(io)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Le(this,ei).build(this,t);return r.isStaleByTime(dh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(io).catch(io)}fetchInfiniteQuery(e){return e.behavior=LC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(io).catch(io)}ensureInfiniteQueryData(e){return e.behavior=LC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Iy.isOnline()?Le(this,ih).resumePausedMutations():Promise.resolve()}getQueryCache(){return Le(this,ei)}getMutationCache(){return Le(this,ih)}getDefaultOptions(){return Le(this,sh)}setDefaultOptions(e){qt(this,sh,e)}setQueryDefaults(e,t){Le(this,ng).set($f(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Le(this,ng).values()],r={};return t.forEach(a=>{h1(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){Le(this,ig).set($f(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Le(this,ig).values()],r={};return t.forEach(a=>{h1(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Le(this,sh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=EN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ON&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Le(this,sh).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Le(this,ei).clear(),Le(this,ih).clear()}},ei=new WeakMap,ih=new WeakMap,sh=new WeakMap,ng=new WeakMap,ig=new WeakMap,oh=new WeakMap,sg=new WeakMap,og=new WeakMap,b9),K9=j.createContext(void 0),ia=e=>{const t=j.useContext(K9);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$G=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(K9.Provider,{value:e,children:t})),G9=j.createContext(!1),HG=()=>j.useContext(G9);G9.Provider;function WG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var VG=j.createContext(WG()),KG=()=>j.useContext(VG),GG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YG=e=>{j.useEffect(()=>{e.clearReset()},[e])},XG=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||U9(r,[e.error,a])),QG=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},JG=(e,t)=>e.isLoading&&e.isFetching&&!t,ZG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function eY(e,t,r){var m,x,p,y,b;const a=HG(),n=KG(),i=ia(r),s=i.defaultQueryOptions(e);(x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,s),s._optimisticResults=a?"isRestoring":"optimistic",QG(s),GG(s,n),YG(n);const l=!i.getQueryCache().get(s.queryHash),[u]=j.useState(()=>new t(i,s)),d=u.getOptimisticResult(s),h=!a&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(v=>{const k=h?u.subscribe(hi.batchCalls(v)):io;return u.updateResult(),k},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(s)},[s,u]),ZG(s,d))throw IC(s,u,n);if(XG({result:d,errorResetBoundary:n,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,s,d),s.experimental_prefetchInRender&&!qf&&JG(d,a)){const v=l?IC(s,u,n):(b=i.getQueryCache().get(s.queryHash))==null?void 0:b.promise;v==null||v.catch(io).finally(()=>{u.updateResult()})}return s.notifyOnChangeProps?d:u.trackResult(d)}function xi(e,t){return eY(e,LG,t)}function tY(e,t){const r=ia(t),a=r.getQueryCache();return j.useSyncExternalStore(j.useCallback(n=>a.subscribe(hi.batchCalls(n)),[a]),()=>r.isFetching(e),()=>r.isFetching(e))}function rY(e,t){const r=ia(t);return aY({filters:{...e,status:"pending"}},r).length}function RC(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function aY(e={},t){const r=ia(t).getMutationCache(),a=j.useRef(e),n=j.useRef(null);return n.current===null&&(n.current=RC(r,e)),j.useEffect(()=>{a.current=e}),j.useSyncExternalStore(j.useCallback(i=>r.subscribe(()=>{const s=CN(n.current,RC(r,a.current));n.current!==s&&(n.current=s,hi.schedule(i))}),[r]),()=>n.current,()=>n.current)}function an(e,t){const r=ia(t),[a]=j.useState(()=>new UG(r,e));j.useEffect(()=>{a.setOptions(e)},[a,e]);const n=j.useSyncExternalStore(j.useCallback(s=>a.subscribe(hi.batchCalls(s)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=j.useCallback((s,l)=>{a.mutate(s,l).catch(io)},[a]);if(n.error&&U9(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function Y9(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Y9(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Hr(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Y9(e))&&(a&&(a+=" "),a+=t);return a}function nY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}nY(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var tv=e=>typeof e=="number"&&!isNaN(e),Hf=e=>typeof e=="string",Vd=e=>typeof e=="function",iY=e=>Hf(e)||tv(e),AS=e=>Hf(e)||Vd(e)?e:null,sY=(e,t)=>e===!1||tv(e)&&e>0?e:t,TS=e=>j.isValidElement(e)||Hf(e)||Vd(e)||tv(e);function oY(e,t,r=300){let{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition=`all ${r}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}function lY({enter:e,exit:t,appendPosition:r=!1,collapse:a=!0,collapseDuration:n=300}){return function({children:i,position:s,preventExitTransition:l,done:u,nodeRef:d,isIn:h,playToast:m}){let x=r?`${e}--${s}`:e,p=r?`${t}--${s}`:t,y=j.useRef(0);return j.useLayoutEffect(()=>{let b=d.current,v=x.split(" "),k=N=>{N.target===d.current&&(m(),b.removeEventListener("animationend",k),b.removeEventListener("animationcancel",k),y.current===0&&N.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",k),b.addEventListener("animationcancel",k)},[]),j.useEffect(()=>{let b=d.current,v=()=>{b.removeEventListener("animationend",v),a?oY(b,u,n):u()};h||(l?v():(y.current=1,b.className+=` ${p}`,b.addEventListener("animationend",v)))},[h]),fa.createElement(fa.Fragment,null,i)}}function FC(e,t){return{content:X9(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function X9(e,t,r=!1){return j.isValidElement(e)&&!Hf(e.type)?j.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Vd(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function cY({closeToast:e,theme:t,ariaLabel:r="close"}){return fa.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":r},fa.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},fa.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function uY({delay:e,isRunning:t,closeToast:r,type:a="default",hide:n,className:i,controlledProgress:s,progress:l,rtl:u,isIn:d,theme:h}){let m=n||s&&l===0,x={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(x.transform=`scaleX(${l})`);let p=Hr("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":u}),y=Vd(i)?i({rtl:u,type:a,defaultClassName:p}):Hr(p,i),b={[s&&l>=1?"onTransitionEnd":"onAnimationEnd"]:s&&l<1?null:()=>{d&&r()}};return fa.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},fa.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),fa.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:x,...b}))}var dY=1,Q9=()=>`${dY++}`;function hY(e,t,r){let a=1,n=0,i=[],s=[],l=t,u=new Map,d=new Set,h=N=>(d.add(N),()=>d.delete(N)),m=()=>{s=Array.from(u.values()),d.forEach(N=>N())},x=({containerId:N,toastId:_,updateId:A})=>{let D=N?N!==e:e!==1,M=u.has(_)&&A==null;return D||M},p=(N,_)=>{u.forEach(A=>{var D;(_==null||_===A.props.toastId)&&((D=A.toggle)==null||D.call(A,N))})},y=N=>{var _,A;(A=(_=N.props)==null?void 0:_.onClose)==null||A.call(_,N.removalReason),N.isActive=!1},b=N=>{if(N==null)u.forEach(y);else{let _=u.get(N);_&&y(_)}m()},v=()=>{n-=i.length,i=[]},k=N=>{var _,A;let{toastId:D,updateId:M}=N.props,L=M==null;N.staleId&&u.delete(N.staleId),N.isActive=!0,u.set(D,N),m(),r(FC(N,L?"added":"updated")),L&&((A=(_=N.props).onOpen)==null||A.call(_))};return{id:e,props:l,observe:h,toggle:p,removeToast:b,toasts:u,clearQueue:v,buildToast:(N,_)=>{if(x(_))return;let{toastId:A,updateId:D,data:M,staleId:L,delay:B}=_,F=D==null;F&&n++;let H={...l,style:l.toastStyle,key:a++,...Object.fromEntries(Object.entries(_).filter(([I,V])=>V!=null)),toastId:A,updateId:D,data:M,isIn:!1,className:AS(_.className||l.toastClassName),progressClassName:AS(_.progressClassName||l.progressClassName),autoClose:_.isLoading?!1:sY(_.autoClose,l.autoClose),closeToast(I){u.get(A).removalReason=I,b(A)},deleteToast(){let I=u.get(A);if(I!=null){if(r(FC(I,"removed")),u.delete(A),n--,n<0&&(n=0),i.length>0){k(i.shift());return}m()}}};H.closeButton=l.closeButton,_.closeButton===!1||TS(_.closeButton)?H.closeButton=_.closeButton:_.closeButton===!0&&(H.closeButton=TS(l.closeButton)?l.closeButton:!0);let O={content:N,props:H,staleId:L};l.limit&&l.limit>0&&n>l.limit&&F?i.push(O):tv(B)?setTimeout(()=>{k(O)},B):k(O)},setProps(N){l=N},setToggle:(N,_)=>{let A=u.get(N);A&&(A.toggle=_)},isToastActive:N=>{var _;return(_=u.get(N))==null?void 0:_.isActive},getSnapshot:()=>s}}var ho=new Map,f1=[],ES=new Set,fY=e=>ES.forEach(t=>t(e)),J9=()=>ho.size>0;function mY(){f1.forEach(e=>eI(e.content,e.options)),f1=[]}var pY=(e,{containerId:t})=>{var r;return(r=ho.get(t||1))==null?void 0:r.toasts.get(e)};function Z9(e,t){var r;if(t)return!!((r=ho.get(t))!=null&&r.isToastActive(e));let a=!1;return ho.forEach(n=>{n.isToastActive(e)&&(a=!0)}),a}function gY(e){if(!J9()){f1=f1.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||iY(e))ho.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ho.get(e.containerId);t?t.removeToast(e.id):ho.forEach(r=>{r.removeToast(e.id)})}}var xY=(e={})=>{ho.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function eI(e,t){TS(e)&&(J9()||f1.push({content:e,options:t}),ho.forEach(r=>{r.buildToast(e,t)}))}function vY(e){var t;(t=ho.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function tI(e,t){ho.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function bY(e){let t=e.containerId||1;return{subscribe(r){let a=hY(t,e,fY);ho.set(t,a);let n=a.observe(r);return mY(),()=>{n(),ho.delete(t)}},setProps(r){var a;(a=ho.get(t))==null||a.setProps(r)},getSnapshot(){var r;return(r=ho.get(t))==null?void 0:r.getSnapshot()}}}function yY(e){return ES.add(e),()=>{ES.delete(e)}}function wY(e){return e&&(Hf(e.toastId)||tv(e.toastId))?e.toastId:Q9()}function rv(e,t){return eI(e,t),t.toastId}function aw(e,t){return{...t,type:t&&t.type||e,toastId:wY(t)}}function nw(e){return(t,r)=>rv(t,aw(e,r))}function Sa(e,t){return rv(e,aw("default",t))}Sa.loading=(e,t)=>rv(e,aw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function kY(e,{pending:t,error:r,success:a},n){let i;t&&(i=Hf(t)?Sa.loading(t,n):Sa.loading(t.render,{...n,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,m)=>{if(h==null){Sa.dismiss(i);return}let x={type:d,...s,...n,data:m},p=Hf(h)?{render:h}:h;return i?Sa.update(i,{...x,...p}):Sa(p.render,{...x,...p}),m},u=Vd(e)?e():e;return u.then(d=>l("success",a,d)).catch(d=>l("error",r,d)),u}Sa.promise=kY;Sa.success=nw("success");Sa.info=nw("info");Sa.error=nw("error");Sa.warning=nw("warning");Sa.warn=Sa.warning;Sa.dark=(e,t)=>rv(e,aw("default",{theme:"dark",...t}));function _Y(e){gY(e)}Sa.dismiss=_Y;Sa.clearWaitingQueue=xY;Sa.isActive=Z9;Sa.update=(e,t={})=>{let r=pY(e,t);if(r){let{props:a,content:n}=r,i={delay:100,...a,...t,toastId:t.toastId||e,updateId:Q9()};i.toastId!==e&&(i.staleId=e);let s=i.render||n;delete i.render,rv(s,i)}};Sa.done=e=>{Sa.update(e,{progress:1})};Sa.onChange=yY;Sa.play=e=>tI(!0,e);Sa.pause=e=>tI(!1,e);function SY(e){var t;let{subscribe:r,getSnapshot:a,setProps:n}=j.useRef(bY(e)).current;n(e);let i=(t=j.useSyncExternalStore(r,a,a))==null?void 0:t.slice();function s(l){if(!i)return[];let u=new Map;return e.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:h}=d.props;u.has(h)||u.set(h,[]),u.get(h).push(d)}),Array.from(u,d=>l(d[0],d[1]))}return{getToastToRender:s,isToastActive:Z9,count:i==null?void 0:i.length}}function NY(e){let[t,r]=j.useState(!1),[a,n]=j.useState(!1),i=j.useRef(null),s=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:m}=e;vY({id:e.toastId,containerId:e.containerId,fn:r}),j.useEffect(()=>{if(e.pauseOnFocusLoss)return x(),()=>{p()}},[e.pauseOnFocusLoss]);function x(){document.hasFocus()||k(),window.addEventListener("focus",v),window.addEventListener("blur",k)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",k)}function y(L){if(e.draggable===!0||e.draggable===L.pointerType){N();let B=i.current;s.canCloseOnClick=!0,s.canDrag=!0,B.style.transition="none",e.draggableDirection==="x"?(s.start=L.clientX,s.removalDistance=B.offsetWidth*(e.draggablePercent/100)):(s.start=L.clientY,s.removalDistance=B.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function b(L){let{top:B,bottom:F,left:H,right:O}=i.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=H&&L.clientX<=O&&L.clientY>=B&&L.clientY<=F?k():v()}function v(){r(!0)}function k(){r(!1)}function N(){s.didMove=!1,document.addEventListener("pointermove",A),document.addEventListener("pointerup",D)}function _(){document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",D)}function A(L){let B=i.current;if(s.canDrag&&B){s.didMove=!0,t&&k(),e.draggableDirection==="x"?s.delta=L.clientX-s.start:s.delta=L.clientY-s.start,s.start!==L.clientX&&(s.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;B.style.transform=`translate3d(${F},0)`,B.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function D(){_();let L=i.current;if(s.canDrag&&s.didMove&&L){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){n(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let M={onPointerDown:y,onPointerUp:b};return l&&u&&(M.onMouseEnter=k,e.stacked||(M.onMouseLeave=v)),m&&(M.onClick=L=>{h&&h(L),s.canCloseOnClick&&d(!0)}),{playToast:v,pauseToast:k,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:M}}var jY=typeof window<"u"?j.useLayoutEffect:j.useEffect,iw=({theme:e,type:t,isLoading:r,...a})=>fa.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function AY(e){return fa.createElement(iw,{...e},fa.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TY(e){return fa.createElement(iw,{...e},fa.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function EY(e){return fa.createElement(iw,{...e},fa.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function CY(e){return fa.createElement(iw,{...e},fa.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function OY(){return fa.createElement("div",{className:"Toastify__spinner"})}var CS={info:TY,warning:AY,success:EY,error:CY,spinner:OY},PY=e=>e in CS;function DY({theme:e,type:t,isLoading:r,icon:a}){let n=null,i={theme:e,type:t};return a===!1||(Vd(a)?n=a({...i,isLoading:r}):j.isValidElement(a)?n=j.cloneElement(a,i):r?n=CS.spinner():PY(t)&&(n=CS[t](i))),n}var LY=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:n,playToast:i}=NY(e),{closeButton:s,children:l,autoClose:u,onClick:d,type:h,hideProgressBar:m,closeToast:x,transition:p,position:y,className:b,style:v,progressClassName:k,updateId:N,role:_,progress:A,rtl:D,toastId:M,deleteToast:L,isIn:B,isLoading:F,closeOnClick:H,theme:O,ariaLabel:I}=e,V=Hr("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":H}),Y=Vd(b)?b({rtl:D,position:y,type:h,defaultClassName:V}):Hr(V,b),te=DY(e),X=!!A||!u,ae={closeToast:x,type:h,theme:O},de=null;return s===!1||(Vd(s)?de=s(ae):j.isValidElement(s)?de=j.cloneElement(s,ae):de=cY(ae)),fa.createElement(p,{isIn:B,done:L,position:y,preventExitTransition:r,nodeRef:a,playToast:i},fa.createElement("div",{id:M,tabIndex:0,onClick:d,"data-in":B,className:Y,...n,style:v,ref:a,...B&&{role:_,"aria-label":I}},te!=null&&fa.createElement("div",{className:Hr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},te),X9(l,e,!t),de,!e.customProgressBar&&fa.createElement(uY,{...N&&!X?{key:`p-${N}`}:{},rtl:D,theme:O,delay:u,isRunning:t,isIn:B,closeToast:x,hide:m,type:h,className:k,controlledProgress:X,progress:A||0})))},MY=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),IY=lY(MY("bounce",!0)),RY={position:"top-right",transition:IY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function FY(e){let t={...RY,...e},r=e.stacked,[a,n]=j.useState(!0),i=j.useRef(null),{getToastToRender:s,isToastActive:l,count:u}=SY(t),{className:d,style:h,rtl:m,containerId:x,hotKeys:p}=t;function y(v){let k=Hr("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":m});return Vd(d)?d({position:v,rtl:m,defaultClassName:k}):Hr(k,AS(d))}function b(){r&&(n(!0),Sa.play())}return jY(()=>{var v;if(r){let k=i.current.querySelectorAll('[data-in="true"]'),N=12,_=(v=t.position)==null?void 0:v.includes("top"),A=0,D=0;Array.from(k).reverse().forEach((M,L)=>{let B=M;B.classList.add("Toastify__toast--stacked"),L>0&&(B.dataset.collapsed=`${a}`),B.dataset.pos||(B.dataset.pos=_?"top":"bot");let F=A*(a?.2:1)+(a?0:N*L);B.style.setProperty("--y",`${_?F:F*-1}px`),B.style.setProperty("--g",`${N}`),B.style.setProperty("--s",`${1-(a?D:0)}`),A+=B.offsetHeight,D+=.025})}},[a,u,r]),j.useEffect(()=>{function v(k){var N;let _=i.current;p(k)&&((N=_.querySelector('[tabIndex="0"]'))==null||N.focus(),n(!1),Sa.pause()),k.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(n(!0),Sa.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),fa.createElement("section",{ref:i,className:"Toastify",id:x,onMouseEnter:()=>{r&&(n(!1),Sa.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((v,k)=>{let N=k.length?{...h}:{...h,pointerEvents:"none"};return fa.createElement("div",{tabIndex:-1,className:y(v),"data-stacked":r,style:N,key:`c-${v}`},k.map(({content:_,props:A})=>fa.createElement(LY,{...A,stacked:r,collapseAll:b,isIn:l(A.toastId,A.containerId),key:`t-${A.key}`},_)))}))}const Ax={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Xe={success:(e,t)=>{Sa.success(e,{...Ax,...t})},error:(e,t)=>{Sa.error(e,{...Ax,...t})},warning:(e,t)=>{Sa.warning(e,{...Ax,...t})},info:(e,t)=>{Sa.info(e,{...Ax,...t})},promise:(e,t,r)=>Sa.promise(e,{pending:t.pending,success:t.success,error:t.error},{...Ax,...r})};class BY extends fa.Component{constructor(){super(...arguments);va(this,"state",{hasError:!1});va(this,"handleReload",()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Unhandled UI error:",r,a),Xe.error(" xy ra li khng mong mun. Vui lng th li.")}render(){return this.state.hasError?this.props.fallback||o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-xl text-center max-w-md",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"C li xy ra"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Vui lng ti li trang hoc quay li sau."}),o.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Ti li trang"})]})}):this.props.children}}const UY=()=>{const e=tY(),t=rY(),r=e+t>0,[a,n]=j.useState(!1);return j.useEffect(()=>{if(r)n(!0);else{const i=setTimeout(()=>n(!1),300);return()=>clearTimeout(i)}},[r]),o.jsxs("div",{"aria-hidden":!a,className:"fixed top-0 left-0 right-0 z-[60] pointer-events-none",style:{opacity:a?1:0,transition:"opacity 0.2s ease"},children:[o.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-fuchsia-500 animate-[progress_1.2s_linear_infinite]"}),o.jsx("style",{children:`
        @keyframes progress {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-[progress_1.2s_linear_infinite] {
          background-size: 200% 100%;
        }
      `})]})},zY="modulepreload",qY=function(e){return"/"+e},BC={},Kx=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=s(r.map(d=>{if(d=qY(d),d in BC)return;BC[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":zY,h||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((p,y)=>{x.addEventListener("load",p),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return n.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var $Y=function(){return null},OS=function(e,t){return OS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},OS(e,t)};function rI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ry=function(){return Ry=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ry.apply(this,arguments)};function _g(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function aI(e,t,r,a){var n=arguments.length,i=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}function nI(e,t){return function(r,a){t(r,a,e)}}function iI(e,t,r,a,n,i){function s(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var l=a.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?a.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),m,x=!1,p=r.length-1;p>=0;p--){var y={};for(var b in a)y[b]=b==="access"?{}:a[b];for(var b in a.access)y.access[b]=a.access[b];y.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(k||null))};var v=(0,r[p])(l==="accessor"?{get:h.get,set:h.set}:h[u],y);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(m=s(v.get))&&(h.get=m),(m=s(v.set))&&(h.set=m),(m=s(v.init))&&n.unshift(m)}else(m=s(v))&&(l==="field"?n.unshift(m):h[u]=m)}d&&Object.defineProperty(d,a.name,h),x=!0}function sI(e,t,r){for(var a=arguments.length>2,n=0;n<t.length;n++)r=a?t[n].call(e,r):t[n].call(e);return a?r:void 0}function oI(e){return typeof e=="symbol"?e:"".concat(e)}function lI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dr(e,t,r,a){function n(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(h){try{d(a.next(h))}catch(m){s(m)}}function u(h){try{d(a.throw(h))}catch(m){s(m)}}function d(h){h.done?i(h.value):n(h.value).then(l,u)}d((a=a.apply(e,t||[])).next())})}function uI(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(d){return function(h){return u([d,h])}}function u(d){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,n=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(h){d=[6,h],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var sw=Object.create?(function(e,t,r,a){a===void 0&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}):(function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]});function dI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sw(t,e,r)}function Fy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function LN(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,i=[],s;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return i}function hI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(LN(arguments[t]));return e}function fI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,n++)a[n]=i[s];return a}function mI(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function lg(e){return this instanceof lg?(this.v=e,this):new lg(e)}function pI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(p){return function(y){return Promise.resolve(y).then(p,m)}}function l(p,y){a[p]&&(n[p]=function(b){return new Promise(function(v,k){i.push([p,b,v,k])>1||u(p,b)})},y&&(n[p]=y(n[p])))}function u(p,y){try{d(a[p](y))}catch(b){x(i[0][3],b)}}function d(p){p.value instanceof lg?Promise.resolve(p.value.v).then(h,m):x(i[0][2],p)}function h(p){u("next",p)}function m(p){u("throw",p)}function x(p,y){p(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function gI(e){var t,r;return t={},a("next"),a("throw",function(n){throw n}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(n,i){t[n]=e[n]?function(s){return(r=!r)?{value:lg(e[n](s)),done:!1}:i?i(s):s}:i}}function xI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Fy=="function"?Fy(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(s){return new Promise(function(l,u){s=e[i](s),n(l,u,s.done,s.value)})}}function n(i,s,l,u){Promise.resolve(u).then(function(d){i({value:d,done:l})},s)}}function vI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var HY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},PS=function(e){return PS=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},PS(e)};function bI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=PS(e),a=0;a<r.length;a++)r[a]!=="default"&&sw(t,e,r[a]);return HY(t,e),t}function yI(e){return e&&e.__esModule?e:{default:e}}function wI(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function kI(e,t,r,a,n){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function _I(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function SI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var WY=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function NI(e){function t(i){e.error=e.hasError?new WY(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,a=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&a===1)return a=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(i).then(n,function(s){return t(s),n()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function jI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,n,i,s){return a?t?".jsx":".js":n&&(!i||!s)?r:n+i+"."+s.toLowerCase()+"js"}):e}const VY={__extends:rI,__assign:Ry,__rest:_g,__decorate:aI,__param:nI,__esDecorate:iI,__runInitializers:sI,__propKey:oI,__setFunctionName:lI,__metadata:cI,__awaiter:dr,__generator:uI,__createBinding:sw,__exportStar:dI,__values:Fy,__read:LN,__spread:hI,__spreadArrays:fI,__spreadArray:mI,__await:lg,__asyncGenerator:pI,__asyncDelegator:gI,__asyncValues:xI,__makeTemplateObject:vI,__importStar:bI,__importDefault:yI,__classPrivateFieldGet:wI,__classPrivateFieldSet:kI,__classPrivateFieldIn:_I,__addDisposableResource:SI,__disposeResources:NI,__rewriteRelativeImportExtension:jI},KY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SI,get __assign(){return Ry},__asyncDelegator:gI,__asyncGenerator:pI,__asyncValues:xI,__await:lg,__awaiter:dr,__classPrivateFieldGet:wI,__classPrivateFieldIn:_I,__classPrivateFieldSet:kI,__createBinding:sw,__decorate:aI,__disposeResources:NI,__esDecorate:iI,__exportStar:dI,__extends:rI,__generator:uI,__importDefault:yI,__importStar:bI,__makeTemplateObject:vI,__metadata:cI,__param:nI,__propKey:oI,__read:LN,__rest:_g,__rewriteRelativeImportExtension:jI,__runInitializers:sI,__setFunctionName:lI,__spread:hI,__spreadArray:mI,__spreadArrays:fI,__values:Fy,default:VY},Symbol.toStringTag,{value:"Module"})),GY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class MN extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class UC extends MN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zC extends MN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qC extends MN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var DS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(DS||(DS={}));class YY{constructor(t,{headers:r={},customFetch:a,region:n=DS.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=GY(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dr(this,arguments,void 0,function*(r,a={}){var n;try{const{headers:i,method:s,body:l,signal:u}=a;let d={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let x;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",x=l):typeof l=="string"?(d["Content-Type"]="text/plain",x=l):typeof FormData<"u"&&l instanceof FormData?x=l:(d["Content-Type"]="application/json",x=JSON.stringify(l)):x=l;const p=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:x,signal:u}).catch(k=>{throw k.name==="AbortError"?k:new UC(k)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new zC(p);if(!p.ok)throw new qC(p);let b=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return b==="application/json"?v=yield p.json():b==="application/octet-stream"||b==="application/pdf"?v=yield p.blob():b==="text/event-stream"?v=p:b==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new UC(i)}:{data:null,error:i,response:i instanceof qC||i instanceof zC?i.context:void 0}}})}}var Os={};const Sg=zV(KY);var Cb={},Ob={},Pb={},Db={},Lb={},Mb={},$C;function AI(){if($C)return Mb;$C=1,Object.defineProperty(Mb,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Mb.default=e,Mb}var HC;function TI(){if(HC)return Lb;HC=1,Object.defineProperty(Lb,"__esModule",{value:!0});const t=Sg.__importDefault(AI());class r{constructor(n){var i,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,m,x;let p=null,y=null,b=null,v=u.status,k=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=D:y=JSON.parse(D))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),A=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,v=406,k="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await u.text();try{p=JSON.parse(_),Array.isArray(p)&&u.status===404&&(y=[],p=null,v=200,k="OK")}catch{u.status===404&&_===""?(v=204,k="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,v=200,k="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:b,status:v,statusText:k}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(n,i)}returns(){return this}overrideTypes(){return this}}return Lb.default=r,Lb}var WC;function EI(){if(WC)return Db;WC=1,Object.defineProperty(Db,"__esModule",{value:!0});const t=Sg.__importDefault(TI());class r extends t.default{select(n){let i=!1;const s=(n??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,i,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const m=[n?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return Db.default=r,Db}var VC;function IN(){if(VC)return Pb;VC=1,Object.defineProperty(Pb,"__esModule",{value:!0});const t=Sg.__importDefault(EI()),r=new RegExp("[,()]");class a extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Pb.default=a,Pb}var KC;function CI(){if(KC)return Ob;KC=1,Object.defineProperty(Ob,"__esModule",{value:!0});const t=Sg.__importDefault(IN());class r{constructor(n,{headers:i={},schema:s,fetch:l}){this.url=n,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(n,i){const{head:s=!1,count:l}=i??{},u=s?"HEAD":"GET";let d=!1;const h=(n??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:s=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var i;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ob.default=r,Ob}var GC;function XY(){if(GC)return Cb;GC=1,Object.defineProperty(Cb,"__esModule",{value:!0});const e=Sg,t=e.__importDefault(CI()),r=e.__importDefault(IN());class a{constructor(i,{headers:s={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=u}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:u=!1,count:d}={}){var h;let m;const x=new URL(`${this.url}/rpc/${i}`);let p;l||u?(m=l?"HEAD":"GET",Object.entries(s).filter(([b,v])=>v!==void 0).map(([b,v])=>[b,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([b,v])=>{x.searchParams.append(b,v)})):(m="POST",p=s);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:m,url:x,headers:y,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Cb.default=a,Cb}var YC;function QY(){if(YC)return Os;YC=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.PostgrestError=Os.PostgrestBuilder=Os.PostgrestTransformBuilder=Os.PostgrestFilterBuilder=Os.PostgrestQueryBuilder=Os.PostgrestClient=void 0;const e=Sg,t=e.__importDefault(XY());Os.PostgrestClient=t.default;const r=e.__importDefault(CI());Os.PostgrestQueryBuilder=r.default;const a=e.__importDefault(IN());Os.PostgrestFilterBuilder=a.default;const n=e.__importDefault(EI());Os.PostgrestTransformBuilder=n.default;const i=e.__importDefault(TI());Os.PostgrestBuilder=i.default;const s=e.__importDefault(AI());return Os.PostgrestError=s.default,Os.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:s.default},Os}var OI=QY();const PI=Hc(OI),JY=y9({__proto__:null,default:PI},[OI]),{PostgrestClient:ZY,PostgrestQueryBuilder:rEe,PostgrestFilterBuilder:aEe,PostgrestTransformBuilder:nEe,PostgrestBuilder:iEe,PostgrestError:sEe}=PI||JY;class eX{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tX="2.80.0",rX=`realtime-js/${tX}`,aX="1.0.0",LS=1e4,nX=1e3,iX=100;var Gx;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gx||(Gx={}));var qi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qi||(qi={}));var Mc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mc||(Mc={}));var MS;(function(e){e.websocket="websocket"})(MS||(MS={}));var hf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hf||(hf={}));class sX{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const n=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=a.decode(t.slice(s,s+n));s=s+n;const u=a.decode(t.slice(s,s+i));s=s+i;const d=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class DI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sn||(sn={}));const XC=(e,t,r={})=>{var a;const n=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=oX(s,e,t,n),i),{}):{}},oX=(e,t,r,a)=>{const n=t.find(l=>l.name===e),i=n==null?void 0:n.type,s=r[e];return i&&!a.includes(i)?LI(i,s):IS(s)},LI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dX(t,r)}switch(e){case sn.bool:return lX(t);case sn.float4:case sn.float8:case sn.int2:case sn.int4:case sn.int8:case sn.numeric:case sn.oid:return cX(t);case sn.json:case sn.jsonb:return uX(t);case sn.timestamp:return hX(t);case sn.abstime:case sn.date:case sn.daterange:case sn.int4range:case sn.int8range:case sn.money:case sn.reltime:case sn.text:case sn.time:case sn.timestamptz:case sn.timetz:case sn.tsrange:case sn.tstzrange:return IS(t);default:return IS(t)}},IS=e=>e,lX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>LI(t,l))}return e},hX=e=>typeof e=="string"?e.replace(" ","T"):e,MI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class M5{constructor(t,r,a={},n=LS){this.channel=t,this.event=r,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var QC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(QC||(QC={}));class Yx{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yx.syncState(this.state,n,i,s),this.pendingDiffs.forEach(u=>{this.state=Yx.syncDiff(this.state,u,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Yx.syncDiff(this.state,n,i,s),l())}),this.onJoin((n,i,s)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:s})}),this.onLeave((n,i,s)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,n){const i=this.cloneDeep(t),s=this.transformState(r),l={},u={};return this.map(i,(d,h)=>{s[d]||(u[d]=h)}),this.map(s,(d,h)=>{const m=i[d];if(m){const x=h.map(v=>v.presence_ref),p=m.map(v=>v.presence_ref),y=h.filter(v=>p.indexOf(v.presence_ref)<0),b=m.filter(v=>x.indexOf(v.presence_ref)<0);y.length>0&&(l[d]=y),b.length>0&&(u[d]=b)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:u},a,n)}static syncDiff(t,r,a,n){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const m=t[l].map(p=>p.presence_ref),x=h.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...x)}a(l,h,u)}),this.map(s,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=d,n(l,d,u),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const n=t[a];return"metas"in n?r[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var JC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(JC||(JC={}));var Xx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xx||(Xx={}));var wd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wd||(wd={}));class RN{constructor(t,r={config:{}},a){var n,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=qi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new M5(this,Mc.join,this.params,this.timeout),this.rejoinTimer=new DI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qi.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mc.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Yx(this),this.broadcastEndpointURL=MI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qi.closed){const{config:{broadcast:s,presence:l,private:u}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&n!==void 0?n:[],h=!!this.bindings[Xx.PRESENCE]&&this.bindings[Xx.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},x={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(wd.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(wd.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(wd.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,k=[];for(let N=0;N<v;N++){const _=b[N],{filter:{event:A,schema:D,table:M,filter:L}}=_,B=p&&p[N];if(B&&B.event===A&&B.schema===D&&B.table===M&&B.filter===L)k.push(Object.assign(Object.assign({},_),{id:B.id}));else{this.unsubscribe(),this.state=qi.errored,t==null||t(wd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(wd.SUBSCRIBED);return}}).receive("error",p=>{this.state=qi.errored,t==null||t(wd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===qi.joined&&t===Xx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mc.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new M5(this,Mc.leave,{},t),a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qi.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),s}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new M5(this,t,r,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var n,i;const s=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Mc;if(a&&[l,u,d,h].indexOf(s)>=0&&a!==this._joinRef())return;let x=this._onMessage(s,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,b,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(b=p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(x,a)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var y,b,v,k,N,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const A=p.id,D=(y=p.filter)===null||y===void 0?void 0:y.event;return A&&((b=r.ids)===null||b===void 0?void 0:b.includes(A))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const A=(N=(k=p==null?void 0:p.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:b,table:v,commit_timestamp:k,type:N,errors:_}=y;x=Object.assign(Object.assign({},{schema:b,table:v,commit_timestamp:k,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(y))}p.callback(x,a)})}_isClosed(){return this.state===qi.closed}_isJoined(){return this.state===qi.joined}_isJoining(){return this.state===qi.joining}_isLeaving(){return this.state===qi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&RN.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mc.close,{},t)}_onError(t){this._on(Mc.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=XC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=XC(t.columns,t.old_record)),r}}const I5=()=>{},Ib={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fX=[1e3,2e3,5e3,1e4],mX=1e4,pX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gX{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=LS,this.transport=null,this.heartbeatIntervalMs=Ib.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=I5,this.ref=0,this.reconnectTimer=null,this.logger=I5,this.conn=null,this.sendBuffer=[],this.serializer=new sX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${MS.websocket}`,this.httpEndpoint=MI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aX}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Gx.connecting:return hf.Connecting;case Gx.open:return hf.Open;case Gx.closing:return hf.Closing;default:return hf.Closed}}isConnected(){return this.connectionState()===hf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new RN(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:n,ref:i}=t,s=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${a} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ib.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:s}=r,l=s?`(${s})`:"",u=i.status||"";this.log("receive",`${u} ${a} ${n} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mc.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${a}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([pX],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const n={access_token:r,version:rX};r&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(Mc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new DI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ib.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,n,i,s,l,u,d,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:LS,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Ib.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:I5,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:(m=>fX[m-1]||mX),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((m,x)=>x(JSON.stringify(m))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class FN extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xX extends FN{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RS extends FN{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const BN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vX=()=>Response,FS=e=>{if(Array.isArray(e))return e.map(r=>FS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=FS(a)}),t},bX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R5=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},yX=(e,t,r)=>dr(void 0,void 0,void 0,function*(){const a=yield vX();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,s=(n==null?void 0:n.statusCode)||i+"";t(new xX(R5(n),i,s))}).catch(n=>{t(new RS(R5(n),n))}):t(new RS(R5(e),e))}),wX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(bX(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r))};function av(e,t,r,a,n,i){return dr(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,wX(t,a,n,i)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>yX(u,l,a))})})}function m1(e,t,r,a){return dr(this,void 0,void 0,function*(){return av(e,"GET",t,r,a)})}function Pc(e,t,r,a,n){return dr(this,void 0,void 0,function*(){return av(e,"POST",t,a,n,r)})}function BS(e,t,r,a,n){return dr(this,void 0,void 0,function*(){return av(e,"PUT",t,a,n,r)})}function kX(e,t,r,a){return dr(this,void 0,void 0,function*(){return av(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function UN(e,t,r,a,n){return dr(this,void 0,void 0,function*(){return av(e,"DELETE",t,a,n,r)})}class _X{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return dr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qn(t))return{data:null,error:t};throw t}})}}var II;class SX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[II]="BlobDownloadBuilder",this.promise=null}asStream(){return new _X(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qn(t))return{data:null,error:t};throw t}})}}II=Symbol.toStringTag;const NX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jX{constructor(t,r={},a,n){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=BN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,n){return dr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},ZC),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const u=s.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=a,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=yield(t=="PUT"?BS:Pc)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qn(i))return{data:null,error:i};throw i}})}upload(t,r,a){return dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,n){return dr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:ZC.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl)):(u=a,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield BS(this.fetch,l.toString(),u,{headers:h});return{data:{path:i,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(qn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return dr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield Pc(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new FN("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qn(a))return{data:null,error:a};throw a}})}update(t,r,a){return dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return dr(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}copy(t,r,a){return dr(this,void 0,void 0,function*(){try{return{data:{path:(yield Pc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,a){return dr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Pc(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,a){return dr(this,void 0,void 0,function*(){try{const n=yield Pc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>m1(this.fetch,`${this.url}/${n}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new SX(u,this.shouldThrowOnError)}info(t){return dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield m1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:FS(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qn(a))return{data:null,error:a};throw a}})}exists(t){return dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield kX(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qn(a)&&a instanceof RS){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&n.push(u);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${d}`)}}}remove(t){return dr(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}list(t,r,a){return dr(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},NX),r),{prefix:t||""});return{data:yield Pc(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}listV2(t,r){return dr(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Pc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const RI="2.80.0",FI={"X-Client-Info":`storage-js/${RI}`};class AX{constructor(t,r={},a,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FI),r),this.fetch=BN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return dr(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield m1(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}getBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield m1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}createBucket(t){return dr(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Pc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return dr(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qn(a))return{data:null,error:a};throw a}})}emptyBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class TX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FI),r),this.fetch=BN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}listBuckets(t){return dr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield m1(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qn(r))return{data:null,error:r};throw r}})}}const zN={"X-Client-Info":`storage-js/${RI}`,"Content-Type":"application/json"};class BI extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ol(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class F5 extends BI{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EX extends BI{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var e8;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(e8||(e8={}));const qN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},t8=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OX=(e,t,r)=>dr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";t(new F5(t8(s),n,l))}).catch(()=>{const s=n+"",l=i.statusText||`HTTP ${n} error`;t(new F5(l,n,s))});else{const s=n+"",l=i.statusText||`HTTP ${n} error`;t(new F5(l,n,s))}}else t(new EX(t8(e),e))}),PX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(CX(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),r)):n};function DX(e,t,r,a,n,i){return dr(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,PX(t,a,n,i)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>s(u)).catch(u=>OX(u,l,a))})})}function ll(e,t,r,a,n){return dr(this,void 0,void 0,function*(){return DX(e,"POST",t,a,n,r)})}class LX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zN),r),this.fetch=qN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return dr(this,void 0,void 0,function*(){try{return{data:(yield ll(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}getIndex(t,r){return dr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ol(a))return{data:null,error:a};throw a}})}listIndexes(t){return dr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return dr(this,void 0,void 0,function*(){try{return{data:(yield ll(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ol(a))return{data:null,error:a};throw a}})}}class MX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zN),r),this.fetch=qN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return dr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ll(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}getVectors(t){return dr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}listVectors(t){return dr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ll(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}queryVectors(t){return dr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}deleteVectors(t){return dr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ll(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}}class IX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zN),r),this.fetch=qN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:(yield ll(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}getBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}listBuckets(){return dr(this,arguments,void 0,function*(t={}){try{return{data:yield ll(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:(yield ll(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ol(r))return{data:null,error:r};throw r}})}}class RX extends IX{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new FX(this.url,this.headers,t,this.fetch)}}class FX extends LX{constructor(t,r,a,n){super(t,r,n),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new BX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class BX extends MX{constructor(t,r,a,n,i){super(t,r,i),this.vectorBucketName=a,this.indexName=n}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class UX extends AX{constructor(t,r={},a,n){super(t,r,a,n)}from(t){return new jX(this.url,this.headers,t,this.fetch)}get vectors(){return new RX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TX(this.url+"/iceberg",this.headers,this.fetch)}}const zX="2.80.0";let zx="";typeof Deno<"u"?zx="deno":typeof document<"u"?zx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zx="react-native":zx="node";const qX={"X-Client-Info":`supabase-js-${zx}/${zX}`},$X={headers:qX},HX={schema:"public"},WX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VX={},KX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GX=()=>Headers,YX=(e,t,r)=>{const a=KX(r),n=GX();return async(i,s)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new n(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),a(i,Object.assign(Object.assign({},s),{headers:d}))}};function XX(e){return e.endsWith("/")?e:e+"/"}function QX(e,t){var r,a;const{db:n,auth:i,realtime:s,global:l}=e,{db:u,auth:d,realtime:h,global:m}=t,x={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function JX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const UI="2.80.0",Ap=30*1e3,US=3,B5=US*Ap,ZX="http://localhost:9999",eQ="supabase.auth.token",tQ={"X-Client-Info":`gotrue-js/${UI}`},zS="X-Supabase-Api-Version",zI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aQ=600*1e3;class p1 extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function gr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nQ extends p1{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function iQ(e){return gr(e)&&e.name==="AuthApiError"}class ff extends p1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _h extends p1{constructor(t,r,a,n){super(t,a,n),this.name=r,this.status=a}}class Cc extends _h{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sQ(e){return gr(e)&&e.name==="AuthSessionMissingError"}class hp extends _h{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rb extends _h{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fb extends _h{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oQ(e){return gr(e)&&e.name==="AuthImplicitGrantRedirectError"}class r8 extends _h{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qS extends _h{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function U5(e){return gr(e)&&e.name==="AuthRetryableFetchError"}class a8 extends _h{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class $S extends _h{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const By="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n8=` 	
\r=`.split(""),lQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<n8.length;t+=1)e[n8[t].charCodeAt(0)]=-2;for(let t=0;t<By.length;t+=1)e[By[t].charCodeAt(0)]=t;return e})();function i8(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(By[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(By[a]),t.queuedBits-=6}}function qI(e,t,r){const a=lQ[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function s8(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=s=>{dQ(s,a,r)};for(let s=0;s<e.length;s+=1)qI(e.charCodeAt(s),n,i);return t.join("")}function cQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uQ(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}cQ(a,t)}}function dQ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mp(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)qI(e.charCodeAt(n),r,a);return new Uint8Array(t)}function hQ(e){const t=[];return uQ(e,r=>t.push(r)),new Uint8Array(t)}function xf(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>i8(n,r,a)),i8(null,r,a),t.join("")}function fQ(e){return Math.round(Date.now()/1e3)+e}function mQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rs=()=>typeof window<"u"&&typeof document<"u",nf={tested:!1,writable:!1},$I=()=>{if(!Rs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nf.tested)return nf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nf.tested=!0,nf.writable=!0}catch{nf.tested=!0,nf.writable=!1}return nf.writable};function pQ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((a,n)=>{t[n]=a}),t}const HI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},H0=async(e,t)=>{await e.removeItem(t)};class ow{constructor(){this.promise=new ow.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ow.promiseConstructor=Promise;function z5(e){const t=e.split(".");if(t.length!==3)throw new $S("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!rQ.test(t[a]))throw new $S("JWT not in base64url format");return{header:JSON.parse(s8(t[0])),payload:JSON.parse(s8(t[1])),signature:Mp(t[2]),raw:{header:t[0],payload:t[1]}}}async function xQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vQ(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){a(s);return}}catch(s){if(!t(i,s)){n(s);return}}})()})}function bQ(e){return("0"+e.toString(16)).substr(-2)}function yQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,bQ).join("")}async function wQ(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function kQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fp(e,t,r=!1){const a=yQ();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Tp(e,`${t}-code-verifier`,n);const i=await kQ(a);return[i,a===i?"plain":"s256"]}const _Q=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SQ(e){const t=e.headers.get(zS);if(!t||!t.match(_Q))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mp(e){if(!AQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function q5(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TQ(e,t){return new Proxy(e,{get:(r,a,n)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,n)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,n)}})}function o8(e){return JSON.parse(JSON.stringify(e))}const of=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EQ=[502,503,504];async function l8(e){var t;if(!gQ(e))throw new qS(of(e),0);if(EQ.includes(e.status))throw new qS(of(e),e.status);let r;try{r=await e.json()}catch(i){throw new ff(of(i),i)}let a;const n=SQ(e);if(n&&n.getTime()>=zI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new a8(of(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Cc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new a8(of(r),e.status,r.weak_password.reasons);throw new nQ(of(r),e.status||500,a)}const CQ=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))};async function Tr(e,t,r,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[zS]||(i[zS]=zI["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const s=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=await OQ(e,t,r+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function OQ(e,t,r,a,n,i){const s=CQ(t,a,n,i);let l;try{l=await e(r,Object.assign({},s))}catch(u){throw console.error(u),new qS(of(u),0)}if(l.ok||await l8(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(u){await l8(u)}}function Oc(e){var t;let r=null;LQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fQ(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function c8(e){const t=Oc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Q0(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PQ(e){return{data:e,error:null}}function DQ(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i}=e,s=_g(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i},u=Object.assign({},s);return{data:{properties:l,user:u},error:null}}function u8(e){return e}function LQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const $5=["global","local","others"];class MQ{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=HI(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$5[0]){if($5.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$5.join(", ")}`);try{return await Tr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Q0})}catch(a){if(gr(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=_g(t,["options"]),n=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:DQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Q0})}catch(r){if(gr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,n,i,s,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:u8});if(h.error)throw h.error;const m=await h.json(),x=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=b}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(gr(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){mp(t);try{return await Tr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Q0})}catch(r){if(gr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){mp(t);try{return await Tr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Q0})}catch(a){if(gr(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){mp(t);try{return await Tr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Q0})}catch(a){if(gr(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){mp(t.userId);try{const{data:r,error:a}=await Tr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:a}}catch(r){if(gr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){mp(t.userId),mp(t.id);try{return{data:await Tr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,n,i,s,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await Tr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:u8});if(h.error)throw h.error;const m=await h.json(),x=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=b}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(gr(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Tr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Tr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(gr(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Tr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Tr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gr(r))return{data:null,error:r};throw r}}}function d8(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pp={debug:!!(globalThis&&$I()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IQ extends WI{}async function RQ(e,t,r){pp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),pp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){pp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{pp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw pp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function VI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function BQ(e){return parseInt(e,16)}function UQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function zQ(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:u,resources:d,scheme:h,uri:m,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=VI(e.address),y=h?`${h}://${a}`:a,b=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${b}`;let k=`URI: ${m}
Version: ${x}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(n&&(k+=`
Expiration Time: ${n.toISOString()}`),l&&(k+=`
Not Before: ${l.toISOString()}`),u&&(k+=`
Request ID: ${u}`),d){let N=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);N+=`
- ${_}`}k+=N}return`${v}
${k}`}class Ti extends Error{constructor({message:t,code:r,cause:a,name:n}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Uy extends Ti{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function qQ({error:e,options:t}){var r,a,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ti({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ti({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ti({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ti({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ti({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ti({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ti({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ti({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(KI(s)){if(i.rp.id!==s)return new Ti({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ti({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ti({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ti({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ti({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $Q({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ti({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ti({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(KI(a)){if(r.rpId!==a)return new Ti({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ti({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ti({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ti({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class HQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const WQ=new HQ;function VQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=_g(e,["challenge","user","excludeCredentials"]),i=Mp(t).buffer,s=Object.assign(Object.assign({},r),{id:Mp(r.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:i,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const d=a[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Mp(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function KQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=_g(e,["challenge","allowCredentials"]),n=Mp(t).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Mp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function GQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xf(new Uint8Array(e.response.attestationObject)),clientDataJSON:xf(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xf(new Uint8Array(n.authenticatorData)),clientDataJSON:xf(new Uint8Array(n.clientDataJSON)),signature:xf(new Uint8Array(n.signature)),userHandle:n.userHandle?xf(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function h8(){var e,t;return!!(Rs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function XQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uy("Browser returned unexpected credential type",t)}:{data:null,error:new Uy("Empty credential response",t)}}catch(t){return{data:null,error:qQ({error:t,options:e})}}}async function QQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uy("Browser returned unexpected credential type",t)}:{data:null,error:new Uy("Empty credential response",t)}}catch(t){return{data:null,error:$Q({error:t,options:e})}}}const JQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ZQ={userVerification:"preferred",hints:["security-key"]};function zy(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of e)if(n)for(const i in n){const s=n[i];if(s!==void 0)if(Array.isArray(s))a[i]=s;else if(r(s))a[i]=s;else if(t(s)){const l=a[i];t(l)?a[i]=zy(l,s):a[i]=zy(s)}else a[i]=s}return a}function eJ(e,t){return zy(JQ,e,t||{})}function tJ(e,t){return zy(ZQ,e,t||{})}class rJ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:n},i){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const u=n??WQ.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=eJ(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:m}=await XQ({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=tJ(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:m}=await QQ(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return gr(s)?{data:null,error:s}:{data:null,error:new ff("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new p1("rpId is required for WebAuthn authentication")};try{if(!h8())return{data:null,error:new ff("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:n},{request:i});if(!s)return{data:null,error:l};const{webauthn:u}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:a,credential_response:u.credential_response}})}catch(s){return gr(s)?{data:null,error:s}:{data:null,error:new ff("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new p1("rpId is required for WebAuthn registration")};try{if(!h8())return{data:null,error:new ff("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:n},{create:i});return u?this._verify({factorId:s.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(s){return gr(s)?{data:null,error:s}:{data:null,error:new ff("Unexpected error in register",s)}}}}FQ();const aJ={url:ZX,storageKey:eQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function f8(e,t,r){return await r()}const gp={};class g1{get jwks(){var t,r;return(r=(t=gp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gp[this.storageKey]=Object.assign(Object.assign({},gp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gp[this.storageKey]=Object.assign(Object.assign({},gp[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},aJ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=g1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,g1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Rs()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new MQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=HI(i.fetch),this.lock=i.lock||f8,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Rs()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=RQ:this.lock=f8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rJ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$I()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d8(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=d8(this.memoryStorage)),Rs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${UI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(Rs()&&(r=pQ(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Rs()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oQ(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gr(r)?this._returnResult({error:r}):this._returnResult({error:new ff("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,n;try{const i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Oc}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(gr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,n;try{let i;if("email"in t){const{email:h,password:m,options:x}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await fp(this.storage,this.storageKey)),i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:y},xform:Oc})}else if("phone"in t){const{phone:h,password:m,options:x}=t;i=await Tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(n=x==null?void 0:x.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Oc})}else throw new Rb("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const u=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(gr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c8})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c8})}else throw new Rb("You must provide either an email or phone number and a password");const{data:a,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!a||!a.session||!a.user){const i=new hp;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(r){if(gr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,n,i,s,l,u,d,h,m,x;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:k,options:N}=t;let _;if(Rs())if(typeof v=="object")_=v;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const A=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),D=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=VI(D[0]);let L=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!L){const F=await _.request({method:"eth_chainId"});L=BQ(F)}const B={domain:A.host,address:M,statement:k,uri:A.href,version:"1",chainId:L,nonce:(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(s=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=N==null?void 0:N.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=zQ(B),y=await _.request({method:"personal_sign",params:[UQ(p),M]})}try{const{data:b,error:v}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Oc});if(v)throw v;if(!b||!b.session||!b.user){const k=new hp;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(gr(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,a,n,i,s,l,u,d,h,m,x,p;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:v,wallet:k,statement:N,options:_}=t;let A;if(Rs())if(typeof k=="object")A=k;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=k}const D=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let L;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")L=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)L=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)y=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),b=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${D.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(n=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=M}}try{const{data:v,error:k}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:xf(b)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Oc});if(k)throw k;if(!v||!v.session||!v.user){const N=new hp;return this._returnResult({data:{user:null,session:null},error:N})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:k})}catch(v){if(gr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await sf(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(r??"").split("/");try{const{data:i,error:s}=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Oc});if(await H0(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new hp;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:s})}catch(i){if(gr(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:n,access_token:i,nonce:s}=t,l=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Oc}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new hp;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(gr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,n,i,s;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await fp(this.storage,this.storageKey));const{error:m}=await Tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await Tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(s=u==null?void 0:u.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Rb("You must provide either an email or phone number.")}catch(l){if(gr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,a;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:l}=await Tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Oc});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const u=s.session,d=s.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(n){if(gr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,a,n;try{let i=null,s=null;this.flowType==="pkce"&&([i,s]=await fp(this.storage,this.storageKey));const l=await Tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:PQ});return this._returnResult(l)}catch(i){if(gr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Cc;const{error:n}=await Tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(gr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:s}=await Tr(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:s,error:l}=await Tr(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new Rb("You must provide either an email or phone number and a type")}catch(r){if(gr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<B5:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await sf(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=q5()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=TQ(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Q0}):await this._useSession(async r=>{var a,n,i;const{data:s,error:l}=r;if(l)throw l;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cc}:await Tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Q0})})}catch(r){if(gr(r))return sQ(r)&&(await this._removeSession(),await H0(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Cc;const s=n.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await fp(this.storage,this.storageKey));const{data:d,error:h}=await Tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:s.access_token,xform:Q0});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(a){if(gr(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cc;const r=Date.now()/1e3;let a=r,n=!0,i=null;const{payload:s}=z5(t.access_token);if(s.exp&&(a=s.exp,n=a<=r),n){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(gr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Cc;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(gr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Rs())throw new Fb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new r8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new r8("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:l,expires_at:u,token_type:d}=t;if(!i||!l||!s||!d)throw new Fb("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let x=h+m;u&&(x=parseInt(u));const p=x-h;p*1e3<=Ap&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const y=x-m;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,h);const{data:b,error:v}=await this._getUser(i);if(v)throw v;const k={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:m,expires_at:x,refresh_token:s,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(a){if(gr(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const s=(a=n.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(iQ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await H0(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=mQ(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,n;try{const{data:{session:i},error:s}=r;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await fp(this.storage,this.storageKey,!0));try{return await Tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(gr(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:n}=await this._useSession(async i=>{var s,l,u,d,h;const{data:m,error:x}=i;if(x)throw x;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Tr(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return Rs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(gr(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:s,provider:l,token:u,access_token:d,nonce:h}=t,m=await Tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Oc}),{data:x,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new hp}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:p}))}catch(n){if(gr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)throw s;return await Tr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await vQ(async n=>(n>0&&await xQ(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await Tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oc})),(n,i)=>{const s=200*Math.pow(2,n);return i&&U5(i)&&Date.now()+s-a<Ap})}catch(a){if(this._debug(r,"error",a),gr(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),Rs()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await sf(this.storage,this.storageKey);if(n&&this.userStorage){let s=await sf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:n.user},await Tp(this.userStorage,this.storageKey+"-user",s)),n.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:q5()}else if(n&&!n.user&&!n.user){const s=await sf(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(n.user=s.user,await H0(this.storage,this.storageKey+"-user"),await Tp(this.storage,this.storageKey,n)):n.user=q5()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<B5;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${B5}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),U5(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(n.access_token);!l&&(s!=null&&s.user)?(n.user=s.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Cc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ow;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Cc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),gr(i)){const s={data:null,error:i};return U5(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Tp(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=o8(n);await Tp(this.storage,this.storageKey,i)}else{const n=o8(r);await Tp(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await H0(this.storage,this.storageKey),await H0(this.storage,this.storageKey+"-code-verifier"),await H0(this.storage,this.storageKey+"-user"),this.userStorage&&await H0(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ap);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/Ap);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ap}ms, refresh threshold is ${US} ticks`),n<=US&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof WI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const n=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,s]=await fp(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await Tr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await Tr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((n=u==null?void 0:u.totp)===null||n===void 0)&&n.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GQ(t.webauthn.credential_response):YQ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await Tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Tr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:VQ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KQ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=z5(a.access_token);let s=null;i.aal&&(s=i.aal);let l=s;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;return n?this._returnResult({data:null,error:n}):a?await Tr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Cc})})}catch(r){if(gr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Cc});const s=await Tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Rs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(gr(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Cc});const s=await Tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Rs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(gr(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(l=>l.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+aQ>n)return a;const{data:i,error:s}=await Tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});a=p.session.access_token}const{header:n,payload:i,signature:s,raw:{header:l,payload:u}}=z5(a);r!=null&&r.allowExpired||NQ(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:s},error:null}}const h=jQ(n.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,hQ(`${l}.${u}`)))throw new $S("Invalid JWT signature");return{data:{claims:i,header:n,signature:s},error:null}}catch(a){if(gr(a))return this._returnResult({data:null,error:a});throw a}}}g1.nextInstanceID={};const nJ=g1;class iJ extends nJ{constructor(t){super(t)}}class sJ{constructor(t,r,a){var n,i,s;this.supabaseUrl=t,this.supabaseKey=r;const l=JX(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:HX,realtime:VX,auth:Object.assign(Object.assign({},WX),{storageKey:u}),global:$X},h=QX(a??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=YX(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ZY(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new UX(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new YY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:l,lock:u,debug:d,throwOnError:h},m,x){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iJ({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:h,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gX(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oJ=(e,t,r)=>new sJ(e,t,r);function lJ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lJ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GI="https://uvaxkefgehiokxkvaqge.supabase.co",cJ="replace_with_real_anon_key_for_production",$N=GI.includes("placeholder");if($N)throw new Error("PRODUCTION BUILD ERROR: Missing Supabase env. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const Tt=oJ(GI,cJ,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),uJ=Object.freeze(Object.defineProperty({__proto__:null,IS_OFFLINE:$N,supabase:Tt},Symbol.toStringTag,{value:"Module"})),Fr=(e,t)=>({ok:!0,data:e,meta:t}),ot=e=>{var t,r;try{typeof window<"u"&&((r=(t=import.meta)==null?void 0:t.env)!=null&&r.DEV)&&(window.__repoErrors=window.__repoErrors||[],window.__repoErrors.push(e),window.dispatchEvent(new CustomEvent("repo-error",{detail:e})))}catch{}return{ok:!1,error:e}};typeof window<"u"&&(window.__repoErrors=window.__repoErrors||[]);const dJ="audit_logs";let Qx=[],Ip=null,hJ=10,fJ=2e3,m8=!1;function mJ({userId:e,input:t}){return{user_id:e,action:t.action,table_name:t.tableName??null,record_id:t.recordId??null,old_data:t.oldData?JSON.stringify(t.oldData):null,new_data:t.newData?JSON.stringify(t.newData):null,ip_address:t.ipAddress??null,user_agent:t.userAgent||(typeof navigator<"u"?navigator.userAgent:null)}}async function HN(){var t,r;if(Qx.length===0)return;const e=Qx;Qx=[];try{const a=e.map(mJ);await Tt.from(dJ).insert(a)}catch(a){(r=(t=import.meta)==null?void 0:t.env)!=null&&r.DEV&&console.warn("auditQueue flush failed",a)}}function pJ(){Ip||(Ip=setTimeout(async()=>{Ip=null,await HN()},fJ))}function gJ(){if(m8||typeof window>"u")return;m8=!0;const e=()=>{HN()};window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}),window.addEventListener("beforeunload",e)}function xJ(e,t){if(gJ(),Qx.push({userId:e,input:t}),Qx.length>=hJ){HN(),Ip&&(clearTimeout(Ip),Ip=null);return}pJ()}const vJ="audit_logs";async function On(e,t){var r,a;try{xJ(e,t)}catch(n){(a=(r=import.meta)==null?void 0:r.env)!=null&&a.DEV&&console.warn("Audit log exception",n)}}async function bJ(e){try{const t=(e==null?void 0:e.pageSize)||(e==null?void 0:e.limit)||50,r=e!=null&&e.page&&e.page>0?e.page:1,a=(r-1)*t,n=a+t-1,i=e!=null&&e.includeUser?"audit_logs_with_user":vJ;let s=Tt.from(i).select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(a,n);e!=null&&e.action&&(s=s.eq("action",e.action)),e!=null&&e.startDate&&(s=s.gte("created_at",e.startDate)),e!=null&&e.endDate&&(s=s.lte("created_at",e.endDate));const{data:l,error:u,count:d}=await s;return u?ot({code:"supabase",message:"Khng th ti audit logs",cause:u}):Fr(l||[],{total:d,page:r,pageSize:t})}catch(t){return ot({code:"network",message:"Li mng khi ti audit logs",cause:t})}}const HS="cash_transactions";async function yJ(e){try{let t=Tt.from(HS).select("*").order("date",{ascending:!1});e!=null&&e.branchId&&(t=t.eq("branchId",e.branchId)),e!=null&&e.startDate&&(t=t.gte("date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit)),e!=null&&e.type&&(t=t.eq("type",e.type));const{data:r,error:a}=await t;return a?ot({code:"supabase",message:"Khng th ti s qu",cause:a}):Fr(r||[])}catch(t){return ot({code:"network",message:"Li kt ni khi ti s qu",cause:t})}}async function WS(e){var t;try{if(!e.amount||e.amount<=0)return ot({code:"validation",message:"S tin phi > 0"});if(!e.branchId)return ot({code:"validation",message:"Thiu chi nhnh"});if(!e.paymentSourceId)return ot({code:"validation",message:"Thiu ngun tin"});if(!e.type)return ot({code:"validation",message:"Thiu loi thu/chi"});const r={amount:e.amount,branchId:e.branchId,paymentSource:e.paymentSourceId,paymentSourceId:e.paymentSourceId,category:e.category||(e.type==="income"?"general_income":"general_expense"),date:e.date||new Date().toISOString(),notes:e.notes,description:e.notes,type:e.type,saleId:e.saleId,workOrderId:e.workOrderId,payrollRecordId:e.payrollRecordId,loanPaymentId:e.loanPaymentId,supplierId:e.supplierId,customerId:e.customerId,recipient:e.recipient},{data:a,error:n}=await Tt.from(HS).insert([r]).select().single();if(n||!a)return ot({code:"supabase",message:"Ghi s qu tht bi",cause:n});const i=a;try{if(!r.saleId&&!r.workOrderId&&!r.payrollRecordId&&!r.loanPaymentId){const{data:l}=await Tt.auth.getUser(),u=((t=l==null?void 0:l.user)==null?void 0:t.id)||null;On(u,{action:"cash.manual",tableName:HS,recordId:i.id,oldData:null,newData:i})}}catch{}return Fr(i)}catch(r){return ot({code:"network",message:"Li kt ni khi ghi s qu",cause:r})}}const H5="payment_sources";async function VS(e,t,r){var a;try{const{data:n,error:i}=await Tt.from(H5).select("*").eq("id",e).single();if(i||!n)return ot({code:"supabase",message:"Khng tm thy ngun tin",cause:i});const s=n.balance||{},l={...s,[t]:(s[t]||0)+r},{data:u,error:d}=await Tt.from(H5).update({balance:l}).eq("id",e).select().single();if(d||!u)return ot({code:"supabase",message:"Cp nht s d tht bi",cause:d});let h=null;try{const{data:m}=await Tt.auth.getUser();h=((a=m==null?void 0:m.user)==null?void 0:a.id)||null}catch{}return await On(h,{action:"payment_source.balance_adjust",tableName:H5,recordId:e,oldData:{balance:s},newData:{balance:l,delta:r,branchId:t}}),Fr(u)}catch(n){return ot({code:"network",message:"Li kt ni khi cp nht s d",cause:n})}}function ca(e){switch(e.code){case"network":return"Mt kt ni my ch. Vui lng kim tra mng.";case"validation":return e.message;case"not_found":return"Khng tm thy bn ghi.";case"supabase":return"C li d liu. Th li hoc lin h qun tr.";default:return"Li khng xc nh."}}const YI=j.createContext(void 0),wJ=({children:e})=>{const[t]=j.useState("CN1"),a=(()=>{try{const ke=localStorage.getItem("motocare-data");if(ke)return JSON.parse(ke)}catch(ke){console.error("Error loading from localStorage:",ke)}return{}})(),[n,i]=j.useState(()=>(a==null?void 0:a.parts)||[]),[s,l]=j.useState(()=>(a==null?void 0:a.customers)||[]),[u,d]=j.useState(()=>(a==null?void 0:a.suppliers)||[]),[h,m]=j.useState(()=>(a==null?void 0:a.sales)||[]),[x,p]=j.useState(()=>(a==null?void 0:a.workOrders)||[]),[y,b]=j.useState(()=>(a==null?void 0:a.cartItems)||[]),[v,k]=j.useState(()=>(a==null?void 0:a.paymentSources)||[{id:"cash",name:"Tin mt",balance:{CN1:0},isDefault:!0},{id:"bank",name:"Ti khon ngn hng",balance:{CN1:0}}]),[N,_]=j.useState(()=>(a==null?void 0:a.cashTransactions)||[]),[A,D]=j.useState(()=>(a==null?void 0:a.inventoryTransactions)||[]),[M,L]=j.useState(()=>(a==null?void 0:a.employees)||[]),[B,F]=j.useState(()=>(a==null?void 0:a.payrollRecords)||[]),[H,O]=j.useState(()=>(a==null?void 0:a.loans)||[]),[I,V]=j.useState(()=>(a==null?void 0:a.loanPayments)||[]),[Y,te]=j.useState(()=>(a==null?void 0:a.customerDebts)||[]),[X,ae]=j.useState(()=>(a==null?void 0:a.supplierDebts)||[]);j.useEffect(()=>{const ke={parts:n,customers:s,suppliers:u,sales:h,workOrders:x,cartItems:y,paymentSources:v,cashTransactions:N,inventoryTransactions:A,employees:M,payrollRecords:B,loans:H,loanPayments:I,customerDebts:Y,supplierDebts:X};localStorage.setItem("motocare-data",JSON.stringify(ke))},[n,s,u,h,x,y,v,N,A,M,B,H,I,Y,X]);const de=j.useCallback(ke=>{i(ye=>{if(ke.id)return ye.map(ze=>ze.id===ke.id?{...ze,...ke}:ze);const ce=`PART-${Date.now()}-${Math.random().toString(16).slice(2)}`;return[{id:ce,name:ke.name||"Tn ph tng",sku:ke.sku||ce,stock:ke.stock||{[t]:0},retailPrice:ke.retailPrice||{[t]:0},wholesalePrice:ke.wholesalePrice||{[t]:0},category:ke.category,description:ke.description,warrantyPeriod:ke.warrantyPeriod,created_at:new Date().toISOString()},...ye]})},[t]),oe=j.useCallback(ke=>{i(ye=>ye.filter(ce=>ce.id!==ke))},[]),De=j.useCallback(ke=>{l(ye=>ke.id?ye.findIndex(Te=>Te.id===ke.id)>=0?ye.map(Te=>Te.id===ke.id?{...Te,...ke}:Te):[{id:ke.id,name:ke.name||"Khch hng",phone:ke.phone,created_at:new Date().toISOString(),...ke},...ye]:[{id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ke.name||"Khch hng",phone:ke.phone,created_at:new Date().toISOString(),...ke},...ye])},[]),re=j.useCallback(ke=>{d(ye=>ke.id?ye.map(ze=>ze.id===ke.id?{...ze,...ke}:ze):[{id:`SUP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ke.name||"Nh cung cp",phone:ke.phone,email:ke.email,address:ke.address,created_at:new Date().toISOString()},...ye])},[]),P=j.useCallback(ke=>{p(ye=>ye.find(qe=>qe.id===ke.id)?ye.map(qe=>qe.id===ke.id?ke:qe):[ke,...ye])},[]),W=j.useCallback(()=>b([]),[]),z=j.useCallback(ke=>{if(!ke.items.length)return;const ye=ke.items.reduce((Be,ut)=>Be+ut.sellingPrice*ut.quantity,0),ce=ke.items.reduce((Be,ut)=>Be+(ut.discount||0),0),qe=ye-ce-ke.discount,ze=`SALE-${Date.now()}`,mt={id:ze,date:new Date().toISOString(),items:ke.items,subtotal:ye,discount:ke.discount+ce,total:qe,customer:ke.customer,paymentMethod:ke.paymentMethod,userId:"local-user",userName:"Local User",branchId:t,cashTransactionId:void 0};m(Be=>[mt,...Be]),i(Be=>Be.map(ut=>{const bt=ke.items.filter(Me=>Me.partId===ut.id).reduce((Me,at)=>Me+at.quantity,0);return bt?{...ut,stock:{...ut.stock,[t]:(ut.stock[t]||0)-bt}}:ut}));const Ee={id:`CT-${Date.now()}`,type:"income",date:new Date().toISOString(),amount:qe,notes:ke.note||"Thu tin bn hng",paymentSourceId:ke.paymentMethod,branchId:t,category:"sale_income",saleId:ze};_(Be=>[Ee,...Be]),k(Be=>Be.map(ut=>ut.id===ke.paymentMethod?{...ut,balance:{...ut.balance,[t]:(ut.balance[t]||0)+qe}}:ut)),W()},[W,t]),q=j.useCallback(ke=>{const ye=h.find(ce=>ce.id===ke);ye&&(m(ce=>ce.filter(qe=>qe.id!==ke)),i(ce=>ce.map(qe=>{const ze=ye.items.filter(mt=>mt.partId===qe.id).reduce((mt,Te)=>mt+Te.quantity,0);return ze?{...qe,stock:{...qe.stock,[t]:(qe.stock[t]||0)+ze}}:qe})),_(ce=>ce.filter(qe=>qe.saleId!==ke)),k(ce=>ce.map(qe=>qe.id===ye.paymentMethod?{...qe,balance:{...qe.balance,[t]:(qe.balance[t]||0)-ye.total}}:qe)))},[h,t]),Z=j.useCallback(ke=>{const ce={id:`INV-${Date.now()}-${Math.random().toString(16).slice(2)}`,...ke};D(qe=>[ce,...qe])},[]),se=j.useCallback(ke=>{L(ye=>ke.id?ye.map(ze=>ze.id===ke.id?{...ze,...ke}:ze):[{id:`EMP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ke.name||"Nhn vin",phone:ke.phone,position:ke.position||"",baseSalary:ke.baseSalary||0,startDate:ke.startDate||new Date().toISOString(),status:ke.status||"active",created_at:new Date().toISOString()},...ye])},[]),ee=j.useCallback(ke=>{F(ye=>ye.find(qe=>qe.id===ke.id)?ye.map(qe=>qe.id===ke.id?ke:qe):[ke,...ye])},[]),Q=j.useCallback(ke=>{O(ye=>ke.id?ye.map(ze=>ze.id===ke.id?{...ze,...ke}:ze):[{id:`LOAN-${Date.now()}-${Math.random().toString(16).slice(2)}`,lenderName:ke.lenderName||"",loanType:ke.loanType||"bank",principal:ke.principal||0,interestRate:ke.interestRate||0,term:ke.term||0,startDate:ke.startDate||new Date().toISOString(),endDate:ke.endDate||new Date().toISOString(),monthlyPayment:ke.monthlyPayment||0,remainingAmount:ke.remainingAmount||ke.principal||0,status:ke.status||"active",purpose:ke.purpose,collateral:ke.collateral,branchId:t,created_at:new Date().toISOString()},...ye])},[t]),me=j.useCallback(ke=>{V(ye=>ye.find(qe=>qe.id===ke.id)?ye.map(qe=>qe.id===ke.id?ke:qe):[ke,...ye])},[]),Ae=j.useCallback((ke,ye,ce)=>{let qe=0;te(ze=>ze.map(mt=>{if(ke.includes(mt.customerId)&&mt.branchId===t){const Te=mt.remainingAmount;return qe+=Te,{...mt,paidAmount:mt.totalAmount,remainingAmount:0,status:"paid"}}return mt}).filter(mt=>mt.remainingAmount>0)),qe>0&&(async()=>{var Be;const{data:ze}=await Tt.auth.getUser(),mt=((Be=ze==null?void 0:ze.user)==null?void 0:Be.id)||null,Te=await WS({type:"income",amount:qe,branchId:t,paymentSourceId:ye,date:ce,category:"debt_collection",notes:`Thu ht n cho ${ke.length} khch hng`,recipient:`Thu n ${ke.length} khch hng`});if(!Te.ok){Xe.error(ca(Te.error));return}const Ee=await VS(ye,t,qe);Ee.ok||Xe.error(ca(Ee.error)),On(mt,{action:"debt.customer_pay",tableName:"customer_debts",oldData:null,newData:{customerIds:ke,totalPaid:qe,paymentMethod:ye,timestamp:ce}})})()},[t]),J=j.useCallback((ke,ye,ce)=>{let qe=0;ae(ze=>ze.map(mt=>{if(ke.includes(mt.supplierId)&&mt.branchId===t){const Te=mt.remainingAmount;return qe+=Te,{...mt,paidAmount:mt.totalAmount,remainingAmount:0,status:"paid"}}return mt}).filter(mt=>mt.remainingAmount>0)),qe>0&&(async()=>{var Be;const{data:ze}=await Tt.auth.getUser(),mt=((Be=ze==null?void 0:ze.user)==null?void 0:Be.id)||null,Te=await WS({type:"expense",amount:qe,branchId:t,paymentSourceId:ye,date:ce,category:"debt_payment",notes:`Tr ht n cho ${ke.length} nh cung cp`,recipient:`Tr n ${ke.length} nh cung cp`});if(!Te.ok){Xe.error(ca(Te.error));return}const Ee=await VS(ye,t,-qe);Ee.ok||Xe.error(ca(Ee.error)),On(mt,{action:"debt.supplier_pay",tableName:"supplier_debts",oldData:null,newData:{supplierIds:ke,totalPaid:qe,paymentMethod:ye,timestamp:ce}})})()},[t]);return o.jsx(YI.Provider,{value:{parts:n,customers:s,suppliers:u,sales:h,workOrders:x,cartItems:y,paymentSources:v,cashTransactions:N,inventoryTransactions:A,employees:M,payrollRecords:B,loans:H,loanPayments:I,customerDebts:Y,supplierDebts:X,currentBranchId:t,setParts:i,upsertPart:de,deletePart:oe,setCustomers:l,upsertCustomer:De,setSuppliers:d,upsertSupplier:re,setWorkOrders:p,upsertWorkOrder:P,setCartItems:b,clearCart:W,deleteSale:q,finalizeSale:z,setPaymentSources:k,setCashTransactions:_,recordInventoryTransaction:Z,setEmployees:L,upsertEmployee:se,setPayrollRecords:F,upsertPayrollRecord:ee,setLoans:O,upsertLoan:Q,setLoanPayments:V,upsertLoanPayment:me,setCustomerDebts:te,setSupplierDebts:ae,payCustomerDebts:Ae,paySupplierDebts:J},children:e})},si=()=>{const e=j.useContext(YI);if(!e)throw new Error("useAppContext phi dng bn trong AppProvider");return e},XI=j.createContext(void 0),kJ=({children:e})=>{const[t,r]=j.useState(()=>{const n=localStorage.getItem("theme");return n==="light"||n==="dark"?n:"light"});j.useEffect(()=>{localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const a=()=>{r(n=>n==="light"?"dark":"light")};return o.jsx(XI.Provider,{value:{theme:t,toggleTheme:a},children:e})},_J=()=>{const e=j.useContext(XI);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},QI=j.createContext(void 0),rc=()=>{const e=j.useContext(QI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},JI=({children:e})=>{const[t,r]=j.useState(null),[a,n]=j.useState(null),[i,s]=j.useState(null),[l,u]=j.useState(!0),[d,h]=j.useState(null);j.useEffect(()=>{Tt.auth.getSession().then(({data:{session:k}})=>{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?m(k.user.id):u(!1)});const{data:{subscription:v}}=Tt.auth.onAuthStateChange((k,N)=>{s(N),r((N==null?void 0:N.user)??null),N!=null&&N.user?m(N.user.id):(n(null),u(!1))});return()=>v.unsubscribe()},[]);const m=async v=>{try{let{data:k,error:N}=await Tt.from("profiles").select("*").eq("id",v).maybeSingle();if(N&&N.code!=="PGRST116")throw N;if(!k){const _=await Tt.from("user_profiles").select("*").eq("id",v).maybeSingle();if(k=_.data,N=_.error,N&&N.code!=="PGRST116")throw N}if(N)throw N;n(k||null)}catch(k){console.error("Error loading user profile:",k),n(null),h("Khng th ti h s ngi dng")}finally{u(!1)}},b={user:t,profile:a,session:i,loading:l,error:d,signIn:async(v,k)=>{var D;const{error:N,data:_}=await Tt.auth.signInWithPassword({email:v,password:k});if(N)throw N;h(null);const A=((D=_==null?void 0:_.user)==null?void 0:D.id)||null;On(A,{action:"auth.login"})},signOut:async()=>{const v=(t==null?void 0:t.id)||null,{error:k}=await Tt.auth.signOut();if(k)throw k;h(null),On(v,{action:"auth.logout"})},hasRole:v=>a?v.includes(a.role):!1};return o.jsx(QI.Provider,{value:b,children:e})},SJ=Object.freeze(Object.defineProperty({__proto__:null,AuthProvider:JI,useAuth:rc},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZI=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:s,...l},u)=>j.createElement("svg",{ref:u,...jJ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:ZI("lucide",n),...l},[...s.map(([d,h])=>j.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const r=j.forwardRef(({className:a,...n},i)=>j.createElement(AJ,{ref:i,iconNode:t,className:ZI(`lucide-${NJ(e)}`,a),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Kt("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Kt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Kt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=Kt("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Kt("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Kt("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Kt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Kt("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Kt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Kt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Kt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Kt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=Kt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=Kt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Kt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=Kt("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Kt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Kt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Kt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Kt("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Kt("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Kt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Kt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Kt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Kt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Kt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=Kt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Kt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Kt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Kt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Kt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Kt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Kt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Kt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=Kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Kt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Kt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Kt("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Kt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=Kt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Kt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Kt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=Kt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=Kt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=Kt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Kt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Kt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Kt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Kt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Kt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Kt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Kt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lZ=()=>{const e=tw(),{signIn:t}=rc(),[r,a]=j.useState(""),[n,i]=j.useState(""),[s,l]=j.useState(!1),[u,d]=j.useState(""),h=async m=>{m.preventDefault(),d(""),l(!0);try{await t(r,n),Xe.success("ng nhp thnh cng!"),e("/dashboard")}catch(x){console.error("Login error:",x);const p=x.message||"ng nhp tht bi";d(p),Xe.error(p)}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white dark:bg-slate-800 rounded-2xl mb-4 shadow-lg ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden",children:o.jsx("img",{src:"/logo-smartcare.png",alt:"Nhn-Lm SmartCare",className:"w-full h-full object-contain p-1.5",onError:m=>{const x=m.currentTarget;x.style.display="none";const p=x.parentElement;if(p){p.innerHTML="";const y=document.createElement("span");y.className="text-blue-600 dark:text-blue-400",p.appendChild(y)}}})}),o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"MotoCare"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"H thng qun l ca hng xe my"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"ng nhp"}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),o.jsxs("form",{onSubmit:h,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:r,onChange:m=>a(m.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mt khu"}),o.jsx("input",{type:"password",value:n,onChange:m=>i(m.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ghi nh ng nhp"})]}),o.jsx("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Qun mt khu?"})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:s?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):"ng nhp"})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-1",children:[o.jsx(UJ,{className:"w-4 h-4"})," Ti khon demo:"]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[o.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[o.jsx(aR,{className:"w-4 h-4"})," Ch ca hng"]}),o.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"owner.motocare.test@gmail.com"})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[o.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[o.jsx(lR,{className:"w-4 h-4"})," Qun l"]}),o.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"manager.motocare.test@gmail.com"})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[o.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[o.jsx(XN,{className:"w-4 h-4"})," Nhn vin"]}),o.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"staff.motocare.test@gmail.com"})]}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center mt-2",children:["Mt khu: ",o.jsx("code",{className:"font-semibold",children:"123456"})]})]})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" 2025 MotoCare. Phin bn 1.0.0"})})]})})},uR=({size:e="md",color:t="blue",text:r})=>{const a={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"},n={blue:"border-blue-200 dark:border-blue-900 border-t-blue-600 dark:border-t-blue-400",white:"border-white/30 border-t-white",slate:"border-slate-200 dark:border-slate-700 border-t-slate-600 dark:border-t-slate-400"};return o.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[o.jsx("div",{className:`${a[e]} ${n[t]} rounded-full animate-spin`}),r&&o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 animate-pulse",children:r})]})},mu=({children:e,requiredRoles:t})=>{const{user:r,profile:a,loading:n,error:i}=rc();return i&&Xe.error(i),n||r&&!a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:o.jsx(uR,{})}):r?t&&a&&!t.includes(a.role)?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[o.jsx(EJ,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),"Khng c quyn truy cp"]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Bn khng c quyn truy cp trang ny."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:"Quay li"})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(O9,{to:"/login",replace:!0})},cZ="inventory_summary_by_branch";async function uZ(e){try{let t=Tt.from(cZ).select("*");e!=null&&e.branchId&&(t=t.eq("branch_id",e.branchId));const{data:r,error:a}=await t;return a?ot({code:"supabase",message:"Khng th ti tng hp tn kho",cause:a}):Fr(r||[])}catch(t){return ot({code:"network",message:"Li kt ni khi ti tng hp tn kho",cause:t})}}const dZ=e=>xi({queryKey:["inventorySummary","all"],queryFn:async()=>{const t=await uZ({branchId:e});if(!t.ok)throw t.error;return t.data},staleTime:3e4}),Oe=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),ln=(e,t=!0)=>{if(!e)return"--";const r=typeof e=="string"?new Date(e):e;if(Number.isNaN(r.getTime()))return"--";const a=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),i=r.getFullYear();if(t)return`${a}/${n}/${i}`;const s=String(r.getHours()).padStart(2,"0"),l=String(r.getMinutes()).padStart(2,"0");return`${a}/${n}/${i} ${s}:${l}`},so=(e,t)=>{if(!e)return"";const r=t||"SC";let a=e.match(new RegExp(`^${r}-(\\d{10,})`,"i"));if(a||(a=e.match(/WO-(\d+)/i)||e.match(/(\d{10,})/)),a&&a[1]){const n=a[1],i=Number(n);if(!Number.isNaN(i)){const s=new Date(i);if(!Number.isNaN(s.getTime())){const l=`${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}${String(s.getDate()).padStart(2,"0")}`,u=String(n).slice(-6).padStart(6,"0");return`${r}-${l}-${u}`}}}return e},Rp=(e,t)=>{if(!e)return"";const r=e.match(/^([A-Z0-9_-]+)-(\d{10,})$/i);if(r){const n=r[1],i=r[2],s=Number(i);if(!Number.isNaN(s)){const l=new Date(s);if(!Number.isNaN(l.getTime())){const u=`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}${String(l.getDate()).padStart(2,"0")}`,d=String(i).slice(-6).padStart(6,"0");return`${n}-${u}-${d}`}}}const a=e.match(/(\d{10,})/);if(a){const n=a[1],i=Number(n);if(!Number.isNaN(i)){const s=new Date(i);if(!Number.isNaN(s.getTime())){const l=`${s.getFullYear()}${String(s.getMonth()+1).padStart(2,"0")}${String(s.getDate()).padStart(2,"0")}`,u=String(n).slice(-6).padStart(6,"0");return`${t||"SC"}-${l}-${u}`}}}return e},Cr=()=>Math.random().toString(36).substr(2,9),Ic=new Date,ar=e=>{const t=new Date(Ic);return t.setDate(t.getDate()-e),t.toISOString()},ur=[{id:Cr(),name:"Nguyn Vn An",phone:"0901234567",email:"annv@gmail.com",vehicleModel:"Honda SH 2023",licensePlate:"30A-12345",status:"active",segment:"VIP",loyaltyPoints:5800,totalSpent:29e6,visitCount:32,lastVisit:ar(3),created_at:ar(180)},{id:Cr(),name:"Trn Th Bnh",phone:"0912345678",email:"binhtt@gmail.com",vehicleModel:"Yamaha Exciter 150",licensePlate:"30B-67890",status:"active",segment:"Loyal",loyaltyPoints:2500,totalSpent:125e5,visitCount:15,lastVisit:ar(7),created_at:ar(150)},{id:Cr(),name:"L Minh Cng",phone:"0923456789",email:"cuonglm@gmail.com",vehicleModel:"Honda Vision 2022",licensePlate:"30C-11111",status:"active",segment:"Potential",loyaltyPoints:680,totalSpent:34e5,visitCount:5,lastVisit:ar(15),created_at:ar(90)},{id:Cr(),name:"Phm Thu H",phone:"0934567890",email:"hapt@gmail.com",vehicleModel:"Suzuki Raider 150",licensePlate:"30D-22222",status:"active",segment:"New",loyaltyPoints:150,totalSpent:75e4,visitCount:2,lastVisit:ar(5),created_at:ar(30)},{id:Cr(),name:"V Thanh Tng",phone:"0945678901",email:"tungvt@gmail.com",vehicleModel:"Honda Air Blade",licensePlate:"30E-33333",status:"active",segment:"VIP",loyaltyPoints:4200,totalSpent:21e6,visitCount:28,lastVisit:ar(2),created_at:ar(200)}],pr=[{id:Cr(),name:"Nht Motul 7100 10W40",sku:"MOTUL-7100",retailPrice:{CN1:18e4},wholesalePrice:{CN1:15e4},stock:{CN1:50},category:"Nht ng c",description:"Nht cao cp cho xe cn tay",created_at:ar(365)},{id:Cr(),name:"Lp Michelin Pilot Street",sku:"MICH-PS",retailPrice:{CN1:45e4},wholesalePrice:{CN1:38e4},stock:{CN1:30},category:"Lp xe",description:"Lp cht lng cao",created_at:ar(300)},{id:Cr(),name:"Phanh ABS Honda SH",sku:"PHANH-SH",retailPrice:{CN1:35e4},wholesalePrice:{CN1:28e4},stock:{CN1:8},category:"Ph tng phanh",description:"M phanh chnh hng",created_at:ar(250)},{id:Cr(),name:"c quy GS GTZ5S",sku:"ACQUY-GS",retailPrice:{CN1:38e4},wholesalePrice:{CN1:32e4},stock:{CN1:25},category:"c quy",description:"c quy kh, bo hnh 6 thng",created_at:ar(200)},{id:Cr(),name:"Nht Shell Advance AX7",sku:"SHELL-AX7",retailPrice:{CN1:12e4},wholesalePrice:{CN1:95e3},stock:{CN1:80},category:"Nht ng c",description:"Nht bn tng hp",created_at:ar(180)},{id:Cr(),name:"Lc gi K&N",sku:"KN-FILTER",retailPrice:{CN1:25e4},wholesalePrice:{CN1:2e5},stock:{CN1:15},category:"Lc",description:"Lc gi cao cp, c th ra",created_at:ar(150)},{id:Cr(),name:"Xch MTKRACING 428",sku:"XICH-MTK",retailPrice:{CN1:28e4},wholesalePrice:{CN1:23e4},stock:{CN1:5},category:"Xch nhng",description:"Xch cht lng cao",created_at:ar(120)}],rl=[{id:Cr(),name:"Nguyn Vn c",phone:"0987654321",email:"duc.nv@motocare.vn",position:"K thut vin chnh",department:"K thut",baseSalary:12e6,allowances:5e5,startDate:ar(730),status:"active",branchId:"CN1",created_at:ar(730)},{id:Cr(),name:"Trn Minh Hong",phone:"0976543210",email:"hoang.tm@motocare.vn",position:"Nhn vin bn hng",department:"Kinh doanh",baseSalary:8e6,allowances:3e5,startDate:ar(365),status:"active",branchId:"CN1",created_at:ar(365)},{id:Cr(),name:"L Th Mai",phone:"0965432109",email:"mai.lt@motocare.vn",position:"K ton",department:"Ti chnh",baseSalary:1e7,allowances:4e5,startDate:ar(500),status:"active",branchId:"CN1",created_at:ar(500)},{id:Cr(),name:"Phm Vn Sn",phone:"0954321098",email:"son.pv@motocare.vn",position:"K thut vin",department:"K thut",baseSalary:9e6,allowances:3e5,startDate:ar(200),status:"active",branchId:"CN1",created_at:ar(200)}],YS=[...Array.from({length:5},(e,t)=>{const r=[{partId:pr[0].id,partName:pr[0].name,sku:pr[0].sku,quantity:2,sellingPrice:pr[0].retailPrice.CN1,stockSnapshot:pr[0].stock.CN1},{partId:pr[1].id,partName:pr[1].name,sku:pr[1].sku,quantity:1,sellingPrice:pr[1].retailPrice.CN1,stockSnapshot:pr[1].stock.CN1}],a=r.reduce((n,i)=>n+i.sellingPrice*i.quantity,0);return{id:Cr(),date:ar(t),customer:{id:ur[t%ur.length].id,name:ur[t%ur.length].name,phone:ur[t%ur.length].phone},items:r,subtotal:a,discount:0,total:a,paymentMethod:"cash",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:10},(e,t)=>{const r=pr[(t+1)%pr.length],a=[{partId:r.id,partName:r.name,sku:r.sku,quantity:1,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],n=a.reduce((i,s)=>i+s.sellingPrice*s.quantity,0);return{id:Cr(),date:ar(t+6),customer:{id:ur[(t+2)%ur.length].id,name:ur[(t+2)%ur.length].name,phone:ur[(t+2)%ur.length].phone},items:a,subtotal:n,discount:0,total:n,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:15},(e,t)=>{const r=pr[t%pr.length],a=Math.floor(Math.random()*3)+1,n=[{partId:r.id,partName:r.name,sku:r.sku,quantity:a,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],i=n.reduce((s,l)=>s+l.sellingPrice*l.quantity,0);return{id:Cr(),date:ar(t+16),customer:{id:ur[(t+3)%ur.length].id,name:ur[(t+3)%ur.length].name,phone:ur[(t+3)%ur.length].phone},items:n,subtotal:i,discount:0,total:i,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}})],y8=rl.flatMap(e=>[{id:Cr(),employeeId:e.id,employeeName:e.name,month:Ic.toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:1e6,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+1e6,paymentStatus:"pending",branchId:"CN1",created_at:Ic.toISOString()},{id:Cr(),employeeId:e.id,employeeName:e.name,month:new Date(Ic.getFullYear(),Ic.getMonth()-1,1).toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:8e5,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+8e5,paymentStatus:"paid",paymentDate:ar(5),paymentMethod:"bank",branchId:"CN1",created_at:ar(35)}]),w8=[{id:Cr(),lenderName:"Ngn hng Vietcombank",loanType:"bank",principal:1e8,interestRate:12,term:12,startDate:ar(180),endDate:new Date(Ic.getFullYear()+1,Ic.getMonth(),Ic.getDate()).toISOString(),purpose:"M rng ca hng",remainingAmount:75e6,monthlyPayment:1e7,status:"active",branchId:"CN1",created_at:ar(180)},{id:Cr(),lenderName:"Ngn hng Techcombank",loanType:"bank",principal:5e7,interestRate:10,term:6,startDate:ar(90),endDate:new Date(Ic.getFullYear(),Ic.getMonth()+6,Ic.getDate()).toISOString(),purpose:"Nhp hng",remainingAmount:4e7,monthlyPayment:9e6,status:"active",branchId:"CN1",created_at:ar(90)}],k8=[...YS.slice(0,10).map(e=>({id:Cr(),type:"income",category:"sale_income",amount:e.total,date:e.date,notes:`Bn hng cho ${e.customer.name}`,paymentSourceId:e.paymentMethod==="cash"?"cash":"bank",recipient:e.customer.name,branchId:"CN1"})),{id:Cr(),type:"expense",category:"salary",amount:125e5,date:ar(5),notes:`Tr lng thng trc - ${rl[0].name}`,paymentSourceId:"bank",recipient:rl[0].name,branchId:"CN1"},{id:Cr(),type:"expense",category:"loan_payment",amount:1e7,date:ar(10),notes:"Tr n vay - Vietcombank (Gc: 8000000, Li: 2000000)",paymentSourceId:"bank",recipient:"Ngn hng Vietcombank",branchId:"CN1"},{id:Cr(),type:"expense",category:"inventory_purchase",amount:15e6,date:ar(15),notes:"Nhp ph tng",paymentSourceId:"cash",branchId:"CN1"},{id:Cr(),type:"expense",category:"other_expense",amount:3e6,date:ar(7),notes:"Tin in, nc, internet thng ny",paymentSourceId:"cash",branchId:"CN1"}],wu=[{id:Cr(),name:"Cng ty TNHH Ph tng Minh Anh",phone:"0281234567",email:"minhanh@parts.vn",address:"123 Nguyn Vn Linh, Q.7, TP.HCM",created_at:ar(365)},{id:Cr(),name:"Nh phn phi Honda chnh hng",phone:"0282345678",email:"honda@distributor.vn",address:"456 Xa l H Ni, Q.9, TP.HCM",created_at:ar(300)},{id:Cr(),name:"Yamaha Parts Vietnam",phone:"0283456789",email:"yamaha@parts.vn",address:"789 L Vn Vit, Q.9, TP.HCM",created_at:ar(250)}],_8=[{id:Cr(),customerId:ur[0].id,customerName:ur[0].name,phone:ur[0].phone,licensePlate:ur[0].licensePlate,description:"Thay nht + lc gi + bugi (n hng #DH001)",totalAmount:85e4,paidAmount:5e5,remainingAmount:35e4,createdDate:ar(10),branchId:"CN1"},{id:Cr(),customerId:ur[1].id,customerName:ur[1].name,phone:ur[1].phone,licensePlate:ur[1].licensePlate,description:"Thay lp Michelin Pilot Street (n hng #DH002)",totalAmount:125e4,paidAmount:0,remainingAmount:125e4,createdDate:ar(7),branchId:"CN1"},{id:Cr(),customerId:ur[2].id,customerName:ur[2].name,phone:ur[2].phone,licensePlate:ur[2].licensePlate,description:"Thay m phanh trc/sau + du phanh (n hng #DH003)",totalAmount:98e4,paidAmount:3e5,remainingAmount:68e4,createdDate:ar(5),branchId:"CN1"},{id:Cr(),customerId:ur[3].id,customerName:ur[3].name,phone:ur[3].phone,licensePlate:ur[3].licensePlate,description:"Thay c quy GS 12V-7Ah (n hng #DH004)",totalAmount:55e4,paidAmount:0,remainingAmount:55e4,createdDate:ar(3),branchId:"CN1"},{id:Cr(),customerId:ur[4].id,customerName:ur[4].name,phone:ur[4].phone,licensePlate:ur[4].licensePlate,description:"Bo dng nh k 5000km (n hng #DH005)",totalAmount:185e4,paidAmount:1e6,remainingAmount:85e4,createdDate:ar(2),branchId:"CN1"}],S8=[{id:Cr(),supplierId:wu[0].id,supplierName:wu[0].name,description:"Nhp 50 chai du nht Shell 10W40 (n nhp #PN001)",totalAmount:6e6,paidAmount:3e6,remainingAmount:3e6,createdDate:ar(15),branchId:"CN1"},{id:Cr(),supplierId:wu[1].id,supplierName:wu[1].name,description:"Nhp l ph tng chnh hng Honda (n nhp #PN002)",totalAmount:25e6,paidAmount:15e6,remainingAmount:1e7,createdDate:ar(12),branchId:"CN1"},{id:Cr(),supplierId:wu[2].id,supplierName:wu[2].name,description:"Nhp 20 b m phanh Yamaha Exciter (n nhp #PN003)",totalAmount:45e5,paidAmount:0,remainingAmount:45e5,createdDate:ar(8),branchId:"CN1"},{id:Cr(),supplierId:wu[0].id,supplierName:wu[0].name,description:"Nhp 30 lc lc du + lc gi (n nhp #PN004)",totalAmount:32e5,paidAmount:32e5,remainingAmount:0,createdDate:ar(5),branchId:"CN1"}],N8=[{id:Cr(),creationDate:ar(1),customerName:ur[0].name,customerPhone:ur[0].phone,vehicleModel:ur[0].vehicleModel,licensePlate:ur[0].licensePlate,issueDescription:"Thay nht nh k, kim tra phanh",technicianName:rl[0].name,status:"ang sa",laborCost:15e4,partsUsed:[{partId:pr[0].id,partName:pr[0].name,sku:pr[0].sku,quantity:1,price:pr[0].retailPrice.CN1}],discount:0,total:15e4+pr[0].retailPrice.CN1,branchId:"CN1",depositAmount:2e5,depositDate:ar(1),paymentStatus:"partial",totalPaid:2e5,remainingAmount:15e4+pr[0].retailPrice.CN1-2e5},{id:Cr(),creationDate:ar(0),customerName:ur[1].name,customerPhone:ur[1].phone,vehicleModel:ur[1].vehicleModel,licensePlate:ur[1].licensePlate,issueDescription:"Xe kh n, kim tra h thng in",technicianName:rl[3].name,status:"Tip nhn",laborCost:3e5,partsUsed:[],discount:0,total:3e5,branchId:"CN1",paymentStatus:"unpaid"},{id:Cr(),creationDate:ar(3),customerName:ur[2].name,customerPhone:ur[2].phone,vehicleModel:ur[2].vehicleModel,licensePlate:ur[2].licensePlate,issueDescription:"Thay lp trc, cn chnh bnh xe",technicianName:rl[0].name,status:" sa xong",laborCost:1e5,partsUsed:[{partId:pr[1].id,partName:pr[1].name,sku:pr[1].sku,quantity:1,price:pr[1].retailPrice.CN1}],discount:2e4,total:1e5+pr[1].retailPrice.CN1-2e4,branchId:"CN1",paymentStatus:"unpaid"},{id:Cr(),creationDate:ar(5),customerName:ur[3].name,customerPhone:ur[3].phone,vehicleModel:ur[3].vehicleModel,licensePlate:ur[3].licensePlate,issueDescription:"Thay c quy, kim tra h thng sc",technicianName:rl[3].name,status:"Tr my",laborCost:5e4,partsUsed:[{partId:pr[3].id,partName:pr[3].name,sku:pr[3].sku,quantity:1,price:pr[3].retailPrice.CN1}],discount:0,total:5e4+pr[3].retailPrice.CN1,branchId:"CN1",depositAmount:1e5,depositDate:ar(5),paymentStatus:"paid",paymentMethod:"cash",totalPaid:5e4+pr[3].retailPrice.CN1,remainingAmount:0,paymentDate:ar(5)},{id:Cr(),creationDate:ar(2),customerName:ur[4].name,customerPhone:ur[4].phone,vehicleModel:ur[4].vehicleModel,licensePlate:ur[4].licensePlate,issueDescription:"Thay dy xch, nhng, kim tra phanh sau",technicianName:rl[0].name,status:"ang sa",laborCost:2e5,partsUsed:[{partId:pr[6].id,partName:pr[6].name,sku:pr[6].sku,quantity:1,price:pr[6].retailPrice.CN1},{partId:pr[2].id,partName:pr[2].name,sku:pr[2].sku,quantity:2,price:pr[2].retailPrice.CN1}],discount:3e4,total:2e5+pr[6].retailPrice.CN1+pr[2].retailPrice.CN1*2-3e4,branchId:"CN1",depositAmount:3e5,depositDate:ar(2),paymentStatus:"partial",totalPaid:3e5,remainingAmount:2e5+pr[6].retailPrice.CN1+pr[2].retailPrice.CN1*2-3e4-3e5},{id:Cr(),creationDate:ar(0),customerName:"Phm Vn c",customerPhone:"0967890123",vehicleModel:"Honda Wave RSX",licensePlate:"30F-44444",issueDescription:"Bo dng nh k 5000km",technicianName:rl[3].name,status:"Tip nhn",laborCost:1e5,partsUsed:[],discount:0,total:1e5,branchId:"CN1",paymentStatus:"unpaid"},{id:Cr(),creationDate:ar(4),customerName:"L Th Hng",customerPhone:"0978901234",vehicleModel:"Yamaha Sirius",licensePlate:"30G-55555",issueDescription:"Thay lc gi, kim tra bugi",technicianName:rl[0].name,status:" sa xong",laborCost:8e4,partsUsed:[{partId:pr[5].id,partName:pr[5].name,sku:pr[5].sku,quantity:1,price:pr[5].retailPrice.CN1}],discount:1e4,total:8e4+pr[5].retailPrice.CN1-1e4,branchId:"CN1",paymentStatus:"unpaid"},{id:Cr(),creationDate:ar(7),customerName:"Nguyn Thanh Tng",customerPhone:"0989012345",vehicleModel:"Honda Future",licensePlate:"30H-66666",issueDescription:"Sa h thng phanh a, thay du phanh",technicianName:rl[3].name,status:"Tr my",laborCost:15e4,partsUsed:[{partId:pr[2].id,partName:pr[2].name,sku:pr[2].sku,quantity:2,price:pr[2].retailPrice.CN1}],discount:0,total:15e4+pr[2].retailPrice.CN1*2,branchId:"CN1",paymentStatus:"paid",paymentMethod:"bank",totalPaid:15e4+pr[2].retailPrice.CN1*2,remainingAmount:0,paymentDate:ar(7)}],hZ=()=>{const e=localStorage.getItem("motocare-data");if(e){const t=JSON.parse(e);t.customers=[...t.customers||[],...ur],t.parts=[...t.parts||[],...pr],t.sales=[...t.sales||[],...YS],t.employees=[...t.employees||[],...rl],t.payrollRecords=[...t.payrollRecords||[],...y8],t.loans=[...t.loans||[],...w8],t.cashTransactions=[...t.cashTransactions||[],...k8],t.suppliers=[...t.suppliers||[],...wu],t.workOrders=[...t.workOrders||[],...N8],t.customerDebts=[...t.customerDebts||[],..._8],t.supplierDebts=[...t.supplierDebts||[],...S8],localStorage.setItem("motocare-data",JSON.stringify(t))}else{const t={customers:ur,parts:pr,sales:YS,employees:rl,payrollRecords:y8,loans:w8,cashTransactions:k8,suppliers:wu,workOrders:N8,customerDebts:_8,supplierDebts:S8,cartItems:[],loanPayments:[],inventoryTransactions:[],paymentSources:[{id:"cash",name:"Tin mt",balance:{CN1:5e7}},{id:"bank",name:"Ngn hng",balance:{CN1:15e7}}]};localStorage.setItem("motocare-data",JSON.stringify(t))}return console.log("Demo data loaded successfully."),!0},fZ=()=>{localStorage.removeItem("motocare-data"),console.log("Demo data cleared.")};var mZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function QN(e){if(typeof e!="string")return!1;var t=mZ;return t.includes(e)}var pZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dR(e){if(typeof e!="string")return!1;var t=pZ;return t.includes(e)}function hR(e){return typeof e=="string"&&e.startsWith("data-")}function po(e){var t=Object.entries(e).filter(r=>{var[a]=r;return dR(a)||hR(a)});return Object.fromEntries(t)}function Wf(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return po(t)}return typeof e=="object"&&!Array.isArray(e)?po(e):null}function go(e){var t=Object.entries(e).filter(r=>{var[a]=r;return dR(a)||hR(a)||QN(a)});return Object.fromEntries(t)}function fR(e){return e==null?null:j.isValidElement(e)?go(e.props):typeof e=="object"&&!Array.isArray(e)?go(e):null}var gZ=["children","width","height","viewBox","className","style","title","desc"];function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},XS.apply(null,arguments)}function xZ(e,t){if(e==null)return{};var r,a,n=vZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var JN=j.forwardRef((e,t)=>{var{children:r,width:a,height:n,viewBox:i,className:s,style:l,title:u,desc:d}=e,h=xZ(e,gZ),m=i||{width:a,height:n,x:0,y:0},x=Hr("recharts-surface",s);return j.createElement("svg",XS({},go(h),{className:x,width:a,height:n,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,u),j.createElement("desc",null,d),r)}),bZ=["children","className"];function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},QS.apply(null,arguments)}function yZ(e,t){if(e==null)return{};var r,a,n=wZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ni=j.forwardRef((e,t)=>{var{children:r,className:a}=e,n=yZ(e,bZ),i=Hr("recharts-layer",a);return j.createElement("g",QS({className:i},go(n),{ref:t}),r)}),mR=j.createContext(null),kZ=()=>j.useContext(mR);function on(e){return function(){return e}}const pR=Math.cos,Vy=Math.sin,Vc=Math.sqrt,Ky=Math.PI,lw=2*Ky,JS=Math.PI,ZS=2*JS,lf=1e-6,_Z=ZS-lf;function gR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gR;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class NZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gR:SZ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,s){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,u=a-t,d=n-r,h=s-t,m=l-r,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>lf)if(!(Math.abs(m*u-d*h)>lf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-s,y=n-l,b=u*u+d*d,v=p*p+y*y,k=Math.sqrt(b),N=Math.sqrt(x),_=i*Math.tan((JS-Math.acos((b+x-v)/(2*k*N)))/2),A=_/N,D=_/k;Math.abs(A-1)>lf&&this._append`L${t+A*h},${r+A*m}`,this._append`A${i},${i},0,0,${+(m*p>h*y)},${this._x1=t+D*u},${this._y1=r+D*d}`}}arc(t,r,a,n,i,s){if(t=+t,r=+r,a=+a,s=!!s,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),u=a*Math.sin(n),d=t+l,h=r+u,m=1^s,x=s?n-i:i-n;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>lf||Math.abs(this._y1-h)>lf)&&this._append`L${d},${h}`,a&&(x<0&&(x=x%ZS+ZS),x>_Z?this._append`A${a},${a},0,1,${m},${t-l},${r-u}A${a},${a},0,1,${m},${this._x1=d},${this._y1=h}`:x>lf&&this._append`A${a},${a},0,${+(x>=JS)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function ZN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new NZ(t)}function ej(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xR(e){this._context=e}xR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cw(e){return new xR(e)}function vR(e){return e[0]}function bR(e){return e[1]}function yR(e,t){var r=on(!0),a=null,n=cw,i=null,s=ZN(l);e=typeof e=="function"?e:e===void 0?vR:on(e),t=typeof t=="function"?t:t===void 0?bR:on(t);function l(u){var d,h=(u=ej(u)).length,m,x=!1,p;for(a==null&&(i=n(p=s())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,d,u),+t(m,d,u));if(p)return i=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:on(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:on(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:on(!!u),l):r},l.curve=function(u){return arguments.length?(n=u,a!=null&&(i=n(a)),l):n},l.context=function(u){return arguments.length?(u==null?a=i=null:i=n(a=u),l):a},l}function Bb(e,t,r){var a=null,n=on(!0),i=null,s=cw,l=null,u=ZN(d);e=typeof e=="function"?e:e===void 0?vR:on(+e),t=typeof t=="function"?t:on(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bR:on(+r);function d(m){var x,p,y,b=(m=ej(m)).length,v,k=!1,N,_=new Array(b),A=new Array(b);for(i==null&&(l=s(N=u())),x=0;x<=b;++x){if(!(x<b&&n(v=m[x],x,m))===k)if(k=!k)p=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=x-1;y>=p;--y)l.point(_[y],A[y]);l.lineEnd(),l.areaEnd()}k&&(_[x]=+e(v,x,m),A[x]=+t(v,x,m),l.point(a?+a(v,x,m):_[x],r?+r(v,x,m):A[x]))}if(N)return l=null,N+""||null}function h(){return yR().defined(n).curve(s).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:on(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:on(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:on(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:on(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:on(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:on(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:on(!!m),d):n},d.curve=function(m){return arguments.length?(s=m,i!=null&&(l=s(i)),d):s},d.context=function(m){return arguments.length?(m==null?i=l=null:l=s(i=m),d):i},d}class wR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jZ(e){return new wR(e,!0)}function AZ(e){return new wR(e,!1)}const tj={draw(e,t){const r=Vc(t/Ky);e.moveTo(r,0),e.arc(0,0,r,0,lw)}},TZ={draw(e,t){const r=Vc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kR=Vc(1/3),EZ=kR*2,CZ={draw(e,t){const r=Vc(t/EZ),a=r*kR;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},OZ={draw(e,t){const r=Vc(t),a=-r/2;e.rect(a,a,r,r)}},PZ=.8908130915292852,_R=Vy(Ky/10)/Vy(7*Ky/10),DZ=Vy(lw/10)*_R,LZ=-pR(lw/10)*_R,MZ={draw(e,t){const r=Vc(t*PZ),a=DZ*r,n=LZ*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const s=lw*i/5,l=pR(s),u=Vy(s);e.lineTo(u*r,-l*r),e.lineTo(l*a-u*n,u*a+l*n)}e.closePath()}},V5=Vc(3),IZ={draw(e,t){const r=-Vc(t/(V5*3));e.moveTo(0,r*2),e.lineTo(-V5*r,-r),e.lineTo(V5*r,-r),e.closePath()}},Il=-.5,Rl=Vc(3)/2,e3=1/Vc(12),RZ=(e3/2+1)*3,FZ={draw(e,t){const r=Vc(t/RZ),a=r/2,n=r*e3,i=a,s=r*e3+r,l=-i,u=s;e.moveTo(a,n),e.lineTo(i,s),e.lineTo(l,u),e.lineTo(Il*a-Rl*n,Rl*a+Il*n),e.lineTo(Il*i-Rl*s,Rl*i+Il*s),e.lineTo(Il*l-Rl*u,Rl*l+Il*u),e.lineTo(Il*a+Rl*n,Il*n-Rl*a),e.lineTo(Il*i+Rl*s,Il*s-Rl*i),e.lineTo(Il*l+Rl*u,Il*u-Rl*l),e.closePath()}};function BZ(e,t){let r=null,a=ZN(n);e=typeof e=="function"?e:on(e||tj),t=typeof t=="function"?t:on(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:on(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:on(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function Gy(){}function Yy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SR(e){this._context=e}SR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UZ(e){return new SR(e)}function NR(e){this._context=e}NR.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zZ(e){return new NR(e)}function jR(e){this._context=e}jR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Yy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qZ(e){return new jR(e)}function AR(e){this._context=e}AR.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $Z(e){return new AR(e)}function j8(e){return e<0?-1:1}function A8(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),s=(r-e._y1)/(n||a<0&&-0),l=(i*n+s*a)/(a+n);return(j8(i)+j8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function T8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function K5(e,t,r){var a=e._x0,n=e._y0,i=e._x1,s=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*t,i-l,s-l*r,i,s)}function Xy(e){this._context=e}Xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K5(this,this._t0,T8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,K5(this,T8(this,r=A8(this,e,t)),r);break;default:K5(this,this._t0,r=A8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TR(e){this._context=new ER(e)}(TR.prototype=Object.create(Xy.prototype)).point=function(e,t){Xy.prototype.point.call(this,t,e)};function ER(e){this._context=e}ER.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function HZ(e){return new Xy(e)}function WZ(e){return new TR(e)}function CR(e){this._context=e}CR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=E8(e),n=E8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E8(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),s=new Array(r);for(n[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,s[t]-=a*s[t-1];for(n[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function VZ(e){return new CR(e)}function uw(e,t){this._context=e,this._t=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KZ(e){return new uw(e,.5)}function GZ(e){return new uw(e,0)}function YZ(e){return new uw(e,1)}function cg(e,t){if((s=e.length)>1)for(var r=1,a,n,i=e[t[0]],s,l=i.length;r<s;++r)for(n=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function t3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XZ(e,t){return e[t]}function QZ(e){const t=[];return t.key=e,t}function JZ(){var e=on([]),t=t3,r=cg,a=XZ;function n(i){var s=Array.from(e.apply(this,arguments),QZ),l,u=s.length,d=-1,h;for(const m of i)for(l=0,++d;l<u;++l)(s[l][d]=[0,+a(m,s[l].key,d,i)]).data=m;for(l=0,h=ej(t(s));l<u;++l)s[h[l]].index=l;return r(s,h),s}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:on(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:on(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?t3:typeof i=="function"?i:on(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??cg,n):r},n}function ZZ(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,s;n<i;++n){for(s=r=0;r<a;++r)s+=e[r][n][1]||0;if(s)for(r=0;r<a;++r)e[r][n][1]/=s}cg(e,t)}}function eee(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var s=0,l=0;s<n;++s)l+=e[s][r][1]||0;a[r][1]+=a[r][0]=-l/2}cg(e,t)}}function tee(e,t){if(!(!((s=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,s;a<i;++a){for(var l=0,u=0,d=0;l<s;++l){for(var h=e[t[l]],m=h[a][1]||0,x=h[a-1][1]||0,p=(m-x)/2,y=0;y<l;++y){var b=e[t[y]],v=b[a][1]||0,k=b[a-1][1]||0;p+=v-k}u+=m,d+=p*m}n[a-1][1]+=n[a-1][0]=r,u&&(r-=d/u)}n[a-1][1]+=n[a-1][0]=r,cg(e,t)}}var G5={},Y5={},C8;function ree(){return C8||(C8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Y5)),Y5}var X5={},O8;function OR(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(X5)),X5}var Q5={},P8;function rj(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(Q5)),Q5}var J5={},Z5={},D8;function aee(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(Z5)),Z5}var L8;function aj(){return L8||(L8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aee(),r=rj();function a(n){if(Array.isArray(n))return n.map(r.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],s=n.length;if(s===0)return i;let l=0,u="",d="",h=!1;for(n.charCodeAt(0)===46&&(i.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,u+=n[l]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,i.push(u),u=""):u+=m:m==="["?(h=!0,u&&(i.push(u),u="")):m==="."?u&&(i.push(u),u=""):u+=m,l++}return u&&i.push(u),i}e.toPath=a})(J5)),J5}var M8;function nj(){return M8||(M8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ree(),r=OR(),a=rj(),n=aj();function i(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?r.isDeepKey(u)?i(l,n.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function s(l,u,d){if(u.length===0)return d;let h=l;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return d;h=h[u[m]]}return h===void 0?d:h}e.get=i})(G5)),G5}var e4,I8;function nee(){return I8||(I8=1,e4=nj().get),e4}var iee=nee();const Vf=Hc(iee);var cs=e=>e===0?0:e>0?1:-1,pl=e=>typeof e=="number"&&e!=+e,Kd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tr=e=>(typeof e=="number"||e instanceof Number)&&!pl(e),Lu=e=>tr(e)||typeof e=="string",see=0,b1=e=>{var t=++see;return"".concat(e||"").concat(t)},Hs=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tr(t)&&typeof t!="string")return a;var i;if(Kd(t)){if(r==null)return a;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return pl(i)&&(i=a),n&&r!=null&&i>r&&(i=r),i},PR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function Ka(e,t,r){return tr(e)&&tr(t)?e+r*(t-e):t}function DR(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Vf(a,t))===r)}var vn=e=>e===null||typeof e>"u",iv=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),oee=["type","size","sizeType"];function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r3.apply(null,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(a){lee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lee(e,t,r){return(t=cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dee(e,t){if(e==null)return{};var r,a,n=hee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var LR={symbolCircle:tj,symbolCross:TZ,symbolDiamond:CZ,symbolSquare:OZ,symbolStar:MZ,symbolTriangle:IZ,symbolWye:FZ},fee=Math.PI/180,mee=e=>{var t="symbol".concat(iv(e));return LR[t]||tj},pee=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*fee;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},gee=(e,t)=>{LR["symbol".concat(iv(e))]=t},ij=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=dee(e,oee),i=F8(F8({},n),{},{type:t,size:r,sizeType:a}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var x=mee(s),p=BZ().type(x).size(pee(r,a,s)),y=p();if(y!==null)return y},{className:u,cx:d,cy:h}=i,m=go(i);return d===+d&&h===+h&&r===+r?j.createElement("path",r3({},m,{className:Hr("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:l()})):null};ij.registerSymbol=gee;var sj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(n=>{QN(n)&&(a[n]=(i=>r[n](r,i)))}),a},xee=(e,t,r)=>a=>(e(t,r,a),null),sv=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];QN(n)&&typeof i=="function"&&(a||(a={}),a[n]=xee(i,t,r))}),a};function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a3.apply(null,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(a){oj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oj(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fl=32;class lj extends j.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,n=Fl/2,i=Fl/6,s=Fl/3,l=t.inactive?a:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:Fl,y2:n,className:"recharts-legend-icon"});if(u==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(n,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(n,`
            H`).concat(Fl,"M").concat(2*s,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if(u==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fl/8,"h").concat(Fl,"v").concat(Fl*3/4,"h").concat(-Fl,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var d=vee({},t);return delete d.legendIcon,j.cloneElement(t.legendIcon,d)}return j.createElement(ij,{fill:l,cx:n,cy:n,size:Fl,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:s}=this.props,l={x:0,y:0,width:Fl,height:Fl},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var x=h.formatter||n,p=Hr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var y=h.inactive?i:h.color,b=x?x(h.value,h,m):h.value;return j.createElement("li",a3({className:p,style:u,key:"legend-item-".concat(m)},sv(this.props,h,m)),j.createElement(JN,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(b," legend icon")},this.renderIcon(h,s)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}oj(lj,"displayName","Legend");oj(lj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var t4={},r4={},U8;function wee(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const n=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=a(s);n.has(l)||n.set(l,s)}return Array.from(n.values())}e.uniqBy=t})(r4)),r4}var a4={},z8;function MR(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(a4)),a4}var n4={},i4={},s4={},q8;function kee(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(s4)),s4}var $8;function cj(){return $8||($8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kee();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(i4)),i4}var o4={},H8;function _ee(){return H8||(H8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(o4)),o4}var W8;function See(){return W8||(W8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cj(),r=_ee();function a(n){return r.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(n4)),n4}var l4={},c4={},V8;function Nee(){return V8||(V8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj();function r(a){return function(n){return t.get(n,a)}}e.property=r})(c4)),c4}var u4={},d4={},h4={},f4={},K8;function IR(){return K8||(K8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(f4)),f4}var m4={},G8;function RR(){return G8||(G8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(m4)),m4}var p4={},Y8;function FR(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(p4)),p4}var X8;function jee(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR(),r=RR(),a=FR();function n(h,m,x){return typeof x!="function"?n(h,m,()=>{}):i(h,m,function p(y,b,v,k,N,_){const A=x(y,b,v,k,N,_);return A!==void 0?!!A:i(y,b,p,_)},new Map)}function i(h,m,x,p){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,x,p);case"function":return Object.keys(m).length>0?i(h,{...m},x,p):a.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:a.eq(h,m)}}function s(h,m,x,p){if(m==null)return!0;if(Array.isArray(m))return u(h,m,x,p);if(m instanceof Map)return l(h,m,x,p);if(m instanceof Set)return d(h,m,x,p);const y=Object.keys(m);if(h==null)return y.length===0;if(y.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===h;p==null||p.set(m,h);try{for(let b=0;b<y.length;b++){const v=y[b];if(!r.isPrimitive(h)&&!(v in h)||m[v]===void 0&&h[v]!==void 0||m[v]===null&&h[v]!==null||!x(h[v],m[v],v,h,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function l(h,m,x,p){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,b]of m.entries()){const v=h.get(y);if(x(v,b,y,h,m,p)===!1)return!1}return!0}function u(h,m,x,p){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let b=0;b<m.length;b++){const v=m[b];let k=!1;for(let N=0;N<h.length;N++){if(y.has(N))continue;const _=h[N];let A=!1;if(x(_,v,b,h,m,p)&&(A=!0),A){y.add(N),k=!0;break}}if(!k)return!1}return!0}function d(h,m,x,p){return m.size===0?!0:h instanceof Set?u([...h],[...m],x,p):!1}e.isMatchWith=n,e.isSetMatch=d})(h4)),h4}var Q8;function BR(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jee();function r(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=r})(d4)),d4}var g4={},x4={},v4={},J8;function Aee(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(v4)),v4}var b4={},Z8;function UR(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(b4)),b4}var y4={},eO;function zR(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",x="[object ArrayBuffer]",p="[object Object]",y="[object Error]",b="[object DataView]",v="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",_="[object Uint32Array]",A="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",B="[object BigInt64Array]",F="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=A,e.booleanTag=n,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=F,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=M,e.int32ArrayTag=L,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=a,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=N,e.uint32ArrayTag=_,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=k})(y4)),y4}var w4={},tO;function Tee(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(w4)),w4}var rO;function qR(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aee(),r=UR(),a=zR(),n=RR(),i=Tee();function s(h,m){return l(h,void 0,h,new Map,m)}function l(h,m,x,p=new Map,y=void 0){const b=y==null?void 0:y(h,m,x,p);if(b!==void 0)return b;if(n.isPrimitive(h))return h;if(p.has(h))return p.get(h);if(Array.isArray(h)){const v=new Array(h.length);p.set(h,v);for(let k=0;k<h.length;k++)v[k]=l(h[k],k,x,p,y);return Object.hasOwn(h,"index")&&(v.index=h.index),Object.hasOwn(h,"input")&&(v.input=h.input),v}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const v=new RegExp(h.source,h.flags);return v.lastIndex=h.lastIndex,v}if(h instanceof Map){const v=new Map;p.set(h,v);for(const[k,N]of h)v.set(k,l(N,k,x,p,y));return v}if(h instanceof Set){const v=new Set;p.set(h,v);for(const k of h)v.add(l(k,void 0,x,p,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const v=new(Object.getPrototypeOf(h)).constructor(h.length);p.set(h,v);for(let k=0;k<h.length;k++)v[k]=l(h[k],k,x,p,y);return v}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const v=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return p.set(h,v),u(v,h,x,p,y),v}if(typeof File<"u"&&h instanceof File){const v=new File([h],h.name,{type:h.type});return p.set(h,v),u(v,h,x,p,y),v}if(typeof Blob<"u"&&h instanceof Blob){const v=new Blob([h],{type:h.type});return p.set(h,v),u(v,h,x,p,y),v}if(h instanceof Error){const v=new h.constructor;return p.set(h,v),v.message=h.message,v.name=h.name,v.stack=h.stack,v.cause=h.cause,u(v,h,x,p,y),v}if(h instanceof Boolean){const v=new Boolean(h.valueOf());return p.set(h,v),u(v,h,x,p,y),v}if(h instanceof Number){const v=new Number(h.valueOf());return p.set(h,v),u(v,h,x,p,y),v}if(h instanceof String){const v=new String(h.valueOf());return p.set(h,v),u(v,h,x,p,y),v}if(typeof h=="object"&&d(h)){const v=Object.create(Object.getPrototypeOf(h));return p.set(h,v),u(v,h,x,p,y),v}return h}function u(h,m,x=h,p,y){const b=[...Object.keys(m),...t.getSymbols(m)];for(let v=0;v<b.length;v++){const k=b[v],N=Object.getOwnPropertyDescriptor(h,k);(N==null||N.writable)&&(h[k]=l(m[k],k,x,p,y))}}function d(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(x4)),x4}var aO;function Eee(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(g4)),g4}var nO;function Cee(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BR(),r=Eee();function a(n){return n=r.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(u4)),u4}var k4={},_4={},S4={},iO;function Oee(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR(),r=zR();function a(n,i){return t.cloneDeepWith(n,(s,l,u,d)=>{const h=i==null?void 0:i(s,l,u,d);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(m,n),m}case r.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(S4)),S4}var sO;function Pee(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oee();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(_4)),_4}var N4={},j4={},oO;function $R(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(j4)),j4}var A4={},lO;function Dee(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UR();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(A4)),A4}var cO;function Lee(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OR(),r=$R(),a=Dee(),n=aj();function i(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=n.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let h=0;h<u.length;h++){const m=u[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(N4)),N4}var uO;function Mee(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BR(),r=rj(),a=Pee(),n=nj(),i=Lee();function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=a.cloneDeep(u),function(d){const h=n.get(d,l);return h===void 0?i.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=s})(k4)),k4}var dO;function Iee(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR(),r=Nee(),a=Cee(),n=Mee();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?n.matchesProperty(s[0],s[1]):a.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(l4)),l4}var hO;function Ree(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wee(),r=MR(),a=See(),n=Iee();function i(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.iteratee(l)):[]}e.uniqBy=i})(t4)),t4}var T4,fO;function Fee(){return fO||(fO=1,T4=Ree().uniqBy),T4}var Bee=Fee();const mO=Hc(Bee);function HR(e,t,r){return t===!0?mO(e,r):typeof t=="function"?mO(e,t):e}var E4={exports:{}},C4={},O4={exports:{}},P4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO;function Uee(){if(pO)return P4;pO=1;var e=bg();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(m,x){var p=x(),y=a({inst:{value:p,getSnapshot:x}}),b=y[0].inst,v=y[1];return i(function(){b.value=p,b.getSnapshot=x,u(b)&&v({inst:b})},[m,p,x]),n(function(){return u(b)&&v({inst:b}),m(function(){u(b)&&v({inst:b})})},[m]),s(p),p}function u(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!r(m,p)}catch{return!0}}function d(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return P4.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,P4}var gO;function zee(){return gO||(gO=1,O4.exports=Uee()),O4.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function qee(){if(xO)return C4;xO=1;var e=bg(),t=zee();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var a=typeof Object.is=="function"?Object.is:r,n=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return C4.useSyncExternalStoreWithSelector=function(d,h,m,x,p){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function k(M){if(!N){if(N=!0,_=M,M=x(M),p!==void 0&&b.hasValue){var L=b.value;if(p(L,M))return A=L}return A=M}if(L=A,a(_,M))return L;var B=x(M);return p!==void 0&&p(L,B)?(_=M,L):(_=M,A=B)}var N=!1,_,A,D=m===void 0?null:m;return[function(){return k(h())},D===null?void 0:function(){return k(D())}]},[h,m,x,p]);var v=n(d,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),u(v),v},C4}var vO;function $ee(){return vO||(vO=1,E4.exports=qee()),E4.exports}var Hee=$ee(),uj=j.createContext(null),Wee=e=>e,Pn=()=>{var e=j.useContext(uj);return e?e.store.dispatch:Wee},Ny=()=>{},Vee=()=>Ny,Kee=(e,t)=>e===t;function nr(e){var t=j.useContext(uj);return Hee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Vee,t?t.store.getState:Ny,t?t.store.getState:Ny,t?e:Ny,Kee)}function Gee(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Yee(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Xee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var bO=e=>Array.isArray(e)?e:[e];function Qee(e){const t=Array.isArray(e[0])?e[0]:e;return Xee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Jee(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}var Zee=class{constructor(e){this.value=e}deref(){return this.value}},ete=typeof WeakRef<"u"?WeakRef:Zee,tte=0,yO=1;function Ub(){return{s:tte,v:void 0,o:null,p:null}}function WR(e,t={}){let r=Ub();const{resultEqualityCheck:a}=t;let n,i=0;function s(){var m;let l=r;const{length:u}=arguments;for(let x=0,p=u;x<p;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const v=b.get(y);v===void 0?(l=Ub(),b.set(y,l)):l=v}else{let b=l.p;b===null&&(l.p=b=new Map);const v=b.get(y);v===void 0?(l=Ub(),b.set(y,l)):l=v}}const d=l;let h;if(l.s===yO)h=l.v;else if(h=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,h)&&(h=x,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new ete(h):h}return d.s=yO,d.v=h,h}return s.clearCache=()=>{r=Ub(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function rte(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,s=0,l,u={},d=n.pop();typeof d=="object"&&(u=d,d=n.pop()),Gee(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...u},{memoize:m,memoizeOptions:x=[],argsMemoize:p=WR,argsMemoizeOptions:y=[]}=h,b=bO(x),v=bO(y),k=Qee(n),N=m(function(){return i++,d.apply(null,arguments)},...b),_=p(function(){s++;const D=Jee(k,arguments);return l=N.apply(null,D),l},...v);return Object.assign(_,{resultFunc:d,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var tt=rte(WR),ate=Object.assign((e,t=tt)=>{Yee(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((s,l,u)=>(s[r[u]]=l,s),{}))},{withTypes:()=>ate}),D4={},L4={},M4={},wO;function nte(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,n,i)=>{if(a!==n){const s=t(a),l=t(n);if(s===l&&s===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(M4)),M4}var I4={},R4={},kO;function VR(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(R4)),R4}var _O;function ite(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=n})(I4)),I4}var SO;function ste(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nte(),r=ite(),a=aj();function n(i,s,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const d=(p,y)=>{let b=p;for(let v=0;v<y.length&&b!=null;++v)b=b[y[v]];return b},h=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:d(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?d(y,p):typeof y=="object"?y[p]:y,m=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:a.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(y=>h(y,p))})).slice().sort((p,y)=>{for(let b=0;b<m.length;b++){const v=t.compareValues(p.criteria[b],y.criteria[b],l[b]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=n})(L4)),L4}var F4={},NO;function ote(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const n=[],i=Math.floor(a),s=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<i?s(h,u+1):n.push(h)}};return s(r,0),n}e.flatten=t})(F4)),F4}var B4={},jO;function KR(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),r=cj(),a=IR(),n=FR();function i(s,l,u){return a.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?n.eq(u[l],s):!1}e.isIterateeCall=i})(B4)),B4}var AO;function lte(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ste(),r=ote(),a=KR();function n(i,...s){const l=s.length;return l>1&&a.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&a.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=n})(D4)),D4}var U4,TO;function cte(){return TO||(TO=1,U4=lte().sortBy),U4}var ute=cte();const dw=Hc(ute);var GR=e=>e.legend.settings,dte=e=>e.legend.size,hte=e=>e.legend.payload,fte=tt([hte,GR],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?dw(a,r):a});function mte(){return nr(fte)}var zb=1;function YR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),a=j.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>zb||Math.abs(s.left-t.left)>zb||Math.abs(s.top-t.top)>zb||Math.abs(s.width-t.width)>zb)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function ks(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pte=typeof Symbol=="function"&&Symbol.observable||"@@observable",EO=pte,z4=()=>Math.random().toString(36).substring(7).split("").join("."),gte={INIT:`@@redux/INIT${z4()}`,REPLACE:`@@redux/REPLACE${z4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${z4()}`},Qy=gte;function dj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XR(e,t,r){if(typeof e!="function")throw new Error(ks(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ks(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ks(1));return r(XR)(e,t)}let a=e,n=t,i=new Map,s=i,l=0,u=!1;function d(){s===i&&(s=new Map,i.forEach((v,k)=>{s.set(k,v)}))}function h(){if(u)throw new Error(ks(3));return n}function m(v){if(typeof v!="function")throw new Error(ks(4));if(u)throw new Error(ks(5));let k=!0;d();const N=l++;return s.set(N,v),function(){if(k){if(u)throw new Error(ks(6));k=!1,d(),s.delete(N),i=null}}}function x(v){if(!dj(v))throw new Error(ks(7));if(typeof v.type>"u")throw new Error(ks(8));if(typeof v.type!="string")throw new Error(ks(17));if(u)throw new Error(ks(9));try{u=!0,n=a(n,v)}finally{u=!1}return(i=s).forEach(N=>{N()}),v}function p(v){if(typeof v!="function")throw new Error(ks(10));a=v,x({type:Qy.REPLACE})}function y(){const v=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ks(11));function N(){const A=k;A.next&&A.next(h())}return N(),{unsubscribe:v(N)}},[EO](){return this}}}return x({type:Qy.INIT}),{dispatch:x,subscribe:m,getState:h,replaceReducer:p,[EO]:y}}function xte(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qy.INIT})>"u")throw new Error(ks(12));if(typeof r(void 0,{type:Qy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ks(13))})}function QR(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const a=Object.keys(r);let n;try{xte(r)}catch(i){n=i}return function(s={},l){if(n)throw n;let u=!1;const d={};for(let h=0;h<a.length;h++){const m=a[h],x=r[m],p=s[m],y=x(p,l);if(typeof y>"u")throw l&&l.type,new Error(ks(14));d[m]=y,u=u||y!==p}return u=u||a.length!==Object.keys(s).length,u?d:s}}function Jy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function vte(...e){return t=>(r,a)=>{const n=t(r,a);let i=()=>{throw new Error(ks(15))};const s={getState:n.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(s));return i=Jy(...l)(n.dispatch),{...n,dispatch:i}}}function JR(e){return dj(e)&&"type"in e&&typeof e.type=="string"}var ZR=Symbol.for("immer-nothing"),CO=Symbol.for("immer-draftable"),gl=Symbol.for("immer-state");function Rc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var y1=Object.getPrototypeOf;function Kf(e){return!!e&&!!e[gl]}function Gd(e){var t;return e?eF(e)||Array.isArray(e)||!!e[CO]||!!((t=e.constructor)!=null&&t[CO])||ov(e)||fw(e):!1}var bte=Object.prototype.constructor.toString(),OO=new WeakMap;function eF(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=OO.get(r);return a===void 0&&(a=Function.toString.call(r),OO.set(r,a)),a===bte}function Zy(e,t,r=!0){hw(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function hw(e){const t=e[gl];return t?t.type_:Array.isArray(e)?1:ov(e)?2:fw(e)?3:0}function n3(e,t){return hw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tF(e,t,r){const a=hw(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function yte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ov(e){return e instanceof Map}function fw(e){return e instanceof Set}function cf(e){return e.copy_||e.base_}function i3(e,t){if(ov(e))return new Map(e);if(fw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=eF(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[gl];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const s=n[i],l=a[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(y1(e),a)}else{const a=y1(e);if(a!==null&&r)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function hj(e,t=!1){return mw(e)||Kf(e)||!Gd(e)||(hw(e)>1&&Object.defineProperties(e,{set:qb,add:qb,clear:qb,delete:qb}),Object.freeze(e),t&&Object.values(e).forEach(r=>hj(r,!0))),e}function wte(){Rc(2)}var qb={value:wte};function mw(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var kte={};function Gf(e){const t=kte[e];return t||Rc(0,e),t}var w1;function rF(){return w1}function _te(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PO(e,t){t&&(Gf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function s3(e){o3(e),e.drafts_.forEach(Ste),e.drafts_=null}function o3(e){e===w1&&(w1=e.parent_)}function DO(e){return w1=_te(w1,e)}function Ste(e){const t=e[gl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[gl].modified_&&(s3(t),Rc(4)),Gd(e)&&(e=e2(t,e),t.parent_||t2(t,e)),t.patches_&&Gf("Patches").generateReplacementPatches_(r[gl].base_,e,t.patches_,t.inversePatches_)):e=e2(t,r,[]),s3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZR?e:void 0}function e2(e,t,r){if(mw(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[gl];if(!n)return Zy(t,(i,s)=>MO(e,n,t,i,s,r),a),t;if(n.scope_!==e)return t;if(!n.modified_)return t2(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,l=!1;n.type_===3&&(s=new Set(i),i.clear(),l=!0),Zy(s,(u,d)=>MO(e,n,i,u,d,r,l),a),t2(e,i,!1),r&&e.patches_&&Gf("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function MO(e,t,r,a,n,i,s){if(n==null||typeof n!="object"&&!s)return;const l=mw(n);if(!(l&&!s)){if(Kf(n)){const u=i&&t&&t.type_!==3&&!n3(t.assigned_,a)?i.concat(a):void 0,d=e2(e,n,u);if(tF(r,a,d),Kf(d))e.canAutoFreeze_=!1;else return}else s&&r.add(n);if(Gd(n)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&l)return;e2(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(ov(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&t2(e,n)}}}function t2(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hj(t,r)}function Nte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:rF(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=fj;r&&(n=[a],i=k1);const{revoke:s,proxy:l}=Proxy.revocable(n,i);return a.draft_=l,a.revoke_=s,l}var fj={get(e,t){if(t===gl)return e;const r=cf(e);if(!n3(r,t))return jte(e,r,t);const a=r[t];return e.finalized_||!Gd(a)?a:a===q4(e.base_,t)?($4(e),e.copy_[t]=c3(a,e)):a},has(e,t){return t in cf(e)},ownKeys(e){return Reflect.ownKeys(cf(e))},set(e,t,r){const a=aF(cf(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const n=q4(cf(e),t),i=n==null?void 0:n[gl];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(yte(r,n)&&(r!==void 0||n3(e.base_,t)))return!0;$4(e),l3(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return q4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$4(e),l3(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=cf(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Rc(11)},getPrototypeOf(e){return y1(e.base_)},setPrototypeOf(){Rc(12)}},k1={};Zy(fj,(e,t)=>{k1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});k1.deleteProperty=function(e,t){return k1.set.call(this,e,t,void 0)};k1.set=function(e,t,r){return fj.set.call(this,e[0],t,r,e[0])};function q4(e,t){const r=e[gl];return(r?cf(r):e)[t]}function jte(e,t,r){var n;const a=aF(t,r);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function aF(e,t){if(!(t in e))return;let r=y1(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=y1(r)}}function l3(e){e.modified_||(e.modified_=!0,e.parent_&&l3(e.parent_))}function $4(e){e.copy_||(e.copy_=i3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ate=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(u=i,...d){return s.produce(u,h=>r.call(this,h,...d))}}typeof r!="function"&&Rc(6),a!==void 0&&typeof a!="function"&&Rc(7);let n;if(Gd(t)){const i=DO(this),s=c3(t,void 0);let l=!0;try{n=r(s),l=!1}finally{l?s3(i):o3(i)}return PO(i,a),LO(n,i)}else if(!t||typeof t!="object"){if(n=r(t),n===void 0&&(n=t),n===ZR&&(n=void 0),this.autoFreeze_&&hj(n,!0),a){const i=[],s=[];Gf("Patches").generateReplacementPatches_(t,n,i,s),a(i,s)}return n}else Rc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let a,n;return[this.produce(t,r,(s,l)=>{a=s,n=l}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gd(e)||Rc(8),Kf(e)&&(e=Md(e));const t=DO(this),r=c3(e,void 0);return r[gl].isManual_=!0,o3(t),r}finishDraft(e,t){const r=e&&e[gl];(!r||!r.isManual_)&&Rc(9);const{scope_:a}=r;return PO(a,t),LO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}r>-1&&(t=t.slice(r+1));const a=Gf("Patches").applyPatches_;return Kf(e)?a(e,t):this.produce(e,n=>a(n,t))}};function c3(e,t){const r=ov(e)?Gf("MapSet").proxyMap_(e,t):fw(e)?Gf("MapSet").proxySet_(e,t):Nte(e,t);return(t?t.scope_:rF()).drafts_.push(r),r}function Md(e){return Kf(e)||Rc(10,e),nF(e)}function nF(e){if(!Gd(e)||mw(e))return e;const t=e[gl];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=i3(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=i3(e,!0);return Zy(r,(n,i)=>{tF(r,n,nF(i))},a),t&&(t.finalized_=!1),r}var u3=new Ate,iF=u3.produce,Tte=u3.setUseStrictIteration.bind(u3);function sF(e){return({dispatch:r,getState:a})=>n=>i=>typeof i=="function"?i(r,a,e):n(i)}var Ete=sF(),Cte=sF,Ote=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jy:Jy.apply(null,arguments)};function Jl(e,t){function r(...a){if(t){let n=t(...a);if(!n)throw new Error(ml(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>JR(a)&&a.type===e,r}var oF=class qx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qx.prototype)}static get[Symbol.species](){return qx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qx(...t[0].concat(this)):new qx(...t.concat(this))}};function IO(e){return Gd(e)?iF(e,()=>{}):e}function $b(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Pte(e){return typeof e=="boolean"}var Dte=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let s=new oF;return r&&(Pte(r)?s.push(Ete):s.push(Cte(r.extraArgument))),s},lF="RTK_autoBatch",co=()=>e=>({payload:e,meta:{[lF]:!0}}),RO=e=>t=>{setTimeout(t,e)},cF=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,i=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RO(10):e.type==="callback"?e.queueNotification:RO(e.timeout),d=()=>{s=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const m=()=>n&&h(),x=a.subscribe(m);return l.add(h),()=>{x(),l.delete(h)}},dispatch(h){var m;try{return n=!((m=h==null?void 0:h.meta)!=null&&m[lF]),i=!n,i&&(s||(s=!0,u(d))),a.dispatch(h)}finally{n=!0}}})},Lte=e=>function(r){const{autoBatch:a=!0}=r??{};let n=new oF(e);return a&&n.push(cF(typeof a=="object"?a:void 0)),n};function Mte(e){const t=Dte(),{reducer:r=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(dj(r))l=QR(r);else throw new Error(ml(1));let u;typeof a=="function"?u=a(t):u=t();let d=Jy;n&&(d=Ote({trace:!1,...typeof n=="object"&&n}));const h=vte(...u),m=Lte(h);let x=typeof s=="function"?s(m):m();const p=d(...x);return XR(l,i,p)}function uF(e){const t={},r=[];let a;const n={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(ml(28));if(l in t)throw new Error(ml(29));return t[l]=s,n},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),n},addMatcher(i,s){return r.push({matcher:i,reducer:s}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,r,a]}Tte(!1);function Ite(e){return typeof e=="function"}function Rte(e,t){let[r,a,n]=uF(t),i;if(Ite(e))i=()=>IO(e());else{const l=IO(e);i=()=>l}function s(l=i(),u){let d=[r[u.type],...a.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[n]),d.reduce((h,m)=>{if(m)if(Kf(h)){const p=m(h,u);return p===void 0?h:p}else{if(Gd(h))return iF(h,x=>m(x,u));{const x=m(h,u);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},l)}return s.getInitialState=i,s}var Fte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Bte=(e=21)=>{let t="",r=e;for(;r--;)t+=Fte[Math.random()*64|0];return t},Ute=Symbol.for("rtk-slice-createasyncthunk");function zte(e,t){return`${e}/${t}`}function qte({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Ute];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(ml(11));const l=(typeof n.reducers=="function"?n.reducers(Hte()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,D){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(ml(12));if(M in d.sliceCaseReducersByType)throw new Error(ml(13));return d.sliceCaseReducersByType[M]=D,h},addMatcher(A,D){return d.sliceMatchers.push({matcher:A,reducer:D}),h},exposeAction(A,D){return d.actionCreators[A]=D,h},exposeCaseReducer(A,D){return d.sliceCaseReducersByName[A]=D,h}};u.forEach(A=>{const D=l[A],M={reducerName:A,type:zte(i,A),createNotation:typeof n.reducers=="function"};Vte(D)?Gte(M,D,h,t):Wte(M,D,h)});function m(){const[A={},D=[],M=void 0]=typeof n.extraReducers=="function"?uF(n.extraReducers):[n.extraReducers],L={...A,...d.sliceCaseReducersByType};return Rte(n.initialState,B=>{for(let F in L)B.addCase(F,L[F]);for(let F of d.sliceMatchers)B.addMatcher(F.matcher,F.reducer);for(let F of D)B.addMatcher(F.matcher,F.reducer);M&&B.addDefaultCase(M)})}const x=A=>A,p=new Map,y=new WeakMap;let b;function v(A,D){return b||(b=m()),b(A,D)}function k(){return b||(b=m()),b.getInitialState()}function N(A,D=!1){function M(B){let F=B[A];return typeof F>"u"&&D&&(F=$b(y,M,k)),F}function L(B=x){const F=$b(p,D,()=>new WeakMap);return $b(F,B,()=>{const H={};for(const[O,I]of Object.entries(n.selectors??{}))H[O]=$te(I,B,()=>$b(y,B,k),D);return H})}return{reducerPath:A,getSelectors:L,get selectors(){return L(M)},selectSlice:M}}const _={name:i,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:k,...N(s),injectInto(A,{reducerPath:D,...M}={}){const L=D??s;return A.inject({reducerPath:L,reducer:v},M),{..._,...N(L,!0)}}};return _}}function $te(e,t,r,a){function n(i,...s){let l=t(i);return typeof l>"u"&&a&&(l=r()),e(l,...s)}return n.unwrapped=e,n}var vl=qte();function Hte(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Wte({type:e,reducerName:t,createNotation:r},a,n){let i,s;if("reducer"in a){if(r&&!Kte(a))throw new Error(ml(17));i=a.reducer,s=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Jl(e,s):Jl(e))}function Vte(e){return e._reducerDefinitionType==="asyncThunk"}function Kte(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gte({type:e,reducerName:t},r,a,n){if(!n)throw new Error(ml(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:u,settled:d,options:h}=r,m=n(e,i,h);a.exposeAction(t,m),s&&a.addCase(m.fulfilled,s),l&&a.addCase(m.pending,l),u&&a.addCase(m.rejected,u),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:s||Hb,pending:l||Hb,rejected:u||Hb,settled:d||Hb})}function Hb(){}var Yte="task",dF="listener",hF="completed",mj="cancelled",Xte=`task-${mj}`,Qte=`task-${hF}`,d3=`${dF}-${mj}`,Jte=`${dF}-${hF}`,pw=class{constructor(e){va(this,"name","TaskAbortError");va(this,"message");this.code=e,this.message=`${Yte} ${mj} (reason: ${e})`}},pj=(e,t)=>{if(typeof e!="function")throw new TypeError(ml(32))},r2=()=>{},fF=(e,t=r2)=>(e.catch(t),e),mF=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pf=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Df=e=>{if(e.aborted){const{reason:t}=e;throw new pw(t)}};function pF(e,t){let r=r2;return new Promise((a,n)=>{const i=()=>n(new pw(e.reason));if(e.aborted){i();return}r=mF(e,i),t.finally(()=>r()).then(a,n)}).finally(()=>{r=r2})}var Zte=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof pw?"cancelled":"rejected",error:r}}finally{t==null||t()}},a2=e=>t=>fF(pF(e,t).then(r=>(Df(e),r))),gF=e=>{const t=a2(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Fp}=Object,FO={},gw="listenerMiddleware",ere=(e,t)=>{const r=a=>mF(e,()=>Pf(a,e.reason));return(a,n)=>{pj(a);const i=new AbortController;r(i);const s=Zte(async()=>{Df(e),Df(i.signal);const l=await a({pause:a2(i.signal),delay:gF(i.signal),signal:i.signal});return Df(i.signal),l},()=>Pf(i,Qte));return n!=null&&n.autoJoin&&t.push(s.catch(r2)),{result:a2(e)(s),cancel(){Pf(i,Xte)}}}},tre=(e,t)=>{const r=async(a,n)=>{Df(t);let i=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),u([m,x.getState(),x.getOriginalState()])}});i=()=>{h(),d()}})];n!=null&&l.push(new Promise(u=>setTimeout(u,n,null)));try{const u=await pF(t,Promise.race(l));return Df(t),u}finally{i()}};return(a,n)=>fF(r(a,n))},xF=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:i}=e;if(t)n=Jl(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(ml(21));return pj(i),{predicate:n,type:t,effect:i}},vF=Fp(e=>{const{type:t,predicate:r,effect:a}=xF(e);return{id:Bte(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ml(22))}}},{withTypes:()=>vF}),BO=(e,t)=>{const{type:r,effect:a,predicate:n}=xF(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===n)&&i.effect===a)},h3=e=>{e.pending.forEach(t=>{Pf(t,d3)})},rre=(e,t)=>()=>{for(const r of t.keys())h3(r);e.clear()},UO=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},bF=Fp(Jl(`${gw}/add`),{withTypes:()=>bF}),are=Jl(`${gw}/removeAll`),yF=Fp(Jl(`${gw}/remove`),{withTypes:()=>yF}),nre=(...e)=>{console.error(`${gw}/error`,...e)},lv=(e={})=>{const t=new Map,r=new Map,a=p=>{const y=r.get(p)??0;r.set(p,y+1)},n=p=>{const y=r.get(p)??1;y===1?r.delete(p):r.set(p,y-1)},{extra:i,onError:s=nre}=e;pj(s);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),y=>{p.unsubscribe(),y!=null&&y.cancelActive&&h3(p)}),u=p=>{const y=BO(t,p)??vF(p);return l(y)};Fp(u,{withTypes:()=>u});const d=p=>{const y=BO(t,p);return y&&(y.unsubscribe(),p.cancelActive&&h3(y)),!!y};Fp(d,{withTypes:()=>d});const h=async(p,y,b,v)=>{const k=new AbortController,N=tre(u,k.signal),_=[];try{p.pending.add(k),a(p),await Promise.resolve(p.effect(y,Fp({},b,{getOriginalState:v,condition:(A,D)=>N(A,D).then(Boolean),take:N,delay:gF(k.signal),pause:a2(k.signal),extra:i,signal:k.signal,fork:ere(k.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((A,D,M)=>{A!==k&&(Pf(A,d3),M.delete(A))})},cancel:()=>{Pf(k,d3),p.pending.delete(k)},throwIfCancelled:()=>{Df(k.signal)}})))}catch(A){A instanceof pw||UO(s,A,{raisedBy:"effect"})}finally{await Promise.all(_),Pf(k,Jte),n(p),p.pending.delete(k)}},m=rre(t,r);return{middleware:p=>y=>b=>{if(!JR(b))return y(b);if(bF.match(b))return u(b.payload);if(are.match(b)){m();return}if(yF.match(b))return d(b.payload);let v=p.getState();const k=()=>{if(v===FO)throw new Error(ml(23));return v};let N;try{if(N=y(b),t.size>0){const _=p.getState(),A=Array.from(t.values());for(const D of A){let M=!1;try{M=D.predicate(b,_,v)}catch(L){M=!1,UO(s,L,{raisedBy:"predicate"})}M&&h(D,b,p,k)}}}finally{v=FO}return N},startListening:u,stopListening:d,clearListeners:m}};function ml(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ire={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wF=vl({name:"chartLayout",initialState:ire,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sre,setLayout:ore,setChartSize:lre,setScale:cre}=wF.actions,ure=wF.reducer;function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(a){dre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dre(e,t,r){return(t=hre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2=Math.PI/180,mre=e=>e*180/Math.PI,Ei=(e,t,r,a)=>({x:e+Math.cos(-n2*a)*r,y:t+Math.sin(-n2*a)*r}),kF=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},pre=(e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return Math.sqrt((r-n)**2+(a-i)**2)},gre=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:i}=t,s=pre({x:r,y:a},{x:n,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-n)/s,u=Math.acos(l);return a>i&&(u=2*Math.PI-u),{radius:s,angle:mre(u),angleInRadian:u}},xre=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:r-i*360}},vre=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),i=Math.floor(a/360),s=Math.min(n,i);return e+s*360},bre=(e,t)=>{var{x:r,y:a}=e,{radius:n,angle:i}=gre({x:r,y:a},t),{innerRadius:s,outerRadius:l}=t;if(n<s||n>l||n===0)return null;var{startAngle:u,endAngle:d}=xre(t),h=i,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?qO(qO({},t),{},{radius:n,angle:vre(h,t)}):null};function _F(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(a){yre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yre(e,t,r){return(t=wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wre(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(e,t,r){return vn(e)||vn(t)?r:Lu(t)?Vf(e,t,r):typeof t=="function"?t(e):r}var _re=(e,t,r,a,n)=>{var i,s=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?r[u-1].coordinate:r[l-1].coordinate,h=r[u].coordinate,m=u>=l-1?r[0].coordinate:r[u+1].coordinate,x=void 0;if(cs(h-d)!==cs(m-h)){var p=[];if(cs(m-h)===cs(n[1]-n[0])){x=m;var y=h+n[1]-n[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{x=d;var b=m+n[1]-n[0];p[0]=Math.min(h,(b+h)/2),p[1]=Math.max(h,(b+h)/2)}var v=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[u]);break}}else{var k=Math.min(d,m),N=Math.max(d,m);if(e>(k+h)/2&&e<=(N+h)/2){({index:s}=r[u]);break}}}else if(t){for(var _=0;_<l;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===l-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:s}=t[_]);break}}return s},Sre=(e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&tr(e[i]))return Gl(Gl({},e),{},{[i]:e[i]+(a||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&tr(e[s]))return Gl(Gl({},e),{},{[s]:e[s]+(n||0)})}return e},Uu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SF=(e,t,r,a)=>{if(a)return e.map(l=>l.coordinate);var n,i,s=e.map(l=>(l.coordinate===t&&(n=!0),l.coordinate===r&&(i=!0),l.coordinate));return n||s.push(t),i||s.push(r),s},NF=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:x,axisType:p}=e;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=n==="category"&&s.bandwidth?s.bandwidth()/y:0;if(b=p==="angleAxis"&&i&&i.length>=2?cs(i[0]-i[1])*2*b:b,m||x){var v=(m||x||[]).map((k,N)=>{var _=a?a.indexOf(k):k;return{coordinate:s(_)+b,value:k,offset:b,index:N}});return v.filter(k=>!pl(k.coordinate))}return u&&d?d.map((k,N)=>({coordinate:s(k)+b,value:k,index:N,offset:b})):s.ticks&&h!=null?s.ticks(h).map((k,N)=>({coordinate:s(k)+b,value:k,offset:b,index:N})):s.domain().map((k,N)=>({coordinate:s(k)+b,value:a?a[k]:k,index:N,offset:b}))},HO=1e-4,Nre=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-HO,i=Math.max(a[0],a[1])+HO,s=e(t[0]),l=e(t[r-1]);(s<n||s>i||l<n||l>i)&&e.domain([t[0],t[r-1]])}},jre=(e,t)=>{if(!t||t.length!==2||!tr(t[0])||!tr(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!tr(e[0])||e[0]<r)&&(n[0]=r),(!tr(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},Are=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0,s=0;s<t;++s){var l=pl(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=n,e[s][r][1]=n+l,n=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1])}},Tre=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0;i<t;++i){var s=pl(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=n,e[i][r][1]=n+s,n=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Ere={sign:Are,expand:ZZ,none:cg,silhouette:eee,wiggle:tee,positive:Tre},Cre=(e,t,r)=>{var a=Ere[r],n=JZ().keys(t).value((i,s)=>+Ga(i,s,0)).order(t3).offset(a);return n(e)};function jF(e){return e==null?void 0:String(e)}function i2(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vn(n[t.dataKey])){var l=DR(r,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var u=Ga(n,vn(s)?t.dataKey:s);return vn(u)?null:t.scale(u)}var WO=e=>{var{axis:t,ticks:r,offset:a,bandSize:n,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+a:null;var l=Ga(i,t.dataKey,t.scale.domain()[s]);return vn(l)?null:t.scale(l)-n/2+a},Ore=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},Pre=e=>{var t=e.flat(2).filter(tr);return[Math.min(...t),Math.max(...t)]},Dre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Lre=(e,t,r)=>{if(e!=null)return Dre(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:s}=i,l=s.reduce((u,d)=>{var h=_F(d,t,r),m=Pre(h);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},VO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=dw(t,h=>h.coordinate),i=1/0,s=1,l=n.length;s<l;s++){var u=n[s],d=n[s-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function GO(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:i}=e;return Gl(Gl({},t),{},{dataKey:r,payload:a,value:n,name:i})}function Sh(e,t){if(e)return String(e);if(typeof t=="string")return t}function Mre(e,t,r,a,n){if(r==="horizontal"||r==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return a?bre({x:e,y:t},a):null}var Ire=(e,t,r,a)=>{var n=t.find(d=>d&&d.index===r);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:s}=a;return Gl(Gl(Gl({},a),Ei(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var l=n.coordinate,{angle:u}=a;return Gl(Gl(Gl({},a),Ei(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},Rre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,e0=e=>e.layout.width,t0=e=>e.layout.height,Fre=e=>e.layout.scale,AF=e=>e.layout.margin,xw=tt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vw=tt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),TF="data-recharts-item-index",EF="data-recharts-item-data-key",cv=60;function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(a){Bre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bre(e,t,r){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ure(e){var t=zre(e,"string");return typeof t=="symbol"?t:t+""}function zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qre=e=>e.brush.height;function $re(e){var t=vw(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:cv;return r+n}return r},0)}function Hre(e){var t=vw(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:cv;return r+n}return r},0)}function Wre(e){var t=xw(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function Vre(e){var t=xw(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var Vi=tt([e0,t0,AF,qre,$re,Hre,Wre,Vre,GR,dte],(e,t,r,a,n,i,s,l,u,d)=>{var h={left:(r.left||0)+n,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+l},x=Wb(Wb({},m),h),p=x.bottom;x.bottom+=a,x=Sre(x,u,d);var y=e-x.left-x.right,b=t-x.top-x.bottom;return Wb(Wb({brushBottom:p},x),{},{width:Math.max(y,0),height:Math.max(b,0)})}),Kre=tt(Vi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),gj=tt(e0,t0,(e,t)=>({x:0,y:0,width:e,height:t})),Gre=j.createContext(null),js=()=>j.useContext(Gre)!=null,bw=e=>e.brush,yw=tt([bw,Vi,AF],(e,t,r)=>({height:e.height,x:tr(e.x)?e.x:t.left,y:tr(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tr(e.width)?e.width:t.width})),H4={},W4={},V4={},XO;function Yre(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:n,edges:i}={}){let s,l=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),h=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},m=()=>{d&&h(),b()};let x=null;const p=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},y=()=>{x!==null&&(clearTimeout(x),x=null)},b=()=>{y(),s=void 0,l=null},v=()=>{h()},k=function(...N){if(n!=null&&n.aborted)return;s=this,l=N;const _=x==null;p(),u&&_&&h()};return k.schedule=p,k.cancel=b,k.flush=v,n==null||n.addEventListener("abort",b,{once:!0}),k}e.debounce=t})(V4)),V4}var QO;function Xre(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yre();function r(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:u}=i,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let h,m=null;const x=t.debounce(function(...b){h=a.apply(this,b),m=null},n,{edges:d}),p=function(...b){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=a.apply(this,b),m=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,b),h)},y=()=>(x.flush(),h);return p.cancel=x.cancel,p.flush=y,p}e.debounce=r})(W4)),W4}var JO;function Qre(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xre();function r(a,n=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(a,n,{leading:s,maxWait:n,trailing:l})}e.throttle=r})(H4)),H4}var K4,ZO;function Jre(){return ZO||(ZO=1,K4=Qre().throttle),K4}var Zre=Jre();const eae=Hc(Zre);var s2=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},CF=(e,t,r)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:s}=r,l=Kd(a)?e:Number(a),u=Kd(n)?t:Number(n);return i&&i>0&&(l?u=l/i:u&&(l=u*i),s&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},tae={width:0,height:0,overflow:"visible"},rae={width:0,overflowX:"visible"},aae={height:0,overflowY:"visible"},nae={},iae=e=>{var{width:t,height:r}=e,a=Kd(t),n=Kd(r);return a&&n?tae:a?rae:n?aae:nae};function sae(e){var{width:t,height:r,aspect:a}=e,n=t,i=r;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function Oi(e){return Number.isFinite(e)}function ug(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function f3(){return f3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f3.apply(null,arguments)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(a){oae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oae(e,t,r){return(t=lae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lae(e){var t=cae(e,"string");return typeof t=="symbol"?t:t+""}function cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OF=j.createContext({width:-1,height:-1});function PF(e){var{children:t,width:r,height:a}=e,n=j.useMemo(()=>({width:r,height:a}),[r,a]);return r<=0||a<=0?null:j.createElement(OF.Provider,{value:n},t)}var xj=()=>j.useContext(OF),uae=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:s=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:m,className:x,onResize:p,style:y={}}=e,b=j.useRef(null),v=j.useRef();v.current=p,j.useImperativeHandle(t,()=>b.current);var[k,N]=j.useState({containerWidth:a.width,containerHeight:a.height}),_=j.useCallback((B,F)=>{N(H=>{var O=Math.round(B),I=Math.round(F);return H.containerWidth===O&&H.containerHeight===I?H:{containerWidth:O,containerHeight:I}})},[]);j.useEffect(()=>{var B=I=>{var V,{width:Y,height:te}=I[0].contentRect;_(Y,te),(V=v.current)===null||V===void 0||V.call(v,Y,te)};h>0&&(B=eae(B,h,{trailing:!0,leading:!1}));var F=new ResizeObserver(B),{width:H,height:O}=b.current.getBoundingClientRect();return _(H,O),F.observe(b.current),()=>{F.disconnect()}},[_,h]);var{containerWidth:A,containerHeight:D}=k;s2(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:L}=CF(A,D,{width:n,height:i,aspect:r,maxHeight:u});return s2(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,n,i,s,l,r),j.createElement("div",{id:m?"".concat(m):void 0,className:Hr("recharts-responsive-container",x),style:tP(tP({},y),{},{width:n,height:i,minWidth:s,minHeight:l,maxHeight:u}),ref:b},j.createElement("div",{style:iae({width:n,height:i})},j.createElement(PF,{width:M,height:L},d)))}),Nu=j.forwardRef((e,t)=>{var r=xj();if(ug(r.width)&&ug(r.height))return e.children;var{width:a,height:n}=sae({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=CF(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return tr(i)&&tr(s)?j.createElement(PF,{width:i,height:s},e.children):j.createElement(uae,f3({},e,{width:a,height:n,ref:t}))}),ww=()=>{var e,t=js(),r=nr(Kre),a=nr(yw),n=(e=nr(bw))===null||e===void 0?void 0:e.padding;return!t||!a||!n?r:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},dae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DF=()=>{var e;return(e=nr(Vi))!==null&&e!==void 0?e:dae},vj=()=>nr(e0),bj=()=>nr(t0),hae=()=>nr(e=>e.layout.margin),ta=e=>e.layout.layoutType,uv=()=>nr(ta),kw=e=>{var t=Pn(),r=js(),{width:a,height:n}=e,i=xj(),s=a,l=n;return i&&(s=i.width>0?i.width:a,l=i.height>0?i.height:n),j.useEffect(()=>{!r&&ug(s)&&ug(l)&&t(lre({width:s,height:l}))},[t,r,s,l]),null},fae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LF=vl({name:"legend",initialState:fae,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:co()},removeLegendPayload:{reducer(e,t){var r=Md(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:co()}}}),{setLegendSize:rP,setLegendSettings:mae,addLegendPayload:MF,removeLegendPayload:IF}=LF.actions,pae=LF.reducer,gae=["contextPayload"];function m3(){return m3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m3.apply(null,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(a){yj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yj(e,t,r){return(t=xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bae(e,t){if(e==null)return{};var r,a,n=yae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function wae(e){return e.value}function kae(e){var{contextPayload:t}=e,r=bae(e,gae),a=HR(t,e.payloadUniqBy,wae),n=dg(dg({},r),{},{payload:a});return j.isValidElement(e.content)?j.cloneElement(e.content,n):typeof e.content=="function"?j.createElement(e.content,n):j.createElement(lj,n)}function _ae(e,t,r,a,n,i){var{layout:s,align:l,verticalAlign:u}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?d={left:((a||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((n||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),dg(dg({},d),h)}function Sae(e){var t=Pn();return j.useEffect(()=>{t(mae(e))},[t,e]),null}function Nae(e){var t=Pn();return j.useEffect(()=>(t(rP(e)),()=>{t(rP({width:0,height:0}))}),[t,e]),null}function jae(e){var t=mte(),r=kZ(),a=hae(),{width:n,height:i,wrapperStyle:s,portal:l}=e,[u,d]=YR([t]),h=vj(),m=bj();if(h==null||m==null)return null;var x=h-(a.left||0)-(a.right||0),p=Xf.getWidthOrHeight(e.layout,i,n,x),y=l?s:dg(dg({position:"absolute",width:(p==null?void 0:p.width)||n||"auto",height:(p==null?void 0:p.height)||i||"auto"},_ae(s,e,a,h,m,u)),s),b=l??r;if(b==null)return null;var v=j.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},j.createElement(Sae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(Nae,{width:u.width,height:u.height}),j.createElement(kae,m3({},e,p,{margin:a,chartWidth:h,chartHeight:m,contextPayload:t})));return R9.createPortal(v,b)}class Xf extends j.PureComponent{static getWidthOrHeight(t,r,a,n){return t==="vertical"&&tr(r)?{height:r}:t==="horizontal"?{width:a||n}:null}render(){return j.createElement(jae,this.props)}}yj(Xf,"displayName","Legend");yj(Xf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function p3(){return p3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p3.apply(null,arguments)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function G4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(a){Aae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Aae(e,t,r){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cae(e){return Array.isArray(e)&&Lu(e[0])&&Lu(e[1])?e.join(" ~ "):e}var Oae=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:i,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:x=!1}=e,p=()=>{if(i&&i.length){var D={padding:0,margin:0},M=(l?dw(i,l):i).map((L,B)=>{if(L.type==="none")return null;var F=L.formatter||s||Cae,{value:H,name:O}=L,I=H,V=O;if(F){var Y=F(H,O,L,B,i);if(Array.isArray(Y))[I,V]=Y;else if(Y!=null)I=Y;else return null}var te=G4({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:te},Lu(V)?j.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Lu(V)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},I),j.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},y=G4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=G4({margin:0},n),v=!vn(h),k=v?h:"",N=Hr("recharts-default-tooltip",u),_=Hr("recharts-tooltip-label",d);v&&m&&i!==void 0&&i!==null&&(k=m(h,i));var A=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",p3({className:N,style:y},A),j.createElement("p",{className:_,style:b},j.isValidElement(k)?k:"".concat(k)),p())},Tx="recharts-tooltip-wrapper",Pae={visibility:"hidden"};function Dae(e){var{coordinate:t,translateX:r,translateY:a}=e;return Hr(Tx,{["".concat(Tx,"-right")]:tr(r)&&t&&tr(t.x)&&r>=t.x,["".concat(Tx,"-left")]:tr(r)&&t&&tr(t.x)&&r<t.x,["".concat(Tx,"-bottom")]:tr(a)&&t&&tr(t.y)&&a>=t.y,["".concat(Tx,"-top")]:tr(a)&&t&&tr(t.y)&&a<t.y})}function iP(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(i&&tr(i[a]))return i[a];var h=r[a]-l-(n>0?n:0),m=r[a]+n;if(t[a])return s[a]?h:m;var x=u[a];if(x==null)return 0;if(s[a]){var p=h,y=x;return p<y?Math.max(m,x):Math.max(h,x)}if(d==null)return 0;var b=m+l,v=x+d;return b>v?Math.max(h,x):Math.max(m,x)}function Lae(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mae(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,d,h,m;return s.height>0&&s.width>0&&r?(h=iP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),m=iP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),d=Lae({translateX:h,translateY:m,useTranslate3d:l})):d=Pae,{cssProperties:d,cssClasses:Dae({translateX:h,translateY:m,coordinate:r})}}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(a){g3(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function g3(e,t,r){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fae extends j.PureComponent{constructor(){super(...arguments),g3(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),g3(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:n,children:i,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:m,useTranslate3d:x,viewBox:p,wrapperStyle:y,lastBoundingBox:b,innerRef:v,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:_}=Mae({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:x,viewBox:p}),A=k?{}:Vb(Vb({transition:u&&t?"transform ".concat(a,"ms ").concat(n):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=Vb(Vb({},A),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:D,ref:v},i)}}var Bae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),r0={devToolsEnabled:!1,isSsr:Bae()},RF=()=>nr(e=>e.rootProps.accessibilityLayer);function x3(){return x3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x3.apply(null,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(a){Uae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=qae(e,"string");return typeof t=="symbol"?t:t+""}function qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cP={curveBasisClosed:zZ,curveBasisOpen:qZ,curveBasis:UZ,curveBumpX:jZ,curveBumpY:AZ,curveLinearClosed:$Z,curveLinear:cw,curveMonotoneX:HZ,curveMonotoneY:WZ,curveNatural:VZ,curveStep:KZ,curveStepAfter:YZ,curveStepBefore:GZ},Kb=e=>Oi(e.x)&&Oi(e.y),Ex=e=>e.x,Cx=e=>e.y,$ae=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(iv(e));return(r==="curveMonotone"||r==="curveBump")&&t?cP["".concat(r).concat(t==="vertical"?"Y":"X")]:cP[r]||cw},Hae=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:n,connectNulls:i=!1}=e,s=$ae(t,n),l=i?r.filter(Kb):r,u;if(Array.isArray(a)){var d=i?a.filter(m=>Kb(m)):a,h=l.map((m,x)=>lP(lP({},m),{},{base:d[x]}));return n==="vertical"?u=Bb().y(Cx).x1(Ex).x0(m=>m.base.x):u=Bb().x(Ex).y1(Cx).y0(m=>m.base.y),u.defined(Kb).curve(s),u(h)}return n==="vertical"&&tr(a)?u=Bb().y(Cx).x1(Ex).x0(a):tr(a)?u=Bb().x(Ex).y1(Cx).y0(a):u=yR().x(Ex).y(Cx),u.defined(Kb).curve(s),u(l)},Bp=e=>{var{className:t,points:r,path:a,pathRef:n}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?Hae(e):a;return j.createElement("path",x3({},po(e),sj(e),{className:Hr("recharts-curve",t),d:i===null?void 0:i,ref:n}))},Wae=["x","y","top","left","width","height","className"];function v3(){return v3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v3.apply(null,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Vae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(a){Kae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kae(e,t,r){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xae(e,t){if(e==null)return{};var r,a,n=Qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Jae=(e,t,r,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),Zae=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:i=0,height:s=0,className:l}=e,u=Xae(e,Wae),d=Vae({x:t,y:r,top:a,left:n,width:i,height:s},u);return!tr(t)||!tr(r)||!tr(i)||!tr(s)||!tr(a)||!tr(n)?null:j.createElement("path",v3({},go(d),{className:Hr("recharts-cross",l),d:Jae(t,r,i,s,a,n)}))};function ene(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(a){rne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rne(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(e,t){var r=tne({},e),a=t,n=Object.keys(t),i=n.reduce((s,l)=>(s[l]===void 0&&a[l]!==void 0&&(s[l]=a[l]),s),r);return i}function ine(){}function sne(e){return e!=null}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(a){one(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function one(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var une=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),FF=(e,t,r)=>e.map(a=>"".concat(une(a)," ").concat(t,"ms ").concat(r)).join(","),dne=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(n=>a.includes(n))),_1=(e,t)=>Object.keys(t).reduce((r,a)=>fP(fP({},r),{},{[a]:e(a,t[a])}),{});function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(a){hne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hne(e,t,r){return(t=fne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fne(e){var t=mne(e,"string");return typeof t=="symbol"?t:t+""}function mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o2=(e,t,r)=>e+(t-e)*r,b3=e=>{var{from:t,to:r}=e;return t!==r},BF=(e,t,r)=>{var a=_1((n,i)=>{if(b3(i)){var[s,l]=e(i.from,i.to,i.velocity);return _s(_s({},i),{},{from:s,velocity:l})}return i},t);return r<1?_1((n,i)=>b3(i)?_s(_s({},i),{},{velocity:o2(i.velocity,a[n].velocity,r),from:o2(i.from,a[n].from,r)}):i,t):BF(e,a,r-1)};function pne(e,t,r,a,n,i){var s,l=a.reduce((x,p)=>_s(_s({},x),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),u=()=>_1((x,p)=>p.from,l),d=()=>!Object.values(l).filter(b3).length,h=null,m=x=>{s||(s=x);var p=x-s,y=p/r.dt;l=BF(r,l,y),n(_s(_s(_s({},e),t),u())),s=x,d()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{h()})}function gne(e,t,r,a,n,i,s){var l=null,u=n.reduce((m,x)=>_s(_s({},m),{},{[x]:[e[x],t[x]]}),{}),d,h=m=>{d||(d=m);var x=(m-d)/a,p=_1((b,v)=>o2(...v,r(x)),u);if(i(_s(_s(_s({},e),t),p)),x<1)l=s.setTimeout(h);else{var y=_1((b,v)=>o2(...v,r(1)),u);i(_s(_s(_s({},e),t),y))}};return()=>(l=s.setTimeout(h),()=>{l()})}const xne=(e,t,r,a,n,i)=>{var s=dne(e,t);return r.isStepper===!0?pne(e,t,r,s,n,i):gne(e,t,r,a,s,n,i)};var l2=1e-4,UF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zF=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),pP=(e,t)=>r=>{var a=UF(e,t);return zF(a,r)},vne=(e,t)=>r=>{var a=UF(e,t),n=[...a.map((i,s)=>i*s).slice(1),0];return zF(n,r)},gP=function(){for(var t,r,a,n,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,a,r,n]=[0,0,1,1];break;case"ease":[t,a,r,n]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,n]=[.42,0,1,1];break;case"ease-out":[t,a,r,n]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,n]=[0,0,.58,1];break;default:{var u=s[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,a,r,n]=u[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,a,r,n]=s);var d=pP(t,r),h=pP(a,n),m=vne(t,r),x=y=>y>1?1:y<0?0:y,p=y=>{for(var b=y>1?1:y,v=b,k=0;k<8;++k){var N=d(v)-b,_=m(v);if(Math.abs(N-b)<l2||_<l2)return h(v);v=x(v-N/_)}return h(v)};return p.isStepper=!1,p},bne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:n=17}=t,i=(s,l,u)=>{var d=-(s-l)*r,h=u*a,m=u+(d-h)*n/1e3,x=u*n/1e3+s;return Math.abs(x-l)<l2&&Math.abs(m)<l2?[l,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},yne=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(e);case"spring":return bne();default:if(e.split("(")[0]==="cubic-bezier")return gP(e)}return typeof e=="function"?e:null};function wne(e){var t,r=()=>null,a=!1,n=null,i=s=>{if(!a){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){n=e.setTimeout(i.bind(null,d),u);return}i(u),n=e.setTimeout(i.bind(null,d));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{a=!0},start:s=>{a=!1,n&&(n(),n=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class kne{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=s=>{s-a>=r?t(s):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function _ne(){return wne(new kne)}var Sne=j.createContext(_ne);function Nne(e,t){var r=j.useContext(Sne);return j.useMemo(()=>t??r(e),[e,t,r])}var jne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xP={t:0},Y4={t:1};function Ng(e){var t=Ki(e,jne),{isActive:r,canBegin:a,duration:n,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=Nne(t.animationId,t.animationManager),[m,x]=j.useState(r?xP:Y4),p=j.useRef(null);return j.useEffect(()=>{r||x(Y4)},[r]),j.useEffect(()=>{if(!r||!a)return ine;var y=xne(xP,Y4,yne(i),n,x,h.getTimeoutController()),b=()=>{p.current=y()};return h.start([u,s,b,n,l]),()=>{h.stop(),p.current&&p.current(),l()}},[r,a,n,i,s,u,l,h]),d(m.t)}function jg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(b1(t)),a=j.useRef(e);return a.current!==e&&(r.current=b1(t),a.current=e),r.current}var Ane=["radius"],Tne=["radius"];function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(a){Ene(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ene(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c2.apply(null,arguments)}function yP(e,t){if(e==null)return{};var r,a,n=Pne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var wP=(e,t,r,a,n)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,l=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],m=0,x=4;m<x;m++)h[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+r-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+s*h[1])),d+="L ".concat(e+r,",").concat(t+a-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(t+a)),d+="L ".concat(e+l*h[3],",").concat(t+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+a-s*h[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var p=Math.min(i,n);d="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+a-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(t+a,`
            L `).concat(e+l*p,",").concat(t+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(t+a-s*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},Dne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qF=e=>{var t=Ki(e,Dne),r=j.useRef(null),[a,n]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&n(ae)}catch{}},[]);var{x:i,y:s,width:l,height:u,radius:d,className:h}=t,{animationEasing:m,animationDuration:x,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:b}=t,v=j.useRef(l),k=j.useRef(u),N=j.useRef(i),_=j.useRef(s),A=j.useMemo(()=>({x:i,y:s,width:l,height:u,radius:d}),[i,s,l,u,d]),D=jg(A,"rectangle-");if(i!==+i||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var M=Hr("recharts-rectangle",h);if(!b){var L=go(t),{radius:B}=L,F=yP(L,Ane);return j.createElement("path",c2({},F,{radius:typeof d=="number"?d:void 0,className:M,d:wP(i,s,l,u,d)}))}var H=v.current,O=k.current,I=N.current,V=_.current,Y="0px ".concat(a===-1?1:a,"px"),te="".concat(a,"px 0px"),X=FF(["strokeDasharray"],x,typeof m=="string"?m:void 0);return j.createElement(Ng,{animationId:D,key:D,canBegin:a>0,duration:x,easing:m,isActive:b,begin:p},ae=>{var de=Ka(H,l,ae),oe=Ka(O,u,ae),De=Ka(I,i,ae),re=Ka(V,s,ae);r.current&&(v.current=de,k.current=oe,N.current=De,_.current=re);var P;y?ae>0?P={transition:X,strokeDasharray:te}:P={strokeDasharray:Y}:P={strokeDasharray:te};var W=go(t),{radius:z}=W,q=yP(W,Tne);return j.createElement("path",c2({},q,{radius:typeof d=="number"?d:void 0,className:M,d:wP(De,re,de,oe,d),ref:r,style:bP(bP({},P),t.style)}))})};function $F(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:i}=e,s=Ei(t,r,a,n),l=Ei(t,r,a,i);return{points:[s,l],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function y3(){return y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y3.apply(null,arguments)}var Lne=(e,t)=>{var r=cs(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Gb=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,d=l*(s?1:-1)+a,h=Math.asin(l/d)/n2,m=u?n:n+i*h,x=Ei(t,r,d,m),p=Ei(t,r,a,m),y=u?n-i*h:n,b=Ei(t,r,d*Math.cos(h*n2),y);return{center:x,circleTangency:p,lineTangency:b,theta:h}},HF=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:i,endAngle:s}=e,l=Lne(i,s),u=i+l,d=Ei(t,r,n,i),h=Ei(t,r,n,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=Ei(t,r,a,i),p=Ei(t,r,a,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Mne=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=cs(d-u),{circleTangency:m,lineTangency:x,theta:p}=Gb({cx:t,cy:r,radius:n,angle:u,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:v}=Gb({cx:t,cy:r,radius:n,angle:d,sign:-h,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(u-d):Math.abs(u-d)-p-v;if(k<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):HF({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:u,endAngle:d});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:A,theta:D}=Gb({cx:t,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:M,lineTangency:L,theta:B}=Gb({cx:t,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),F=l?Math.abs(u-d):Math.abs(u-d)-D-B;if(F<0&&i===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},Ine={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WF=e=>{var t=Ki(e,Ine),{cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:m}=t;if(i<n||d===h)return null;var x=Hr("recharts-sector",m),p=i-n,y=Hs(s,p,0,!0),b;return y>0&&Math.abs(d-h)<360?b=Mne({cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):b=HF({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h}),j.createElement("path",y3({},go(t),{className:x,d:b}))};function Rne(e,t,r){var a,n,i,s;if(e==="horizontal")a=t.x,i=a,n=r.top,s=r.top+r.height;else if(e==="vertical")n=t.y,s=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:d,outerRadius:h,angle:m}=t,x=Ei(l,u,d,m),p=Ei(l,u,h,m);a=x.x,n=x.y,i=p.x,s=p.y}else return $F(t);return[{x:a,y:n},{x:i,y:s}]}var X4={},Q4={},J4={},kP;function Fne(){return kP||(kP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VR();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(J4)),J4}var _P;function Bne(){return _P||(_P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fne();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(Q4)),Q4}var SP;function Une(){return SP||(SP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KR(),r=Bne();function a(n,i,s){s&&typeof s!="number"&&t.isIterateeCall(n,i,s)&&(i=s=void 0),n=r.toFinite(n),i===void 0?(i=n,n=0):i=r.toFinite(i),s=s===void 0?n<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-n)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=n,n+=s;return u}e.range=a})(X4)),X4}var Z4,NP;function zne(){return NP||(NP=1,Z4=Une().range),Z4}var qne=zne();const VF=Hc(qne);function hh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $ne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wj(e){let t,r,a;e.length!==2?(t=hh,r=(l,u)=>hh(e(l),u),a=(l,u)=>e(l)-u):(t=e===hh||e===$ne?e:Hne,r=e,a=e);function n(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function s(l,u,d=0,h=l.length){const m=n(l,u,d,h-1);return m>d&&a(l[m-1],u)>-a(l[m],u)?m-1:m}return{left:n,center:s,right:i}}function Hne(){return 0}function KF(e){return e===null?NaN:+e}function*Wne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Vne=wj(hh),dv=Vne.right;wj(KF).center;class jP extends Map{constructor(t,r=Yne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(AP(this,t))}has(t){return super.has(AP(this,t))}set(t,r){return super.set(Kne(this,t),r)}delete(t){return super.delete(Gne(this,t))}}function AP({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Kne({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Gne({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Yne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xne(e=hh){if(e===hh)return GF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function GF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Qne=Math.sqrt(50),Jne=Math.sqrt(10),Zne=Math.sqrt(2);function u2(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),s=i>=Qne?10:i>=Jne?5:i>=Zne?2:1;let l,u,d;return n<0?(d=Math.pow(10,-n)/s,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,n)*s,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?u2(e,t,r*2):[l,u,d]}function w3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,s]=a?u2(t,e,r):u2(e,t,r);if(!(i>=n))return[];const l=i-n+1,u=new Array(l);if(a)if(s<0)for(let d=0;d<l;++d)u[d]=(i-d)/-s;else for(let d=0;d<l;++d)u[d]=(i-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(n+d)/-s;else for(let d=0;d<l;++d)u[d]=(n+d)*s;return u}function k3(e,t,r){return t=+t,e=+e,r=+r,u2(e,t,r)[2]}function _3(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?k3(t,e,r):k3(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function TP(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function EP(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function YF(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?GF:Xne(n);a>r;){if(a-r>600){const u=a-r+1,d=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),p=Math.max(r,Math.floor(t-d*m/u+x)),y=Math.min(a,Math.floor(t+(u-d)*m/u+x));YF(e,t,p,y,n)}const i=e[t];let s=r,l=a;for(Ox(e,r,t),n(e[a],i)>0&&Ox(e,r,a);s<l;){for(Ox(e,s,l),++s,--l;n(e[s],i)<0;)++s;for(;n(e[l],i)>0;)--l}n(e[r],i)===0?Ox(e,r,l):(++l,Ox(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function Ox(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function eie(e,t,r){if(e=Float64Array.from(Wne(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return EP(e);if(t>=1)return TP(e);var a,n=(a-1)*t,i=Math.floor(n),s=TP(YF(e,i).subarray(0,i+1)),l=EP(e.subarray(i+1));return s+(l-s)*(n-i)}}function tie(e,t,r=KF){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(n-i)}}function rie(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function ac(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function a0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const S3=Symbol("implicit");function kj(){var e=new jP,t=[],r=[],a=S3;function n(i){let s=e.get(i);if(s===void 0){if(a!==S3)return a;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jP;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return kj(t,r).unknown(a)},ac.apply(n,arguments),n}function _j(){var e=kj().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,s,l=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var x=t().length,p=n<a,y=p?n:a,b=p?a:n;i=(b-y)/Math.max(1,x-u+d*2),l&&(i=Math.floor(i)),y+=(b-y-i*(x-u))*h,s=i*(1-u),l&&(y=Math.round(y),s=Math.round(s));var v=rie(x).map(function(k){return y+i*k});return r(p?v.reverse():v)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,l=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(x){return arguments.length?(l=!!x,m()):l},e.padding=function(x){return arguments.length?(u=Math.min(1,d=+x),m()):u},e.paddingInner=function(x){return arguments.length?(u=Math.min(1,x),m()):u},e.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return _j(t(),[a,n]).round(l).paddingInner(u).paddingOuter(d).align(h)},ac.apply(m(),arguments)}function XF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XF(t())},e}function aie(){return XF(_j.apply(null,arguments).paddingInner(1))}function Sj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function QF(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function hv(){}var S1=.7,d2=1/S1,Up="\\s*([+-]?\\d+)\\s*",N1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nie=/^#([0-9a-f]{3,8})$/,iie=new RegExp(`^rgb\\(${Up},${Up},${Up}\\)$`),sie=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),oie=new RegExp(`^rgba\\(${Up},${Up},${Up},${N1}\\)$`),lie=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${N1}\\)$`),cie=new RegExp(`^hsl\\(${N1},${Pu},${Pu}\\)$`),uie=new RegExp(`^hsla\\(${N1},${Pu},${Pu},${N1}\\)$`),CP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sj(hv,j1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OP,formatHex:OP,formatHex8:die,formatHsl:hie,formatRgb:PP,toString:PP});function OP(){return this.rgb().formatHex()}function die(){return this.rgb().formatHex8()}function hie(){return JF(this).formatHsl()}function PP(){return this.rgb().formatRgb()}function j1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nie.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DP(t):r===3?new Fo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iie.exec(e))?new Fo(t[1],t[2],t[3],1):(t=sie.exec(e))?new Fo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oie.exec(e))?Yb(t[1],t[2],t[3],t[4]):(t=lie.exec(e))?Yb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cie.exec(e))?IP(t[1],t[2]/100,t[3]/100,1):(t=uie.exec(e))?IP(t[1],t[2]/100,t[3]/100,t[4]):CP.hasOwnProperty(e)?DP(CP[e]):e==="transparent"?new Fo(NaN,NaN,NaN,0):null}function DP(e){return new Fo(e>>16&255,e>>8&255,e&255,1)}function Yb(e,t,r,a){return a<=0&&(e=t=r=NaN),new Fo(e,t,r,a)}function fie(e){return e instanceof hv||(e=j1(e)),e?(e=e.rgb(),new Fo(e.r,e.g,e.b,e.opacity)):new Fo}function N3(e,t,r,a){return arguments.length===1?fie(e):new Fo(e,t,r,a??1)}function Fo(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Sj(Fo,N3,QF(hv,{brighter(e){return e=e==null?d2:Math.pow(d2,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?S1:Math.pow(S1,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fo(Lf(this.r),Lf(this.g),Lf(this.b),h2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LP,formatHex:LP,formatHex8:mie,formatRgb:MP,toString:MP}));function LP(){return`#${bf(this.r)}${bf(this.g)}${bf(this.b)}`}function mie(){return`#${bf(this.r)}${bf(this.g)}${bf(this.b)}${bf((isNaN(this.opacity)?1:this.opacity)*255)}`}function MP(){const e=h2(this.opacity);return`${e===1?"rgb(":"rgba("}${Lf(this.r)}, ${Lf(this.g)}, ${Lf(this.b)}${e===1?")":`, ${e})`}`}function h2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bf(e){return e=Lf(e),(e<16?"0":"")+e.toString(16)}function IP(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fc(e,t,r,a)}function JF(e){if(e instanceof Fc)return new Fc(e.h,e.s,e.l,e.opacity);if(e instanceof hv||(e=j1(e)),!e)return new Fc;if(e instanceof Fc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),s=NaN,l=i-n,u=(i+n)/2;return l?(t===i?s=(r-a)/l+(r<a)*6:r===i?s=(a-t)/l+2:s=(t-r)/l+4,l/=u<.5?i+n:2-i-n,s*=60):l=u>0&&u<1?0:s,new Fc(s,l,u,e.opacity)}function pie(e,t,r,a){return arguments.length===1?JF(e):new Fc(e,t,r,a??1)}function Fc(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Sj(Fc,pie,QF(hv,{brighter(e){return e=e==null?d2:Math.pow(d2,e),new Fc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?S1:Math.pow(S1,e),new Fc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Fo(e_(e>=240?e-240:e+120,n,a),e_(e,n,a),e_(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Fc(RP(this.h),Xb(this.s),Xb(this.l),h2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=h2(this.opacity);return`${e===1?"hsl(":"hsla("}${RP(this.h)}, ${Xb(this.s)*100}%, ${Xb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RP(e){return e=(e||0)%360,e<0?e+360:e}function Xb(e){return Math.max(0,Math.min(1,e||0))}function e_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nj=e=>()=>e;function gie(e,t){return function(r){return e+r*t}}function xie(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function vie(e){return(e=+e)==1?ZF:function(t,r){return r-t?xie(t,r,e):Nj(isNaN(t)?r:t)}}function ZF(e,t){var r=t-e;return r?gie(e,r):Nj(isNaN(e)?t:e)}const FP=(function e(t){var r=vie(t);function a(n,i){var s=r((n=N3(n)).r,(i=N3(i)).r),l=r(n.g,i.g),u=r(n.b,i.b),d=ZF(n.opacity,i.opacity);return function(h){return n.r=s(h),n.g=l(h),n.b=u(h),n.opacity=d(h),n+""}}return a.gamma=e,a})(1);function bie(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function yie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wie(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),s;for(s=0;s<a;++s)n[s]=Ag(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<a;++s)i[s]=n[s](l);return i}}function kie(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function f2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _ie(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=Ag(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var j3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t_=new RegExp(j3.source,"g");function Sie(e){return function(){return e}}function Nie(e){return function(t){return e(t)+""}}function jie(e,t){var r=j3.lastIndex=t_.lastIndex=0,a,n,i,s=-1,l=[],u=[];for(e=e+"",t=t+"";(a=j3.exec(e))&&(n=t_.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(a=a[0])===(n=n[0])?l[s]?l[s]+=n:l[++s]=n:(l[++s]=null,u.push({i:s,x:f2(a,n)})),r=t_.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?u[0]?Nie(u[0].x):Sie(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function Ag(e,t){var r=typeof t,a;return t==null||r==="boolean"?Nj(t):(r==="number"?f2:r==="string"?(a=j1(t))?(t=a,FP):jie:t instanceof j1?FP:t instanceof Date?kie:yie(t)?bie:Array.isArray(t)?wie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_ie:f2)(e,t)}function jj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Aie(e,t){t===void 0&&(t=e,e=Ag);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(s){var l=Math.max(0,Math.min(a-1,Math.floor(s*=a)));return i[l](s-l)}}function Tie(e){return function(){return e}}function m2(e){return+e}var BP=[0,1];function fo(e){return e}function A3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Tie(isNaN(t)?NaN:.5)}function Eie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Cie(e,t,r){var a=e[0],n=e[1],i=t[0],s=t[1];return n<a?(a=A3(n,a),i=r(s,i)):(a=A3(a,n),i=r(i,s)),function(l){return i(a(l))}}function Oie(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)n[s]=A3(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var u=dv(e,l,1,a)-1;return i[u](n[u](l))}}function fv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _w(){var e=BP,t=BP,r=Ag,a,n,i,s=fo,l,u,d;function h(){var x=Math.min(e.length,t.length);return s!==fo&&(s=Eie(e[0],e[x-1])),l=x>2?Oie:Cie,u=d=null,m}function m(x){return x==null||isNaN(x=+x)?i:(u||(u=l(e.map(a),t,r)))(a(s(x)))}return m.invert=function(x){return s(n((d||(d=l(t,e.map(a),f2)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,m2),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=jj,h()},m.clamp=function(x){return arguments.length?(s=x?!0:fo,h()):s!==fo},m.interpolate=function(x){return arguments.length?(r=x,h()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,p){return a=x,n=p,h()}}function Aj(){return _w()(fo,fo)}function Pie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function p2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function hg(e){return e=p2(Math.abs(e)),e?e[1]:NaN}function Die(e,t){return function(r,a){for(var n=r.length,i=[],s=0,l=e[0],u=0;n>0&&l>0&&(u+l+1>a&&(l=Math.max(1,a-u)),i.push(r.substring(n-=l,n+l)),!((u+=l+1)>a));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Lie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Mie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function A1(e){if(!(t=Mie.exec(e)))throw new Error("invalid format: "+e);var t;return new Tj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}A1.prototype=Tj.prototype;function Tj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iie(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var eB;function Rie(e,t){var r=p2(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(eB=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=a.length;return i===s?a:i>s?a+new Array(i-s+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+p2(e,Math.max(0,t+i-1))[0]}function UP(e,t){var r=p2(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const zP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UP(e*100,t),r:UP,s:Rie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qP(e){return e}var $P=Array.prototype.map,HP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fie(e){var t=e.grouping===void 0||e.thousands===void 0?qP:Die($P.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qP:Lie($P.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=A1(m);var x=m.fill,p=m.align,y=m.sign,b=m.symbol,v=m.zero,k=m.width,N=m.comma,_=m.precision,A=m.trim,D=m.type;D==="n"?(N=!0,D="g"):zP[D]||(_===void 0&&(_=12),A=!0,D="g"),(v||x==="0"&&p==="=")&&(v=!0,x="0",p="=");var M=b==="$"?r:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=b==="$"?a:/[%p]/.test(D)?s:"",B=zP[D],F=/[defgprs%]/.test(D);_=_===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function H(O){var I=M,V=L,Y,te,X;if(D==="c")V=B(O)+V,O="";else{O=+O;var ae=O<0||1/O<0;if(O=isNaN(O)?u:B(Math.abs(O),_),A&&(O=Iie(O)),ae&&+O==0&&y!=="+"&&(ae=!1),I=(ae?y==="("?y:l:y==="-"||y==="("?"":y)+I,V=(D==="s"?HP[8+eB/3]:"")+V+(ae&&y==="("?")":""),F){for(Y=-1,te=O.length;++Y<te;)if(X=O.charCodeAt(Y),48>X||X>57){V=(X===46?n+O.slice(Y+1):O.slice(Y))+V,O=O.slice(0,Y);break}}}N&&!v&&(O=t(O,1/0));var de=I.length+O.length+V.length,oe=de<k?new Array(k-de+1).join(x):"";switch(N&&v&&(O=t(oe+O,oe.length?k-V.length:1/0),oe=""),p){case"<":O=I+O+V+oe;break;case"=":O=I+oe+O+V;break;case"^":O=oe.slice(0,de=oe.length>>1)+I+O+V+oe.slice(de);break;default:O=oe+I+O+V;break}return i(O)}return H.toString=function(){return m+""},H}function h(m,x){var p=d((m=A1(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(hg(x)/3)))*3,b=Math.pow(10,-y),v=HP[8+y/3];return function(k){return p(b*k)+v}}return{format:d,formatPrefix:h}}var Qb,Ej,tB;Bie({thousands:",",grouping:[3],currency:["$",""]});function Bie(e){return Qb=Fie(e),Ej=Qb.format,tB=Qb.formatPrefix,Qb}function Uie(e){return Math.max(0,-hg(Math.abs(e)))}function zie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hg(t)/3)))*3-hg(Math.abs(e)))}function qie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hg(t)-hg(e))+1}function rB(e,t,r,a){var n=_3(e,t,r),i;switch(a=A1(a??",f"),a.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=zie(n,s))&&(a.precision=i),tB(a,s)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=qie(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Uie(n))&&(a.precision=i-(a.type==="%")*2);break}}return Ej(a)}function Nh(e){var t=e.domain;return e.ticks=function(r){var a=t();return w3(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return rB(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,s=a[n],l=a[i],u,d,h=10;for(l<s&&(d=s,s=l,l=d,d=n,n=i,i=d);h-- >0;){if(d=k3(s,l,r),d===u)return a[n]=s,a[i]=l,t(a);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function aB(){var e=Aj();return e.copy=function(){return fv(e,aB())},ac.apply(e,arguments),Nh(e)}function nB(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,m2),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return nB(e).unknown(t)},e=arguments.length?Array.from(e,m2):[0,1],Nh(r)}function iB(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],s;return i<n&&(s=r,r=a,a=s,s=n,n=i,i=s),e[r]=t.floor(n),e[a]=t.ceil(i),e}function WP(e){return Math.log(e)}function VP(e){return Math.exp(e)}function $ie(e){return-Math.log(-e)}function Hie(e){return-Math.exp(-e)}function Wie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vie(e){return e===10?Wie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Kie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KP(e){return(t,r)=>-e(-t,r)}function Cj(e){const t=e(WP,VP),r=t.domain;let a=10,n,i;function s(){return n=Kie(a),i=Vie(a),r()[0]<0?(n=KP(n),i=KP(i),e($ie,Hie)):e(WP,VP),t}return t.base=function(l){return arguments.length?(a=+l,s()):a},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let x=n(d),p=n(h),y,b;const v=l==null?10:+l;let k=[];if(!(a%1)&&p-x<v){if(x=Math.floor(x),p=Math.ceil(p),d>0){for(;x<=p;++x)for(y=1;y<a;++y)if(b=x<0?y/i(-x):y*i(x),!(b<d)){if(b>h)break;k.push(b)}}else for(;x<=p;++x)for(y=a-1;y>=1;--y)if(b=x>0?y/i(-x):y*i(x),!(b<d)){if(b>h)break;k.push(b)}k.length*2<v&&(k=w3(d,h,v))}else k=w3(x,p,Math.min(p-x,v)).map(i);return m?k.reverse():k},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=A1(u)).precision==null&&(u.trim=!0),u=Ej(u)),l===1/0)return u;const d=Math.max(1,a*l/t.ticks().length);return h=>{let m=h/i(Math.round(n(h)));return m*a<a-.5&&(m*=a),m<=d?u(h):""}},t.nice=()=>r(iB(r(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),t}function sB(){const e=Cj(_w()).domain([1,10]);return e.copy=()=>fv(e,sB()).base(e.base()),ac.apply(e,arguments),e}function GP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Oj(e){var t=1,r=e(GP(t),YP(t));return r.constant=function(a){return arguments.length?e(GP(t=+a),YP(t)):t},Nh(r)}function oB(){var e=Oj(_w());return e.copy=function(){return fv(e,oB()).constant(e.constant())},ac.apply(e,arguments)}function XP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Yie(e){return e<0?-e*e:e*e}function Pj(e){var t=e(fo,fo),r=1;function a(){return r===1?e(fo,fo):r===.5?e(Gie,Yie):e(XP(r),XP(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},Nh(t)}function Dj(){var e=Pj(_w());return e.copy=function(){return fv(e,Dj()).exponent(e.exponent())},ac.apply(e,arguments),e}function Xie(){return Dj.apply(null,arguments).exponent(.5)}function QP(e){return Math.sign(e)*e*e}function Qie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lB(){var e=Aj(),t=[0,1],r=!1,a;function n(i){var s=Qie(e(i));return isNaN(s)?a:r?Math.round(s):s}return n.invert=function(i){return e.invert(QP(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,m2)).map(QP)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return lB(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ac.apply(n,arguments),Nh(n)}function cB(){var e=[],t=[],r=[],a;function n(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=tie(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?a:t[dv(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(hh),n()},i.range=function(s){return arguments.length?(t=Array.from(s),n()):t.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return cB().domain(e).range(t).unknown(a)},ac.apply(i,arguments)}function uB(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function s(u){return u!=null&&u<=u?n[dv(a,u,0,r)]:i}function l(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(r=(n=Array.from(u)).length-1,l()):n.slice()},s.invertExtent=function(u){var d=n.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},s.unknown=function(u){return arguments.length&&(i=u),s},s.thresholds=function(){return a.slice()},s.copy=function(){return uB().domain([e,t]).range(n).unknown(i)},ac.apply(Nh(s),arguments)}function dB(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[dv(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return dB().domain(e).range(t).unknown(r)},ac.apply(n,arguments)}const r_=new Date,a_=new Date;function Gi(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const s=n(i),l=n.ceil(i);return i-s<l-i?s:l},n.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),n.range=(i,s,l)=>{const u=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<s);return u},n.filter=i=>Gi(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(n.count=(i,s)=>(r_.setTime(+i),a_.setTime(+s),e(r_),e(a_),Math.floor(r(r_,a_))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?s=>a(s)%i===0:s=>n.count(0,s)%i===0):n)),n}const g2=Gi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);g2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):g2);g2.range;const Ed=1e3,Yl=Ed*60,Cd=Yl*60,Yd=Cd*24,Lj=Yd*7,JP=Yd*30,n_=Yd*365,yf=Gi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ed)},(e,t)=>(t-e)/Ed,e=>e.getUTCSeconds());yf.range;const Mj=Gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ed)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getMinutes());Mj.range;const Ij=Gi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getUTCMinutes());Ij.range;const Rj=Gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ed-e.getMinutes()*Yl)},(e,t)=>{e.setTime(+e+t*Cd)},(e,t)=>(t-e)/Cd,e=>e.getHours());Rj.range;const Fj=Gi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cd)},(e,t)=>(t-e)/Cd,e=>e.getUTCHours());Fj.range;const mv=Gi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yl)/Yd,e=>e.getDate()-1);mv.range;const Sw=Gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yd,e=>e.getUTCDate()-1);Sw.range;const hB=Gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yd,e=>Math.floor(e/Yd));hB.range;function hm(e){return Gi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Yl)/Lj)}const Nw=hm(0),x2=hm(1),Jie=hm(2),Zie=hm(3),fg=hm(4),ese=hm(5),tse=hm(6);Nw.range;x2.range;Jie.range;Zie.range;fg.range;ese.range;tse.range;function fm(e){return Gi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Lj)}const jw=fm(0),v2=fm(1),rse=fm(2),ase=fm(3),mg=fm(4),nse=fm(5),ise=fm(6);jw.range;v2.range;rse.range;ase.range;mg.range;nse.range;ise.range;const Bj=Gi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Bj.range;const Uj=Gi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Uj.range;const Xd=Gi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xd.range;const Qd=Gi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qd.range;function fB(e,t,r,a,n,i){const s=[[yf,1,Ed],[yf,5,5*Ed],[yf,15,15*Ed],[yf,30,30*Ed],[i,1,Yl],[i,5,5*Yl],[i,15,15*Yl],[i,30,30*Yl],[n,1,Cd],[n,3,3*Cd],[n,6,6*Cd],[n,12,12*Cd],[a,1,Yd],[a,2,2*Yd],[r,1,Lj],[t,1,JP],[t,3,3*JP],[e,1,n_]];function l(d,h,m){const x=h<d;x&&([d,h]=[h,d]);const p=m&&typeof m.range=="function"?m:u(d,h,m),y=p?p.range(d,+h+1):[];return x?y.reverse():y}function u(d,h,m){const x=Math.abs(h-d)/m,p=wj(([,,v])=>v).right(s,x);if(p===s.length)return e.every(_3(d/n_,h/n_,m));if(p===0)return g2.every(Math.max(_3(d,h,m),1));const[y,b]=s[x/s[p-1][2]<s[p][2]/x?p-1:p];return y.every(b)}return[l,u]}const[sse,ose]=fB(Qd,Uj,jw,hB,Fj,Ij),[lse,cse]=fB(Xd,Bj,Nw,mv,Rj,Mj);function i_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Px(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function use(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=Dx(n),h=Lx(n),m=Dx(i),x=Lx(i),p=Dx(s),y=Lx(s),b=Dx(l),v=Lx(l),k=Dx(u),N=Lx(u),_={a:ae,A:de,b:oe,B:De,c:null,d:n7,e:n7,f:Dse,g:$se,G:Wse,H:Cse,I:Ose,j:Pse,L:mB,m:Lse,M:Mse,p:re,q:P,Q:o7,s:l7,S:Ise,u:Rse,U:Fse,V:Bse,w:Use,W:zse,x:null,X:null,y:qse,Y:Hse,Z:Vse,"%":s7},A={a:W,A:z,b:q,B:Z,c:null,d:i7,e:i7,f:Xse,g:soe,G:loe,H:Kse,I:Gse,j:Yse,L:gB,m:Qse,M:Jse,p:se,q:ee,Q:o7,s:l7,S:Zse,u:eoe,U:toe,V:roe,w:aoe,W:noe,x:null,X:null,y:ioe,Y:ooe,Z:coe,"%":s7},D={a:H,A:O,b:I,B:V,c:Y,d:r7,e:r7,f:jse,g:t7,G:e7,H:a7,I:a7,j:kse,L:Nse,m:wse,M:_se,p:F,q:yse,Q:Tse,s:Ese,S:Sse,u:pse,U:gse,V:xse,w:mse,W:vse,x:te,X,y:t7,Y:e7,Z:bse,"%":Ase};_.x=M(r,_),_.X=M(a,_),_.c=M(t,_),A.x=M(r,A),A.X=M(a,A),A.c=M(t,A);function M(Q,me){return function(Ae){var J=[],ke=-1,ye=0,ce=Q.length,qe,ze,mt;for(Ae instanceof Date||(Ae=new Date(+Ae));++ke<ce;)Q.charCodeAt(ke)===37&&(J.push(Q.slice(ye,ke)),(ze=ZP[qe=Q.charAt(++ke)])!=null?qe=Q.charAt(++ke):ze=qe==="e"?" ":"0",(mt=me[qe])&&(qe=mt(Ae,ze)),J.push(qe),ye=ke+1);return J.push(Q.slice(ye,ke)),J.join("")}}function L(Q,me){return function(Ae){var J=Px(1900,void 0,1),ke=B(J,Q,Ae+="",0),ye,ce;if(ke!=Ae.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(me&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ye=s_(Px(J.y,0,1)),ce=ye.getUTCDay(),ye=ce>4||ce===0?v2.ceil(ye):v2(ye),ye=Sw.offset(ye,(J.V-1)*7),J.y=ye.getUTCFullYear(),J.m=ye.getUTCMonth(),J.d=ye.getUTCDate()+(J.w+6)%7):(ye=i_(Px(J.y,0,1)),ce=ye.getDay(),ye=ce>4||ce===0?x2.ceil(ye):x2(ye),ye=mv.offset(ye,(J.V-1)*7),J.y=ye.getFullYear(),J.m=ye.getMonth(),J.d=ye.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ce="Z"in J?s_(Px(J.y,0,1)).getUTCDay():i_(Px(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ce+5)%7:J.w+J.U*7-(ce+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,s_(J)):i_(J)}}function B(Q,me,Ae,J){for(var ke=0,ye=me.length,ce=Ae.length,qe,ze;ke<ye;){if(J>=ce)return-1;if(qe=me.charCodeAt(ke++),qe===37){if(qe=me.charAt(ke++),ze=D[qe in ZP?me.charAt(ke++):qe],!ze||(J=ze(Q,Ae,J))<0)return-1}else if(qe!=Ae.charCodeAt(J++))return-1}return J}function F(Q,me,Ae){var J=d.exec(me.slice(Ae));return J?(Q.p=h.get(J[0].toLowerCase()),Ae+J[0].length):-1}function H(Q,me,Ae){var J=p.exec(me.slice(Ae));return J?(Q.w=y.get(J[0].toLowerCase()),Ae+J[0].length):-1}function O(Q,me,Ae){var J=m.exec(me.slice(Ae));return J?(Q.w=x.get(J[0].toLowerCase()),Ae+J[0].length):-1}function I(Q,me,Ae){var J=k.exec(me.slice(Ae));return J?(Q.m=N.get(J[0].toLowerCase()),Ae+J[0].length):-1}function V(Q,me,Ae){var J=b.exec(me.slice(Ae));return J?(Q.m=v.get(J[0].toLowerCase()),Ae+J[0].length):-1}function Y(Q,me,Ae){return B(Q,t,me,Ae)}function te(Q,me,Ae){return B(Q,r,me,Ae)}function X(Q,me,Ae){return B(Q,a,me,Ae)}function ae(Q){return s[Q.getDay()]}function de(Q){return i[Q.getDay()]}function oe(Q){return u[Q.getMonth()]}function De(Q){return l[Q.getMonth()]}function re(Q){return n[+(Q.getHours()>=12)]}function P(Q){return 1+~~(Q.getMonth()/3)}function W(Q){return s[Q.getUTCDay()]}function z(Q){return i[Q.getUTCDay()]}function q(Q){return u[Q.getUTCMonth()]}function Z(Q){return l[Q.getUTCMonth()]}function se(Q){return n[+(Q.getUTCHours()>=12)]}function ee(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var me=M(Q+="",_);return me.toString=function(){return Q},me},parse:function(Q){var me=L(Q+="",!1);return me.toString=function(){return Q},me},utcFormat:function(Q){var me=M(Q+="",A);return me.toString=function(){return Q},me},utcParse:function(Q){var me=L(Q+="",!0);return me.toString=function(){return Q},me}}}var ZP={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,dse=/^%/,hse=/[\\^$*+?|[\]().{}]/g;function Na(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function fse(e){return e.replace(hse,"\\$&")}function Dx(e){return new RegExp("^(?:"+e.map(fse).join("|")+")","i")}function Lx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mse(e,t,r){var a=ds.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function pse(e,t,r){var a=ds.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function gse(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function xse(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function vse(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function e7(e,t,r){var a=ds.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function t7(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function bse(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function yse(e,t,r){var a=ds.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function wse(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function r7(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function kse(e,t,r){var a=ds.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function a7(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function _se(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Sse(e,t,r){var a=ds.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Nse(e,t,r){var a=ds.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function jse(e,t,r){var a=ds.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Ase(e,t,r){var a=dse.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Tse(e,t,r){var a=ds.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Ese(e,t,r){var a=ds.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function n7(e,t){return Na(e.getDate(),t,2)}function Cse(e,t){return Na(e.getHours(),t,2)}function Ose(e,t){return Na(e.getHours()%12||12,t,2)}function Pse(e,t){return Na(1+mv.count(Xd(e),e),t,3)}function mB(e,t){return Na(e.getMilliseconds(),t,3)}function Dse(e,t){return mB(e,t)+"000"}function Lse(e,t){return Na(e.getMonth()+1,t,2)}function Mse(e,t){return Na(e.getMinutes(),t,2)}function Ise(e,t){return Na(e.getSeconds(),t,2)}function Rse(e){var t=e.getDay();return t===0?7:t}function Fse(e,t){return Na(Nw.count(Xd(e)-1,e),t,2)}function pB(e){var t=e.getDay();return t>=4||t===0?fg(e):fg.ceil(e)}function Bse(e,t){return e=pB(e),Na(fg.count(Xd(e),e)+(Xd(e).getDay()===4),t,2)}function Use(e){return e.getDay()}function zse(e,t){return Na(x2.count(Xd(e)-1,e),t,2)}function qse(e,t){return Na(e.getFullYear()%100,t,2)}function $se(e,t){return e=pB(e),Na(e.getFullYear()%100,t,2)}function Hse(e,t){return Na(e.getFullYear()%1e4,t,4)}function Wse(e,t){var r=e.getDay();return e=r>=4||r===0?fg(e):fg.ceil(e),Na(e.getFullYear()%1e4,t,4)}function Vse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Na(t/60|0,"0",2)+Na(t%60,"0",2)}function i7(e,t){return Na(e.getUTCDate(),t,2)}function Kse(e,t){return Na(e.getUTCHours(),t,2)}function Gse(e,t){return Na(e.getUTCHours()%12||12,t,2)}function Yse(e,t){return Na(1+Sw.count(Qd(e),e),t,3)}function gB(e,t){return Na(e.getUTCMilliseconds(),t,3)}function Xse(e,t){return gB(e,t)+"000"}function Qse(e,t){return Na(e.getUTCMonth()+1,t,2)}function Jse(e,t){return Na(e.getUTCMinutes(),t,2)}function Zse(e,t){return Na(e.getUTCSeconds(),t,2)}function eoe(e){var t=e.getUTCDay();return t===0?7:t}function toe(e,t){return Na(jw.count(Qd(e)-1,e),t,2)}function xB(e){var t=e.getUTCDay();return t>=4||t===0?mg(e):mg.ceil(e)}function roe(e,t){return e=xB(e),Na(mg.count(Qd(e),e)+(Qd(e).getUTCDay()===4),t,2)}function aoe(e){return e.getUTCDay()}function noe(e,t){return Na(v2.count(Qd(e)-1,e),t,2)}function ioe(e,t){return Na(e.getUTCFullYear()%100,t,2)}function soe(e,t){return e=xB(e),Na(e.getUTCFullYear()%100,t,2)}function ooe(e,t){return Na(e.getUTCFullYear()%1e4,t,4)}function loe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mg(e):mg.ceil(e),Na(e.getUTCFullYear()%1e4,t,4)}function coe(){return"+0000"}function s7(){return"%"}function o7(e){return+e}function l7(e){return Math.floor(+e/1e3)}var xp,vB,bB;uoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uoe(e){return xp=use(e),vB=xp.format,xp.parse,bB=xp.utcFormat,xp.utcParse,xp}function doe(e){return new Date(e)}function hoe(e){return e instanceof Date?+e:+new Date(+e)}function zj(e,t,r,a,n,i,s,l,u,d){var h=Aj(),m=h.invert,x=h.domain,p=d(".%L"),y=d(":%S"),b=d("%I:%M"),v=d("%I %p"),k=d("%a %d"),N=d("%b %d"),_=d("%B"),A=d("%Y");function D(M){return(u(M)<M?p:l(M)<M?y:s(M)<M?b:i(M)<M?v:a(M)<M?n(M)<M?k:N:r(M)<M?_:A)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?x(Array.from(M,hoe)):x().map(doe)},h.ticks=function(M){var L=x();return e(L[0],L[L.length-1],M??10)},h.tickFormat=function(M,L){return L==null?D:d(L)},h.nice=function(M){var L=x();return(!M||typeof M.range!="function")&&(M=t(L[0],L[L.length-1],M??10)),M?x(iB(L,M)):h},h.copy=function(){return fv(h,zj(e,t,r,a,n,i,s,l,u,d))},h}function foe(){return ac.apply(zj(lse,cse,Xd,Bj,Nw,mv,Rj,Mj,yf,vB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function moe(){return ac.apply(zj(sse,ose,Qd,Uj,jw,Sw,Fj,Ij,yf,bB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Aw(){var e=0,t=1,r,a,n,i,s=fo,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:s(n===0?.5:(m=(i(m)-r)*n,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(x){var p,y;return arguments.length?([p,y]=x,s=m(p,y),d):[s(0),s(1)]}}return d.range=h(Ag),d.rangeRound=h(jj),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return i=m,r=m(e),a=m(t),n=r===a?0:1/(a-r),d}}function jh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yB(){var e=Nh(Aw()(fo));return e.copy=function(){return jh(e,yB())},a0.apply(e,arguments)}function wB(){var e=Cj(Aw()).domain([1,10]);return e.copy=function(){return jh(e,wB()).base(e.base())},a0.apply(e,arguments)}function kB(){var e=Oj(Aw());return e.copy=function(){return jh(e,kB()).constant(e.constant())},a0.apply(e,arguments)}function qj(){var e=Pj(Aw());return e.copy=function(){return jh(e,qj()).exponent(e.exponent())},a0.apply(e,arguments)}function poe(){return qj.apply(null,arguments).exponent(.5)}function _B(){var e=[],t=fo;function r(a){if(a!=null&&!isNaN(a=+a))return t((dv(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(hh),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>eie(e,i/a))},r.copy=function(){return _B(t).domain(e)},a0.apply(r,arguments)}function Tw(){var e=0,t=.5,r=1,a=1,n,i,s,l,u,d=fo,h,m=!1,x;function p(b){return isNaN(b=+b)?x:(b=.5+((b=+h(b))-i)*(a*b<a*i?l:u),d(m?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,n=h(e=+e),i=h(t=+t),s=h(r=+r),l=n===i?0:.5/(i-n),u=i===s?0:.5/(s-i),a=i<n?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(m=!!b,p):m},p.interpolator=function(b){return arguments.length?(d=b,p):d};function y(b){return function(v){var k,N,_;return arguments.length?([k,N,_]=v,d=Aie(b,[k,N,_]),p):[d(0),d(.5),d(1)]}}return p.range=y(Ag),p.rangeRound=y(jj),p.unknown=function(b){return arguments.length?(x=b,p):x},function(b){return h=b,n=b(e),i=b(t),s=b(r),l=n===i?0:.5/(i-n),u=i===s?0:.5/(s-i),a=i<n?-1:1,p}}function SB(){var e=Nh(Tw()(fo));return e.copy=function(){return jh(e,SB())},a0.apply(e,arguments)}function NB(){var e=Cj(Tw()).domain([.1,1,10]);return e.copy=function(){return jh(e,NB()).base(e.base())},a0.apply(e,arguments)}function jB(){var e=Oj(Tw());return e.copy=function(){return jh(e,jB()).constant(e.constant())},a0.apply(e,arguments)}function $j(){var e=Pj(Tw());return e.copy=function(){return jh(e,$j()).exponent(e.exponent())},a0.apply(e,arguments)}function goe(){return $j.apply(null,arguments).exponent(.5)}const $x=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_j,scaleDiverging:SB,scaleDivergingLog:NB,scaleDivergingPow:$j,scaleDivergingSqrt:goe,scaleDivergingSymlog:jB,scaleIdentity:nB,scaleImplicit:S3,scaleLinear:aB,scaleLog:sB,scaleOrdinal:kj,scalePoint:aie,scalePow:Dj,scaleQuantile:cB,scaleQuantize:uB,scaleRadial:lB,scaleSequential:yB,scaleSequentialLog:wB,scaleSequentialPow:qj,scaleSequentialQuantile:_B,scaleSequentialSqrt:poe,scaleSequentialSymlog:kB,scaleSqrt:Xie,scaleSymlog:oB,scaleThreshold:dB,scaleTime:foe,scaleUtc:moe,tickFormat:rB},Symbol.toStringTag,{value:"Module"}));var Ah=e=>e.chartData,Hj=tt([Ah],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pv=(e,t,r,a)=>a?Hj(e):Ah(e);function Qf(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Oi(t)&&Oi(r))return!0}return!1}function c7(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function AB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,n,i;if(Oi(r))n=r;else if(typeof r=="function")return;if(Oi(a))i=a;else if(typeof a=="function")return;var s=[n,i];if(Qf(s))return s}}function xoe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Qf(a))return c7(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,s,l;if(n==="auto")t!=null&&(s=Math.min(...t));else if(tr(n))s=n;else if(typeof n=="function")try{t!=null&&(s=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&VO.test(n)){var u=VO.exec(n);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(tr(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&KO.test(i)){var h=KO.exec(i);if(h==null||t==null)l=void 0;else{var m=+h[1];l=t[1]+m}}else l=t==null?void 0:t[1];var x=[s,l];if(Qf(x))return t==null?x:c7(x,t,r)}}}var Tg=1e9,voe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vj,En=!0,Zl="[DecimalError] ",Mf=Zl+"Invalid argument: ",Wj=Zl+"Exponent out of range: ",Eg=Math.floor,uf=Math.pow,boe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cl,is=1e7,pn=7,TB=9007199254740991,b2=Eg(TB/pn),Xt={};Xt.absoluteValue=Xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xt.comparedTo=Xt.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xt.dividedBy=Xt.div=function(e){return Id(this,new this.constructor(e))};Xt.dividedToIntegerBy=Xt.idiv=function(e){var t=this,r=t.constructor;return rn(Id(t,new r(e),0,1),r.precision)};Xt.equals=Xt.eq=function(e){return!this.cmp(e)};Xt.exponent=function(){return Ci(this)};Xt.greaterThan=Xt.gt=function(e){return this.cmp(e)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(e){return this.cmp(e)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(e){return this.cmp(e)<0};Xt.lessThanOrEqualTo=Xt.lte=function(e){return this.cmp(e)<1};Xt.logarithm=Xt.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(cl))throw Error(Zl+"NaN");if(r.s<1)throw Error(Zl+(r.s?"NaN":"-Infinity"));return r.eq(cl)?new a(0):(En=!1,t=Id(T1(r,i),T1(e,i),i),En=!0,rn(t,n))};Xt.minus=Xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OB(t,e):EB(t,(e.s=-e.s,e))};Xt.modulo=Xt.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Zl+"NaN");return r.s?(En=!1,t=Id(r,e,0,1).times(e),En=!0,r.minus(t)):rn(new a(r),n)};Xt.naturalExponential=Xt.exp=function(){return CB(this)};Xt.naturalLogarithm=Xt.ln=function(){return T1(this)};Xt.negated=Xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xt.plus=Xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EB(t,e):OB(t,(e.s=-e.s,e))};Xt.precision=Xt.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mf+e);if(t=Ci(n)+1,a=n.d.length-1,r=a*pn+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Xt.squareRoot=Xt.sqrt=function(){var e,t,r,a,n,i,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Zl+"NaN")}for(e=Ci(l),En=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=ju(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Eg((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(n.toString()),r=u.precision,n=s=r+3;;)if(i=a,a=i.plus(Id(l,i,s+2)).times(.5),ju(i.d).slice(0,s)===(t=ju(a.d)).slice(0,s)){if(t=t.slice(s-3,s+1),n==s&&t=="4999"){if(rn(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;s+=4}return En=!0,rn(a,r)};Xt.times=Xt.mul=function(e){var t,r,a,n,i,s,l,u,d,h=this,m=h.constructor,x=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=x.length,d=p.length,u<d&&(i=x,x=p,p=i,s=u,u=d,d=s),i=[],s=u+d,a=s;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=u+a;n>a;)l=i[n]+p[a]*x[n-a-1]+t,i[n--]=l%is|0,t=l/is|0;i[n]=(i[n]+t)%is|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,En?rn(e,m.precision):e};Xt.toDecimalPlaces=Xt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Mu(e,0,Tg),t===void 0?t=a.rounding:Mu(t,0,8),rn(r,e+Ci(r)+1,t))};Xt.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=Jf(a,!0):(Mu(e,0,Tg),t===void 0?t=n.rounding:Mu(t,0,8),a=rn(new n(a),e+1,t),r=Jf(a,!0,e+1)),r};Xt.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?Jf(n):(Mu(e,0,Tg),t===void 0?t=i.rounding:Mu(t,0,8),a=rn(new i(n),e+Ci(n)+1,t),r=Jf(a.abs(),!1,e+Ci(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};Xt.toInteger=Xt.toint=function(){var e=this,t=e.constructor;return rn(new t(e),Ci(e)+1,t.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(e){var t,r,a,n,i,s,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(cl);if(l=new u(l),!l.s){if(e.s<1)throw Error(Zl+"Infinity");return l}if(l.eq(cl))return l;if(a=u.precision,e.eq(cl))return rn(l,a);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=h<0?-h:h)<=TB){for(n=new u(cl),t=Math.ceil(a/pn+4),En=!1;r%2&&(n=n.times(l),d7(n.d,t)),r=Eg(r/2),r!==0;)l=l.times(l),d7(l.d,t);return En=!0,e.s<0?new u(cl).div(n):rn(n,a)}}else if(i<0)throw Error(Zl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,En=!1,n=e.times(T1(l,a+d)),En=!0,n=CB(n),n.s=i,n};Xt.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=Ci(n),a=Jf(n,r<=i.toExpNeg||r>=i.toExpPos)):(Mu(e,1,Tg),t===void 0?t=i.rounding:Mu(t,0,8),n=rn(new i(n),e,t),r=Ci(n),a=Jf(n,e<=r||r<=i.toExpNeg,e)),a};Xt.toSignificantDigits=Xt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Mu(e,1,Tg),t===void 0?t=a.rounding:Mu(t,0,8)),rn(new a(r),e,t)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ci(e),r=e.constructor;return Jf(e,t<=r.toExpNeg||t>=r.toExpPos)};function EB(e,t){var r,a,n,i,s,l,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),En?rn(t,m):t;if(u=e.d,d=t.d,s=e.e,n=t.e,u=u.slice(),i=s-n,i){for(i<0?(a=u,i=-i,l=d.length):(a=d,n=s,l=u.length),s=Math.ceil(m/pn),l=s>l?s+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,a=d,d=u,u=a),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/is|0,u[i]%=is;for(r&&(u.unshift(r),++n),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=n,En?rn(t,m):t}function Mu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mf+e)}function ju(e){var t,r,a,n=e.length-1,i="",s=e[0];if(n>0){for(i+=s,t=1;t<n;t++)a=e[t]+"",r=pn-a.length,r&&(i+=Y0(r)),i+=a;s=e[t],a=s+"",r=pn-a.length,r&&(i+=Y0(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Id=(function(){function e(a,n){var i,s=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+s,a[l]=i%is|0,s=i/is|0;return s&&a.unshift(s),a}function t(a,n,i,s){var l,u;if(i!=s)u=i>s?1:-1;else for(l=u=0;l<i;l++)if(a[l]!=n[l]){u=a[l]>n[l]?1:-1;break}return u}function r(a,n,i){for(var s=0;i--;)a[i]-=s,s=a[i]<n[i]?1:0,a[i]=s*is+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,s){var l,u,d,h,m,x,p,y,b,v,k,N,_,A,D,M,L,B,F=a.constructor,H=a.s==n.s?1:-1,O=a.d,I=n.d;if(!a.s)return new F(a);if(!n.s)throw Error(Zl+"Division by zero");for(u=a.e-n.e,L=I.length,D=O.length,p=new F(H),y=p.d=[],d=0;I[d]==(O[d]||0);)++d;if(I[d]>(O[d]||0)&&--u,i==null?N=i=F.precision:s?N=i+(Ci(a)-Ci(n))+1:N=i,N<0)return new F(0);if(N=N/pn+2|0,d=0,L==1)for(h=0,I=I[0],N++;(d<D||h)&&N--;d++)_=h*is+(O[d]||0),y[d]=_/I|0,h=_%I|0;else{for(h=is/(I[0]+1)|0,h>1&&(I=e(I,h),O=e(O,h),L=I.length,D=O.length),A=L,b=O.slice(0,L),v=b.length;v<L;)b[v++]=0;B=I.slice(),B.unshift(0),M=I[0],I[1]>=is/2&&++M;do h=0,l=t(I,b,L,v),l<0?(k=b[0],L!=v&&(k=k*is+(b[1]||0)),h=k/M|0,h>1?(h>=is&&(h=is-1),m=e(I,h),x=m.length,v=b.length,l=t(m,b,x,v),l==1&&(h--,r(m,L<x?B:I,x))):(h==0&&(l=h=1),m=I.slice()),x=m.length,x<v&&m.unshift(0),r(b,m,v),l==-1&&(v=b.length,l=t(I,b,L,v),l<1&&(h++,r(b,L<v?B:I,v))),v=b.length):l===0&&(h++,b=[0]),y[d++]=h,l&&b[0]?b[v++]=O[A]||0:(b=[O[A]],v=1);while((A++<D||b[0]!==void 0)&&N--)}return y[0]||y.shift(),p.e=u,rn(p,s?i+Ci(p)+1:i)}})();function CB(e,t){var r,a,n,i,s,l,u=0,d=0,h=e.constructor,m=h.precision;if(Ci(e)>16)throw Error(Wj+Ci(e));if(!e.s)return new h(cl);for(En=!1,l=m,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(a=Math.log(uf(2,d))/Math.LN10*2+5|0,l+=a,r=n=i=new h(cl),h.precision=l;;){if(n=rn(n.times(e),l),r=r.times(++u),s=i.plus(Id(n,r,l)),ju(s.d).slice(0,l)===ju(i.d).slice(0,l)){for(;d--;)i=rn(i.times(i),l);return h.precision=m,t==null?(En=!0,rn(i,m)):i}i=s}}function Ci(e){for(var t=e.e*pn,r=e.d[0];r>=10;r/=10)t++;return t}function o_(e,t,r){if(t>e.LN10.sd())throw En=!0,r&&(e.precision=r),Error(Zl+"LN10 precision limit exceeded");return rn(new e(e.LN10),t)}function Y0(e){for(var t="";e--;)t+="0";return t}function T1(e,t){var r,a,n,i,s,l,u,d,h,m=1,x=10,p=e,y=p.d,b=p.constructor,v=b.precision;if(p.s<1)throw Error(Zl+(p.s?"NaN":"-Infinity"));if(p.eq(cl))return new b(0);if(t==null?(En=!1,d=v):d=t,p.eq(10))return t==null&&(En=!0),o_(b,d);if(d+=x,b.precision=d,r=ju(y),a=r.charAt(0),i=Ci(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=ju(p.d),a=r.charAt(0),m++;i=Ci(p),a>1?(p=new b("0."+r),i++):p=new b(a+"."+r.slice(1))}else return u=o_(b,d+2,v).times(i+""),p=T1(new b(a+"."+r.slice(1)),d-x).plus(u),b.precision=v,t==null?(En=!0,rn(p,v)):p;for(l=s=p=Id(p.minus(cl),p.plus(cl),d),h=rn(p.times(p),d),n=3;;){if(s=rn(s.times(h),d),u=l.plus(Id(s,new b(n),d)),ju(u.d).slice(0,d)===ju(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(o_(b,d+2,v).times(i+""))),l=Id(l,new b(m),d),b.precision=v,t==null?(En=!0,rn(l,v)):l;l=u,n+=2}}function u7(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=Eg(r/pn),e.d=[],a=(r+1)%pn,r<0&&(a+=pn),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=pn;a<n;)e.d.push(+t.slice(a,a+=pn));t=t.slice(a),a=pn-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),En&&(e.e>b2||e.e<-b2))throw Error(Wj+r)}else e.s=0,e.e=0,e.d=[0];return e}function rn(e,t,r){var a,n,i,s,l,u,d,h,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(a=t-s,a<0)a+=pn,n=t,d=m[h=0];else{if(h=Math.ceil((a+1)/pn),i=m.length,h>=i)return e;for(d=i=m[h],s=1;i>=10;i/=10)s++;a%=pn,n=a-pn+s}if(r!==void 0&&(i=uf(10,s-n-1),l=d/i%10|0,u=t<0||m[h+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(a>0?n>0?d/uf(10,s-n):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(i=Ci(e),m.length=1,t=t-i-1,m[0]=uf(10,(pn-t%pn)%pn),e.e=Eg(-t/pn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=h,i=1,h--):(m.length=h+1,i=uf(10,pn-a),m[h]=n>0?(d/uf(10,s-n)%uf(10,n)|0)*i:0),u)for(;;)if(h==0){(m[0]+=i)==is&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=is)break;m[h--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(En&&(e.e>b2||e.e<-b2))throw Error(Wj+Ci(e));return e}function OB(e,t){var r,a,n,i,s,l,u,d,h,m,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),En?rn(t,p):t;if(u=e.d,m=t.d,a=t.e,d=e.e,u=u.slice(),s=d-a,s){for(h=s<0,h?(r=u,s=-s,l=m.length):(r=m,a=d,l=u.length),n=Math.max(Math.ceil(p/pn),l)+2,s>n&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for(n=u.length,l=m.length,h=n<l,h&&(l=n),n=0;n<l;n++)if(u[n]!=m[n]){h=u[n]<m[n];break}s=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,n=m.length-l;n>0;--n)u[l++]=0;for(n=m.length;n>s;){if(u[--n]<m[n]){for(i=n;i&&u[--i]===0;)u[i]=is-1;--u[i],u[n]+=is}u[n]-=m[n]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,En?rn(t,p):t):new x(0)}function Jf(e,t,r){var a,n=Ci(e),i=ju(e.d),s=i.length;return t?(r&&(a=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Y0(a):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Y0(-n-1)+i,r&&(a=r-s)>0&&(i+=Y0(a))):n>=s?(i+=Y0(n+1-s),r&&(a=r-n-1)>0&&(i=i+"."+Y0(a))):((a=n+1)<s&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-s)>0&&(n+1===s&&(i+="."),i+=Y0(a))),e.s<0?"-"+i:i}function d7(e,t){if(e.length>t)return e.length=t,!0}function PB(e){var t,r,a;function n(i){var s=this;if(!(s instanceof n))return new n(i);if(s.constructor=n,i instanceof n){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return u7(s,i.toString())}else if(typeof i!="string")throw Error(Mf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,boe.test(i))u7(s,i);else throw Error(Mf+i)}if(n.prototype=Xt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=PB,n.config=n.set=yoe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function yoe(e){if(!e||typeof e!="object")throw Error(Zl+"Object expected");var t,r,a,n=["precision",1,Tg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(Eg(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Mf+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Mf+r+": "+a);return this}var Vj=PB(voe);cl=new Vj(1);const Ra=Vj;var woe=e=>e,DB={},LB=e=>e===DB,h7=e=>function t(){return arguments.length===0||arguments.length===1&&LB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},MB=(e,t)=>e===1?t:h7(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var i=a.filter(s=>s!==DB).length;return i>=e?t(...a):MB(e-i,h7(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.map(h=>LB(h)?l.shift():h);return t(...d,...l)}))}),Ew=e=>MB(e.length,e),T3=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},koe=Ew((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),_oe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return woe;var n=r.reverse(),i=n[0],s=n.slice(1);return function(){return s.reduce((l,u)=>u(l),i(...arguments))}},E3=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),IB=e=>{var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((s,l)=>{var u;return s===((u=t)===null||u===void 0?void 0:u[l])})||(t=n,r=e(...n)),r}};function RB(e){var t;return e===0?t=1:t=Math.floor(new Ra(e).abs().log(10).toNumber())+1,t}function FB(e,t,r){for(var a=new Ra(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}Ew((e,t,r)=>{var a=+e,n=+t;return a+r*(n-a)});Ew((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});Ew((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var BB=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},UB=(e,t,r)=>{if(e.lte(0))return new Ra(0);var a=RB(e.toNumber()),n=new Ra(10).pow(a),i=e.div(n),s=a!==1?.05:.1,l=new Ra(Math.ceil(i.div(s).toNumber())).add(r).mul(s),u=l.mul(n);return t?new Ra(u.toNumber()):new Ra(Math.ceil(u.toNumber()))},Soe=(e,t,r)=>{var a=new Ra(1),n=new Ra(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new Ra(10).pow(RB(e)-1),n=new Ra(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new Ra(Math.floor(e)))}else e===0?n=new Ra(Math.floor((t-1)/2)):r||(n=new Ra(Math.floor(e)));var s=Math.floor((t-1)/2),l=_oe(koe(u=>n.add(new Ra(u-s).mul(a)).toNumber()),T3);return l(0,t)},zB=function(t,r,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Ra(0),tickMin:new Ra(0),tickMax:new Ra(0)};var s=UB(new Ra(r).sub(t).div(a-1),n,i),l;t<=0&&r>=0?l=new Ra(0):(l=new Ra(t).add(r).div(2),l=l.sub(new Ra(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new Ra(r).sub(l).div(s).toNumber()),h=u+d+1;return h>a?zB(t,r,a,n,i+1):(h<a&&(d=r>0?d+(a-h):d,u=r>0?u:u+(a-h)),{step:s,tickMin:l.sub(new Ra(u).mul(s)),tickMax:l.add(new Ra(d).mul(s))})};function Noe(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[s,l]=BB([t,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...T3(0,a-1).map(()=>1/0)]:[...T3(0,a-1).map(()=>-1/0),l];return t>r?E3(u):u}if(s===l)return Soe(s,a,n);var{step:d,tickMin:h,tickMax:m}=zB(s,l,i,n,0),x=FB(h,m.add(new Ra(.1).mul(d)),d);return t>r?E3(x):x}function joe(e,t){var[r,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=BB([r,a]);if(i===-1/0||s===1/0)return[r,a];if(i===s)return[i];var l=Math.max(t,2),u=UB(new Ra(s).sub(i).div(l-1),n,0),d=[...FB(new Ra(i),new Ra(s),u),s];return n===!1&&(d=d.map(h=>Math.round(h))),r>a?E3(d):d}var Aoe=IB(Noe),Toe=IB(joe),qB=e=>e.rootProps.maxBarSize,Eoe=e=>e.rootProps.barGap,$B=e=>e.rootProps.barCategoryGap,Coe=e=>e.rootProps.barSize,gv=e=>e.rootProps.stackOffset,Kj=e=>e.options.chartName,Gj=e=>e.rootProps.syncId,HB=e=>e.rootProps.syncMethod,Yj=e=>e.options.eventEmitter,Ad={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},al={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Ooe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ad.angleAxisId,includeHidden:!1,name:void 0,reversed:Ad.reversed,scale:Ad.scale,tick:Ad.tick,tickCount:void 0,ticks:void 0,type:Ad.type,unit:void 0},Poe={allowDataOverflow:al.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:al.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:al.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:al.scale,tick:al.tick,tickCount:al.tickCount,ticks:void 0,type:al.type,unit:void 0},Doe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ad.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ad.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ad.scale,tick:Ad.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Loe={allowDataOverflow:al.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:al.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:al.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:al.scale,tick:al.tick,tickCount:al.tickCount,ticks:void 0,type:"category",unit:void 0},Xj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Doe:Ooe,Qj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Loe:Poe,Ow=e=>e.polarOptions,Jj=tt([e0,t0,Vi],kF),WB=tt([Ow,Jj],(e,t)=>{if(e!=null)return Hs(e.innerRadius,t,0)}),VB=tt([Ow,Jj],(e,t)=>{if(e!=null)return Hs(e.outerRadius,t,t*.8)}),Moe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},KB=tt([Ow],Moe);tt([Xj,KB],Cw);var GB=tt([Jj,WB,VB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});tt([Qj,GB],Cw);var YB=tt([ta,Ow,WB,VB,e0,t0],(e,t,r,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=t;return{cx:Hs(s,n,n/2),cy:Hs(l,i,i/2),innerRadius:r,outerRadius:a,startAngle:u,endAngle:d,clockWise:!1}}}),Dn=(e,t)=>t,xv=(e,t,r)=>r;function Pw(e){return e==null?void 0:e.id}var Yi=e=>{var t=ta(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Cg=e=>e.tooltip.settings.axisId,Xi=e=>{var t=Yi(e),r=Cg(e);return vv(e,t,r)},XB=tt([Xi],e=>e==null?void 0:e.dataKey);function QB(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=r,s=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:a;if(!(d==null||d.length===0)){var h=Pw(l);d.forEach((m,x)=>{var p=i==null||n?x:String(Ga(m,i,null)),y=Ga(m,l.dataKey,0),b;s.has(p)?b=s.get(p):b={},Object.assign(b,{[h]:y}),s.set(p,b)})}}),Array.from(s.values())}function Dw(e){return e.stackId!=null&&e.dataKey!=null}var Lw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Mw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(a){Ioe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ioe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C3=[0,"auto"],el={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JB=(e,t)=>e.cartesianAxis.xAxis[t],n0=(e,t)=>{var r=JB(e,t);return r??el},tl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:C3,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cv},ZB=(e,t)=>e.cartesianAxis.yAxis[t],i0=(e,t)=>{var r=ZB(e,t);return r??tl},Boe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Boe},Wn=(e,t,r)=>{switch(t){case"xAxis":return n0(e,r);case"yAxis":return i0(e,r);case"zAxis":return Zj(e,r);case"angleAxis":return Xj(e,r);case"radiusAxis":return Qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uoe=(e,t,r)=>{switch(t){case"xAxis":return n0(e,r);case"yAxis":return i0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vv=(e,t,r)=>{switch(t){case"xAxis":return n0(e,r);case"yAxis":return i0(e,r);case"angleAxis":return Xj(e,r);case"radiusAxis":return Qj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},eU=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function e6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var bv=e=>e.graphicalItems.cartesianItems,zoe=tt([Dn,xv],e6),t6=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),yv=tt([bv,Wn,zoe],t6,{memoizeOptions:{resultEqualityCheck:Mw}}),tU=tt([yv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Dw)),rU=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qoe=tt([yv],rU),r6=e=>e.map(t=>t.data).filter(Boolean).flat(1),$oe=tt([yv],r6,{memoizeOptions:{resultEqualityCheck:Mw}}),a6=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},n6=tt([$oe,pv],a6),i6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ga(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:Ga(n,a)}))):e.map(a=>({value:a})),Iw=tt([n6,Wn,yv],i6);function aU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jy(e){if(Lu(e)||e instanceof Date){var t=Number(e);if(Oi(t))return t}}function m7(e){if(Array.isArray(e)){var t=[jy(e[0]),jy(e[1])];return Qf(t)?t:void 0}var r=jy(e);if(r!=null)return[r,r]}function Og(e){return e.map(jy).filter(sne)}function Hoe(e,t,r){return!r||typeof t!="number"||pl(t)?[]:r.length?Og(r.flatMap(a=>{var n=Ga(e,a.dataKey),i,s;if(Array.isArray(n)?[i,s]=n:i=s=n,!(!Oi(i)||!Oi(s)))return[t-i,t+s]})):[]}var Woe=tt([tU,pv,Xi],QB),nU=(e,t,r)=>{var a={},n=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[s,l]=i,u=l.map(Pw);return[s,{stackedData:Cre(e,u,r),graphicalItems:l}]}))},E1=tt([Woe,tU,gv],nU),iU=(e,t,r,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&r!=="zAxis"){var s=Lre(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Voe=tt([Wn],e=>e.allowDataOverflow),s6=e=>{var t;if(e==null||!("domain"in e))return C3;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Og(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:C3},o6=tt([Wn],s6),l6=tt([o6,Voe],AB),Koe=tt([E1,Ah,Dn,l6],iU,{memoizeOptions:{resultEqualityCheck:Lw}}),Rw=e=>e.errorBars,Goe=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>aU(r,a)),w2=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r.filter(Boolean);if(n.length!==0){var i=n.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},c6=(e,t,r,a,n)=>{var i,s;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var d,h,m=(d=a[u.id])===null||d===void 0?void 0:d.filter(k=>aU(n,k)),x=Ga(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),p=Hoe(l,x,m);if(p.length>=2){var y=Math.min(...p),b=Math.max(...p);(i==null||y<i)&&(i=y),(s==null||b>s)&&(s=b)}var v=m7(x);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=m7(Ga(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Oi(i)&&Oi(s))return[i,s]},Yoe=tt([n6,Wn,qoe,Rw,Dn],c6,{memoizeOptions:{resultEqualityCheck:Lw}});function Xoe(e){var{value:t}=e;if(Lu(t)||t instanceof Date)return t}var Qoe=(e,t,r)=>{var a=e.map(Xoe).filter(n=>n!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&PR(a))?VF(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},sU=e=>e.referenceElements.dots,Pg=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Joe=tt([sU,Dn,xv],Pg),oU=e=>e.referenceElements.areas,Zoe=tt([oU,Dn,xv],Pg),lU=e=>e.referenceElements.lines,ele=tt([lU,Dn,xv],Pg),cU=(e,t)=>{var r=Og(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tle=tt(Joe,Dn,cU),uU=(e,t)=>{var r=Og(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rle=tt([Zoe,Dn],uU),dU=(e,t)=>{var r=Og(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ale=tt(ele,Dn,dU),nle=tt(tle,ale,rle,(e,t,r)=>w2(e,r,t)),u6=(e,t,r,a,n,i,s,l)=>{if(r!=null)return r;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?w2(a,i,n):w2(i,n);return xoe(t,d,e.allowDataOverflow)},ile=tt([Wn,o6,l6,Koe,Yoe,nle,ta,Dn],u6,{memoizeOptions:{resultEqualityCheck:Lw}}),sle=[0,1],d6=(e,t,r,a,n,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,d=Uu(t,i);return d&&l==null?VF(0,r.length):u==="category"?Qoe(a,e,d):n==="expand"?sle:s}},h6=tt([Wn,ta,n6,Iw,gv,Dn,ile],d6),hU=(e,t,r,a,n)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":s==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(iv(i));return l in $x?l:"point"}}},Dg=tt([Wn,ta,eU,Kj,Dn],hU);function ole(e){if(e!=null){if(e in $x)return $x[e]();var t="scale".concat(iv(e));if(t in $x)return $x[t]()}}function f6(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var n=ole(t);if(n!=null){var i=n.domain(r).range(a);return Nre(i),i}}}var m6=(e,t,r)=>{var a=s6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Qf(e))return Aoe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qf(e))return Toe(e,t.tickCount,t.allowDecimals)}},p6=tt([h6,vv,Dg],m6),g6=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Qf(t)&&Array.isArray(r)&&r.length>0){var n=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(n,i),Math.max(s,l)]}return t},lle=tt([Wn,h6,p6,Dn],g6),cle=tt(Iw,Wn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Og(e.map(l=>l.value))).sort((l,u)=>l-u);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var s=a[i+1]-a[i];r=Math.min(r,s)}return r/n}}),fU=tt(cle,ta,$B,Vi,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!Oi(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var s=Hs(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),ule=(e,t)=>{var r=n0(e,t);return r==null||typeof r.padding!="string"?0:fU(e,"xAxis",t,r.padding)},dle=(e,t)=>{var r=i0(e,t);return r==null||typeof r.padding!="string"?0:fU(e,"yAxis",t,r.padding)},hle=tt(n0,ule,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((r=n.left)!==null&&r!==void 0?r:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),fle=tt(i0,dle,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((r=n.top)!==null&&r!==void 0?r:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),mle=tt([Vi,hle,yw,bw,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:i}=a;return n?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ple=tt([Vi,ta,fle,yw,bw,(e,t,r)=>r],(e,t,r,a,n,i)=>{var{padding:s}=n;return i?[a.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),wv=(e,t,r,a)=>{var n;switch(t){case"xAxis":return mle(e,r,a);case"yAxis":return ple(e,r,a);case"zAxis":return(n=Zj(e,r))===null||n===void 0?void 0:n.range;case"angleAxis":return KB(e);case"radiusAxis":return GB(e,r);default:return}},mU=tt([Wn,wv],Cw),Lg=tt([Wn,Dg,lle,mU],f6);tt([yv,Rw,Dn],Goe);function pU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fw=(e,t)=>t,Bw=(e,t,r)=>r,gle=tt(xw,Fw,Bw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(pU)),xle=tt(vw,Fw,Bw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(pU)),gU=(e,t)=>({width:e.width,height:t.height}),vle=(e,t)=>{var r=typeof t.width=="number"?t.width:cv;return{width:r,height:e.height}},xU=tt(Vi,n0,gU),ble=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},wle=tt(t0,Vi,gle,Fw,Bw,(e,t,r,a,n)=>{var i={},s;return r.forEach(l=>{var u=gU(t,l);s==null&&(s=ble(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),i}),kle=tt(e0,Vi,xle,Fw,Bw,(e,t,r,a,n)=>{var i={},s;return r.forEach(l=>{var u=vle(t,l);s==null&&(s=yle(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),i}),_le=(e,t)=>{var r=n0(e,t);if(r!=null)return wle(e,r.orientation,r.mirror)},Sle=tt([Vi,n0,_le,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),Nle=(e,t)=>{var r=i0(e,t);if(r!=null)return kle(e,r.orientation,r.mirror)},jle=tt([Vi,i0,Nle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),vU=tt(Vi,i0,(e,t)=>{var r=typeof t.width=="number"?t.width:cv;return{width:r,height:e.height}}),p7=(e,t,r)=>{switch(t){case"xAxis":return xU(e,r).width;case"yAxis":return vU(e,r).height;default:return}},bU=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:n,type:i,dataKey:s}=r,l=Uu(e,a),u=t.map(d=>d.value);if(s&&l&&i==="category"&&n&&PR(u))return u}},x6=tt([ta,Iw,Wn,Dn],bU),yU=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:n,scale:i}=r,s=Uu(e,a);if(s&&(n==="number"||i!=="auto"))return t.map(l=>l.value)}},v6=tt([ta,Iw,vv,Dn],yU),g7=tt([ta,Uoe,Dg,Lg,x6,v6,wv,p6,Dn],(e,t,r,a,n,i,s,l,u)=>{if(t==null)return null;var d=Uu(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:l,range:s,realScaleType:r,scale:a}}),Ale=(e,t,r,a,n,i,s,l,u)=>{if(!(t==null||a==null)){var d=Uu(e,u),{type:h,ticks:m,tickCount:x}=t,p=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=h==="category"&&a.bandwidth?a.bandwidth()/p:0;y=u==="angleAxis"&&i!=null&&i.length>=2?cs(i[0]-i[1])*2*y:y;var b=m||n;if(b){var v=b.map((k,N)=>{var _=s?s.indexOf(k):k;return{index:N,coordinate:a(_)+y,value:k,offset:y}});return v.filter(k=>!pl(k.coordinate))}return d&&l?l.map((k,N)=>({coordinate:a(k)+y,value:k,index:N,offset:y})):a.ticks?a.ticks(x).map(k=>({coordinate:a(k)+y,value:k,offset:y})):a.domain().map((k,N)=>({coordinate:a(k)+y,value:s?s[k]:k,index:N,offset:y}))}},wU=tt([ta,vv,Dg,Lg,p6,wv,x6,v6,Dn],Ale),Tle=(e,t,r,a,n,i,s)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var l=Uu(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&(a==null?void 0:a.length)>=2?cs(a[0]-a[1])*2*d:d,l&&i?i.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+d,value:h,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:n?n[h]:h,index:m,offset:d}))}},Iu=tt([ta,vv,Lg,wv,x6,v6,Dn],Tle),Ru=tt(Wn,Lg,(e,t)=>{if(!(e==null||t==null))return y2(y2({},e),{},{scale:t})}),Ele=tt([Wn,Dg,h6,mU],f6);tt((e,t,r)=>Zj(e,r),Ele,(e,t)=>{if(!(e==null||t==null))return y2(y2({},e),{},{scale:t})});var Cle=tt([ta,xw,vw],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kU=e=>e.options.defaultTooltipEventType,_U=e=>e.options.validateTooltipEventTypes;function SU(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function b6(e,t){var r=kU(e),a=_U(e);return SU(t,r,a)}function Ole(e){return nr(t=>b6(t,e))}var NU=(e,t)=>{var r,a=Number(t);if(!(pl(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Ple=e=>e.tooltip.settings,J0={active:!1,index:null,dataKey:void 0,coordinate:void 0},Dle={itemInteraction:{click:J0,hover:J0},axisInteraction:{click:J0,hover:J0},keyboardInteraction:J0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jU=vl({name:"tooltip",initialState:Dle,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:co()},removeTooltipEntrySettings:{reducer(e,t){var r=Md(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:co()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Lle,removeTooltipEntrySettings:Mle,setTooltipSettingsState:Ile,setActiveMouseOverItemIndex:AU,mouseLeaveItem:Rle,mouseLeaveChart:TU,setActiveClickItemIndex:Fle,setMouseOverAxisIndex:EU,setMouseClickAxisIndex:Ble,setSyncInteraction:O3,setKeyboardInteraction:P3}=jU.actions,Ule=jU.reducer;function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(a){zle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zle(e,t,r){return(t=qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qle(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hle(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Wle(e){return e.index!=null}var CU=(e,t,r,a)=>{if(t==null)return J0;var n=Hle(e,t,r);if(n==null)return J0;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Wle(n)){if(i)return Jb(Jb({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Jb(Jb({},J0),{},{coordinate:n.coordinate})},y6=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!Oi(a))return r;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},OU=(e,t,r,a,n,i,s,l)=>{if(!(i==null||l==null)){var u=s[0],d=u==null?void 0:l(u.positions,i);if(d!=null)return d;var h=n==null?void 0:n[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},PU=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return r==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===n})},kv=e=>e.options.tooltipPayloadSearcher,Mg=e=>e.tooltip;function v7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(r),!0).forEach(function(a){Vle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vle(e,t,r){return(t=Kle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kle(e){var t=Gle(e,"string");return typeof t=="symbol"?t:t+""}function Gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yle(e,t){return e??t}var DU=(e,t,r,a,n,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=r,m=[];return e.reduce((x,p)=>{var y,{dataDefinedOnItem:b,settings:v}=p,k=Yle(b,l),N=Array.isArray(k)?_F(k,d,h):k,_=(y=v==null?void 0:v.dataKey)!==null&&y!==void 0?y:a,A=v==null?void 0:v.nameKey,D;if(a&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?D=DR(N,a,n):D=i(N,t,u,A),Array.isArray(D))D.forEach(L=>{var B=b7(b7({},v),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});x.push(GO({tooltipEntrySettings:B,dataKey:L.dataKey,payload:L.payload,value:Ga(L.payload,L.dataKey),name:L.name}))});else{var M;x.push(GO({tooltipEntrySettings:v,dataKey:_,payload:D,value:Ga(D,_),name:(M=Ga(D,A))!==null&&M!==void 0?M:v==null?void 0:v.name}))}return x},m)}},w6=tt([Xi,ta,eU,Kj,Yi],hU),Xle=tt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Qle=tt([Yi,Cg],e6),_v=tt([Xle,Xi,Qle],t6,{memoizeOptions:{resultEqualityCheck:Mw}}),Jle=tt([_v],e=>e.filter(Dw)),Zle=tt([_v],r6,{memoizeOptions:{resultEqualityCheck:Mw}}),Ig=tt([Zle,Ah],a6),ece=tt([Jle,Ah,Xi],QB),k6=tt([Ig,Xi,_v],i6),LU=tt([Xi],s6),tce=tt([Xi],e=>e.allowDataOverflow),MU=tt([LU,tce],AB),rce=tt([_v],e=>e.filter(Dw)),ace=tt([ece,rce,gv],nU),nce=tt([ace,Ah,Yi,MU],iU),ice=tt([_v],rU),sce=tt([Ig,Xi,ice,Rw,Yi],c6,{memoizeOptions:{resultEqualityCheck:Lw}}),oce=tt([sU,Yi,Cg],Pg),lce=tt([oce,Yi],cU),cce=tt([oU,Yi,Cg],Pg),uce=tt([cce,Yi],uU),dce=tt([lU,Yi,Cg],Pg),hce=tt([dce,Yi],dU),fce=tt([lce,hce,uce],w2),mce=tt([Xi,LU,MU,nce,sce,fce,ta,Yi],u6),IU=tt([Xi,ta,Ig,k6,gv,Yi,mce],d6),pce=tt([IU,Xi,w6],m6),gce=tt([Xi,IU,pce,Yi],g6),RU=e=>{var t=Yi(e),r=Cg(e),a=!1;return wv(e,t,r,a)},FU=tt([Xi,RU],Cw),BU=tt([Xi,w6,gce,FU],f6),xce=tt([ta,k6,Xi,Yi],bU),vce=tt([ta,k6,Xi,Yi],yU),bce=(e,t,r,a,n,i,s,l)=>{if(t){var{type:u}=t,d=Uu(e,l);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=u==="category"&&a.bandwidth?a.bandwidth()/h:0;return m=l==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?cs(n[0]-n[1])*2*m:m,d&&s?s.map((x,p)=>({coordinate:a(x)+m,value:x,index:p,offset:m})):a.domain().map((x,p)=>({coordinate:a(x)+m,value:i?i[x]:x,index:p,offset:m}))}}},s0=tt([ta,Xi,w6,BU,RU,xce,vce,Yi],bce),_6=tt([kU,_U,Ple],(e,t,r)=>SU(r.shared,e,t)),UU=e=>e.tooltip.settings.trigger,S6=e=>e.tooltip.settings.defaultIndex,Uw=tt([Mg,_6,UU,S6],CU),mh=tt([Uw,Ig],y6),zU=tt([s0,mh],NU),qU=tt([Uw],e=>{if(e)return e.dataKey}),$U=tt([Mg,_6,UU,S6],PU),yce=tt([e0,t0,ta,Vi,s0,S6,$U,kv],OU),wce=tt([Uw,yce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kce=tt([Uw],e=>e.active),_ce=tt([$U,mh,Ah,XB,zU,kv,_6],DU),Sce=tt([_ce],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function w7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(a){Nce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nce(e,t,r){return(t=jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tce=()=>nr(Xi),Ece=()=>{var e=Tce(),t=nr(s0),r=nr(BU);return Yf(w7(w7({},e),{},{scale:r}),t)},HU=()=>nr(Kj),N6=(e,t)=>t,WU=(e,t,r)=>r,j6=(e,t,r,a)=>a,Cce=tt(s0,e=>dw(e,t=>t.coordinate)),A6=tt([Mg,N6,WU,j6],CU),VU=tt([A6,Ig],y6),Oce=(e,t,r)=>{if(t!=null){var a=Mg(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},KU=tt([Mg,N6,WU,j6],PU),k2=tt([e0,t0,ta,Vi,s0,j6,KU,kv],OU),Pce=tt([A6,k2],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),GU=tt(s0,VU,NU),Dce=tt([KU,VU,Ah,XB,GU,kv,N6],DU),Lce=tt([A6],e=>({isActive:e.active,activeIndex:e.index})),Mce=(e,t,r,a,n,i,s,l)=>{if(!(!e||!t||!a||!n||!i)){var u=Mre(e.chartX,e.chartY,t,r,l);if(u){var d=Rre(u,t),h=_re(d,s,i,a,n),m=Ire(t,i,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function D3(){return D3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D3.apply(null,arguments)}function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(a){Ice(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ice(e,t,r){return(t=Rce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rce(e){var t=Fce(e,"string");return typeof t=="symbol"?t:t+""}function Fce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bce(e){var{coordinate:t,payload:r,index:a,offset:n,tooltipAxisBandSize:i,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,h=t,m=r,x=a;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var p,y;if(d==="ScatterChart")p=h,y=Zae;else if(d==="BarChart")p=ene(s,h,n,i),y=qF;else if(s==="radial"){var{cx:b,cy:v,radius:k,startAngle:N,endAngle:_}=$F(h);p={cx:b,cy:v,startAngle:N,endAngle:_,innerRadius:k,outerRadius:k},y=WF}else p={points:Rne(s,h,n)},y=Bp;var A=typeof l=="object"&&"className"in l?l.className:void 0,D=Zb(Zb(Zb(Zb({stroke:"#ccc",pointerEvents:"none"},n),p),Wf(l)),{},{payload:m,payloadIndex:x,className:Hr("recharts-tooltip-cursor",A)});return j.isValidElement(l)?j.cloneElement(l,D):j.createElement(y,D)}function Uce(e){var t=Ece(),r=DF(),a=uv(),n=HU();return j.createElement(Bce,D3({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:n}))}var YU=j.createContext(null),zce=()=>j.useContext(YU),l_={exports:{}},_7;function qce(){return _7||(_7=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function i(u,d,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new n(h,m||u,x),y=r?r+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,p=m.length,y=new Array(p);x<p;x++)y[x]=m[x].fn;return y},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,x,p,y){var b=r?r+d:d;if(!this._events[b])return!1;var v=this._events[b],k=arguments.length,N,_;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,x),!0;case 5:return v.fn.call(v.context,h,m,x,p),!0;case 6:return v.fn.call(v.context,h,m,x,p,y),!0}for(_=1,N=new Array(k-1);_<k;_++)N[_-1]=arguments[_];v.fn.apply(v.context,N)}else{var A=v.length,D;for(_=0;_<A;_++)switch(v[_].once&&this.removeListener(d,v[_].fn,void 0,!0),k){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,h);break;case 3:v[_].fn.call(v[_].context,h,m);break;case 4:v[_].fn.call(v[_].context,h,m,x);break;default:if(!N)for(D=1,N=new Array(k-1);D<k;D++)N[D-1]=arguments[D];v[_].fn.apply(v[_].context,N)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,x){var p=r?r+d:d;if(!this._events[p])return this;if(!h)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===h&&(!x||y.once)&&(!m||y.context===m)&&s(this,p);else{for(var b=0,v=[],k=y.length;b<k;b++)(y[b].fn!==h||x&&!y[b].once||m&&y[b].context!==m)&&v.push(y[b]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&s(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(l_)),l_.exports}var $ce=qce();const Hce=Hc($ce);var C1=new Hce,L3="recharts.syncEvent.tooltip",S7="recharts.syncEvent.brush";function Sv(e,t){if(t){var r=Number.parseInt(t,10);if(!pl(r))return e==null?void 0:e[r]}}var Wce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XU=vl({name:"options",initialState:Wce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vce=XU.reducer,{createEventEmitter:Kce}=XU.actions;function Gce(e){return e.tooltip.syncInteraction}var Yce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QU=vl({name:"chartData",initialState:Yce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:N7,setDataStartEndIndexes:Xce,setComputedData:oEe}=QU.actions,Qce=QU.reducer,Jce=["x","y"];function j7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(r),!0).forEach(function(a){Zce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zce(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rue(e,t){if(e==null)return{};var r,a,n=aue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var JU=()=>{};function nue(){var e=nr(Gj),t=nr(Yj),r=Pn(),a=nr(HB),n=nr(s0),i=uv(),s=ww(),l=nr(u=>u.rootProps.className);j.useEffect(()=>{if(e==null)return JU;var u=(d,h,m)=>{if(t!==m&&e===d){if(a==="index"){var x;if(s&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var p=h.payload.coordinate,{x:y,y:b}=p,v=rue(p,Jce),{x:k,y:N,width:_,height:A}=h.payload.sourceViewBox,D=vp(vp({},v),{},{x:s.x+(_?(y-k)/_:0)*s.width,y:s.y+(A?(b-N)/A:0)*s.height});r(vp(vp({},h),{},{payload:vp(vp({},h.payload),{},{coordinate:D})}))}else r(h);return}if(n!=null){var M;if(typeof a=="function"){var L={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=a(n,L);M=n[B]}else a==="value"&&(M=n.find(X=>String(X.value)===h.payload.label));var{coordinate:F}=h.payload;if(M==null||h.payload.active===!1||F==null||s==null){r(O3({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:O}=F,I=Math.min(H,s.x+s.width),V=Math.min(O,s.y+s.height),Y={x:i==="horizontal"?M.coordinate:I,y:i==="horizontal"?V:M.coordinate},te=O3({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(M.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(te)}}};return C1.on(L3,u),()=>{C1.off(L3,u)}},[l,r,t,e,a,n,i,s])}function iue(){var e=nr(Gj),t=nr(Yj),r=Pn();j.useEffect(()=>{if(e==null)return JU;var a=(n,i,s)=>{t!==s&&e===n&&r(Xce(i))};return C1.on(S7,a),()=>{C1.off(S7,a)}},[r,t,e])}function sue(){var e=Pn();j.useEffect(()=>{e(Kce())},[e]),nue(),iue()}function oue(e,t,r,a,n,i){var s=nr(p=>Oce(p,e,t)),l=nr(Yj),u=nr(Gj),d=nr(HB),h=nr(Gce),m=h==null?void 0:h.active,x=ww();j.useEffect(()=>{if(!m&&u!=null&&l!=null){var p=O3({active:i,coordinate:r,dataKey:s,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});C1.emit(L3,u,p,l)}},[m,r,s,n,a,l,u,d,i,x])}function A7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function T7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(r),!0).forEach(function(a){lue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lue(e,t,r){return(t=cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=uue(e,"string");return typeof t=="symbol"?t:t+""}function uue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function due(e){return e.dataKey}function hue(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Oae,t)}var E7=[],fue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!r0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Au(e){var t=Ki(e,fue),{active:r,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:s,filterNull:l,isAnimationActive:u,offset:d,payloadUniqBy:h,position:m,reverseDirection:x,useTranslate3d:p,wrapperStyle:y,cursor:b,shared:v,trigger:k,defaultIndex:N,portal:_,axisId:A}=t,D=Pn(),M=typeof N=="number"?String(N):N;j.useEffect(()=>{D(Ile({shared:v,trigger:k,axisId:A,active:r,defaultIndex:M}))},[D,v,k,A,r,M]);var L=ww(),B=RF(),F=Ole(v),{activeIndex:H,isActive:O}=nr(q=>Lce(q,F,k,M)),I=nr(q=>Dce(q,F,k,M)),V=nr(q=>GU(q,F,k,M)),Y=nr(q=>Pce(q,F,k,M)),te=I,X=zce(),ae=r??O,[de,oe]=YR([te,ae]),De=F==="axis"?V:void 0;oue(F,k,Y,De,H,ae);var re=_??X;if(re==null)return null;var P=te??E7;ae||(P=E7),l&&P.length&&(P=HR(te.filter(q=>q.value!=null&&(q.hide!==!0||t.includeHidden)),h,due));var W=P.length>0,z=j.createElement(Fae,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:u,active:ae,coordinate:Y,hasPayload:W,offset:d,position:m,reverseDirection:x,useTranslate3d:p,viewBox:L,wrapperStyle:y,lastBoundingBox:de,innerRef:oe,hasPortalFromProps:!!_},hue(s,T7(T7({},t),{},{payload:P,label:De,active:ae,coordinate:Y,accessibilityLayer:B})));return j.createElement(j.Fragment,null,R9.createPortal(z,re),ae&&j.createElement(Uce,{cursor:b,tooltipEventType:F,coordinate:Y,payload:te,index:H}))}var Rg=e=>null;Rg.displayName="Cell";function mue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=gue(e,"string");return typeof t=="symbol"?t:t+""}function gue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xue{constructor(t){mue(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(a){bue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bue(e,t,r){return(t=yue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=wue(e,"string");return typeof t=="symbol"?t:t+""}function wue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kue={cacheSize:2e3,enableCache:!0},ZU=vue({},kue),O7=new xue(ZU.cacheSize),_ue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P7="recharts_measurement_span";function Sue(e,t){var r=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l)}var D7=(e,t)=>{try{var r=document.getElementById(P7);r||(r=document.createElement("span"),r.setAttribute("id",P7),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_ue,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Zx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||r0.isSsr)return{width:0,height:0};if(!ZU.enableCache)return D7(t,r);var a=Sue(t,r),n=O7.get(a);if(n)return n;var i=D7(t,r);return O7.set(a,i),i},L7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ez={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Aue=Object.keys(ez),Pp="NaN";function Tue(e,t){return e*ez[t]}class Io{static parse(t){var r,[,a,n]=(r=jue.exec(t))!==null&&r!==void 0?r:[];return new Io(parseFloat(a),n??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,pl(t)&&(this.unit=""),r!==""&&!Nue.test(r)&&(this.num=NaN,this.unit=""),Aue.includes(r)&&(this.num=Tue(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Io(NaN,""):new Io(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Io(NaN,""):new Io(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Io(NaN,""):new Io(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Io(NaN,""):new Io(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pl(this.num)}}function tz(e){if(e.includes(Pp))return Pp;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,i]=(r=L7.exec(t))!==null&&r!==void 0?r:[],s=Io.parse(a??""),l=Io.parse(i??""),u=n==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Pp;t=t.replace(L7,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,x]=(d=M7.exec(t))!==null&&d!==void 0?d:[],p=Io.parse(h??""),y=Io.parse(x??""),b=m==="+"?p.add(y):p.subtract(y);if(b.isNaN())return Pp;t=t.replace(M7,b.toString())}return t}var I7=/\(([^()]*)\)/;function Eue(e){for(var t=e,r;(r=I7.exec(t))!=null;){var[,a]=r;t=t.replace(I7,tz(a))}return t}function Cue(e){var t=e.replace(/\s+/g,"");return t=Eue(t),t=tz(t),t}function Oue(e){try{return Cue(e)}catch{return Pp}}function c_(e){var t=Oue(e.slice(5,-1));return t===Pp?"":t}var Pue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Due=["dx","dy","angle","className","breakAll"];function M3(){return M3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M3.apply(null,arguments)}function R7(e,t){if(e==null)return{};var r,a,n=Lue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var rz=/[ \f\n\r\t\v\u2028\u2029]+/,az=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];vn(t)||(r?n=t.toString().split(""):n=t.toString().split(rz));var i=n.map(l=>({word:l,width:Zx(l,a).width})),s=r?0:Zx("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},Mue=(e,t,r,a,n)=>{var{maxLines:i,children:s,style:l,breakAll:u}=e,d=tr(i),h=s,m=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((I,V)=>{var{word:Y,width:te}=V,X=I[I.length-1];if(X&&(a==null||n||X.width+te+r<Number(a)))X.words.push(Y),X.width+=te+r;else{var ae={words:[Y],width:te};I.push(ae)}return I},[])},x=m(t),p=H=>H.reduce((O,I)=>O.width>I.width?O:I);if(!d||n)return x;var y=x.length>i||p(x).width>Number(a);if(!y)return x;for(var b="",v=H=>{var O=h.slice(0,H),I=az({breakAll:u,style:l,children:O+b}).wordsWithComputedWidth,V=m(I),Y=V.length>i||p(V).width>Number(a);return[Y,V]},k=0,N=h.length-1,_=0,A;k<=N&&_<=h.length-1;){var D=Math.floor((k+N)/2),M=D-1,[L,B]=v(M),[F]=v(D);if(!L&&!F&&(k=D+1),L&&F&&(N=D-1),!L&&F){A=B;break}_++}return A||x},F7=e=>{var t=vn(e)?[]:e.toString().split(rz);return[{words:t}]},Iue=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:i,maxLines:s}=e;if((t||r)&&!r0.isSsr){var l,u,d=az({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;l=h,u=m}else return F7(a);return Mue({breakAll:i,children:a,maxLines:s,style:n},l,u,t,r)}return F7(a)},B7="#808080",zw=j.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:u="end",fill:d=B7}=e,h=R7(e,Pue),m=j.useMemo(()=>Iue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:x,dy:p,angle:y,className:b,breakAll:v}=h,k=R7(h,Due);if(!Lu(r)||!Lu(a)||m.length===0)return null;var N=r+(tr(x)?x:0),_=a+(tr(p)?p:0),A;switch(u){case"start":A=c_("calc(".concat(i,")"));break;case"middle":A=c_("calc(".concat((m.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:A=c_("calc(".concat(m.length-1," * -").concat(n,")"));break}var D=[];if(s){var M=m[0].width,{width:L}=h;D.push("scale(".concat(tr(L)?L/M:1,")"))}return y&&D.push("rotate(".concat(y,", ").concat(N,", ").concat(_,")")),D.length&&(k.transform=D.join(" ")),j.createElement("text",M3({},go(k),{ref:t,x:N,y:_,className:Hr("recharts-text",b),textAnchor:l,fill:d.includes("url")?B7:d}),m.map((B,F)=>{var H=B.words.join(v?"":" ");return j.createElement("tspan",{x:N,dy:F===0?A:n,key:"".concat(H,"-").concat(F)},H)}))});zw.displayName="Text";var Rue=["labelRef"];function Fue(e,t){if(e==null)return{};var r,a,n=Bue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function U7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(r),!0).forEach(function(a){Uue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=que(e,"string");return typeof t=="symbol"?t:t+""}function que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Td.apply(null,arguments)}var nz=j.createContext(null),$ue=e=>{var{x:t,y:r,width:a,height:n,children:i}=e,s=j.useMemo(()=>({x:t,y:r,width:a,height:n}),[t,r,a,n]);return j.createElement(nz.Provider,{value:s},i)},iz=()=>{var e=j.useContext(nz),t=ww();return e||t},Hue=j.createContext(null),Wue=()=>{var e=j.useContext(Hue),t=nr(YB);return e||t},Vue=e=>{var{value:t,formatter:r}=e,a=vn(e.children)?t:e.children;return typeof r=="function"?r(a):a},T6=e=>e!=null&&typeof e=="function",Kue=(e,t)=>{var r=cs(t-e),a=Math.min(Math.abs(t-e),360);return r*a},Gue=(e,t,r,a,n)=>{var{offset:i,className:s}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:m,endAngle:x,clockWise:p}=n,y=(d+h)/2,b=Kue(m,x),v=b>=0?1:-1,k,N;switch(t){case"insideStart":k=m+v*i,N=p;break;case"insideEnd":k=x-v*i,N=!p;break;case"end":k=x+v*i,N=p;break;default:throw new Error("Unsupported position ".concat(t))}N=b<=0?N:!N;var _=Ei(l,u,y,k),A=Ei(l,u,y,k+(N?1:-1)*359),D="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),M=vn(e.id)?b1("recharts-radial-line-"):e.id;return j.createElement("text",Td({},a,{dominantBaseline:"central",className:Hr("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:M,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Yue=(e,t,r)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(r==="outside"){var{x:h,y:m}=Ei(a,n,s+t,d);return{x:h,y:m,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+s)/2,{x:p,y}=Ei(a,n,x,d);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},sz=e=>"cx"in e&&tr(e.cx),Xue=(e,t)=>{var{parentViewBox:r,offset:a,position:n}=e,i;r!=null&&!sz(r)&&(i=r);var{x:s,y:l,width:u,height:d}=t,h=d>=0?1:-1,m=h*a,x=h>0?"end":"start",p=h>0?"start":"end",y=u>=0?1:-1,b=y*a,v=y>0?"end":"start",k=y>0?"start":"end";if(n==="top"){var N={x:s+u/2,y:l-h*a,textAnchor:"middle",verticalAnchor:x};return di(di({},N),i?{height:Math.max(l-i.y,0),width:u}:{})}if(n==="bottom"){var _={x:s+u/2,y:l+d+m,textAnchor:"middle",verticalAnchor:p};return di(di({},_),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(n==="left"){var A={x:s-b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return di(di({},A),i?{width:Math.max(A.x-i.x,0),height:d}:{})}if(n==="right"){var D={x:s+u+b,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return di(di({},D),i?{width:Math.max(i.x+i.width-D.x,0),height:d}:{})}var M=i?{width:u,height:d}:{};return n==="insideLeft"?di({x:s+b,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},M):n==="insideRight"?di({x:s+u-b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},M):n==="insideTop"?di({x:s+u/2,y:l+m,textAnchor:"middle",verticalAnchor:p},M):n==="insideBottom"?di({x:s+u/2,y:l+d-m,textAnchor:"middle",verticalAnchor:x},M):n==="insideTopLeft"?di({x:s+b,y:l+m,textAnchor:k,verticalAnchor:p},M):n==="insideTopRight"?di({x:s+u-b,y:l+m,textAnchor:v,verticalAnchor:p},M):n==="insideBottomLeft"?di({x:s+b,y:l+d-m,textAnchor:k,verticalAnchor:x},M):n==="insideBottomRight"?di({x:s+u-b,y:l+d-m,textAnchor:v,verticalAnchor:x},M):n&&typeof n=="object"&&(tr(n.x)||Kd(n.x))&&(tr(n.y)||Kd(n.y))?di({x:s+Hs(n.x,u),y:l+Hs(n.y,d),textAnchor:"end",verticalAnchor:"end"},M):di({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Que={offset:5};function X0(e){var t=Ki(e,Que),{viewBox:r,position:a,value:n,children:i,content:s,className:l="",textBreakAll:u,labelRef:d}=t,h=Wue(),m=iz(),x=a==="center"?m:h??m,p=r||x;if(!p||vn(n)&&vn(i)&&!j.isValidElement(s)&&typeof s!="function")return null;var y=di(di({},t),{},{viewBox:p});if(j.isValidElement(s)){var{labelRef:b}=y,v=Fue(y,Rue);return j.cloneElement(s,v)}var k;if(typeof s=="function"){if(k=j.createElement(s,y),j.isValidElement(k))return k}else k=Vue(t);var N=sz(p),_=go(t);if(N&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Gue(t,a,k,_,p);var A=N?Yue(p,t.offset,t.position):Xue(t,p);return j.createElement(zw,Td({ref:d,className:Hr("recharts-label",l)},_,A,{breakAll:u}),k)}X0.displayName="Label";var Jue=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?j.createElement(X0,Td({key:"label-implicit"},a)):Lu(e)?j.createElement(X0,Td({key:"label-implicit",value:e},a)):j.isValidElement(e)?e.type===X0?j.cloneElement(e,di({key:"label-implicit"},a)):j.createElement(X0,Td({key:"label-implicit",content:e},a)):T6(e)?j.createElement(X0,Td({key:"label-implicit",content:e},a)):e&&typeof e=="object"?j.createElement(X0,Td({},e,{key:"label-implicit"},a)):null};function Zue(e){var{label:t,labelRef:r}=e,a=iz();return Jue(t,a,r)||null}var u_={},d_={},z7;function ede(){return z7||(z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(d_)),d_}var h_={},q7;function tde(){return q7||(q7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(h_)),h_}var $7;function rde(){return $7||($7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ede(),r=tde(),a=cj();function n(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=n})(u_)),u_}var f_,H7;function ade(){return H7||(H7=1,f_=rde().last),f_}var nde=ade();const ide=Hc(nde);var sde=["valueAccessor"],ode=["dataKey","clockWise","id","textBreakAll"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_2.apply(null,arguments)}function W7(e,t){if(e==null)return{};var r,a,n=lde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var cde=e=>Array.isArray(e.value)?ide(e.value):e.value,oz=j.createContext(void 0),E6=oz.Provider,lz=j.createContext(void 0),ude=lz.Provider;function dde(){return j.useContext(oz)}function hde(){return j.useContext(lz)}function Ay(e){var{valueAccessor:t=cde}=e,r=W7(e,sde),{dataKey:a,clockWise:n,id:i,textBreakAll:s}=r,l=W7(r,ode),u=dde(),d=hde(),h=u||d;return!h||!h.length?null:j.createElement(ni,{className:"recharts-label-list"},h.map((m,x)=>{var p,y=vn(a)?t(m,x):Ga(m&&m.payload,a),b=vn(i)?{}:{id:"".concat(i,"-").concat(x)};return j.createElement(X0,_2({key:"label-".concat(x)},go(m),l,b,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:s,viewBox:m.viewBox,index:x}))}))}Ay.displayName="LabelList";function qw(e){var{label:t}=e;return t?t===!0?j.createElement(Ay,{key:"labelList-implicit"}):j.isValidElement(t)||T6(t)?j.createElement(Ay,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Ay,_2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function I3(){return I3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},I3.apply(null,arguments)}var C6=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=Hr("recharts-dot",n);return t===+t&&r===+r&&a===+a?j.createElement("circle",I3({},po(e),sj(e),{className:i,cx:t,cy:r,r:a})):null},cz=e=>e.graphicalItems.polarItems,fde=tt([Dn,xv],e6),$w=tt([cz,Wn,fde],t6),mde=tt([$w],r6),Hw=tt([mde,Hj],a6),pde=tt([Hw,Wn,$w],i6);tt([Hw,Wn,$w],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(n=>{var i,s=Ga(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ga(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var V7=()=>{},gde=tt([Hw,Wn,$w,Rw,Dn],c6),xde=tt([Wn,o6,l6,V7,gde,V7,ta,Dn],u6),uz=tt([Wn,ta,Hw,pde,gv,Dn,xde],d6),vde=tt([uz,Wn,Dg],m6);tt([Wn,uz,vde,Dn],g6);var bde={radiusAxis:{},angleAxis:{}},dz=vl({name:"polarAxis",initialState:bde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lEe,removeRadiusAxis:cEe,addAngleAxis:uEe,removeAngleAxis:dEe}=dz.actions,yde=dz.reducer;function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function G7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(a){wde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wde(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=_de(e,"string");return typeof t=="symbol"?t:t+""}function _de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sde=(e,t)=>t,O6=tt([cz,Sde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Nde=[],P6=(e,t,r)=>(r==null?void 0:r.length)===0?Nde:r,hz=tt([Hj,O6,P6],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&r!=null&&(n=r.map(i=>G7(G7({},t.presentationProps),i.props))),n!=null)return n}}),jde=tt([hz,O6,P6],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,s=Ga(a,t.nameKey,t.name),l;return r!=null&&(i=r[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?l=a.fill:l=t.fill,{value:Sh(s,t.dataKey),color:l,payload:a,type:t.legendType}})}),Ade=tt([hz,O6,P6,Vi],(e,t,r,a)=>{if(!(t==null||e==null))return A0e({offset:a,pieSettings:t,displayedData:e,cells:r})}),m_={exports:{}},Va={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y7;function Tde(){if(Y7)return Va;Y7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case r:case n:case a:case u:case d:case x:return b;default:switch(b=b&&b.$$typeof,b){case s:case l:case m:case h:return b;case i:return b;default:return v}}case t:return v}}}return Va.ContextConsumer=i,Va.ContextProvider=s,Va.Element=e,Va.ForwardRef=l,Va.Fragment=r,Va.Lazy=m,Va.Memo=h,Va.Portal=t,Va.Profiler=n,Va.StrictMode=a,Va.Suspense=u,Va.SuspenseList=d,Va.isContextConsumer=function(b){return y(b)===i},Va.isContextProvider=function(b){return y(b)===s},Va.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Va.isForwardRef=function(b){return y(b)===l},Va.isFragment=function(b){return y(b)===r},Va.isLazy=function(b){return y(b)===m},Va.isMemo=function(b){return y(b)===h},Va.isPortal=function(b){return y(b)===t},Va.isProfiler=function(b){return y(b)===n},Va.isStrictMode=function(b){return y(b)===a},Va.isSuspense=function(b){return y(b)===u},Va.isSuspenseList=function(b){return y(b)===d},Va.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===n||b===a||b===u||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===h||b.$$typeof===s||b.$$typeof===i||b.$$typeof===l||b.$$typeof===p||b.getModuleId!==void 0)},Va.typeOf=y,Va}var X7;function Ede(){return X7||(X7=1,m_.exports=Tde()),m_.exports}var Cde=Ede(),Q7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",J7=null,p_=null,fz=e=>{if(e===J7&&Array.isArray(p_))return p_;var t=[];return j.Children.forEach(e,r=>{vn(r)||(Cde.isFragment(r)?t=t.concat(fz(r.props.children)):t.push(r))}),p_=t,J7=e,t};function D6(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(n=>Q7(n)):a=[Q7(t)],fz(e).forEach(n=>{var i=Vf(n,"type.displayName")||Vf(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}var Ww=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,g_={},Z7;function Ode(){return Z7||(Z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&n.writable)?!1:r.toString()===`[object ${i}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(g_)),g_}var x_,eD;function Pde(){return eD||(eD=1,x_=Ode().isPlainObject),x_}var Dde=Pde();const Lde=Hc(Dde);function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(a){Mde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mde(e,t,r){return(t=Ide(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ide(e){var t=Rde(e,"string");return typeof t=="symbol"?t:t+""}function Rde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S2.apply(null,arguments)}var aD=(e,t,r,a,n)=>{var i=r-a,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+n),s+="L ".concat(e+r-i/2-a,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z"),s},Fde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bde=e=>{var t=Ki(e,Fde),{x:r,y:a,upperWidth:n,lowerWidth:i,height:s,className:l}=t,{animationEasing:u,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,x=j.useRef(null),[p,y]=j.useState(-1),b=j.useRef(n),v=j.useRef(i),k=j.useRef(s),N=j.useRef(r),_=j.useRef(a),A=jg(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var Y=x.current.getTotalLength();Y&&y(Y)}catch{}},[]),r!==+r||a!==+a||n!==+n||i!==+i||s!==+s||n===0&&i===0||s===0)return null;var D=Hr("recharts-trapezoid",l);if(!m)return j.createElement("g",null,j.createElement("path",S2({},go(t),{className:D,d:aD(r,a,n,i,s)})));var M=b.current,L=v.current,B=k.current,F=N.current,H=_.current,O="0px ".concat(p===-1?1:p,"px"),I="".concat(p,"px 0px"),V=FF(["strokeDasharray"],d,u);return j.createElement(Ng,{animationId:A,key:A,canBegin:p>0,duration:d,easing:u,isActive:m,begin:h},Y=>{var te=Ka(M,n,Y),X=Ka(L,i,Y),ae=Ka(B,s,Y),de=Ka(F,r,Y),oe=Ka(H,a,Y);x.current&&(b.current=te,v.current=X,k.current=ae,N.current=de,_.current=oe);var De=Y>0?{transition:V,strokeDasharray:I}:{strokeDasharray:O};return j.createElement("path",S2({},go(t),{className:D,d:aD(de,oe,te,X,ae),ref:x,style:rD(rD({},De),t.style)}))})},Ude=["option","shapeType","propTransformer","activeClassName","isActive"];function zde(e,t){if(e==null)return{};var r,a,n=qde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function N2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(a){$de(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $de(e,t,r){return(t=Hde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hde(e){var t=Wde(e,"string");return typeof t=="symbol"?t:t+""}function Wde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e,t){return N2(N2({},t),e)}function Kde(e,t){return e==="symbols"}function iD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(qF,r);case"trapezoid":return j.createElement(Bde,r);case"sector":return j.createElement(WF,r);case"symbols":if(Kde(t))return j.createElement(ij,r);break;default:return null}}function Gde(e){return j.isValidElement(e)?e.props:e}function mz(e){var{option:t,shapeType:r,propTransformer:a=Vde,activeClassName:n="recharts-active-shape",isActive:i}=e,s=zde(e,Ude),l;if(j.isValidElement(t))l=j.cloneElement(t,N2(N2({},s),Gde(t)));else if(typeof t=="function")l=t(s);else if(Lde(t)&&typeof t!="boolean"){var u=a(t,s);l=j.createElement(iD,{shapeType:r,elementProps:u})}else{var d=s;l=j.createElement(iD,{shapeType:r,elementProps:d})}return i?j.createElement(ni,{className:n},l):l}var L6=(e,t)=>{var r=Pn();return(a,n)=>i=>{e==null||e(a,n,i),r(AU({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},M6=e=>{var t=Pn();return(r,a)=>n=>{e==null||e(r,a,n),t(Rle())}},I6=(e,t)=>{var r=Pn();return(a,n)=>i=>{e==null||e(a,n,i),r(Fle({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function Vw(e){var{fn:t,args:r}=e,a=Pn(),n=js();return j.useLayoutEffect(()=>{if(!n){var i=t(r);return a(Lle(i)),()=>{a(Mle(i))}}},[t,r,a,n]),null}var pz=()=>{};function R6(e){var{legendPayload:t}=e,r=Pn(),a=js();return j.useLayoutEffect(()=>a?pz:(r(MF(t)),()=>{r(IF(t))}),[r,a,t]),null}function Yde(e){var{legendPayload:t}=e,r=Pn(),a=nr(ta);return j.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?pz:(r(MF(t)),()=>{r(IF(t))}),[r,a,t]),null}var v_,Xde=()=>{var[e]=j.useState(()=>b1("uid-"));return e},Qde=(v_=WV.useId)!==null&&v_!==void 0?v_:Xde;function Jde(e,t){var r=Qde();return t||(e?"".concat(e,"-").concat(r):r)}var Zde=j.createContext(void 0),Kw=e=>{var{id:t,type:r,children:a}=e,n=Jde("recharts-".concat(r),t);return j.createElement(Zde.Provider,{value:n},a(n))},e0e={cartesianItems:[],polarItems:[]},gz=vl({name:"graphicalItems",initialState:e0e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:co()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,n=Md(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},prepare:co()},removeCartesianGraphicalItem:{reducer(e,t){var r=Md(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:co()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:co()},removePolarGraphicalItem:{reducer(e,t){var r=Md(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:co()}}}),{addCartesianGraphicalItem:t0e,replaceCartesianGraphicalItem:r0e,removeCartesianGraphicalItem:a0e,addPolarGraphicalItem:n0e,removePolarGraphicalItem:i0e}=gz.actions,s0e=gz.reducer;function F6(e){var t=Pn(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(t0e(e)):r.current!==e&&t(r0e({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(a0e(r.current)),r.current=null)},[t]),null}function o0e(e){var t=Pn();return j.useLayoutEffect(()=>(t(n0e(e)),()=>{t(i0e(e))}),[t,e]),null}var l0e=["onMouseEnter","onClick","onMouseLeave"],c0e=["id"],u0e=["id"];function B6(e,t){if(e==null)return{};var r,a,n=d0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(a){h0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function h0e(e,t,r){return(t=f0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f0e(e){var t=m0e(e,"string");return typeof t=="symbol"?t:t+""}function m0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ph.apply(null,arguments)}function p0e(e){var t=j.useMemo(()=>D6(e.children,Rg),[e.children]),r=nr(a=>jde(a,e.id,t));return r==null?null:j.createElement(Yde,{legendPayload:r})}function g0e(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:s,name:l,hide:u,tooltipType:d}=e;return{dataDefinedOnItem:a.map(h=>h.tooltipPayload),positions:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:Sh(l,t),hide:u,type:d,color:s,unit:""}}}var x0e=(e,t)=>e>t?"start":e<t?"end":"middle",v0e=(e,t,r)=>Hs(typeof t=="function"?t(e):t,r,r*.8),b0e=(e,t,r)=>{var{top:a,left:n,width:i,height:s}=t,l=kF(i,s),u=n+Hs(e.cx,i,i/2),d=a+Hs(e.cy,s,s/2),h=Hs(e.innerRadius,l,0),m=v0e(r,e.outerRadius,l),x=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:x}},y0e=(e,t)=>{var r=cs(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function w0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var k0e=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Hr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(Bp,ph({},t,{type:"linear",className:r}))},_0e=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),j.isValidElement(a)))return a;var n=Hr("recharts-pie-label-text",w0e(e));return j.createElement(zw,ph({},t,{alignmentBaseline:"middle",className:n}),a)};function S0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:i,dataKey:s}=r;if(!a||!n||!t)return null;var l=po(r),u=Wf(n),d=Wf(i),h=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((x,p)=>{var y=(x.startAngle+x.endAngle)/2,b=Ei(x.cx,x.cy,x.outerRadius+h,y),v=Tn(Tn(Tn(Tn({},l),x),{},{stroke:"none"},u),{},{index:p,textAnchor:x0e(b.x,x.cx)},b),k=Tn(Tn(Tn(Tn({},l),x),{},{fill:"none",stroke:x.fill},d),{},{index:p,points:[Ei(x.cx,x.cy,x.outerRadius,y),b],key:"line"});return j.createElement(ni,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(p)},i&&k0e(i,k),_0e(n,v,Ga(x,s)))});return j.createElement(ni,{className:"recharts-pie-labels"},m)}function N0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n}=r;return typeof n=="object"&&n!=null&&"position"in n?j.createElement(qw,{label:n}):j.createElement(S0e,{sectors:t,props:r,showLabels:a})}function j0e(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:n}=e,i=nr(mh),{onMouseEnter:s,onClick:l,onMouseLeave:u}=n,d=B6(n,l0e),h=L6(s,n.dataKey),m=M6(u),x=I6(l,n.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var b=r&&String(y)===i,v=i?a:null,k=b?r:v,N=Tn(Tn({},p),{},{stroke:p.stroke,tabIndex:-1,[TF]:y,[EF]:n.dataKey});return j.createElement(ni,ph({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},sv(d,p,y),{onMouseEnter:h(p,y),onMouseLeave:m(p,y),onClick:x(p,y)}),j.createElement(mz,ph({option:k,isActive:b,shapeType:"sector"},N)))}))}function A0e(e){var t,{pieSettings:r,displayedData:a,cells:n,offset:i}=e,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:d,nameKey:h,tooltipType:m}=r,x=Math.abs(r.minAngle),p=y0e(l,u),y=Math.abs(p),b=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=a.filter(M=>Ga(M,d,0)!==0).length,k=(y>=360?v:v-1)*b,N=y-v*x-k,_=a.reduce((M,L)=>{var B=Ga(L,d,0);return M+(tr(B)?B:0)},0),A;if(_>0){var D;A=a.map((M,L)=>{var B=Ga(M,d,0),F=Ga(M,h,L),H=b0e(r,i,M),O=(tr(B)?B:0)/_,I,V=Tn(Tn({},M),n&&n[L]&&n[L].props);L?I=D.endAngle+cs(p)*b*(B!==0?1:0):I=l;var Y=I+cs(p)*((B!==0?x:0)+O*N),te=(I+Y)/2,X=(H.innerRadius+H.outerRadius)/2,ae=[{name:F,value:B,payload:V,dataKey:d,type:m}],de=Ei(H.cx,H.cy,X,te);return D=Tn(Tn(Tn(Tn({},r.presentationProps),{},{percent:O,cornerRadius:s,name:F,tooltipPayload:ae,midAngle:te,middleRadius:X,tooltipPosition:de},V),H),{},{value:B,startAngle:I,endAngle:Y,payload:V,paddingAngle:cs(p)*b}),D})}return A}function T0e(e){var{showLabels:t,sectors:r,children:a}=e,n=j.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return j.createElement(ude,{value:t?n:void 0},a)}function E0e(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,x=jg(t,"recharts-pie-"),p=r.current,[y,b]=j.useState(!1),v=j.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),k=j.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return j.createElement(T0e,{showLabels:!y,sectors:a},j.createElement(Ng,{animationId:x,begin:i,duration:s,isActive:n,easing:l,onAnimationStart:k,onAnimationEnd:v,key:x},N=>{var _=[],A=a&&a[0],D=A==null?void 0:A.startAngle;return a==null||a.forEach((M,L)=>{var B=p&&p[L],F=L>0?Vf(M,"paddingAngle",0):0;if(B){var H=Ka(B.endAngle-B.startAngle,M.endAngle-M.startAngle,N),O=Tn(Tn({},M),{},{startAngle:D+F,endAngle:D+H+F});_.push(O),D=O.endAngle}else{var{endAngle:I,startAngle:V}=M,Y=Ka(0,I-V,N),te=Tn(Tn({},M),{},{startAngle:D+F,endAngle:D+Y+F});_.push(te),D=te.endAngle}}),r.current=_,j.createElement(ni,null,j.createElement(j0e,{sectors:_,activeShape:u,inactiveShape:d,allOtherPieProps:t}))}),j.createElement(N0e,{showLabels:!y,sectors:a,props:t}),t.children)}var C0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!r0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function O0e(e){var{id:t}=e,r=B6(e,c0e),{hide:a,className:n,rootTabIndex:i}=e,s=j.useMemo(()=>D6(e.children,Rg),[e.children]),l=nr(h=>Ade(h,t,s)),u=j.useRef(null),d=Hr("recharts-pie",n);return a||l==null?(u.current=null,j.createElement(ni,{tabIndex:i,className:d})):j.createElement(j.Fragment,null,j.createElement(Vw,{fn:g0e,args:Tn(Tn({},e),{},{sectors:l})}),j.createElement(ni,{tabIndex:i,className:d},j.createElement(E0e,{props:Tn(Tn({},r),{},{sectors:l}),previousSectorsRef:u})))}function U6(e){var t=Ki(e,C0e),{id:r}=t,a=B6(t,u0e),n=po(a);return j.createElement(Kw,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(o0e,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),j.createElement(p0e,ph({},a,{id:i})),j.createElement(O0e,ph({},a,{id:i}))))}U6.displayName="Pie";function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function lD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(a){P0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function P0e(e,t,r){return(t=D0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D0e(e){var t=L0e(e,"string");return typeof t=="symbol"?t:t+""}function L0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M0e={xAxis:{},yAxis:{},zAxis:{}},xz=vl({name:"cartesianAxis",initialState:M0e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:co()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:co()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:co()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:co()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:co()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:co()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,n=e.yAxis[r];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var s=[...i,a].slice(-3);e.yAxis[r]=lD(lD({},e.yAxis[r]),{},{width:a,widthHistory:s})}}}}),{addXAxis:I0e,removeXAxis:R0e,addYAxis:F0e,removeYAxis:B0e,addZAxis:hEe,removeZAxis:fEe,updateYAxisWidth:U0e}=xz.actions,z0e=xz.reducer,q0e=tt([Vi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),$0e=tt([q0e,e0,t0],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Gw=()=>nr($0e),H0e=()=>nr(Sce);function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(a){W0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function W0e(e,t,r){return(t=V0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0e=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var s=uD(uD({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Wf(n)),sj(n)),l;return j.isValidElement(n)?l=j.cloneElement(n,s):typeof n=="function"?l=n(s):l=j.createElement(C6,s),j.createElement(ni,{className:"recharts-active-dot"},l)};function R3(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n}=e,i=nr(mh),s=H0e();if(t==null||s==null)return null;var l=t.find(u=>s.includes(u.payload));return vn(l)?null:G0e({point:l,childIndex:Number(i),mainColor:r,dataKey:n,activeDot:a})}var Y0e="Invariant failed";function X0e(e,t){throw new Error(Y0e)}var Q0e=["x","y"];function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F3.apply(null,arguments)}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(a){J0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function J0e(e,t,r){return(t=Z0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z0e(e){var t=ehe(e,"string");return typeof t=="symbol"?t:t+""}function ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function the(e,t){if(e==null)return{};var r,a,n=rhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ahe(e,t){var{x:r,y:a}=e,n=the(e,Q0e),i="".concat(r),s=parseInt(i,10),l="".concat(a),u=parseInt(l,10),d="".concat(t.height||n.height),h=parseInt(d,10),m="".concat(t.width||n.width),x=parseInt(m,10);return Mx(Mx(Mx(Mx(Mx({},t),n),s?{x:s}:{}),u?{y:u}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function z6(e){return j.createElement(mz,F3({shapeType:"rectangle",propTransformer:ahe,activeClassName:"recharts-active-bar"},e))}var nhe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(tr(t))return t;var i=tr(a)||vn(a);return i?t(a,n):(i||X0e(),r)}},ihe={},vz=vl({name:"errorBars",initialState:ihe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:mEe,replaceErrorBar:pEe,removeErrorBar:gEe}=vz.actions,she=vz.reducer,ohe=["children"];function lhe(e,t){if(e==null)return{};var r,a,n=che(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function che(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var uhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dhe=j.createContext(uhe);function bz(e){var{children:t}=e,r=lhe(e,ohe);return j.createElement(dhe.Provider,{value:r},t)}function Yw(e,t){var r,a,n=nr(d=>n0(d,e)),i=nr(d=>i0(d,t)),s=(r=n==null?void 0:n.allowDataOverflow)!==null&&r!==void 0?r:el.allowDataOverflow,l=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:tl.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function q6(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=Gw(),{needClipX:i,needClipY:s,needClip:l}=Yw(t,r);if(!l)return null;var{x:u,y:d,width:h,height:m}=n;return j.createElement("clipPath",{id:"clipPath-".concat(a)},j.createElement("rect",{x:i?u:u-h/2,y:s?d:d-m/2,width:i?h:h*2,height:s?m:m*2}))}var hhe=["onMouseEnter","onMouseLeave","onClick"],fhe=["value","background","tooltipPosition"],mhe=["id"],phe=["onMouseEnter","onClick","onMouseLeave"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gh.apply(null,arguments)}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(a){ghe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ghe(e,t,r){return(t=xhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xhe(e){var t=vhe(e,"string");return typeof t=="symbol"?t:t+""}function vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2(e,t){if(e==null)return{};var r,a,n=bhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var yhe=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Sh(r,t),payload:e}]};function whe(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:s,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:Sh(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:l}}}function khe(e){var t=nr(mh),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:l,onClick:u}=i,d=j2(i,hhe),h=L6(s,a),m=M6(l),x=I6(u,a);if(!n||r==null)return null;var p=Wf(n);return j.createElement(j.Fragment,null,r.map((y,b)=>{var{value:v,background:k,tooltipPosition:N}=y,_=j2(y,fhe);if(!k)return null;var A=h(y,b),D=m(y,b),M=x(y,b),L=uo(uo(uo(uo(uo({option:n,isActive:String(b)===t},_),{},{fill:"#eee"},k),p),sv(d,y,b)),{},{onMouseEnter:A,onMouseLeave:D,onClick:M,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return j.createElement(z6,gh({key:"background-bar-".concat(b)},L))}))}function _he(e){var{showLabels:t,children:r,rects:a}=e,n=a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return uo(uo({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return j.createElement(E6,{value:t?n:void 0},r)}function She(e){var{shape:t,activeBar:r,baseProps:a,entry:n,index:i,dataKey:s}=e,l=nr(mh),u=nr(qU),d=r&&String(i)===l&&(u==null||s===u),h=d?r:t;return j.createElement(z6,gh({},a,{name:String(a.name)},n,{isActive:d,option:h,index:i,dataKey:s}))}function Nhe(e){var{shape:t,baseProps:r,entry:a,index:n,dataKey:i}=e;return j.createElement(z6,gh({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function jhe(e){var{data:t,props:r}=e,a=po(r),{id:n}=a,i=j2(a,mhe),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:m}=r,x=j2(r,phe),p=L6(d,l),y=M6(m),b=I6(h,l);return t?j.createElement(j.Fragment,null,t.map((v,k)=>j.createElement(ni,gh({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(k),className:"recharts-bar-rectangle"},sv(x,v,k),{onMouseEnter:p(v,k),onMouseLeave:y(v,k),onClick:b(v,k)}),u?j.createElement(She,{shape:s,activeBar:u,baseProps:i,entry:v,index:k,dataKey:l}):j.createElement(Nhe,{shape:s,baseProps:i,entry:v,index:k,dataKey:l})))):null}function Ahe(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=t,m=r.current,x=jg(t,"recharts-bar-"),[p,y]=j.useState(!1),b=!p,v=j.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),k=j.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return j.createElement(_he,{showLabels:b,rects:a},j.createElement(Ng,{animationId:x,begin:s,duration:l,isActive:i,easing:u,onAnimationEnd:v,onAnimationStart:k,key:x},N=>{var _=N===1?a:a==null?void 0:a.map((A,D)=>{var M=m&&m[D];if(M)return uo(uo({},A),{},{x:Ka(M.x,A.x,N),y:Ka(M.y,A.y,N),width:Ka(M.width,A.width,N),height:Ka(M.height,A.height,N)});if(n==="horizontal"){var L=Ka(0,A.height,N);return uo(uo({},A),{},{y:A.y+A.height-L,height:L})}var B=Ka(0,A.width,N);return uo(uo({},A),{},{width:B})});return N>0&&(r.current=_??null),_==null?null:j.createElement(ni,null,j.createElement(jhe,{props:t,data:_}))}),j.createElement(qw,{label:t.label}),t.children)}function The(e){var t=j.useRef(null);return j.createElement(Ahe,{previousRectanglesRef:t,props:e})}var yz=0,Ehe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ga(e,t)}};class Che extends j.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:s,needClip:l,background:u,id:d}=this.props;if(t||r==null)return null;var h=Hr("recharts-bar",n),m=d;return j.createElement(ni,{className:h,id:d},l&&j.createElement("defs",null,j.createElement(q6,{clipPathId:m,xAxisId:i,yAxisId:s})),j.createElement(ni,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(m,")"):void 0},j.createElement(khe,{data:r,dataKey:a,background:u,allOtherBarProps:this.props}),j.createElement(The,this.props)))}}var Ohe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!r0.isSsr,legendType:"rect",minPointSize:yz,xAxisId:0,yAxisId:0};function Phe(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=Yw(t,r),x=uv(),p=js(),y=D6(e.children,Rg),b=nr(N=>sfe(N,t,r,p,e.id,y));if(x!=="vertical"&&x!=="horizontal")return null;var v,k=b==null?void 0:b[0];return k==null||k.height==null||k.width==null?v=0:v=x==="vertical"?k.height/2:k.width/2,j.createElement(bz,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Ehe,errorBarOffset:v},j.createElement(Che,gh({},e,{layout:x,needClip:m,data:b,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function Dhe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:s,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:h,displayedData:m,offset:x,cells:p,parentViewBox:y}=e,b=t==="horizontal"?l:s,v=h?b.scale.domain():null,k=Ore({numericAxis:b});return m.map((N,_)=>{var A,D,M,L,B,F;h?A=jre(h[_],v):(A=Ga(N,r),Array.isArray(A)||(A=[k,A]));var H=nhe(a,yz)(A[1],_);if(t==="horizontal"){var O,[I,V]=[l.scale(A[0]),l.scale(A[1])];D=WO({axis:s,ticks:u,bandSize:i,offset:n.offset,entry:N,index:_}),M=(O=V??I)!==null&&O!==void 0?O:void 0,L=n.size;var Y=I-V;if(B=pl(Y)?0:Y,F={x:D,y:x.top,width:L,height:x.height},Math.abs(H)>0&&Math.abs(B)<Math.abs(H)){var te=cs(B||H)*(Math.abs(H)-Math.abs(B));M-=te,B+=te}}else{var[X,ae]=[s.scale(A[0]),s.scale(A[1])];if(D=X,M=WO({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:N,index:_}),L=ae-X,B=n.size,F={x:x.left,y:M,width:x.width,height:B},Math.abs(H)>0&&Math.abs(L)<Math.abs(H)){var de=cs(L||H)*(Math.abs(H)-Math.abs(L));L+=de}}if(D==null||M==null||L==null||B==null)return null;var oe=uo(uo({},N),{},{x:D,y:M,width:L,height:B,value:h?A:A[1],payload:N,background:F,tooltipPosition:{x:D+L/2,y:M+B/2},parentViewBox:y},p&&p[_]&&p[_].props);return oe}).filter(Boolean)}function Lhe(e){var t=Ki(e,Ohe),r=js();return j.createElement(Kw,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(R6,{legendPayload:yhe(t)}),j.createElement(Vw,{fn:whe,args:t}),j.createElement(F6,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:jF(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(Phe,gh({},t,{id:a}))))}var If=j.memo(Lhe);If.displayName="Bar";function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(a){Mhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mhe(e,t,r){return(t=Ihe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ihe(e){var t=Rhe(e,"string");return typeof t=="symbol"?t:t+""}function Rhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fhe=(e,t)=>t,Bhe=(e,t,r)=>r,Uhe=(e,t,r,a)=>a,zhe=(e,t,r,a,n)=>n,Nv=tt([bv,zhe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qhe=tt([Nv],e=>e==null?void 0:e.maxBarSize),$he=(e,t,r,a,n,i)=>i,mD=(e,t,r)=>{var a=r??e;if(!vn(a))return Hs(a,t,0)},Hhe=tt([ta,bv,Fhe,Bhe,Uhe],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Whe=(e,t,r,a)=>{var n=ta(e);return n==="horizontal"?E1(e,"yAxis",r,a):E1(e,"xAxis",t,a)},Vhe=(e,t,r)=>{var a=ta(e);return a==="horizontal"?p7(e,"xAxis",t):p7(e,"yAxis",r)},Khe=(e,t,r)=>{var a={},n=e.filter(Dw),i=e.filter(d=>d.stackId==null),s=n.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),a),l=Object.entries(s).map(d=>{var[h,m]=d,x=m.map(y=>y.dataKey),p=mD(t,r,m[0].barSize);return{stackId:h,dataKeys:x,barSize:p}}),u=i.map(d=>{var h=[d.dataKey].filter(x=>x!=null),m=mD(t,r,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...l,...u]},Ghe=tt([Hhe,Coe,Vhe],Khe),Yhe=(e,t,r,a,n)=>{var i,s,l=Nv(e,t,r,a,n);if(l!=null){var u=ta(e),d=qB(e),{maxBarSize:h}=l,m=vn(h)?d:h,x,p;return u==="horizontal"?(x=Ru(e,"xAxis",t,a),p=Iu(e,"xAxis",t,a)):(x=Ru(e,"yAxis",r,a),p=Iu(e,"yAxis",r,a)),(i=(s=Yf(x,p,!0))!==null&&s!==void 0?s:m)!==null&&i!==void 0?i:0}},wz=(e,t,r,a)=>{var n=ta(e),i,s;return n==="horizontal"?(i=Ru(e,"xAxis",t,a),s=Iu(e,"xAxis",t,a)):(i=Ru(e,"yAxis",r,a),s=Iu(e,"yAxis",r,a)),Yf(i,s)};function Xhe(e,t,r,a,n){var i=a.length;if(!(i<1)){var s=Hs(e,r,0,!0),l,u=[];if(Oi(a[0].barSize)){var d=!1,h=r/i,m=a.reduce((k,N)=>k+(N.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&h>0&&(d=!0,h*=.9,m=i*h);var x=(r-m)/2>>0,p={offset:x-s,size:0};l=a.reduce((k,N)=>{var _,A={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:p.offset+p.size+s,size:d?h:(_=N.barSize)!==null&&_!==void 0?_:0}},D=[...k,A];return p=D[D.length-1].position,D},u)}else{var y=Hs(t,r,0,!0);r-2*y-(i-1)*s<=0&&(s=0);var b=(r-2*y-(i-1)*s)/i;b>1&&(b>>=0);var v=Oi(n)?Math.min(b,n):b;l=a.reduce((k,N,_)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:y+(b+s)*_+(b-v)/2,size:v}}],u)}return l}}var Qhe=(e,t,r,a,n,i,s)=>{var l=vn(s)?t:s,u=Xhe(r,a,n!==i?n:i,e,l);return n!==i&&u!=null&&(u=u.map(d=>ey(ey({},d),{},{position:ey(ey({},d.position),{},{offset:d.position.offset-n/2})}))),u},Jhe=tt([Ghe,qB,Eoe,$B,Yhe,wz,qhe],Qhe),Zhe=(e,t,r,a)=>Ru(e,"xAxis",t,a),efe=(e,t,r,a)=>Ru(e,"yAxis",r,a),tfe=(e,t,r,a)=>Iu(e,"xAxis",t,a),rfe=(e,t,r,a)=>Iu(e,"yAxis",r,a),afe=tt([Jhe,Nv],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),nfe=(e,t)=>{var r=Pw(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(s=>s.key===r)}}}},ife=tt([Whe,Nv],nfe),sfe=tt([Vi,gj,Zhe,efe,tfe,rfe,afe,ta,pv,wz,ife,Nv,$he],(e,t,r,a,n,i,s,l,u,d,h,m,x)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:b}=u;if(!(m==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||a==null||n==null||i==null||d==null)){var{data:v}=m,k;if(v!=null&&v.length>0?k=v:k=p==null?void 0:p.slice(y,b+1),k!=null)return Dhe({layout:l,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:k,offset:e,cells:x})}}),kz=e=>{var{chartData:t}=e,r=Pn(),a=js();return j.useEffect(()=>a?()=>{}:(r(N7(t)),()=>{r(N7(void 0))}),[t,r,a]),null},pD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_z=vl({name:"brush",initialState:pD,reducers:{setBrushSettings(e,t){return t.payload==null?pD:t.payload}}}),{setBrushSettings:xEe}=_z.actions,ofe=_z.reducer;function lfe(e,t,r){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return typeof t=="symbol"?t:t+""}function ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $6{static create(t){return new $6(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],n=r[r.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}lfe($6,"EPS",1e-4);function dfe(e){return(e%180+180)%180}var hfe=function(t){var{width:r,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=dfe(n),s=i*Math.PI/180,l=Math.atan(a/r),u=s>l&&s<Math.PI-l?a/Math.sin(s):r/Math.cos(s);return Math.abs(u)},ffe={dots:[],areas:[],lines:[]},Sz=vl({name:"referenceElements",initialState:ffe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Md(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Md(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Md(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:vEe,removeDot:bEe,addArea:yEe,removeArea:wEe,addLine:kEe,removeLine:_Ee}=Sz.actions,mfe=Sz.reducer,pfe=j.createContext(void 0),gfe=e=>{var{children:t}=e,[r]=j.useState("".concat(b1("recharts"),"-clip")),a=Gw();if(a==null)return null;var{x:n,y:i,width:s,height:l}=a;return j.createElement(pfe.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:n,y:i,height:l,width:s}))),t)};function pg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Nz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function xfe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return hfe(a,r)}function vfe(e,t,r){var a=r==="width",{x:n,y:i,width:s,height:l}=e;return t===1?{start:a?n:i,end:a?n+s:i+l}:{start:a?n+s:i+l,end:a?n:i}}function A2(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function bfe(e,t){return Nz(e,t+1)}function yfe(e,t,r,a,n){for(var i=(a||[]).slice(),{start:s,end:l}=t,u=0,d=1,h=s,m=function(){var y=a==null?void 0:a[u];if(y===void 0)return{v:Nz(a,d)};var b=u,v,k=()=>(v===void 0&&(v=r(y,b)),v),N=y.coordinate,_=u===0||A2(e,N,k,h,l);_||(u=0,h=s,d+=1),_&&(h=N+e*(k()/2+n),u+=d)},x;d<=i.length;)if(x=m(),x)return x.v;return[]}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(a){wfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wfe(e,t,r){return(t=kfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kfe(e){var t=_fe(e,"string");return typeof t=="symbol"?t:t+""}function _fe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sfe(e,t,r,a,n){for(var i=(a||[]).slice(),s=i.length,{start:l}=t,{end:u}=t,d=function(x){var p=i[x],y,b=()=>(y===void 0&&(y=r(p,x)),y);if(x===s-1){var v=e*(p.coordinate+e*b()/2-u);i[x]=p=Fs(Fs({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[x]=p=Fs(Fs({},p),{},{tickCoord:p.coordinate});var k=A2(e,p.tickCoord,b,l,u);k&&(u=p.tickCoord-e*(b()/2+n),i[x]=Fs(Fs({},p),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return i}function Nfe(e,t,r,a,n,i){var s=(a||[]).slice(),l=s.length,{start:u,end:d}=t;if(i){var h=a[l-1],m=r(h,l-1),x=e*(h.coordinate+e*m/2-d);s[l-1]=h=Fs(Fs({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var p=A2(e,h.tickCoord,()=>m,u,d);p&&(d=h.tickCoord-e*(m/2+n),s[l-1]=Fs(Fs({},h),{},{isShow:!0}))}for(var y=i?l-1:l,b=function(N){var _=s[N],A,D=()=>(A===void 0&&(A=r(_,N)),A);if(N===0){var M=e*(_.coordinate-e*D()/2-u);s[N]=_=Fs(Fs({},_),{},{tickCoord:M<0?_.coordinate-M*e:_.coordinate})}else s[N]=_=Fs(Fs({},_),{},{tickCoord:_.coordinate});var L=A2(e,_.tickCoord,D,u,d);L&&(u=_.tickCoord+e*(D()/2+n),s[N]=Fs(Fs({},_),{},{isShow:!0}))},v=0;v<y;v++)b(v);return s}function H6(e,t,r){var{tick:a,ticks:n,viewBox:i,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:h,angle:m}=e;if(!n||!n.length||!a)return[];if(tr(u)||r0.isSsr){var x;return(x=bfe(n,tr(u)?u:0))!==null&&x!==void 0?x:[]}var p=[],y=l==="top"||l==="bottom"?"width":"height",b=h&&y==="width"?Zx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(_,A)=>{var D=typeof d=="function"?d(_.value,A):_.value;return y==="width"?xfe(Zx(D,{fontSize:t,letterSpacing:r}),b,m):Zx(D,{fontSize:t,letterSpacing:r})[y]},k=n.length>=2?cs(n[1].coordinate-n[0].coordinate):1,N=vfe(i,k,y);return u==="equidistantPreserveStart"?yfe(k,N,v,n,s):(u==="preserveStart"||u==="preserveStartEnd"?p=Nfe(k,N,v,n,s,u==="preserveStartEnd"):p=Sfe(k,N,v,n,s),p.filter(_=>_.isShow))}var jfe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=n+i,d=s+u+l+(r?a:0);return Math.round(d)}return 0},Afe=["axisLine","width","height","className","hide","ticks"],Tfe=["viewBox"],Efe=["viewBox"];function B3(e,t){if(e==null)return{};var r,a,n=Cfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zf.apply(null,arguments)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(a){Ofe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ofe(e,t,r){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W6={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Lfe(e){var{x:t,y:r,width:a,height:n,orientation:i,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=$i($i($i({},u),po(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!s||i==="bottom"&&s);d=$i($i({},d),{},{x1:t,y1:r+h*n,x2:t+a,y2:r+h*n})}else{var m=+(i==="left"&&!s||i==="right"&&s);d=$i($i({},d),{},{x1:t+m*a,y1:r,x2:t+m*a,y2:r+n})}return j.createElement("line",Zf({},d,{className:Hr("recharts-cartesian-axis-line",Vf(l,"className"))}))}function Mfe(e,t,r,a,n,i,s,l,u){var d,h,m,x,p,y,b=l?-1:1,v=e.tickSize||s,k=tr(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=h=e.coordinate,x=r+ +!l*n,m=x-b*v,y=m-b*u,p=k;break;case"left":m=x=e.coordinate,h=t+ +!l*a,d=h-b*v,p=d-b*u,y=k;break;case"right":m=x=e.coordinate,h=t+ +l*a,d=h+b*v,p=d+b*u,y=k;break;default:d=h=e.coordinate,x=r+ +l*n,m=x+b*v,y=m+b*u,p=k;break}return{line:{x1:d,y1:m,x2:h,y2:x},tick:{x:p,y}}}function Ife(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Rfe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ffe(e){var{option:t,tickProps:r,value:a}=e,n,i=Hr(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))n=j.cloneElement(t,$i($i({},r),{},{className:i}));else if(typeof t=="function")n=t($i($i({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Hr(s,t==null?void 0:t.className)),n=j.createElement(zw,Zf({},r,{className:s}),a)}return n}function Bfe(e){var{ticks:t=[],tick:r,tickLine:a,stroke:n,tickFormatter:i,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:h,x:m,y:x,width:p,height:y,tickSize:b,tickMargin:v,fontSize:k,letterSpacing:N,getTicksConfig:_,events:A}=e,D=H6($i($i({},_),{},{ticks:t}),k,N),M=Ife(d,h),L=Rfe(d,h),B=po(_),F=Wf(r),H={};typeof a=="object"&&(H=a);var O=$i($i({},B),{},{fill:"none"},H),I=D.map((V,Y)=>{var{line:te,tick:X}=Mfe(V,m,x,p,y,d,b,h,v),ae=$i($i($i($i({textAnchor:M,verticalAnchor:L},B),{},{stroke:"none",fill:n},F),X),{},{index:Y,payload:V,visibleTicksCount:D.length,tickFormatter:i,padding:l},u);return j.createElement(ni,Zf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},sv(A,V,Y)),a&&j.createElement("line",Zf({},O,te,{className:Hr("recharts-cartesian-axis-tick-line",Vf(a,"className"))})),r&&j.createElement(Ffe,{option:r,tickProps:ae,value:"".concat(typeof i=="function"?i(V.value,Y):V.value).concat(s||"")}))});return I.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var Ufe=j.forwardRef((e,t)=>{var{axisLine:r,width:a,height:n,className:i,hide:s,ticks:l}=e,u=B3(e,Afe),[d,h]=j.useState(""),[m,x]=j.useState(""),p=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return jfe({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=j.useCallback(b=>{if(b){var v=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var k=v[0];if(k){var N=window.getComputedStyle(k),_=N.fontSize,A=N.letterSpacing;(_!==d||A!==m)&&(h(_),x(A))}}},[d,m]);return s||a!=null&&a<=0||n!=null&&n<=0?null:j.createElement(ni,{className:Hr("recharts-cartesian-axis",i),ref:y},j.createElement(Lfe,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:po(e)}),j.createElement(Bfe,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:u}),j.createElement($ue,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(Zue,{label:e.label,labelRef:e.labelRef}),e.children))}),zfe=j.memo(Ufe,(e,t)=>{var{viewBox:r}=e,a=B3(e,Tfe),{viewBox:n}=t,i=B3(t,Efe);return pg(r,n)&&pg(a,i)}),V6=j.forwardRef((e,t)=>{var r=Ki(e,W6);return j.createElement(zfe,Zf({},r,{ref:t}))});V6.displayName="CartesianAxis";var qfe=["x1","y1","x2","y2","key"],$fe=["offset"],Hfe=["xAxisId","yAxisId"],Wfe=["xAxisId","yAxisId"];function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(a){Vfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vfe(e,t,r){return(t=Kfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kfe(e){var t=Gfe(e,"string");return typeof t=="symbol"?t:t+""}function Gfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wf.apply(null,arguments)}function T2(e,t){if(e==null)return{};var r,a,n=Yfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Xfe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:n,width:i,height:s,ry:l}=e;return j.createElement("rect",{x:a,y:n,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jz(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:n,x2:i,y2:s,key:l}=t,u=T2(t,qfe),d=po(u),{offset:h}=d,m=T2(d,$fe);r=j.createElement("line",wf({},m,{x1:a,y1:n,x2:i,y2:s,fill:"none",key:l}))}return r}function Qfe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,l=T2(e,Hfe),u=n.map((d,h)=>{var m=zs(zs({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(h),index:h});return jz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Jfe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,l=T2(e,Wfe),u=n.map((d,h)=>{var m=zs(zs({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(h),index:h});return jz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Zfe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var d=l.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var h=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var b=x%t.length;return j.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function eme(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:s,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var h=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var b=x%r.length;return j.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tme=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return SF(H6(zs(zs(zs({},W6),r),{},{ticks:NF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},rme=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return SF(H6(zs(zs(zs({},W6),r),{},{ticks:NF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},ame={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Rd(e){var t=vj(),r=bj(),a=DF(),n=zs(zs({},Ki(e,ame)),{},{x:tr(e.x)?e.x:a.left,y:tr(e.y)?e.y:a.top,width:tr(e.width)?e.width:a.width,height:tr(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:s,x:l,y:u,width:d,height:h,syncWithTicks:m,horizontalValues:x,verticalValues:p}=n,y=js(),b=nr(F=>g7(F,"xAxis",i,y)),v=nr(F=>g7(F,"yAxis",s,y));if(!tr(d)||d<=0||!tr(h)||h<=0||!tr(l)||l!==+l||!tr(u)||u!==+u)return null;var k=n.verticalCoordinatesGenerator||tme,N=n.horizontalCoordinatesGenerator||rme,{horizontalPoints:_,verticalPoints:A}=n;if((!_||!_.length)&&typeof N=="function"){var D=x&&x.length,M=N({yAxis:v?zs(zs({},v),{},{ticks:D?x:v.ticks}):void 0,width:t,height:r,offset:a},D?!0:m);s2(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(_=M)}if((!A||!A.length)&&typeof k=="function"){var L=p&&p.length,B=k({xAxis:b?zs(zs({},b),{},{ticks:L?p:b.ticks}):void 0,width:t,height:r,offset:a},L?!0:m);s2(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(A=B)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Xfe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),j.createElement(Zfe,wf({},n,{horizontalPoints:_})),j.createElement(eme,wf({},n,{verticalPoints:A})),j.createElement(Qfe,wf({},n,{offset:a,horizontalPoints:_,xAxis:b,yAxis:v})),j.createElement(Jfe,wf({},n,{offset:a,verticalPoints:A,xAxis:b,yAxis:v})))}Rd.displayName="CartesianGrid";var Az=(e,t,r,a)=>Ru(e,"xAxis",t,a),Tz=(e,t,r,a)=>Iu(e,"xAxis",t,a),Ez=(e,t,r,a)=>Ru(e,"yAxis",r,a),Cz=(e,t,r,a)=>Iu(e,"yAxis",r,a),nme=tt([ta,Az,Ez,Tz,Cz],(e,t,r,a,n)=>Uu(e,"xAxis")?Yf(t,a,!1):Yf(r,n,!1)),ime=(e,t,r,a,n)=>n;function sme(e){return e.type==="line"}var ome=tt([bv,ime],(e,t)=>e.filter(sme).find(r=>r.id===t)),lme=tt([ta,Az,Ez,Tz,Cz,ome,nme,pv],(e,t,r,a,n,i,s,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=l;if(!(i==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||s==null)){var{dataKey:m,data:x}=i,p;if(x!=null&&x.length>0?p=x:p=u==null?void 0:u.slice(d,h+1),p!=null)return Cme({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:s,displayedData:p})}});function Oz(e){var t=Wf(e),r=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,s=Number(n),l=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=a),{r:s,strokeWidth:l}}return{r,strokeWidth:a}}var cme=["id"],ume=["type","layout","connectNulls","needClip"],dme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(a){hme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hme(e,t,r){return(t=fme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fme(e){var t=mme(e,"string");return typeof t=="symbol"?t:t+""}function mme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K6(e,t){if(e==null)return{};var r,a,n=pme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},em.apply(null,arguments)}var gme=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Sh(r,t),payload:e}]};function xme(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:l,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Sh(s,t),hide:l,type:e.tooltipType,color:e.stroke,unit:u}}}var Pz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function vme(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var bme=(e,t,r)=>{var a=r.reduce((m,x)=>m+x);if(!a)return Pz(t,e);for(var n=Math.floor(e/a),i=e%a,s=t-e,l=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>i){l=[...r.slice(0,u),i-d];break}var h=l.length%2===0?[0,s]:[s];return[...vme(r,n),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function yme(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Hr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(C6,em({},t,{className:a}))}return r}function wme(e,t){return e==null?!1:t?!0:e.length===1}function kme(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:s}=a;if(!wme(r,n))return null;var{id:l}=a,u=K6(a,cme),d=Ww(n),h=po(u),m=fR(n),x=r.map((y,b)=>{var v=nl(nl(nl({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:r});return yme(n,v)}),p={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return j.createElement(ni,em({className:"recharts-line-dots",key:"dots"},p),x)}function _me(e){var{showLabels:t,children:r,points:a}=e,n=j.useMemo(()=>a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return nl(nl({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[a]);return j.createElement(E6,{value:t?n:null},r)}function yD(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i}=e,{type:s,layout:l,connectNulls:u,needClip:d}=i,h=K6(i,ume),m=nl(nl({},go(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:s,layout:l,connectNulls:u,strokeDasharray:n??i.strokeDasharray});return j.createElement(j.Fragment,null,(a==null?void 0:a.length)>1&&j.createElement(Bp,em({},m,{pathRef:r})),j.createElement(kme,{points:a,clipPathId:t,props:i}))}function Sme(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Nme(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:x,width:p,height:y,onAnimationEnd:b,onAnimationStart:v}=r,k=n.current,N=jg(r,"recharts-line-"),[_,A]=j.useState(!1),D=!_,M=j.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),L=j.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]),B=Sme(a.current),F=i.current;return j.createElement(_me,{points:s,showLabels:D},r.children,j.createElement(Ng,{animationId:N,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:M,onAnimationStart:L,key:N},H=>{var O=Ka(F,B+F,H),I=Math.min(O,B),V;if(u)if(l){var Y="".concat(l).split(/[,\s]+/gim).map(ae=>parseFloat(ae));V=bme(I,B,Y)}else V=Pz(B,I);else V=l==null?void 0:String(l);if(k){var te=k.length/s.length,X=H===1?s:s.map((ae,de)=>{var oe=Math.floor(de*te);if(k[oe]){var De=k[oe];return nl(nl({},ae),{},{x:Ka(De.x,ae.x,H),y:Ka(De.y,ae.y,H)})}return x?nl(nl({},ae),{},{x:Ka(p*2,ae.x,H),y:Ka(y/2,ae.y,H)}):nl(nl({},ae),{},{x:ae.x,y:ae.y})});return n.current=X,j.createElement(yD,{props:r,points:X,clipPathId:t,pathRef:a,strokeDasharray:V})}return H>0&&B>0&&(n.current=s,i.current=I),j.createElement(yD,{props:r,points:s,clipPathId:t,pathRef:a,strokeDasharray:V})}),j.createElement(qw,{label:r.label}))}function jme(e){var{clipPathId:t,props:r}=e,a=j.useRef(null),n=j.useRef(0),i=j.useRef(null);return j.createElement(Nme,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Ame=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ga(e.payload,t)});class Tme extends j.Component{render(){var{hide:t,dot:r,points:a,className:n,xAxisId:i,yAxisId:s,top:l,left:u,width:d,height:h,id:m,needClip:x}=this.props;if(t)return null;var p=Hr("recharts-line",n),y=m,{r:b,strokeWidth:v}=Oz(r),k=Ww(r),N=b*2+v;return j.createElement(j.Fragment,null,j.createElement(ni,{className:p},x&&j.createElement("defs",null,j.createElement(q6,{clipPathId:y,xAxisId:i,yAxisId:s}),!k&&j.createElement("clipPath",{id:"clipPath-dots-".concat(y)},j.createElement("rect",{x:u-N/2,y:l-N/2,width:d+N,height:h+N}))),j.createElement(bz,{xAxisId:i,yAxisId:s,data:a,dataPointFormatter:Ame,errorBarOffset:0},j.createElement(jme,{props:this.props,clipPathId:y}))),j.createElement(R3,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Dz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!r0.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Eme(e){var t=Ki(e,Dz),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:l,dot:u,hide:d,isAnimationActive:h,label:m,legendType:x,xAxisId:p,yAxisId:y,id:b}=t,v=K6(t,dme),{needClip:k}=Yw(p,y),N=Gw(),_=uv(),A=js(),D=nr(H=>lme(H,p,y,A,b));if(_!=="horizontal"&&_!=="vertical"||D==null||N==null)return null;var{height:M,width:L,x:B,y:F}=N;return j.createElement(Tme,em({},v,{id:b,connectNulls:l,dot:u,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:h,hide:d,label:m,legendType:x,xAxisId:p,yAxisId:y,points:D,layout:_,height:M,width:L,left:B,top:F,needClip:k}))}function Cme(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:l,displayedData:u}=e;return u.map((d,h)=>{var m=Ga(d,s);if(t==="horizontal"){var x=i2({axis:r,ticks:n,bandSize:l,entry:d,index:h}),p=vn(m)?null:a.scale(m);return{x,y:p,value:m,payload:d}}var y=vn(m)?null:r.scale(m),b=i2({axis:a,ticks:i,bandSize:l,entry:d,index:h});return y==null||b==null?null:{x:y,y:b,value:m,payload:d}}).filter(Boolean)}function Ome(e){var t=Ki(e,Dz),r=js();return j.createElement(Kw,{id:t.id,type:"line"},a=>j.createElement(j.Fragment,null,j.createElement(R6,{legendPayload:gme(t)}),j.createElement(Vw,{fn:xme,args:t}),j.createElement(F6,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Eme,em({},t,{id:a}))))}var fh=j.memo(Ome);fh.displayName="Line";var Lz=(e,t,r,a)=>Ru(e,"xAxis",t,a),Mz=(e,t,r,a)=>Iu(e,"xAxis",t,a),Iz=(e,t,r,a)=>Ru(e,"yAxis",r,a),Rz=(e,t,r,a)=>Iu(e,"yAxis",r,a),Pme=tt([ta,Lz,Iz,Mz,Rz],(e,t,r,a,n)=>Uu(e,"xAxis")?Yf(t,a,!1):Yf(r,n,!1)),Dme=(e,t,r,a,n)=>n,Fz=tt([bv,Dme],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Lme=(e,t,r,a,n)=>{var i,s=Fz(e,t,r,a,n);if(s!=null){var l=ta(e),u=Uu(l,"xAxis"),d;if(u?d=E1(e,"yAxis",r,a):d=E1(e,"xAxis",t,a),d!=null){var{stackId:h}=s,m=Pw(s);if(!(h==null||m==null)){var x=(i=d[h])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(p=>p.key===m)}}}},Mme=tt([ta,Lz,Iz,Mz,Rz,Lme,pv,Pme,Fz],(e,t,r,a,n,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{data:x}=u,p;if(x&&x.length>0?p=x:p=d==null?void 0:d.slice(h,m+1),p!=null){var y=void 0;return rpe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:u,stackedData:i,displayedData:p,chartBaseValue:y,bandSize:l})}}}),Ime=["id"],Rme=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bz(e,t){if(e==null)return{};var r,a,n=Fme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(a){Bme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bme(e,t,r){return(t=Ume(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ume(e){var t=zme(e,"string");return typeof t=="symbol"?t:t+""}function zme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fd.apply(null,arguments)}function E2(e,t){return e&&e!=="none"?e:t}var qme=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:E2(a,n),value:Sh(r,t),payload:e}]};function $me(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:l,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Sh(s,t),hide:l,type:e.tooltipType,color:E2(a,i),unit:u}}}var Hme=(e,t)=>{var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Hr("recharts-area-dot",typeof e!="boolean"?e.className:"");r=j.createElement(C6,Fd({},t,{className:a}))}return r};function Wme(e,t){return e==null?!1:t?!0:e.length===1}function Vme(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:s}=a;if(!Wme(r,i))return null;var l=Ww(i),u=po(a),d=fR(i),h=r.map((x,p)=>{var y=Od(Od(Od({key:"dot-".concat(p),r:3},u),d),{},{index:p,cx:x.x,cy:x.y,dataKey:s,value:x.value,payload:x.payload,points:r});return Hme(i,y)}),m={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return j.createElement(ni,Fd({className:"recharts-area-dots"},m),h)}function Kme(e){var{showLabels:t,children:r,points:a}=e,n=a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Od(Od({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return j.createElement(E6,{value:t?n:null},r)}function kD(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i}=e,{layout:s,type:l,stroke:u,connectNulls:d,isRange:h}=i,{id:m}=i,x=Bz(i,Ime),p=po(x);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(ni,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},j.createElement(Bp,Fd({},p,{id:m,points:t,connectNulls:d,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&j.createElement(Bp,Fd({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&j.createElement(Bp,Fd({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:r}))),j.createElement(Vme,{points:t,props:x,clipPathId:n}))}function Gme(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,s=a[a.length-1].y;if(!Oi(i)||!Oi(s))return null;var l=t*Math.abs(i-s),u=Math.max(...a.map(d=>d.x||0));return tr(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.x||0),u)),tr(u)?j.createElement("rect",{x:0,y:i<s?i:i-l,width:u+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function Yme(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,s=a[a.length-1].x;if(!Oi(i)||!Oi(s))return null;var l=t*Math.abs(i-s),u=Math.max(...a.map(d=>d.y||0));return tr(r)?u=Math.max(r,u):r&&Array.isArray(r)&&r.length&&(u=Math.max(...r.map(d=>d.y||0),u)),tr(u)?j.createElement("rect",{x:i<s?i:i-l,y:0,width:l,height:Math.floor(u+(n?parseInt("".concat(n),10):1))}):null}function Xme(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return r==="vertical"?j.createElement(Gme,{alpha:t,points:a,baseLine:n,strokeWidth:i}):j.createElement(Yme,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function Qme(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:x,onAnimationEnd:p}=a,y=jg(a,"recharts-area-"),[b,v]=j.useState(!1),k=!b,N=j.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),_=j.useCallback(()=>{typeof x=="function"&&x(),v(!0)},[x]),A=n.current,D=i.current;return j.createElement(Kme,{showLabels:k,points:s},a.children,j.createElement(Ng,{animationId:y,begin:d,duration:h,isActive:u,easing:m,onAnimationEnd:N,onAnimationStart:_,key:y},M=>{if(A){var L=A.length/s.length,B=M===1?s:s.map((H,O)=>{var I=Math.floor(O*L);if(A[I]){var V=A[I];return Od(Od({},H),{},{x:Ka(V.x,H.x,M),y:Ka(V.y,H.y,M)})}return H}),F;return tr(l)?F=Ka(D,l,M):vn(l)||pl(l)?F=Ka(D,0,M):F=l.map((H,O)=>{var I=Math.floor(O*L);if(Array.isArray(D)&&D[I]){var V=D[I];return Od(Od({},H),{},{x:Ka(V.x,H.x,M),y:Ka(V.y,H.y,M)})}return H}),M>0&&(n.current=B,i.current=F),j.createElement(kD,{points:B,baseLine:F,needClip:t,clipPathId:r,props:a})}return M>0&&(n.current=s,i.current=l),j.createElement(ni,null,u&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(r)},j.createElement(Xme,{alpha:M,points:s,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),j.createElement(ni,{clipPath:"url(#animationClipPath-".concat(r,")")},j.createElement(kD,{points:s,baseLine:l,needClip:t,clipPathId:r,props:a})))}),j.createElement(qw,{label:a.label}))}function Jme(e){var{needClip:t,clipPathId:r,props:a}=e,n=j.useRef(null),i=j.useRef();return j.createElement(Qme,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i})}class Zme extends j.PureComponent{render(){var{hide:t,dot:r,points:a,className:n,top:i,left:s,needClip:l,xAxisId:u,yAxisId:d,width:h,height:m,id:x,baseLine:p}=this.props;if(t)return null;var y=Hr("recharts-area",n),b=x,{r:v,strokeWidth:k}=Oz(r),N=Ww(r),_=v*2+k;return j.createElement(j.Fragment,null,j.createElement(ni,{className:y},l&&j.createElement("defs",null,j.createElement(q6,{clipPathId:b,xAxisId:u,yAxisId:d}),!N&&j.createElement("clipPath",{id:"clipPath-dots-".concat(b)},j.createElement("rect",{x:s-_/2,y:i-_/2,width:h+_,height:m+_}))),j.createElement(Jme,{needClip:l,clipPathId:b,props:this.props})),j.createElement(R3,{points:a,mainColor:E2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&j.createElement(R3,{points:p,mainColor:E2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Uz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!r0.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function epe(e){var t,r=Ki(e,Uz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:m,isAnimationActive:x,legendType:p,stroke:y,xAxisId:b,yAxisId:v}=r,k=Bz(r,Rme),N=uv(),_=HU(),{needClip:A}=Yw(b,v),D=js(),{points:M,isRange:L,baseLine:B}=(t=nr(Y=>Mme(Y,b,v,D,e.id)))!==null&&t!==void 0?t:{},F=Gw();if(N!=="horizontal"&&N!=="vertical"||F==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:H,width:O,x:I,y:V}=F;return!M||!M.length?null:j.createElement(Zme,Fd({},k,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,baseLine:B,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:H,hide:m,layout:N,isAnimationActive:x,isRange:L,legendType:p,needClip:A,points:M,stroke:y,width:O,left:I,top:V,xAxisId:b,yAxisId:v}))}var tpe=(e,t,r,a,n)=>{var i=r??t;if(tr(i))return i;var s=e==="horizontal"?n:a,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function rpe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:n,layout:i,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:x,bandSize:p}=e,y=n&&n.length,b=tpe(i,s,r,l,u),v=i==="horizontal",k=!1,N=d.map((A,D)=>{var M;y?M=n[h+D]:(M=Ga(A,a),Array.isArray(M)?k=!0:M=[b,M]);var L=M[1]==null||y&&!t&&Ga(A,a)==null;return v?{x:i2({axis:l,ticks:m,bandSize:p,entry:A,index:D}),y:L?null:u.scale(M[1]),value:M,payload:A}:{x:L?null:l.scale(M[1]),y:i2({axis:u,ticks:x,bandSize:p,entry:A,index:D}),value:M,payload:A}}),_;return y||k?_=N.map(A=>{var D=Array.isArray(A.value)?A.value[0]:null;return v?{x:A.x,y:D!=null&&A.y!=null?u.scale(D):null,payload:A.payload}:{x:D!=null?l.scale(D):null,y:A.y,payload:A.payload}}):_=v?u.scale(b):l.scale(b),{points:N,baseLine:_,isRange:k}}function ape(e){var t=Ki(e,Uz),r=js();return j.createElement(Kw,{id:t.id,type:"area"},a=>j.createElement(j.Fragment,null,j.createElement(R6,{legendPayload:qme(t)}),j.createElement(Vw,{fn:$me,args:t}),j.createElement(F6,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:jF(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),j.createElement(epe,Fd({},t,{id:a}))))}var zz=j.memo(ape);zz.displayName="Area";var npe=["dangerouslySetInnerHTML","ticks"],ipe=["id"],spe=["domain"],ope=["domain"];function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U3.apply(null,arguments)}function C2(e,t){if(e==null)return{};var r,a,n=lpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function cpe(e){var t=Pn();return j.useLayoutEffect(()=>(t(I0e(e)),()=>{t(R0e(e))}),[e,t]),null}var upe=e=>{var{xAxisId:t,className:r}=e,a=nr(gj),n=js(),i="xAxis",s=nr(v=>Lg(v,i,t,n)),l=nr(v=>wU(v,i,t,n)),u=nr(v=>xU(v,t)),d=nr(v=>Sle(v,t)),h=nr(v=>JB(v,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,p=C2(e,npe),{id:y}=h,b=C2(h,ipe);return j.createElement(V6,U3({},p,b,{scale:s,x:d.x,y:d.y,width:u.width,height:u.height,className:Hr("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:l}))},dpe={allowDataOverflow:el.allowDataOverflow,allowDecimals:el.allowDecimals,allowDuplicatedCategory:el.allowDuplicatedCategory,height:el.height,hide:!1,mirror:el.mirror,orientation:el.orientation,padding:el.padding,reversed:el.reversed,scale:el.scale,tickCount:el.tickCount,type:el.type,xAxisId:0},hpe=e=>{var t,r,a,n,i,s=Ki(e,dpe);return j.createElement(j.Fragment,null,j.createElement(cpe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(upe,s))},fpe=(e,t)=>{var{domain:r}=e,a=C2(e,spe),{domain:n}=t,i=C2(t,ope);return pg(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:pg({domain:r},{domain:n}):!1},Bd=j.memo(hpe,fpe);Bd.displayName="XAxis";var mpe=["dangerouslySetInnerHTML","ticks"],ppe=["id"],gpe=["domain"],xpe=["domain"];function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z3.apply(null,arguments)}function O2(e,t){if(e==null)return{};var r,a,n=vpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function bpe(e){var t=Pn();return j.useLayoutEffect(()=>(t(F0e(e)),()=>{t(B0e(e))}),[e,t]),null}var ype=e=>{var{yAxisId:t,className:r,width:a,label:n}=e,i=j.useRef(null),s=j.useRef(null),l=nr(gj),u=js(),d=Pn(),h="yAxis",m=nr(D=>Lg(D,h,t,u)),x=nr(D=>vU(D,t)),p=nr(D=>jle(D,t)),y=nr(D=>wU(D,h,t,u)),b=nr(D=>ZB(D,t));if(j.useLayoutEffect(()=>{if(!(a!=="auto"||!x||T6(n)||j.isValidElement(n)||b==null)){var D=i.current;if(D){var M=D.getCalculatedWidth();Math.round(x.width)!==Math.round(M)&&d(U0e({id:t,width:M}))}}},[y,x,d,n,t,a,b]),x==null||p==null||b==null)return null;var{dangerouslySetInnerHTML:v,ticks:k}=e,N=O2(e,mpe),{id:_}=b,A=O2(b,ppe);return j.createElement(V6,z3({},N,A,{ref:i,labelRef:s,scale:m,x:p.x,y:p.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:Hr("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:y}))},wpe={allowDataOverflow:tl.allowDataOverflow,allowDecimals:tl.allowDecimals,allowDuplicatedCategory:tl.allowDuplicatedCategory,hide:!1,mirror:tl.mirror,orientation:tl.orientation,padding:tl.padding,reversed:tl.reversed,scale:tl.scale,tickCount:tl.tickCount,type:tl.type,width:tl.width,yAxisId:0},kpe=e=>{var t,r,a,n,i,s=Ki(e,wpe);return j.createElement(j.Fragment,null,j.createElement(bpe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(ype,s))},_pe=(e,t)=>{var{domain:r}=e,a=O2(e,gpe),{domain:n}=t,i=O2(t,xpe);return pg(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:pg({domain:r},{domain:n}):!1},Tu=j.memo(kpe,_pe);Tu.displayName="YAxis";var b_={exports:{}},y_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D;function Spe(){if(_D)return y_;_D=1;var e=bg();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(u,d,h,m,x){var p=n(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=s(function(){function v(D){if(!k){if(k=!0,N=D,D=m(D),x!==void 0&&y.hasValue){var M=y.value;if(x(M,D))return _=M}return _=D}if(M=_,r(N,D))return M;var L=m(D);return x!==void 0&&x(M,L)?(N=D,M):(N=D,_=L)}var k=!1,N,_,A=h===void 0?null:h;return[function(){return v(d())},A===null?void 0:function(){return v(A())}]},[d,h,m,x]);var b=a(u,p[0],p[1]);return i(function(){y.hasValue=!0,y.value=b},[b]),l(b),b},y_}var SD;function Npe(){return SD||(SD=1,b_.exports=Spe()),b_.exports}Npe();function jpe(e){e()}function Ape(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jpe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var ND={notify(){},get:()=>[]};function Tpe(e,t){let r,a=ND,n=0,i=!1;function s(b){h();const v=a.subscribe(b);let k=!1;return()=>{k||(k=!0,v(),m())}}function l(){a.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return i}function h(){n++,r||(r=e.subscribe(u),a=Ape())}function m(){n--,r&&n===0&&(r(),r=void 0,a.clear(),a=ND)}function x(){i||(i=!0,h())}function p(){i&&(i=!1,m())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:x,tryUnsubscribe:p,getListeners:()=>a};return y}var Epe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cpe=Epe(),Ope=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ppe=Ope(),Dpe=()=>Cpe||Ppe?j.useLayoutEffect:j.useEffect,Lpe=Dpe(),w_=Symbol.for("react-redux-context"),k_=typeof globalThis<"u"?globalThis:{};function Mpe(){if(!j.createContext)return{};const e=k_[w_]??(k_[w_]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Ipe=Mpe();function Rpe(e){const{children:t,context:r,serverState:a,store:n}=e,i=j.useMemo(()=>{const u=Tpe(n);return{store:n,subscription:u,getServerState:a?()=>a:void 0}},[n,a]),s=j.useMemo(()=>n.getState(),[n]);Lpe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,s]);const l=r||Ipe;return j.createElement(l.Provider,{value:i},t)}var Fpe=Rpe,Bpe=(e,t)=>t,G6=tt([Bpe,ta,YB,Yi,FU,s0,Cce,Vi],Mce),Y6=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},qz=Jl("mouseClick"),$z=lv();$z.startListening({actionCreator:qz,effect:(e,t)=>{var r=e.payload,a=G6(t.getState(),Y6(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ble({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var q3=Jl("mouseMove"),Hz=lv();Hz.startListening({actionCreator:q3,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=b6(a,a.tooltip.settings.shared),i=G6(a,Y6(r));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(EU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(TU()))}});var jD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Wz=vl({name:"rootProps",initialState:jD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:jD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Upe=Wz.reducer,{updateOptions:zpe}=Wz.actions,Vz=vl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qpe}=Vz.actions,$pe=Vz.reducer,Kz=Jl("keyDown"),Gz=Jl("focus"),X6=lv();X6.startListening({actionCreator:Kz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(y6(n,Ig(r))),l=s0(r);if(i==="Enter"){var u=k2(r,"axis","hover",String(n.index));t.dispatch(P3({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:u}));return}var d=Cle(r),h=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=s+m*h;if(!(l==null||x>=l.length||x<0)){var p=k2(r,"axis","hover",String(x));t.dispatch(P3({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});X6.startListening({actionCreator:Gz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&n.index==null){var i="0",s=k2(r,"axis","hover",String(i));t.dispatch(P3({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ul=Jl("externalEvent"),Yz=lv();Yz.startListening({actionCreator:Ul,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:wce(r),activeDataKey:qU(r),activeIndex:mh(r),activeLabel:zU(r),activeTooltipIndex:mh(r),isTooltipActive:kce(r)};e.payload.handler(a,e.payload.reactEvent)}}});var Hpe=tt([Mg],e=>e.tooltipItemPayloads),Wpe=tt([Hpe,kv,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(l=>l.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var s=t(i,r);return s}}}),Xz=Jl("touchMove"),Qz=lv();Qz.startListening({actionCreator:Xz,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=b6(a,a.tooltip.settings.shared);if(n==="axis"){var i=G6(a,Y6({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(EU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var s,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(TF),h=(s=u.getAttribute(EF))!==null&&s!==void 0?s:void 0,m=Wpe(t.getState(),d,h);t.dispatch(AU({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}});var Vpe=QR({brush:ofe,cartesianAxis:z0e,chartData:Qce,errorBars:she,graphicalItems:s0e,layout:ure,legend:pae,options:Vce,polarAxis:yde,polarOptions:$pe,referenceElements:mfe,rootProps:Upe,tooltip:Ule}),Kpe=function(t){return Mte({reducer:Vpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([$z.middleware,Hz.middleware,X6.middleware,Yz.middleware,Qz.middleware]),enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(cF({type:"raf"}))},devTools:r0.devToolsEnabled})};function Jz(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=js(),i=j.useRef(null);if(n)return r;i.current==null&&(i.current=Kpe(t));var s=uj;return j.createElement(Fpe,{context:s,store:i.current},r)}function Zz(e){var{layout:t,margin:r}=e,a=Pn(),n=js();return j.useEffect(()=>{n||(a(ore(t)),a(sre(r)))},[a,n,t,r]),null}function eq(e){var t=Pn();return j.useEffect(()=>{t(zpe(e))},[t,e]),null}var Gpe=["children"];function Ype(e,t){if(e==null)return{};var r,a,n=Xpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P2.apply(null,arguments)}var Qpe={width:"100%",height:"100%",display:"block"},Jpe=j.forwardRef((e,t)=>{var r=vj(),a=bj(),n=RF();if(!ug(r)||!ug(a))return null;var{children:i,otherAttributes:s,title:l,desc:u}=e,d,h;return typeof s.tabIndex=="number"?d=s.tabIndex:d=n?0:void 0,typeof s.role=="string"?h=s.role:h=n?"application":void 0,j.createElement(JN,P2({},s,{title:l,desc:u,role:h,tabIndex:d,width:r,height:a,style:Qpe,ref:t}),i)}),Zpe=e=>{var{children:t}=e,r=nr(yw);if(!r)return null;var{width:a,height:n,y:i,x:s}=r;return j.createElement(JN,{width:a,height:n,x:s,y:i},t)},AD=j.forwardRef((e,t)=>{var{children:r}=e,a=Ype(e,Gpe),n=js();return n?j.createElement(Zpe,null,r):j.createElement(Jpe,P2({ref:t},a),r)});function ege(){var e=Pn(),[t,r]=j.useState(null),a=nr(Fre);return j.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;Oi(i)&&i!==a&&e(cre(i))}},[t,e,a]),r}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function tge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(a){rge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rge(e,t,r){return(t=age(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function age(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tm.apply(null,arguments)}var ige=()=>(sue(),null);function D2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sge=j.forwardRef((e,t)=>{var r,a,n=j.useRef(null),[i,s]=j.useState({containerWidth:D2((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:D2((a=e.style)===null||a===void 0?void 0:a.height)}),l=j.useCallback((d,h)=>{s(m=>{var x=Math.round(d),p=Math.round(h);return m.containerWidth===x&&m.containerHeight===p?m:{containerWidth:x,containerHeight:p}})},[]),u=j.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();l(h,m);var x=y=>{var{width:b,height:v}=y[0].contentRect;l(b,v)},p=new ResizeObserver(x);p.observe(d),n.current=p}},[t,l]);return j.useEffect(()=>()=>{var d=n.current;d!=null&&d.disconnect()},[l]),j.createElement(j.Fragment,null,j.createElement(kw,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",tm({ref:u},e)))}),oge=j.forwardRef((e,t)=>{var{width:r,height:a}=e,[n,i]=j.useState({containerWidth:D2(r),containerHeight:D2(a)}),s=j.useCallback((u,d)=>{i(h=>{var m=Math.round(u),x=Math.round(d);return h.containerWidth===m&&h.containerHeight===x?h:{containerWidth:m,containerHeight:x}})},[]),l=j.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();s(d,h)}},[t,s]);return j.createElement(j.Fragment,null,j.createElement(kw,{width:n.containerWidth,height:n.containerHeight}),j.createElement("div",tm({ref:l},e)))}),lge=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return j.createElement(j.Fragment,null,j.createElement(kw,{width:r,height:a}),j.createElement("div",tm({ref:t},e)))}),cge=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return Kd(r)||Kd(a)?j.createElement(oge,tm({},e,{ref:t})):j.createElement(lge,tm({},e,{ref:t}))});function uge(e){return e===!0?sge:cge}var dge=j.forwardRef((e,t)=>{var{children:r,className:a,height:n,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:x,onTouchEnd:p,onTouchMove:y,onTouchStart:b,style:v,width:k,responsive:N,dispatchTouchEvents:_=!0}=e,A=j.useRef(null),D=Pn(),[M,L]=j.useState(null),[B,F]=j.useState(null),H=ege(),O=xj(),I=(O==null?void 0:O.width)>0?O.width:k,V=(O==null?void 0:O.height)>0?O.height:n,Y=j.useCallback(Q=>{H(Q),typeof t=="function"&&t(Q),L(Q),F(Q),Q!=null&&(A.current=Q)},[H,t,L,F]),te=j.useCallback(Q=>{D(qz(Q)),D(Ul({handler:i,reactEvent:Q}))},[D,i]),X=j.useCallback(Q=>{D(q3(Q)),D(Ul({handler:d,reactEvent:Q}))},[D,d]),ae=j.useCallback(Q=>{D(TU()),D(Ul({handler:h,reactEvent:Q}))},[D,h]),de=j.useCallback(Q=>{D(q3(Q)),D(Ul({handler:m,reactEvent:Q}))},[D,m]),oe=j.useCallback(()=>{D(Gz())},[D]),De=j.useCallback(Q=>{D(Kz(Q.key))},[D]),re=j.useCallback(Q=>{D(Ul({handler:s,reactEvent:Q}))},[D,s]),P=j.useCallback(Q=>{D(Ul({handler:l,reactEvent:Q}))},[D,l]),W=j.useCallback(Q=>{D(Ul({handler:u,reactEvent:Q}))},[D,u]),z=j.useCallback(Q=>{D(Ul({handler:x,reactEvent:Q}))},[D,x]),q=j.useCallback(Q=>{D(Ul({handler:b,reactEvent:Q}))},[D,b]),Z=j.useCallback(Q=>{_&&D(Xz(Q)),D(Ul({handler:y,reactEvent:Q}))},[D,_,y]),se=j.useCallback(Q=>{D(Ul({handler:p,reactEvent:Q}))},[D,p]),ee=uge(N);return j.createElement(YU.Provider,{value:M},j.createElement(mR.Provider,{value:B},j.createElement(ee,{width:I??(v==null?void 0:v.width),height:V??(v==null?void 0:v.height),className:Hr("recharts-wrapper",a),style:tge({position:"relative",cursor:"default",width:I,height:V},v),onClick:te,onContextMenu:re,onDoubleClick:P,onFocus:oe,onKeyDown:De,onMouseDown:W,onMouseEnter:X,onMouseLeave:ae,onMouseMove:de,onMouseUp:z,onTouchEnd:se,onTouchMove:Z,onTouchStart:q,ref:Y},j.createElement(ige,null),r)))}),hge=["width","height","responsive","children","className","style","compact","title","desc"];function fge(e,t){if(e==null)return{};var r,a,n=mge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var tq=j.forwardRef((e,t)=>{var{width:r,height:a,responsive:n,children:i,className:s,style:l,compact:u,title:d,desc:h}=e,m=fge(e,hge),x=po(m);return u?j.createElement(j.Fragment,null,j.createElement(kw,{width:r,height:a}),j.createElement(AD,{otherAttributes:x,title:d,desc:h},i)):j.createElement(dge,{className:s,style:l,width:r,height:a,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(AD,{otherAttributes:x,title:d,desc:h,ref:t},j.createElement(gfe,null,i)))});function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$3.apply(null,arguments)}var pge={top:5,right:5,bottom:5,left:5},gge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pge,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Xw=j.forwardRef(function(t,r){var a,n=Ki(t.categoricalChartProps,gge),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return j.createElement(Jz,{preloadedState:{options:h},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},j.createElement(kz,{chartData:d.data}),j.createElement(Zz,{layout:n.layout,margin:n.margin}),j.createElement(eq,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(tq,$3({},n,{ref:r})))}),xge=["axis"],Q6=j.forwardRef((e,t)=>j.createElement(Xw,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xge,tooltipPayloadSearcher:Sv,categoricalChartProps:e,ref:t})),vge=["axis","item"],H3=j.forwardRef((e,t)=>j.createElement(Xw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vge,tooltipPayloadSearcher:Sv,categoricalChartProps:e,ref:t}));function bge(e){var t=Pn();return j.useEffect(()=>{t(qpe(e))},[t,e]),null}var yge=["layout"];function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},W3.apply(null,arguments)}function wge(e,t){if(e==null)return{};var r,a,n=kge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var _ge={top:5,right:5,bottom:5,left:5},Sge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_ge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Nge=j.forwardRef(function(t,r){var a,n=Ki(t.categoricalChartProps,Sge),{layout:i}=n,s=wge(n,yge),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(Jz,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:l},j.createElement(kz,{chartData:n.data}),j.createElement(Zz,{layout:i,margin:n.margin}),j.createElement(eq,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(bge,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),j.createElement(tq,W3({},s,{ref:r})))}),jge=["item"],Age={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rq=j.forwardRef((e,t)=>{var r=Ki(e,Age);return j.createElement(Nge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jge,tooltipPayloadSearcher:Sv,categoricalChartProps:r,ref:t})}),Tge=["axis"],Ege=j.forwardRef((e,t)=>j.createElement(Xw,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tge,tooltipPayloadSearcher:Sv,categoricalChartProps:e,ref:t})),Cge=["axis"],Oge=j.forwardRef((e,t)=>j.createElement(Xw,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cge,tooltipPayloadSearcher:Sv,categoricalChartProps:e,ref:t}));const Pge=()=>{var B,F;const{sales:e,parts:t,cashTransactions:r,customers:a,paymentSources:n,employees:i,loans:s,currentBranchId:l}=si(),[u,d]=j.useState(e.length===0),h=j.useMemo(()=>new Date().toISOString().slice(0,10),[]),{data:m,isLoading:x}=dZ(),p=j.useMemo(()=>(m||[]).reduce((H,O)=>H+O.total_quantity,0),[m]),y=j.useMemo(()=>(m||[]).reduce((H,O)=>H+O.total_value,0),[m]),b=()=>{hZ(),window.location.reload()},v=()=>{confirm("Bn c chc mun xa ton b d liu demo khng?")&&(fZ(),window.location.reload())},k=j.useMemo(()=>{const H=e.filter(Y=>Y.date.slice(0,10)===h),O=H.reduce((Y,te)=>Y+te.total,0),I=H.reduce((Y,te)=>{const X=te.items.reduce((ae,de)=>ae+(de.costPrice||0)*de.quantity,0);return Y+(te.total-X)},0),V=new Set(H.map(Y=>Y.customer.phone||Y.customer.name)).size;return{revenue:O,profit:I,customerCount:V,orderCount:H.length}},[e,h]),N=j.useMemo(()=>{const H=[];for(let O=6;O>=0;O--){const I=new Date;I.setDate(I.getDate()-O);const V=I.toISOString().slice(0,10),te=e.filter(ae=>ae.date.slice(0,10)===V).reduce((ae,de)=>ae+de.total,0),X=r.filter(ae=>ae.type==="expense"&&ae.date.slice(0,10)===V).reduce((ae,de)=>ae+de.amount,0);H.push({date:I.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:te,expense:X,profit:te-X})}return H},[e,r]),_=j.useMemo(()=>{const H=r.filter(I=>I.type==="income").reduce((I,V)=>I+V.amount,0),O=r.filter(I=>I.type==="expense").reduce((I,V)=>I+V.amount,0);return[{name:"Thu",value:H,color:"#10b981"},{name:"Chi",value:O,color:"#ef4444"}]},[r]),A=j.useMemo(()=>{const H={};return e.forEach(O=>{O.items.forEach(I=>{H[I.partId]||(H[I.partId]={name:I.partName,quantity:0}),H[I.partId].quantity+=I.quantity})}),Object.values(H).sort((O,I)=>I.quantity-O.quantity).slice(0,5)},[e]),D=((B=n.find(H=>H.id==="cash"))==null?void 0:B.balance[l])||0,M=((F=n.find(H=>H.id==="bank"))==null?void 0:F.balance[l])||0,L=j.useMemo(()=>{const H=[],O=t.filter(V=>(V.stock[l]||0)<10);O.length>0&&H.push({type:"Tn kho thp",message:`${O.length} sn phm sp ht hng`,color:"text-orange-600 dark:text-orange-400"});const I=s.filter(V=>{const Y=Math.ceil((new Date(V.endDate).getTime()-Date.now())/864e5);return Y<=30&&Y>0&&V.status==="active"});return I.length>0&&H.push({type:"N n hn",message:`${I.length} khon vay sp n hn`,color:"text-red-600 dark:text-red-400"}),D+M<1e7&&H.push({type:"S d thp",message:"S d ti khon di 10 triu",color:"text-amber-600 dark:text-amber-400"}),H},[t,s,D,M,l]);return o.jsxs("div",{className:"space-y-6",children:[u&&o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:" Cha c d liu"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"H thng cha c d liu. Bn c th ti d liu mu  khm ph cc tnh nng hoc bt u nhp d liu thc t."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:b,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[o.jsx(KS,{className:"w-5 h-5"})," Ti d liu mu"]}),o.jsx("button",{onClick:()=>d(!1),className:"px-6 py-3 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-2 border-slate-300 dark:border-slate-600 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-200",children:"B qua"})]})]}),o.jsx("div",{className:"hidden md:block text-6xl",children:o.jsx($y,{className:"w-16 h-16 text-blue-600 dark:text-blue-400"})})]})}),e.length>0&&o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:v,className:"px-4 py-2 text-sm bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors inline-flex items-center gap-2",children:[o.jsx(sR,{className:"w-4 h-4"})," Xa tt c d liu"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(bp,{title:"Doanh thu hm nay",value:Oe(k.revenue),subtitle:`${k.orderCount} n hng`,colorKey:"blue",icon:o.jsx(vf,{className:"w-5 h-5"})}),o.jsx(bp,{title:"Li nhun hm nay",value:Oe(k.profit),subtitle:`${k.customerCount} khch hng`,colorKey:"emerald",icon:o.jsx(Hy,{className:"w-5 h-5"})}),o.jsx(bp,{title:"Tin mt",value:Oe(D),subtitle:"Qu tin mt",colorKey:"amber",icon:o.jsx(Jx,{className:"w-5 h-5"})}),o.jsx(bp,{title:"Ngn hng",value:Oe(M),subtitle:"Ti khon ngn hng",colorKey:"violet",icon:o.jsx(KN,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(bp,{title:"Tng SL tn kho",value:x?"...":`${p}`,subtitle:"Gp tt c chi nhnh",colorKey:"blue",icon:o.jsx(fl,{className:"w-5 h-5"})}),o.jsx(bp,{title:"Tng gi tr tn kho",value:x?"...":Oe(y),subtitle:"Theo gi bn l hin ti",colorKey:"violet",icon:o.jsx(KS,{className:"w-5 h-5"})})]}),L.length>0&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx(oR,{className:"w-5 h-5 text-amber-500"})," Cnh bo"]}),o.jsx("div",{className:"space-y-2",children:L.map((H,O)=>o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[H.type,":"]})," ",o.jsx("span",{className:H.color,children:H.message})]}),o.jsx("button",{className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 text-sm font-medium",children:"Xem chi tit "})]},O))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Doanh thu & Chi ph 7 ngy gn y"}),o.jsx(Nu,{width:"100%",height:250,children:o.jsxs(Q6,{data:N,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"date",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:H=>Oe(H)}),o.jsx(Xf,{}),o.jsx(fh,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Doanh thu"}),o.jsx(fh,{type:"monotone",dataKey:"expense",stroke:"#ef4444",strokeWidth:2,name:"Chi ph"}),o.jsx(fh,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Li nhun"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"T l Thu/Chi"}),o.jsx(Nu,{width:"100%",height:250,children:o.jsxs(rq,{children:[o.jsx(U6,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:H,percent:O})=>`${H}: ${(O*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((H,O)=>o.jsx(Rg,{fill:H.color},`cell-${O}`))}),o.jsx(Au,{formatter:H=>Oe(H)})]})}),o.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Thu: ",Oe(_[0].value)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Chi: ",Oe(_[1].value)]})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Top 5 sn phm bn chy"}),o.jsx(Nu,{width:"100%",height:250,children:o.jsxs(H3,{data:A,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"name",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),o.jsx(If,{dataKey:"quantity",fill:"#3b82f6",name:"S lng bn"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(iZ,{className:"w-5 h-5 text-yellow-500"}),"Top 10 Khch hng VIP"]}),o.jsx("div",{className:"space-y-3",children:j.useMemo(()=>{const H={};return e.forEach(O=>{const I=O.customer.phone||O.customer.name;H[I]||(H[I]={name:O.customer.name,phone:O.customer.phone,total:0}),H[I].total+=O.total}),Object.values(H).sort((O,I)=>I.total-O.total).slice(0,10).map((O,I)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white font-bold text-sm",children:I+1}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),O.phone&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:O.phone})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:Oe(O.total)}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tng chi tiu"})]})]},I))},[e])})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx($y,{className:"w-5 h-5 text-blue-500"}),"So snh 3 thng gn y"]}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(H3,{data:j.useMemo(()=>{const H=[],O=new Date;for(let I=2;I>=0;I--){const V=new Date(O.getFullYear(),O.getMonth()-I,1),Y=V.toISOString().slice(0,7),te=V.toLocaleDateString("vi-VN",{month:"short",year:"numeric"}),X=e.filter(oe=>oe.date.startsWith(Y)),ae=X.reduce((oe,De)=>oe+De.total,0),de=X.length;H.push({month:te,revenue:ae,orders:de})}return H},[e]),children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"month",stroke:"#94a3b8"}),o.jsx(Tu,{yAxisId:"left",stroke:"#3b82f6"}),o.jsx(Tu,{yAxisId:"right",orientation:"right",stroke:"#10b981"}),o.jsx(Au,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:(H,O)=>O==="revenue"?Oe(H):H}),o.jsx(Xf,{}),o.jsx(If,{yAxisId:"left",dataKey:"revenue",fill:"#3b82f6",name:"Doanh thu"}),o.jsx(If,{yAxisId:"right",dataKey:"orders",fill:"#10b981",name:"S n"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng khch hng"}),o.jsx(v1,{className:"w-5 h-5 text-slate-500"})]}),o.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:a.length}),o.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[a.filter(H=>H.segment==="VIP").length," VIP"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng nhn vin"}),o.jsx(qy,{className:"w-5 h-5 text-slate-500"})]}),o.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i.filter(H=>H.status==="active").length}),o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"ang lm vic"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng sn phm"}),o.jsx(fl,{className:"w-5 h-5 text-slate-500"})]}),o.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:t.reduce((H,O)=>H+(O.stock[l]||0),0)}),o.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[t.length," loi sn phm"]})]})]})]})},Dge={blue:{card:"bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/40",icon:"bg-blue-500/15 text-blue-600 dark:text-blue-400",accent:"text-blue-600 dark:text-blue-400"},emerald:{card:"bg-white dark:bg-slate-800 border border-emerald-100 dark:border-emerald-900/40",icon:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400",accent:"text-emerald-600 dark:text-emerald-400"},amber:{card:"bg-white dark:bg-slate-800 border border-amber-100 dark:border-amber-900/40",icon:"bg-amber-500/15 text-amber-600 dark:text-amber-400",accent:"text-amber-600 dark:text-amber-400"},violet:{card:"bg-white dark:bg-slate-800 border border-violet-100 dark:border-violet-900/40",icon:"bg-violet-500/15 text-violet-600 dark:text-violet-400",accent:"text-violet-600 dark:text-violet-400"}},bp=({title:e,value:t,subtitle:r,colorKey:a,icon:n})=>{const i=Dge[a];return o.jsxs("div",{className:`${i.card} rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),o.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t})]}),o.jsx("div",{className:`w-10 h-10 rounded-lg ${i.icon} flex items-center justify-center`,children:n})]}),o.jsx("p",{className:`text-sm ${i.accent}`,children:r})]})},Lge={"sale.delete":["owner","manager"],"part.update_price":["owner","manager"],"settings.update":["owner","manager"],"finance.view":["owner","manager"],"payroll.view":["owner","manager"],"analytics.view":["owner","manager"],"reports.view":["owner","manager","staff"],"employees.view":["owner","manager"],"debt.view":["owner","manager"]};function aq(e,t){return e?Lge[t].includes(e):!1}function nq(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++){const a=Math.floor(Math.random()*e.length);t+=e[a]}return t}function Mge(e){return/^[A-Z0-9]{8}$/.test(e)}const Du="parts";async function Ige(){try{const{data:e,error:t}=await Tt.from(Du).select("*").order("name");return t?ot({code:"supabase",message:"Khng th ti danh sch ph tng",cause:t}):Fr(e||[])}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function Rge(e){try{const t=e!=null&&e.pageSize&&e.pageSize>0?e.pageSize:50,r=e!=null&&e.page&&e.page>0?e.page:1,a=(r-1)*t,n=a+t-1;let i=Tt.from(Du).select("*",{count:"exact"}).order("name").range(a,n);if(e!=null&&e.category&&e.category!=="all"&&(i=i.eq("category",e.category)),e!=null&&e.search&&e.search.trim()){const d=e.search.trim();i=i.or(`name.ilike.%${d}%,sku.ilike.%${d}%`)}const{data:s,error:l,count:u}=await i;return l?ot({code:"supabase",message:"Khng th ti danh sch ph tng (phn trang)",cause:l}):Fr(s||[],{total:u,page:r,pageSize:t})}catch(t){return ot({code:"network",message:"Li kt ni ti my ch khi ti ph tng (phn trang)",cause:t})}}async function Fge(e){var t;try{if(!e.name)return ot({code:"validation",message:"Thiu tn ph tng"});const r=e.sku||nq(),a={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,sku:r,stock:e.stock||{CN1:0},retailPrice:e.retailPrice||{CN1:0},wholesalePrice:e.wholesalePrice||{CN1:0},category:e.category,description:e.description,warrantyPeriod:e.warrantyPeriod},{data:n,error:i}=await Tt.from(Du).insert([a]).select().single();if(i||!n){const l=(i==null?void 0:i.message)||(i==null?void 0:i.details)||"To ph tng tht bi";return ot({code:"supabase",message:l,cause:i})}let s=null;try{const{data:l}=await Tt.auth.getUser();s=((t=l==null?void 0:l.user)==null?void 0:t.id)||null}catch{}return await On(s,{action:"part.create",tableName:Du,recordId:n.id,oldData:null,newData:n}),Fr(n)}catch(r){return ot({code:"network",message:"Li kt ni khi to ph tng",cause:r})}}async function Bge(e,t){var r;try{const{data:a,error:n}=await Tt.from(Du).select("*").eq("id",e).single();if(n||!a)return ot({code:"supabase",message:"Khng tm thy ph tng  cp nht",cause:n});const{data:i,error:s}=await Tt.from(Du).update(t).eq("id",e).select().single();if(s||!i)return ot({code:"supabase",message:"Cp nht ph tng tht bi",cause:s});let l=null;try{const{data:u}=await Tt.auth.getUser();l=((r=u==null?void 0:u.user)==null?void 0:r.id)||null}catch{}return await On(l,{action:"part.update",tableName:Du,recordId:e,oldData:a,newData:i}),Fr(i)}catch(a){return ot({code:"network",message:"Li kt ni khi cp nht ph tng",cause:a})}}async function Uge(e){var t;try{const{data:r,error:a}=await Tt.from(Du).select("*").eq("id",e).single();if(a||!r)return ot({code:"supabase",message:"Khng tm thy ph tng  xa",cause:a});const{error:n}=await Tt.from(Du).delete().eq("id",e);if(n)return ot({code:"supabase",message:"Xa ph tng tht bi",cause:n});let i=null;try{const{data:s}=await Tt.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await On(i,{action:"part.delete",tableName:Du,recordId:e,oldData:r,newData:null}),Fr({id:e})}catch(r){return ot({code:"network",message:"Li kt ni khi xa ph tng",cause:r})}}const Qw=()=>xi({queryKey:["partsRepo"],queryFn:async()=>{const e=await Ige();if(!e.ok)throw e.error;return e.data}}),zge=e=>xi({queryKey:["partsRepoPaged",e.page,e.pageSize,e.search||"",e.category||"all"],queryFn:async()=>{const t=await Rge(e);if(!t.ok)throw t.error;return t},staleTime:3e4}),iq=()=>{const e=ia();return an({mutationFn:Fge,onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),e.invalidateQueries({queryKey:["partsRepoPaged"]})},onError:t=>Xe.error(ca(t))})},qge=()=>{const e=ia();return an({mutationFn:({id:t,updates:r})=>Bge(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),e.invalidateQueries({queryKey:["partsRepoPaged"]})},onError:t=>Xe.error(ca(t))})},$ge=()=>{const e=ia();return an({mutationFn:({id:t})=>Uge(t),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),e.invalidateQueries({queryKey:["partsRepoPaged"]})},onError:t=>Xe.error(ca(t))})},V3="inventory_transactions";async function Hge(e){try{let t=Tt.from(V3).select("id,type,partId,partName,quantity,date,unitPrice,totalPrice,branchId,notes,saleId,workOrderId,created_at").order("created_at",{ascending:!1});e!=null&&e.branchId&&(t=t.eq("branchId",e.branchId)),e!=null&&e.startDate&&(t=t.gte("date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:a}=await t;return a?ot({code:"supabase",message:(a==null?void 0:a.message)||(a==null?void 0:a.details)||"Khng th ti lch s kho",cause:a}):Fr(r||[])}catch(t){return ot({code:"network",message:"Li kt ni khi ti lch s kho",cause:t})}}async function Wge(e){var t;try{if(!e.partId||!e.partName)return ot({code:"validation",message:"Thiu thng tin ph tng"});if(!e.quantity||e.quantity<=0)return ot({code:"validation",message:"S lng phi > 0"});if(!e.branchId)return ot({code:"validation",message:"Thiu chi nhnh"});if(!e.type)return ot({code:"validation",message:"Thiu loi giao dch kho"});const r=e.unitPrice??0,a=e.totalPrice??r*e.quantity,n={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,type:e.type,partId:e.partId,partName:e.partName,quantity:e.quantity,date:e.date||new Date().toISOString(),unitPrice:r||null,totalPrice:a,branchId:e.branchId,notes:e.notes,saleId:e.saleId,workOrderId:e.workOrderId},{data:i,error:s}=await Tt.from(V3).insert([n]).select().single();if(s||!i)return ot({code:"supabase",message:(s==null?void 0:s.message)||(s==null?void 0:s.details)||"Ghi lch s kho tht bi",cause:s});let l=null;try{const{data:u}=await Tt.auth.getUser();l=((t=u==null?void 0:u.user)==null?void 0:t.id)||null}catch{}return await On(l,{action:e.type==="Nhp kho"?"inventory.receipt":"inventory.adjust",tableName:V3,recordId:i.id,oldData:null,newData:i}),Fr(i)}catch(r){return ot({code:"network",message:"Li kt ni khi ghi lch s kho",cause:r})}}const J6="sales";async function Vge(){try{const{data:e,error:t}=await Tt.from(J6).select("*").order("date",{ascending:!1});return t?ot({code:"supabase",message:"Khng th ti danh sch ha n",cause:t}):Fr(e||[])}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function Kge(e){const{branchId:t,fromDate:r,toDate:a,page:n=1,pageSize:i=20,search:s,status:l,paymentMethod:u,mode:d="offset",afterDate:h,afterId:m}=e||{};try{let x=Tt.from(J6).select("*",{count:"exact"}).order("date",{ascending:!1});if(t&&(x=x.eq("branchid",t)),r&&(x=x.gte("date",r)),a&&(x=x.lte("date",a)),s){const y=s.replace(/[%_]/g,"");x=x.or(`id.ilike.%${y}%,customer->>name.ilike.%${y}%`)}u&&(x=x.eq("paymentmethod",u)),l&&(l==="cancelled"||l==="refunded"?x=x.eq("refunded",!0):l==="completed"&&(x=x.or("refunded.is.null,refunded.eq.false")));let p={};if(d==="keyset"){h&&(m?x=x.or(`date.lt.${h},and(date.eq.${h},id.lt.${m})`):x=x.lt("date",h)),x=x.limit(i);const{data:y,error:b}=await x;if(b)return ot({code:"supabase",message:"Khng th ti danh sch ha n (keyset)",cause:b});const v=y||[];return p={mode:"keyset",pageSize:i,hasMore:v.length===i,nextAfterDate:v.length?v[v.length-1].date:void 0,nextAfterId:v.length?v[v.length-1].id:void 0},Fr(v,p)}else{const y=(n-1)*i,b=y+i-1;x=x.range(y,b);const{data:v,error:k,count:N}=await x;if(k)return ot({code:"supabase",message:"Khng th ti danh sch ha n (phn trang)",cause:k});const _=N||0,A=Math.max(1,Math.ceil(_/i));return p={mode:"offset",page:n,pageSize:i,total:_,totalPages:A,hasMore:n<A},Fr(v||[],p)}}catch(x){return ot({code:"network",message:"Li kt ni khi ti ha n (phn trang)",cause:x})}}async function Gge(e){var t;try{if(!e.items||!e.items.length)return ot({code:"validation",message:"Thiu danh sch hng ha"});if(!e.paymentMethod)return ot({code:"validation",message:"Thiu phng thc thanh ton"});if(!e.id)return ot({code:"validation",message:"Thiu ID ha n"});const r={p_sale_id:e.id,p_items:e.items,p_discount:e.discount??0,p_customer:e.customer??{name:"Khch l"},p_payment_method:e.paymentMethod,p_user_id:e.userId||"unknown",p_user_name:e.userName||"Unknown",p_branch_id:e.branchId||"CN1"},{data:a,error:n}=await Tt.rpc("sale_create_atomic",r);if(n||!a){const d=(n==null?void 0:n.details)||(n==null?void 0:n.message)||"",h=d.toUpperCase();if(h.includes("INSUFFICIENT_STOCK")){let m=[];const x=d.indexOf(":");if(x!==-1){const y=d.slice(x+1).trim();try{m=JSON.parse(y)}catch{}}const p=Array.isArray(m)?m.map(y=>`${y.partName||y.partId||"?"} (cn ${y.available}, cn ${y.requested})`).join(", "):"";return ot({code:"validation",message:p?`Thiu tn kho: ${p}`:"Tn kho khng  cho mt hoc nhiu sn phm",cause:n})}return h.includes("PART_NOT_FOUND")?ot({code:"validation",message:"Khng tm thy ph tng trong kho",cause:n}):h.includes("INVALID_ITEM")?ot({code:"validation",message:"D liu sn phm khng hp l",cause:n}):h.includes("EMPTY_ITEMS")?ot({code:"validation",message:"Danh sch hng ha trng",cause:n}):h.includes("INVALID_PAYMENT_METHOD")?ot({code:"validation",message:"Phng thc thanh ton khng hp l",cause:n}):h.includes("UNAUTHORIZED")?ot({code:"supabase",message:"Bn khng c quyn to ha n",cause:n}):h.includes("BRANCH_MISMATCH")?ot({code:"validation",message:"Chi nhnh khng khp vi quyn hin ti",cause:n}):ot({code:"supabase",message:"To ha n (atomic) tht bi",cause:n})}const i=a.sale,s=a.cashTransactionId,l=a.inventoryTxCount;if(!i)return ot({code:"unknown",message:"Kt qu RPC khng hp l"});let u=null;try{const{data:d}=await Tt.auth.getUser();u=((t=d==null?void 0:d.user)==null?void 0:t.id)||null}catch{}return await On(u,{action:"sale.create",tableName:J6,recordId:i.id,oldData:null,newData:i}),Fr({...i,cashTransactionId:s,inventoryTxCount:l})}catch(r){return ot({code:"network",message:"Li kt ni khi to ha n (atomic)",cause:r})}}const Yge=()=>xi({queryKey:["salesRepo"],queryFn:async()=>{const e=await Vge();if(!e.ok)throw e.error;return e.data}}),Xge=e=>xi({queryKey:["salesRepoPaged",e],queryFn:async()=>{const{status:t,...r}=e||{},a={...r,status:t==="all"?void 0:t},n=await Kge(a);if(!n.ok)throw n.error;return{data:n.data,meta:n.meta}},placeholderData:t=>t}),Qge=()=>{const e=ia();return an({mutationFn:t=>Gge(t),onSuccess:t=>{var r;e.invalidateQueries({queryKey:["salesRepo"]}),Xe.success(" to ha n (atomic)"),(r=t==null?void 0:t.data)!=null&&r.inventoryTxCount&&Xe.info(`Xut kho: ${t.data.inventoryTxCount} dng`)},onError:t=>Xe.error(ca(t))})};function Jge(e,t,r=5){return j.useMemo(()=>{const a=Array.isArray(e)?e:[],n=t||"",i=a.filter(l=>{var u;return(((u=l.stock)==null?void 0:u[n])??0)<=0}),s=a.filter(l=>{var d;const u=((d=l.stock)==null?void 0:d[n])??0;return u>0&&u<=r});return{lowStock:s,outOfStock:i,lowStockCount:s.length,outOfStockCount:i.length}},[e,t,r])}function L2(e){const t=document.getElementById(e);if(!t)return;const r=window.open("","_blank","width=800,height=600");r&&(r.document.write(`<!doctype html><html><head><title>Print</title>
  <style>
    body{font-family: Arial, Helvetica, sans-serif;}
    @media print{ .no-print{ display:none } }
  </style>
  </head><body>${t.outerHTML}</body></html>`),r.document.close(),r.focus(),r.print(),r.close())}const Zge=e=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0z"})}),xh=e=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),exe=e=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Z6=e=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),txe=({isOpen:e,onClose:t,sale:r,onPrint:a})=>{if(!e||!r)return null;const n=r.items.reduce((s,l)=>s+l.quantity*l.sellingPrice,0),i=n-r.total;return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chi tit n hng"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-400",children:"M n hng"}),o.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:Rp(r.id,storeSettings==null?void 0:storeSettings.work_order_prefix)||r.id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Ngy to"}),o.jsxs("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:[ln(new Date(r.date),!1)," ",new Date(r.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Khch hng"}),o.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:r.customer.name}),r.customer.phone&&o.jsx("div",{className:"text-sm text-slate-500",children:r.customer.phone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Nhn vin bn hng"}),o.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:r.username||r.userName||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Phng thc thanh ton"}),o.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:r.paymentMethod==="cash"?"Tin mt":"Chuyn khon"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Sn phm"}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Tn sn phm"}),o.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"SL"}),o.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"n gi"}),o.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thnh tin"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.items.map((s,l)=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:[s.partName,s.sku&&o.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",s.sku]})]}),o.jsx("td",{className:"px-4 py-3 text-sm text-right text-slate-900 dark:text-slate-100",children:s.quantity}),o.jsx("td",{className:"px-4 py-3 text-sm text-right text-slate-900 dark:text-slate-100",children:Oe(s.sellingPrice)}),o.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-slate-900 dark:text-slate-100",children:Oe(s.quantity*s.sellingPrice)})]},l))})]})})]}),o.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tm tnh:"}),o.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Oe(n)})]}),i>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),o.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["-",Oe(i)]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-slate-200 dark:border-slate-700 pt-2",children:[o.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Tng cng:"}),o.jsx("span",{className:"text-green-600 dark:text-green-400",children:Oe(r.total)})]})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"ng"}),o.jsxs("button",{onClick:()=>{a(r),t()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"In ha n"]})]})]})})},rxe=({isOpen:e,onClose:t,sale:r,onSave:a})=>{var Z;const{customers:n,upsertCustomer:i}=si(),{data:s=[]}=Qw(),l=ia(),{profile:u}=rc(),[d,h]=j.useState([]),[m,x]=j.useState({id:"",name:"",phone:""}),[p,y]=j.useState("cash"),[b,v]=j.useState(0),[k,N]=j.useState(""),[_,A]=j.useState(!1),[D,M]=j.useState(!1),[L,B]=j.useState(""),[F,H]=j.useState(""),[O,I]=j.useState(""),[V,Y]=j.useState(!1);if(j.useEffect(()=>{r&&(h([...r.items]),x({id:r.customer.id||"",name:r.customer.name,phone:r.customer.phone||""}),I(r.customer.name),y(r.paymentMethod),v(r.discount||0))},[r]),!e||!r)return null;const te=d.reduce((se,ee)=>se+ee.quantity*ee.sellingPrice,0),X=te-b,ae=s.filter(se=>se.name.toLowerCase().includes(k.toLowerCase())||se.sku.toLowerCase().includes(k.toLowerCase())),de=n.filter(se=>se.name.toLowerCase().includes(O.toLowerCase())),oe=se=>{const ee=typeof se.stock=="object"?se.stock[r.branchId]||0:se.stock,Q=typeof se.retailPrice=="object"?se.retailPrice[r.branchId]||0:se.retailPrice||0,me=d.find(Ae=>Ae.partId===se.id);h(me?d.map(Ae=>Ae.partId===se.id?{...Ae,quantity:Ae.quantity+1}:Ae):[...d,{partId:se.id,partName:se.name,sku:se.sku,quantity:1,sellingPrice:Q,stockSnapshot:typeof ee=="number"?ee:0}]),N(""),A(!1)},De=se=>{x({id:se.id,name:se.name,phone:se.phone||""}),I(se.name),Y(!1)},re=async()=>{if(!L.trim()){Xe.error("Vui lng nhp tn khch hng");return}try{const se={id:crypto.randomUUID(),name:L,phone:F||void 0,email:"",created_at:new Date().toISOString()};await i(se),x({id:se.id,name:se.name,phone:se.phone||""}),I(se.name),M(!1),B(""),H(""),Xe.success("Thm khch hng thnh cng")}catch(se){console.error("Error adding customer:",se),Xe.error("Li khi thm khch hng")}},P=(se,ee)=>{ee<=0?h(d.filter(Q=>Q.partId!==se)):h(d.map(Q=>Q.partId===se?{...Q,quantity:ee}:Q))},W=(se,ee)=>{h(d.map(Q=>Q.partId===se?{...Q,sellingPrice:ee}:Q))},z=se=>{h(d.filter(ee=>ee.partId!==se))},q=async()=>{if(d.length===0){Xe.error("Vui lng c t nht mt sn phm");return}if(!m.name){Xe.error("Vui lng nhp tn khch hng");return}try{await a({id:r.id,items:d,customer:m,paymentMethod:p,discount:b}),l.invalidateQueries({queryKey:["salesRepoPaged"]}),t()}catch(se){console.error("Error saving sale:",se)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[95vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:[" [Chnh sa] n Xut Bn"," ",((Z=Rp(r.id,storeSettings==null?void 0:storeSettings.work_order_prefix))==null?void 0:Z.split("-").pop())||r.id]}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl leading-none",children:""})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Thi gian bn hng:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:ln(new Date(r.date),!1),disabled:!0,className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),o.jsx("input",{type:"text",value:new Date(r.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),disabled:!0,className:"w-24 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-center"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Khch hng: "}),D?o.jsxs("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-3 space-y-2",children:[o.jsx("input",{type:"text",value:L,onChange:se=>B(se.target.value),placeholder:"Tn khch hng",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),o.jsx("input",{type:"tel",value:F,onChange:se=>H(se.target.value),placeholder:"S in thoi (ty chn)",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:re,className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Lu"}),o.jsx("button",{onClick:()=>{M(!1),B(""),H("")},className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300",children:"Hy"})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:"text",value:O,onChange:se=>{I(se.target.value),Y(!0)},onFocus:()=>Y(!0),placeholder:"Tm kim v chn mt khch hng",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),V&&de.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:de.slice(0,10).map(se=>o.jsxs("button",{onClick:()=>De(se),className:"w-full px-3 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:se.name}),se.phone&&o.jsx("div",{className:"text-xs text-slate-500",children:se.phone})]},se.id))})]}),o.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[o.jsx(xh,{className:"w-4 h-4"}),"Thm mi"]})]})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Chi tit sn phm:"})}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx("input",{type:"text",value:k,onChange:se=>{N(se.target.value),A(!0)},onFocus:()=>A(!0),placeholder:"Tm kim v thm sn phm...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),_&&k&&ae.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:ae.slice(0,10).map(se=>o.jsxs("button",{onClick:()=>oe(se),className:"w-full px-3 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-600 text-sm",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:se.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",se.sku]})]},se.id))})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-center px-2 py-2 text-xs font-medium text-slate-500 dark:text-slate-400 w-8",children:"-"}),o.jsx("th",{className:"text-left px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:"Tn"}),o.jsx("th",{className:"text-center px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400 w-20",children:"SL"}),o.jsx("th",{className:"text-right px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400 w-24",children:"n gi"}),o.jsx("th",{className:"text-right px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400 w-28",children:"Thnh tin"}),o.jsx("th",{className:"w-10"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:d.map((se,ee)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-2 py-2 text-center text-sm text-slate-900 dark:text-slate-100",children:ee+1}),o.jsxs("td",{className:"px-3 py-2 text-sm",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:se.partName}),o.jsx("div",{className:"text-xs text-slate-500",children:se.sku})]}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("input",{type:"number",value:se.quantity,onChange:Q=>P(se.partId,parseInt(Q.target.value)||0),min:"1",className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center text-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("input",{type:"number",value:se.sellingPrice,onChange:Q=>W(se.partId,parseFloat(Q.target.value)||0),min:"0",step:"1000",className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right text-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),o.jsx("td",{className:"px-3 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:Oe(se.quantity*se.sellingPrice)}),o.jsx("td",{className:"px-2 py-2 text-center",children:o.jsx("button",{onClick:()=>z(se.partId),className:"text-slate-400 hover:text-red-600 transition-colors",children:o.jsx(Z6,{className:"w-5 h-5"})})})]},se.partId))})]})}),d.length===0&&o.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Cha c sn phm no"}),d.length>0&&o.jsxs("div",{className:"mt-2 text-right",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"TNG:"}),o.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:Oe(te)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn nhn vin bn hng"}),o.jsx("select",{disabled:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:o.jsx("option",{children:r.username||r.userName})})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cng n:"}),o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Khch hng phi thanh ton"}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"TNG PHI THU:"}),o.jsx("span",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:Oe(X)})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[o.jsx("input",{type:"checkbox",checked:!0,readOnly:!0}),o.jsx("span",{children:" thanh ton "})]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-xs text-slate-500 dark:text-slate-400 mb-2",children:"- Thi gian Ngi thu - Ghi ch"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>y("cash"),className:`flex-1 py-2 rounded-lg border transition-colors text-sm font-medium ${p==="cash"?"bg-green-600 text-white border-green-600":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Tin mt"}),o.jsx("button",{onClick:()=>y("bank"),className:`flex-1 py-2 rounded-lg border transition-colors text-sm font-medium ${p==="bank"?"bg-blue-600 text-white border-blue-600":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:"Chuyn khon"})]})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-center px-2 py-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:"-"}),o.jsx("th",{className:"text-left px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:"Thi gian"}),o.jsx("th",{className:"text-left px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:"Ngi thu - Ghi ch"}),o.jsx("th",{className:"text-right px-3 py-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:"S tin"}),o.jsx("th",{className:"w-10"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-2 py-2 text-center text-slate-900 dark:text-slate-100",children:"1"}),o.jsxs("td",{className:"px-3 py-2",children:[o.jsxs("div",{className:"text-slate-900 dark:text-slate-100",children:[new Date(r.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})," ",ln(new Date(r.date),!1)]}),o.jsx("div",{className:"text-xs text-slate-500",children:"(Tin mt)"})]}),o.jsx("td",{className:"px-3 py-2 text-slate-900 dark:text-slate-100",children:r.username||r.userName}),o.jsx("td",{className:"px-3 py-2 text-right text-slate-900 dark:text-slate-100",children:Oe(X)}),o.jsx("td",{})]})})]})}),o.jsxs("div",{className:"mt-2 text-right",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng  thu"}),o.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:Oe(X)})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700",children:[o.jsx("button",{onClick:t,className:"px-6 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors font-medium",children:"NG"}),o.jsx("button",{onClick:q,disabled:d.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"LU"})]})]})})},axe=({isOpen:e,onClose:t,sales:r,currentBranchId:a,onPrintReceipt:n,onEditSale:i,onDeleteSale:s,page:l,totalPages:u,total:d,hasMore:h,pageSize:m,onPrevPage:x,onNextPage:p,onPageSizeChange:y,search:b,onSearchChange:v,fromDate:k,toDate:N,onDateRangeChange:_,status:A="all",onStatusChange:D,paymentMethodFilter:M="all",onPaymentMethodFilterChange:L,keysetMode:B=!1,onToggleKeyset:F})=>{const[H,O]=j.useState("7days"),[I,V]=j.useState(""),[Y,te]=j.useState(""),[X,ae]=j.useState(""),[de,oe]=j.useState(null),[De,re]=j.useState(!1),[P,W]=j.useState(!1),[z,q]=j.useState(null);j.useEffect(()=>{const ee=new Date,Q=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()),me=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59,999);let Ae,J;switch(H){case"today":Ae=Q,J=me;break;case"week":{const ke=ee.getDay(),ye=ke===0?-6:1-ke,ce=new Date(ee);ce.setDate(ee.getDate()+ye),Ae=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate()),J=me;break}case"month":{Ae=new Date(ee.getFullYear(),ee.getMonth(),1),J=me;break}case"7days":{const ke=new Date(ee);ke.setDate(ke.getDate()-6),Ae=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate()),J=me;break}case"30days":{const ke=new Date(ee);ke.setDate(ke.getDate()-29),Ae=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate()),J=me;break}case"custom":{Y&&X&&(Ae=new Date(Y),J=new Date(X+"T23:59:59"));break}case"all":Ae=void 0,J=void 0;break}_(Ae?Ae.toISOString():void 0,J?J.toISOString():void 0)},[H,Y,X,_]);const Z=j.useMemo(()=>{let ee=r.filter(Q=>Q.branchId===a||Q.branchid===a);return I&&(ee=ee.filter(Q=>Q.id.toLowerCase().includes(I.toLowerCase())||Q.customer.name.toLowerCase().includes(I.toLowerCase())||(Q.username||Q.userName||"").toLowerCase().includes(I.toLowerCase()))),ee.sort((Q,me)=>new Date(me.date).getTime()-new Date(Q.date).getTime()),ee},[r,a,I]),se=j.useMemo(()=>Z.reduce((ee,Q)=>ee+Q.total,0),[Z]);return j.useEffect(()=>{const ee=Q=>{Q.target.closest(".dropdown-menu-container")||q(null)};if(z)return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[z]),e?o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-7xl max-h-[95vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsx("button",{onClick:()=>O("7days"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="7days"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"7 ngy qua"}),o.jsx("button",{onClick:()=>O("week"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="week"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Tun"}),o.jsx("button",{onClick:()=>O("month"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="month"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Thng"}),o.jsx("button",{onClick:()=>O("30days"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="30days"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"30 ngy qua"}),o.jsx("button",{onClick:()=>O("custom"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="custom"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Ty chn"}),o.jsx("button",{onClick:()=>O("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H==="all"?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Tt c"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"text",value:I,onChange:ee=>V(ee.target.value),placeholder:"Tm 1 n xut bn",className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm w-64"}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tng doanh thu:"}),o.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:Oe(se)})]}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl p-2",children:""})]})]}),H==="custom"&&o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"T:"}),o.jsx("input",{type:"date",value:Y,onChange:ee=>te(ee.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"n:"}),o.jsx("input",{type:"date",value:X,onChange:ee=>ae(ee.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:Z.length===0?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Khng c ha n no"}):o.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Z.map(ee=>{var me;const Q=new Date(ee.date);return ee.items.map(Ae=>`${Ae.quantity} x ${Ae.partName} (${Oe(Ae.sellingPrice||0)})`).join(`
`),o.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center gap-4",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300"}),o.jsxs("div",{className:"w-32 flex-shrink-0",children:[o.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[Q.getDate(),"-",Q.getMonth()+1,"-",Q.getFullYear()]}),o.jsxs("div",{className:"text-xs text-slate-500",children:[Q.getHours(),":",String(Q.getMinutes()).padStart(2,"0")," ",Q.getDate(),"-",Q.getMonth()+1,"-",Q.getFullYear()]})]}),o.jsx("div",{className:"w-40 flex-shrink-0",children:o.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:((me=ee.customer)==null?void 0:me.name)||"Khch vng lai"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 space-y-1",children:ee.items.map((Ae,J)=>o.jsxs("div",{className:"truncate",children:[Ae.quantity," x ",Ae.partName,o.jsxs("span",{className:"text-slate-400 text-xs ml-1",children:["(",Oe(Ae.sellingPrice||0),")"]})]},J))}),o.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["NV Bn hng:"," ",ee.username||ee.userName||"Khng r"]})]}),o.jsx("div",{className:"w-32 flex-shrink-0 text-right",children:o.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:Oe(ee.total)})}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>{oe(ee),W(!0)},className:"p-2 text-slate-400 hover:text-amber-600 dark:hover:text-amber-400",title:"Chnh sa n hng",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsxs("div",{className:"relative dropdown-menu-container",children:[o.jsx("button",{onClick:()=>q(z===ee.id?null:ee.id),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",title:"Thm ty chn",children:o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"5",r:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"}),o.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}),z===ee.id&&o.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-50",children:[o.jsxs("button",{onClick:()=>{n(ee),q(null)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2 rounded-t-lg",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"In li ha n"]}),o.jsxs("button",{onClick:()=>{oe(ee),re(!0),q(null)},className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[o.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Xem chi tit"]}),o.jsxs("button",{onClick:()=>{s&&s(ee.id),q(null)},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 rounded-b-lg",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa ha n"]})]})]})]})]},ee.id)})})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",Z.length," n hng"]})})]}),o.jsx(txe,{isOpen:De,onClose:()=>{re(!1),oe(null)},sale:de,onPrint:n}),o.jsx(rxe,{isOpen:P,onClose:()=>{W(!1),oe(null)},sale:de,onSave:async ee=>{try{const{supabase:Q}=await Kx(async()=>{const{supabase:ye}=await Promise.resolve().then(()=>uJ);return{supabase:ye}},[]),{profile:me}=await Kx(async()=>{const{profile:ye}=await Promise.resolve().then(()=>SJ);return{profile:ye}},void 0).then(ye=>({profile:null})),J=ee.items.reduce((ye,ce)=>ye+ce.quantity*ce.sellingPrice,0)-ee.discount,{error:ke}=await Q.from("sales").update({items:ee.items,customer:ee.customer,paymentmethod:ee.paymentMethod,discount:ee.discount,total:J}).eq("id",ee.id);if(ke)throw ke;await On(null,{action:"sale_update",tableName:"sales",recordId:ee.id,newData:{items:ee.items,customer:ee.customer,paymentMethod:ee.paymentMethod,discount:ee.discount,total:J}}),Xe.success(" cp nht n hng thnh cng"),W(!1),oe(null)}catch(Q){console.error("Error updating sale:",Q),Xe.error("Li khi cp nht n hng: "+Q.message)}}})]}):null},nxe=()=>{const{customers:e,upsertCustomer:t,cartItems:r,setCartItems:a,clearCart:n,deleteSale:i,currentBranchId:s,finalizeSale:l,setCashTransactions:u,setPaymentSources:d}=si();ia();const{data:h=[],isLoading:m,error:x}=Qw(),[p,y]=j.useState(1),[b,v]=j.useState(20),[k,N]=j.useState(""),[_,A]=j.useState(""),[D,M]=j.useState(),[L,B]=j.useState(),[F,H]=j.useState("all"),[O,I]=j.useState("all"),[V,Y]=j.useState(!1),[te,X]=j.useState(null),ae={branchId:s,page:V?void 0:p,pageSize:b,search:_||void 0,fromDate:D,toDate:L,mode:V?"keyset":"offset",afterDate:V?te==null?void 0:te.afterDate:void 0,afterId:V?te==null?void 0:te.afterId:void 0,status:F==="all"?void 0:F==="cancelled"?"refunded":F==="completed"?"completed":F,paymentMethod:O==="all"?void 0:O},{data:de,isLoading:oe,error:De}=Xge(ae),re=(de==null?void 0:de.data)||[],P=(de==null?void 0:de.meta)||{page:1,totalPages:1,total:re.length,hasMore:!1};j.useEffect(()=>{var Ce;V&&((Ce=de==null?void 0:de.meta)==null?void 0:Ce.mode)==="keyset"&&X({afterDate:de.meta.nextAfterDate,afterId:de.meta.nextAfterId})},[V,de]);const{mutateAsync:W}=Qge(),z=j.useCallback(()=>y(Ce=>Math.max(1,Ce-1)),[]),q=j.useCallback(()=>y(Ce=>Ce+1),[]),Z=j.useCallback(Ce=>{v(Ce),y(1),V&&X(null)},[]);j.useEffect(()=>{const Ce=setTimeout(()=>{A(k),y(1)},300);return()=>clearTimeout(Ce)},[k]);const[se,ee]=j.useState(""),[Q,me]=j.useState(""),[Ae,J]=j.useState(null),[ke,ye]=j.useState(!1),[ce,qe]=j.useState(0),[ze,mt]=j.useState("amount"),[Te,Ee]=j.useState(0),[Be,ut]=j.useState(!1),[bt,Me]=j.useState(!1),[at,yt]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[lr,Rt]=j.useState(""),[kt,ht]=j.useState(""),[_t,hr]=j.useState(""),[Ut,At]=j.useState([]),[Lt,_r]=j.useState(0),[Gt,Ar]=j.useState(null),[rr,Yr]=j.useState(null),[Dt,cr]=j.useState(0),[zt,Dr]=j.useState(!1),[hs,wn]=j.useState(!1),[ma,bi]=j.useState(null),[Pt,Gs]=j.useState(null);j.useEffect(()=>{(async()=>{try{const{data:nt,error:$t}=await Tt.from("store_settings").select("store_name, address, phone, email, logo_url, bank_qr_url, bank_name, bank_account_number, bank_account_holder, bank_branch").order("created_at",{ascending:!1}).limit(1).single();if($t){console.error("Error fetching store settings:",$t);return}Gs(nt)}catch(nt){console.error("Failed to fetch store settings:",nt)}})()},[]);const fs=j.useCallback(Ce=>{var zr,Qa;const nt=((zr=Ce.retailPrice)==null?void 0:zr[s])??0,$t=((Qa=Ce.stock)==null?void 0:Qa[s])??0,Ht=r.find(cn=>cn.partId===Ce.id);if(Ht){const cn=Ht.quantity+1;if(cn>$t){Xe.error(`Khng  hng! Tn kho: ${$t}`);return}a(nn=>nn.map(Ea=>Ea.partId===Ce.id?{...Ea,quantity:cn}:Ea))}else{if($t<1){Xe.error("Sn phm  ht hng!");return}const cn={partId:Ce.id,partName:Ce.name,sku:Ce.sku,quantity:1,sellingPrice:nt,stockSnapshot:$t,discount:0};a(nn=>[...nn,cn])}},[r,a,s]),Ln=j.useCallback(Ce=>{a(nt=>nt.filter($t=>$t.partId!==Ce))},[a]),yi=j.useCallback((Ce,nt)=>{if(nt<=0){Ln(Ce);return}const $t=r.find(Ht=>Ht.partId===Ce);if($t&&nt>$t.stockSnapshot){Xe.error(`Khng  hng! Tn kho: ${$t.stockSnapshot}`);return}a(Ht=>Ht.map(zr=>zr.partId===Ce?{...zr,quantity:nt}:zr))},[r,a,Ln]),ra=j.useMemo(()=>r.reduce((Ce,nt)=>Ce+nt.sellingPrice*nt.quantity,0),[r]),Xa=j.useMemo(()=>Math.max(0,ra-ce),[ra,ce]),le=j.useMemo(()=>Ut.reduce((Ce,nt)=>Ce+nt.sellingPrice*nt.quantity,0),[Ut]),Se=j.useMemo(()=>Math.max(0,le-Lt),[le,Lt]),ge=j.useMemo(()=>Ut.reduce((Ce,nt)=>Ce+nt.quantity,0),[Ut]),xe=j.useMemo(()=>{if(m||x)return[];let Ce=h;return Ce=Ce.filter(nt=>{var Ht;const $t=(Ht=nt.stock)==null?void 0:Ht[s];return $t&&$t>0}),se&&(Ce=Ce.filter(nt=>nt.name.toLowerCase().includes(se.toLowerCase())||nt.sku.toLowerCase().includes(se.toLowerCase()))),Ce.slice(0,20)},[h,se,m,x,s]),{lowStockCount:be,outOfStockCount:_e}=Jge(h,s,5),Ve=j.useRef(!1);j.useEffect(()=>{if(!Ve.current&&(be>0||_e>0)){const Ce=[];_e>0&&Ce.push(`Ht hng: ${_e}`),be>0&&Ce.push(`Tn thp: ${be}`),Xe.info(Ce.join("  ")),Ve.current=!0}},[be,_e]);const it=j.useMemo(()=>Q?e.filter(Ce=>{var nt;return Ce.name.toLowerCase().includes(Q.toLowerCase())||((nt=Ce.phone)==null?void 0:nt.includes(Q))||!1}).slice(0,10):e.slice(0,10),[e,Q]),Ge=()=>{if(!at.name||!at.phone){alert("Vui lng nhp tn v s in thoi");return}if(e.find($t=>$t.phone===at.phone)){alert("S in thoi ny  tn ti!");return}const nt={id:`CUST-${Date.now()}`,name:at.name,phone:at.phone,vehicleModel:at.vehicleModel,licensePlate:at.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()};t(nt),J(nt),me(nt.name),yt({name:"",phone:"",vehicleModel:"",licensePlate:""}),Me(!1)},Ye=Ce=>{bi(Ce),wn(!0)},Qe=()=>{if(!ma)return;Rt(Rp(ma.id,Pt==null?void 0:Pt.work_order_prefix)||ma.id),ht(ma.customer.name),hr(ma.customer.phone||"");const Ce=ma.items.map(nt=>({partId:nt.partId||nt.partid||"",partName:nt.partName||nt.partname||"",sku:nt.sku||"",quantity:nt.quantity||0,sellingPrice:nt.sellingPrice||nt.sellingprice||nt.price||0,stockSnapshot:nt.stockSnapshot||0,discount:nt.discount||0}));At(Ce),_r(ma.discount||0),setTimeout(()=>{L2("last-receipt"),wn(!1),bi(null)},100)},{profile:xt}=rc(),Ot=Ce=>{if(!aq(xt==null?void 0:xt.role,"sale.delete")){Xe.error("Bn khng c quyn xa ha n");return}if(!confirm("Xc nhn xa ha n ny? Hnh ng ny khng th hon tc."))return;const nt=re.find($t=>$t.id===Ce)||null;i(Ce),Xe.success(" xa ha n thnh cng!"),On((xt==null?void 0:xt.id)||null,{action:"sale.delete",tableName:"sales",recordId:Ce,oldData:nt,newData:null})},Ft=Ce=>{if(confirm("M li ha n ny  chnh sa? Gi hng hin ti s b xa.")){if(n(),Ce.items.forEach(nt=>{const $t=h.find(Ht=>Ht.id===nt.partId);if($t)for(let Ht=0;Ht<nt.quantity;Ht++)fs($t)}),Ce.customer.id){const nt=e.find($t=>$t.id===Ce.customer.id);nt&&(J(nt),me(nt.name))}else ht(Ce.customer.name),hr(Ce.customer.phone||"");qe(Ce.discount||0),ut(!1),alert("Ha n  c ti vo gi hng  chnh sa")}},Ct=async()=>{var Ce;if(r.length===0){alert("Vui lng thm sn phm vo gi hng");return}if(!Gt){alert("Vui lng chn phng thc thanh ton");return}if(!rr){alert("Vui lng chn hnh thc thanh ton");return}if(rr==="partial"&&Dt<=0){alert("Vui lng nhp s tin khch tr");return}try{for(const nn of r){const Ea=h.find(Mn=>Mn.id===nn.partId);if(!Ea){Xe.error(`Khng tm thy sn phm: ${nn.partName}`);return}const qo=((Ce=Ea.stock)==null?void 0:Ce[s])??0;if(nn.quantity>qo){Xe.error(`Khng  hng cho ${Ea.name}. Tn kho: ${qo}`);return}}const nt=`SALE-${Date.now()}`,$t=r.reduce((nn,Ea)=>nn+Ea.sellingPrice*Ea.quantity,0),Ht=r.reduce((nn,Ea)=>nn+(Ea.discount||0),0),zr=Math.max(0,$t-Ht-ce),Qa={id:Ae==null?void 0:Ae.id,name:(Ae==null?void 0:Ae.name)||kt||"Khch l",phone:(Ae==null?void 0:Ae.phone)||_t};Rt(Rp(nt,Pt==null?void 0:Pt.work_order_prefix)),ht(Qa.name),hr(Qa.phone||""),At([...r]),_r(ce+Ht),!Ae&&_t&&kt&&(e.find(Ea=>Ea.phone===_t)||t({id:`CUST-${Date.now()}`,name:kt,phone:_t,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}));const cn=await W({id:nt,items:r,discount:ce+Ht,customer:Qa,paymentMethod:Gt,userId:(xt==null?void 0:xt.id)||"local-user",userName:(xt==null?void 0:xt.email)||(xt==null?void 0:xt.full_name)||"Local User",branchId:s});if(cn!=null&&cn.error)throw cn.error;J(null),me(""),qe(0),Ee(0),mt("amount"),Ar(null),Yr(null),cr(0),n(),zt&&setTimeout(()=>{L2("last-receipt")},100)}catch(nt){console.error("Error finalizing sale (atomic):",nt),Xe.error((nt==null?void 0:nt.message)||"C li khi to ha n (atomic)")}};return j.useEffect(()=>{const Ce=nt=>{nt.target.closest(".customer-dropdown-container")||ye(!1)};return document.addEventListener("mousedown",Ce),()=>document.removeEventListener("mousedown",Ce)},[]),o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[o.jsxs("div",{className:"flex h-screen",children:[o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm hoc SKU...",value:se,onChange:Ce=>ee(Ce.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"})}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs",children:[o.jsxs("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",children:["Tn thp: ",be]}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",children:["Ht hng: ",_e]})]}),o.jsxs("button",{onClick:()=>ut(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg whitespace-nowrap transition-colors inline-flex items-center gap-2",children:[o.jsx($y,{className:"w-4 h-4"}),"Lch s bn hng"]})]})}),o.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-slate-50 dark:bg-slate-900",children:xe.length===0?o.jsxs("div",{className:"text-center text-slate-400 mt-20",children:[o.jsx("div",{className:"mb-4 flex items-center justify-center",children:o.jsx(fl,{className:"w-16 h-16 text-slate-300"})}),o.jsx("div",{className:"text-xl font-medium mb-2",children:se?"Khng tm thy sn phm no":"Cha c sn phm"}),o.jsx("div",{className:"text-sm",children:se?"Hy th mt t kha tm kim khc":"Vui lng thm sn phm vo h thng"})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:xe.map(Ce=>{var zr,Qa;const nt=((zr=Ce.retailPrice)==null?void 0:zr[s])??0,$t=((Qa=Ce.stock)==null?void 0:Qa[s])??0,Ht=$t<=0;return o.jsx("button",{onClick:()=>!Ht&&fs(Ce),disabled:Ht,className:`group relative p-4 rounded-xl border transition-all duration-200 ${Ht?"bg-primary-bg/50 border-primary-border opacity-50 cursor-not-allowed":"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-700 dark:to-slate-800 border-blue-200 dark:border-slate-600 hover:shadow-xl hover:scale-105"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx("div",{className:"w-20 h-20 bg-orange-100 dark:bg-orange-600/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(fl,{className:"w-10 h-10 text-orange-500 dark:text-orange-300"})})}),o.jsxs("div",{className:"text-left mb-2 flex-1",children:[o.jsx("h3",{className:"font-semibold text-base text-primary-text line-clamp-2 mb-1",title:Ce.name,children:Ce.name}),o.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",Ce.sku]})]}),o.jsxs("div",{className:"flex justify-between items-end mt-auto",children:[o.jsx("div",{className:"text-left",children:o.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Oe(nt)})}),o.jsx("div",{className:"text-right",children:o.jsx("span",{className:`inline-flex items-center justify-center min-w-[2.5rem] px-2 py-1 text-xs font-bold rounded-md ${Ht?"bg-red-600 text-white":$t<=5?"bg-orange-600 text-white":"bg-green-600 text-white"}`,children:Ht?"Ht":$t})})]})]})},Ce.id)})})})]}),o.jsxs("div",{className:"w-96 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"customer-dropdown-container",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Chn khch hng"}),o.jsxs("div",{className:"relative flex gap-2",children:[o.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",value:Q,onChange:Ce=>me(Ce.target.value),onFocus:()=>ye(!0),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:()=>Me(!0),className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center transition-colors",title:"Thm khch hng mi",children:o.jsx(xh,{className:"w-5 h-5"})}),ke&&it.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg",children:it.map(Ce=>o.jsxs("button",{onClick:()=>{J(Ce),me(Ce.name),ye(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-600 border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:Ce.name}),Ce.phone&&o.jsx("div",{className:"text-sm text-slate-500",children:Ce.phone})]},Ce.id))})]}),Ae&&o.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:Ae.name}),Ae.phone&&o.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:Ae.phone}),o.jsx("button",{onClick:()=>{J(null),me("")},className:"text-xs text-blue-600 hover:text-blue-800 mt-1",children:"Xa khch hng"})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng"}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",r.length," sn phm)"]})]}),r.length===0?o.jsxs("div",{className:"text-center text-slate-400 py-12",children:[o.jsx("div",{className:"mb-2 flex items-center justify-center",children:o.jsx(iR,{className:"w-10 h-10 text-slate-300"})}),o.jsx("div",{className:"text-sm",children:"Gi hng trng"}),o.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):o.jsx("div",{className:"space-y-3",children:r.map(Ce=>o.jsxs("div",{className:"flex items-center gap-3 p-3 border border-slate-200 dark:border-slate-600 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(fl,{className:"w-6 h-6 text-slate-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 break-words",title:Ce.partName,children:Ce.partName}),o.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",Ce.sku]}),o.jsx("div",{className:"text-sm text-blue-600 font-semibold",children:Oe(Ce.sellingPrice)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>yi(Ce.partId,Math.max(1,Ce.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),o.jsx("span",{className:"w-8 text-center font-medium text-sm",children:Ce.quantity}),o.jsx("button",{onClick:()=>yi(Ce.partId,Ce.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"}),o.jsx("button",{onClick:()=>Ln(Ce.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 ml-1",children:""})]})]},Ce.partId))})]}),r.length>0&&o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[o.jsxs("div",{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{children:"Tng tin hng"}),o.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Oe(ra)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:ze==="amount"?ce:Te,onChange:Ce=>{const nt=Number(Ce.target.value)||0;if(ze==="amount")qe(Math.min(nt,ra));else{const $t=Math.min(nt,100);Ee($t),qe(Math.round(ra*$t/100))}},className:"w-20 px-2 py-1 text-right text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"0",min:"0",max:ze==="amount"?ra:100}),o.jsxs("select",{value:ze,onChange:Ce=>{const nt=Ce.target.value;mt(nt),qe(0),Ee(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[o.jsx("option",{value:"amount",children:""}),o.jsx("option",{value:"percent",children:"%"})]})]})]}),ze==="percent"&&o.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(Ce=>o.jsxs("button",{onClick:()=>{Ee(Ce),qe(Math.round(ra*Ce/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[Ce,"%"]},Ce))}),ze==="percent"&&Te>0&&o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",Oe(ce)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),o.jsxs("span",{className:"font-bold text-xl text-slate-900 dark:text-slate-100",children:[Oe(Math.max(0,Xa-ce))," "]})]})]}),o.jsxs("div",{className:"px-4 pb-3",children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:["Phng thc thanh ton ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>Ar("cash"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${Gt==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[o.jsx(eR,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:"Tin mt"})]}),o.jsxs("button",{onClick:()=>Ar("bank"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${Gt==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[o.jsx(MJ,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:"Chuyn khon"})]})]})]}),Gt&&o.jsxs("div",{className:"px-4 pb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Hnh thc"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("button",{onClick:()=>{Yr("full"),cr(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${rr==="full"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton "}),o.jsx("button",{onClick:()=>Yr("partial"),className:`px-3 py-2 text-sm rounded-lg border transition-all ${rr==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),o.jsx("button",{onClick:()=>{Yr("note"),cr(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${rr==="note"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Ghi n"})]})]}),rr==="partial"&&o.jsxs("div",{className:"px-4 pb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"S tin khch tr"}),o.jsx("input",{type:"number",value:Dt,onChange:Ce=>cr(Number(Ce.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700",placeholder:"0"}),o.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",Oe(Math.max(0,Xa-ce-Dt))," ",""]})]}),o.jsxs("div",{className:"px-4 pb-3 space-y-2",children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Thi gian bn hng"}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"salesTime",defaultChecked:!0,className:"w-4 h-4 text-pink-600 focus:ring-pink-500"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thi gian hin ti"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"salesTime",className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ty chnh"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ghi ch ring cho n hng"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:zt,onChange:Ce=>Dr(Ce.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"ng thi in ho n"})]})]}),o.jsxs("div",{className:"p-4 pt-0 flex gap-3",children:[o.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-lg transition-colors",children:"LU NHP"}),o.jsx("button",{onClick:Ct,disabled:!Gt||!rr,className:`flex-1 px-4 py-3 font-bold rounded-lg transition-all ${Gt&&rr?"bg-orange-500 hover:bg-orange-600 text-white shadow-lg hover:shadow-xl":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`,children:"XUT BN"})]})]})]})]}),o.jsx(axe,{isOpen:Be,onClose:()=>ut(!1),sales:re,currentBranchId:s,onPrintReceipt:Ye,onEditSale:Ft,onDeleteSale:Ot,page:P.page,totalPages:P.totalPages,total:P.total,hasMore:P.hasMore,pageSize:b,onPrevPage:z,onNextPage:()=>{var Ce,nt;if(V){const $t=(Ce=de==null?void 0:de.meta)==null?void 0:Ce.nextAfterDate,Ht=(nt=de==null?void 0:de.meta)==null?void 0:nt.nextAfterId;($t||Ht)&&X({afterDate:$t,afterId:Ht})}else q()},onPageSizeChange:Z,search:k,onSearchChange:Ce=>{N(Ce),Ce||y(1)},fromDate:D,toDate:L,onDateRangeChange:(Ce,nt)=>{M(Ce),B(nt),y(1),V&&X(null)},status:F,onStatusChange:Ce=>{H(Ce),y(1),V&&X(null)},paymentMethodFilter:O,onPaymentMethodFilterChange:Ce=>{I(Ce),y(1),V&&X(null)},keysetMode:V,onToggleKeyset:Ce=>{Y(Ce),y(1),X(null)}}),lr&&o.jsx("div",{id:"last-receipt",className:"hidden print:block",children:o.jsxs("div",{style:{width:"148mm",minHeight:"210mm",margin:"0 auto",padding:"15mm",fontFamily:"Arial, sans-serif",fontSize:"12px",backgroundColor:"white",color:"#000",boxSizing:"border-box"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",borderBottom:"2px solid #333",paddingBottom:"15px"},children:[o.jsx("img",{src:"https://raw.githubusercontent.com/Nhan-Lam-SmartCare/Motocare/main/public/logo.png",alt:"Nhn-Lm SmartCare",style:{width:"120px",height:"120px",margin:"0 auto 10px",display:"block"},onError:Ce=>{Ce.currentTarget.style.display="none"}}),o.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 8px 0",color:"#c92a2a"},children:"Nhn-Lm SmartCare"}),o.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(KJ,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"a ch: 4p Ph Li B, Ph Thun B, Hng Ng, ng Thp"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),o.jsx("span",{children:"in thoi: 0947747907"})]})]})]}),o.jsxs("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 12px",marginBottom:"20px",fontSize:"11px"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"6px"},children:" Thng tin chuyn khon:"}),o.jsxs("div",{style:{lineHeight:"1.6"},children:[o.jsxs("div",{children:[" Ngn hng: ",o.jsx("strong",{children:"NH Lin Vit (LPBank)"})]}),o.jsxs("div",{children:[" S ti khon: ",o.jsx("strong",{children:"LAMVOT"})]}),o.jsxs("div",{children:[" Ch ti khon: ",o.jsx("strong",{children:"VO THANH LAM"})]})]})]}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"15px"},children:[o.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"1px"},children:"HA N BN HNG"}),o.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["S: ",o.jsx("strong",{style:{color:"#000"},children:lr})," - Ngy:"," ",o.jsx("strong",{style:{color:"#000"},children:ln(new Date,!0)})]})]}),o.jsx("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:o.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.8"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Khch hng:"})," ",kt||"Khch l"]}),_t&&o.jsxs("div",{children:[o.jsx("strong",{children:"in thoi:"})," ",_t]})]})}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"11px"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f1f3f5",borderTop:"2px solid #333",borderBottom:"2px solid #333"},children:[o.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"8%",fontWeight:"bold"},children:"STT"}),o.jsx("th",{style:{textAlign:"left",padding:"8px 6px",width:"37%",fontWeight:"bold"},children:"Tn sn phm"}),o.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"10%",fontWeight:"bold"},children:"SL"}),o.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"20%",fontWeight:"bold"},children:"n gi"}),o.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"25%",fontWeight:"bold"},children:"Thnh tin"})]})}),o.jsx("tbody",{children:Ut.map((Ce,nt)=>o.jsx(fa.Fragment,{children:o.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef"},children:[o.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top"},children:nt+1}),o.jsxs("td",{style:{padding:"10px 6px",verticalAlign:"top"},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"3px"},children:Ce.partName}),Ce.sku&&o.jsxs("div",{style:{fontSize:"9px",color:"#868e96"},children:["SKU: ",Ce.sku]})]}),o.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top",fontWeight:"600"},children:Ce.quantity}),o.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top"},children:Oe(Ce.sellingPrice)}),o.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top",fontWeight:"600"},children:Oe(Ce.sellingPrice*Ce.quantity)})]})},Ce.partId))})]}),o.jsx("div",{style:{borderTop:"2px solid #333",paddingTop:"12px",marginBottom:"15px"},children:o.jsx("table",{style:{width:"100%",fontSize:"12px"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{style:{padding:"6px 0",textAlign:"right"},children:["Tng cng (",ge," sn phm):"]}),o.jsx("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",width:"30%",fontWeight:"600"},children:Oe(le)})]}),Lt>0&&o.jsxs("tr",{children:[o.jsx("td",{style:{padding:"6px 0",textAlign:"right",color:"#c92a2a"},children:"Gim gi:"}),o.jsxs("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",fontWeight:"600",color:"#c92a2a"},children:["-",Oe(Lt)]})]}),o.jsxs("tr",{style:{borderTop:"1px solid #dee2e6",fontSize:"14px"},children:[o.jsx("td",{style:{padding:"10px 0",textAlign:"right",fontWeight:"bold"},children:"TNG THANH TON:"}),o.jsx("td",{style:{padding:"10px 0 10px 20px",textAlign:"right",fontWeight:"bold",fontSize:"16px",color:"#2f9e44"},children:Oe(Se)})]})]})})}),o.jsxs("div",{style:{marginBottom:"20px",padding:"10px 12px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"11px"},children:[o.jsxs("div",{style:{marginBottom:"4px"},children:[o.jsx("strong",{children:"Hnh thc thanh ton:"})," ",Gt==="cash"?"Tin mt":"Chuyn khon"]}),o.jsx("div",{style:{fontStyle:"italic",color:"#495057"},children:rr==="full"?"  thanh ton ":rr==="partial"?`Thanh ton mt phn: ${Oe(Dt)}`:"Ghi n"})]}),o.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #dee2e6",paddingTop:"20px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[o.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Khch hng"}),o.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]}),o.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[o.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Ngi bn hng"}),o.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]})]})}),o.jsxs("div",{style:{textAlign:"center",marginTop:"25px",paddingTop:"15px",borderTop:"1px dashed #adb5bd",fontSize:"11px",fontStyle:"italic",color:"#495057"},children:[o.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[o.jsx("span",{style:{display:"inline-flex"},children:"*"}),"Cm n qu khch  s dng dch v",o.jsx("span",{style:{display:"inline-flex"},children:"*"})]}),o.jsx("div",{children:"Hn gp li qu khch!"})]})]})}),bt&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thm khch hng mi"}),o.jsx("button",{onClick:()=>{Me(!1),yt({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:o.jsx(Z6,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn khch hng ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:at.name,onChange:Ce=>yt({...at,name:Ce.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp tn khch hng"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["S in thoi ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",value:at.phone,onChange:Ce=>yt({...at,phone:Ce.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp s in thoi"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng xe"}),o.jsx("input",{type:"text",value:at.vehicleModel,onChange:Ce=>yt({...at,vehicleModel:Ce.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: Honda SH 2023"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s xe"}),o.jsx("input",{type:"text",value:at.licensePlate,onChange:Ce=>yt({...at,licensePlate:Ce.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: 30A-12345"})]})]}),o.jsxs("div",{className:"flex gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>{Me(!1),yt({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:"Hy"}),o.jsx("button",{onClick:Ge,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Lu"})]})]})}),hs&&ma&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Xem trc ha n"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:Qe,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition",children:[o.jsx(x1,{className:"w-4 h-4"}),"In ha n"]}),o.jsx("button",{onClick:()=>{wn(!1),bi(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-100 dark:bg-slate-900",children:o.jsx("div",{className:"bg-white shadow-lg mx-auto",style:{width:"80mm",minHeight:"100mm",color:"#000"},children:o.jsxs("div",{style:{padding:"5mm"},children:[o.jsx("div",{style:{borderBottom:"2px solid #3b82f6",paddingBottom:"2mm",marginBottom:"3mm"},children:o.jsxs("div",{style:{textAlign:"center"},children:[(Pt==null?void 0:Pt.logo_url)&&o.jsx("img",{src:Pt.logo_url,alt:"Logo",style:{height:"12mm",width:"auto",objectFit:"contain",margin:"0 auto 2mm"}}),o.jsx("div",{style:{fontWeight:"bold",fontSize:"11pt",color:"#1e40af"},children:(Pt==null?void 0:Pt.store_name)||"Nhn Lm SmartCare"}),o.jsx("div",{style:{fontSize:"8pt",color:"#000",marginTop:"1mm"},children:(Pt==null?void 0:Pt.address)&&` ${Pt.address}`}),o.jsx("div",{style:{fontSize:"8pt",color:"#000"},children:(Pt==null?void 0:Pt.phone)&&` ${Pt.phone}`})]})}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"3mm"},children:[o.jsx("h1",{style:{fontSize:"14pt",fontWeight:"bold",margin:"0",color:"#1e40af"},children:"HA N BN HNG"}),o.jsx("div",{style:{fontSize:"8pt",color:"#666",marginTop:"1mm"},children:new Date(ma.date).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{style:{fontSize:"8pt",fontWeight:"bold",marginTop:"0.5mm"},children:["M:"," ",Rp(ma.id,Pt==null?void 0:Pt.work_order_prefix)||ma.id]})]}),o.jsxs("div",{style:{border:"1px solid #ddd",padding:"2mm",marginBottom:"3mm",borderRadius:"2mm",backgroundColor:"#f8fafc",fontSize:"8.5pt"},children:[o.jsxs("div",{style:{marginBottom:"1mm"},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"KH:"})," ",ma.customer.name]}),ma.customer.phone&&o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:"bold"},children:"ST:"})," ",ma.customer.phone]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"3mm",fontSize:"8.5pt"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #ddd"},children:[o.jsx("th",{style:{textAlign:"left",padding:"1mm",fontSize:"8pt"},children:"Sn phm"}),o.jsx("th",{style:{textAlign:"center",padding:"1mm",width:"15%",fontSize:"8pt"},children:"SL"}),o.jsx("th",{style:{textAlign:"right",padding:"1mm",width:"28%",fontSize:"8pt"},children:"Thnh tin"})]})}),o.jsx("tbody",{children:ma.items.map((Ce,nt)=>{const $t=Ce.sellingPrice||Ce.sellingprice||Ce.price||0,Ht=Ce.quantity||0;return o.jsxs("tr",{style:{borderBottom:"1px dashed #ddd"},children:[o.jsx("td",{style:{padding:"1.5mm 1mm",fontSize:"8.5pt"},children:Ce.partName||Ce.partname}),o.jsx("td",{style:{textAlign:"center",padding:"1.5mm 1mm",fontSize:"8.5pt"},children:Ht}),o.jsx("td",{style:{textAlign:"right",padding:"1.5mm 1mm",fontSize:"8.5pt",fontWeight:"bold"},children:Oe($t*Ht)})]},nt)})})]}),o.jsxs("div",{style:{borderTop:"2px solid #333",paddingTop:"2mm",marginBottom:"3mm",fontSize:"9pt"},children:[ma.discount>0&&o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1mm",color:"#e74c3c"},children:[o.jsx("span",{children:"Gim gi:"}),o.jsxs("span",{children:["-",Oe(ma.discount)]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"11pt"},children:[o.jsx("span",{children:"TNG CNG:"}),o.jsxs("span",{style:{color:"#2563eb"},children:[Oe(ma.total)," "]})]})]}),(Pt==null?void 0:Pt.bank_name)&&o.jsxs("div",{style:{borderTop:"1px dashed #999",paddingTop:"2mm",marginBottom:"3mm",fontSize:"7.5pt",textAlign:"center"},children:[o.jsxs("div",{style:{fontWeight:"bold",marginBottom:"1mm"},children:["Chuyn khon: ",Pt.bank_name]}),Pt.bank_account_number&&o.jsxs("div",{children:["STK: ",Pt.bank_account_number]}),Pt.bank_account_holder&&o.jsx("div",{style:{fontSize:"7pt"},children:Pt.bank_account_holder}),Pt.bank_qr_url&&o.jsx("div",{style:{marginTop:"2mm"},children:o.jsx("img",{src:Pt.bank_qr_url,alt:"QR Banking",style:{height:"20mm",width:"20mm",objectFit:"contain",margin:"0 auto"}})})]}),o.jsxs("div",{style:{textAlign:"center",fontSize:"7.5pt",color:"#666",borderTop:"1px dashed #999",paddingTop:"2mm"},children:[o.jsx("div",{children:"Cm n qu khch!"}),o.jsx("div",{children:"Hn gp li"})]})]})})})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M2={};M2.version="0.18.5";var sq=1252,ixe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],eA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},tA=function(e){ixe.indexOf(e)!=-1&&(sq=eA[0]=e)};function sxe(){tA(1252)}var Bc=function(e){tA(e)};function rA(){Bc(1200),sxe()}function ED(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function oxe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function oq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Hx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?oxe(e.slice(2)):t==254&&r==255?oq(e.slice(2)):t==65279?e.slice(1):e},ty=function(t){return String.fromCharCode(t)},CD=function(t){return String.fromCharCode(t)},O1,lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P1(e){for(var t="",r=0,a=0,n=0,i=0,s=0,l=0,u=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),s=(r&3)<<4|a>>4,n=e.charCodeAt(d++),l=(a&15)<<2|n>>6,u=n&63,isNaN(a)?l=u=64:isNaN(n)&&(u=64),t+=lh.charAt(i)+lh.charAt(s)+lh.charAt(l)+lh.charAt(u);return t}function xl(e){var t="",r=0,a=0,n=0,i=0,s=0,l=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=lh.indexOf(e.charAt(d++)),s=lh.indexOf(e.charAt(d++)),r=i<<2|s>>4,t+=String.fromCharCode(r),l=lh.indexOf(e.charAt(d++)),a=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),u=lh.indexOf(e.charAt(d++)),n=(l&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var Gr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),o0=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function vh(e){return Gr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function OD(e){return Gr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ul=function(t){return Gr?o0(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Jw(e){if(typeof ArrayBuffer>"u")return ul(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Th(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function lxe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function aA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return aA(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ls=Gr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:o0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function cxe(e){for(var t=[],r=0,a=e.length+250,n=vh(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)n[r++]=s;else if(s<2048)n[r++]=192|s>>6&31,n[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=e.charCodeAt(++i)&1023;n[r++]=240|s>>8&7,n[r++]=128|s>>2&63,n[r++]=128|l>>6&15|(s&3)<<4,n[r++]=128|l&63}else n[r++]=224|s>>12&15,n[r++]=128|s>>6&63,n[r++]=128|s&63;r>a&&(t.push(n.slice(0,r)),r=0,n=vh(65535),a=65530)}return t.push(n.slice(0,r)),ls(t)}var mo=/\u0000/g,Wx=/[\u0001-\u0006]/g;function zp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Uc(e,t){var r=""+e;return r.length>=t?r:ri("0",t-r.length)+r}function nA(e,t){var r=""+e;return r.length>=t?r:ri(" ",t-r.length)+r}function I2(e,t){var r=""+e;return r.length>=t?r:r+ri(" ",t-r.length)}function uxe(e,t){var r=""+Math.round(e);return r.length>=t?r:ri("0",t-r.length)+r}function dxe(e,t){var r=""+e;return r.length>=t?r:ri("0",t-r.length)+r}var PD=Math.pow(2,32);function yp(e,t){if(e>PD||e<-PD)return uxe(e,t);var r=Math.round(e);return dxe(r,t)}function R2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var DD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],__=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hxe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Nr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},LD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function F2(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,s=1,l=0,u=1,d=0,h=0,m=Math.floor(n);d<t&&(m=Math.floor(n),l=m*s+i,h=m*d+u,!(n-m<5e-8));)n=1/(n-m),i=s,s=l,u=d,d=h;if(h>t&&(d>t?(h=u,l=i):(h=d,l=s)),!r)return[0,a*l,h];var x=Math.floor(a*l/h);return[x,a*l-x*h,h]}function kf(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,s=[],l={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++a,++l.D)),a===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),r&&(i=bxe(u,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=i,l}var lq=new Date(1899,11,31,0,0,0),mxe=lq.getTime(),pxe=new Date(1900,2,1,0,0,0);function cq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pxe&&(r+=1440*60*1e3),(r-(mxe+(e.getTimezoneOffset()-lq.getTimezoneOffset())*6e4))/(1440*60*1e3)}function iA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gxe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xxe(e){var t=e<0?12:11,r=iA(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vxe(e){var t=iA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function D1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=xxe(e):t===10?r=e.toFixed(10).substr(0,12):r=vxe(e),iA(gxe(r.toUpperCase()))}function rm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):D1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ec(14,cq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function bxe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function yxe(e,t,r,a){var n="",i=0,s=0,l=r.y,u,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:u=l%100,d=2;break;default:u=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:u=r.m,d=t.length;break;case 3:return __[r.m-1][1];case 5:return __[r.m-1][0];default:return __[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=r.d,d=t.length;break;case 3:return DD[r.q][0];default:return DD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Uc(r.S,t.length):(a>=2?s=a===3?1e3:100:s=a===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(n=Uc(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=r.D*24+r.H;break;case"[m]":case"[mm]":u=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":u=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:u=l,d=1;break}var h=d>0?Uc(u,d):"";return h}function ch(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var uq=/%/g;function wxe(e,t,r){var a=t.replace(uq,""),n=t.length-a.length;return Ud(e,a,r*Math.pow(10,2*n))+ri("%",n)}function kxe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ud(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function dq(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+dq(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,d,h){return u+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var hq=/# (\?+)( ?)\/( ?)(\d+)/;function _xe(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),s=n-i*a,l=a;return r+(i===0?"":""+i)+" "+(s===0?ri(" ",e[1].length+1+e[4].length):nA(s,e[1].length)+e[2]+"/"+e[3]+Uc(l,e[4].length))}function Sxe(e,t,r){return r+(t===0?"":""+t)+ri(" ",e[1].length+2+e[4].length)}var fq=/^#*0*\.([0#]+)/,mq=/\).*[0#]/,pq=/\(###\) ###\\?-####/;function oo(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function MD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ID(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Nxe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function jxe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function zl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mq)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?zl("n",a,r):"("+zl("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return kxe(e,t,r);if(t.indexOf("%")!==-1)return wxe(e,t,r);if(t.indexOf("E")!==-1)return dq(t,r);if(t.charCodeAt(0)===36)return"$"+zl(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,l,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+yp(u,t.length);if(t.match(/^[#?]+$/))return n=yp(r,0),n==="0"&&(n=""),n.length>t.length?n:oo(t.substr(0,t.length-n.length))+n;if(i=t.match(hq))return _xe(i,u,d);if(t.match(/^#+0+$/))return d+yp(u,t.length-t.indexOf("0"));if(i=t.match(fq))return n=MD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+oo(i[1])).replace(/\.$/,"."+oo(i[1])).replace(/\.(\d*)$/,function(y,b){return"."+b+ri("0",oo(i[1]).length-b.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+MD(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+ch(yp(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+zl(e,t,-r):ch(""+(Math.floor(r)+Nxe(r,i[1].length)))+"."+Uc(ID(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return zl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=zp(zl(e,t.replace(/[\\-]/g,""),r)),s=0,zp(zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(pq))return n=zl(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=F2(u,Math.pow(10,s)-1,!1),n=""+d,h=Ud("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=I2(l[2],s),h.length<i[4].length&&(h=oo(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=F2(u,Math.pow(10,s)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nA(l[1],s)+i[2]+"/"+i[3]+I2(l[2],s):ri(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=yp(r,0),t.length<=n.length?n:oo(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return oo(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=ID(r,i[1].length),r<0?"-"+zl(e,t,-r):ch(jxe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Uc(0,3-y.length):"")+y})+"."+Uc(s,i[1].length);switch(t){case"###,##0.00":return zl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=ch(yp(u,0));return p!=="0"?d+p:"";case"###,###.00":return zl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return zl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Axe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Ud(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Txe(e,t,r){var a=t.replace(uq,""),n=t.length-a.length;return Ud(e,a,r*Math.pow(10,2*n))+ri("%",n)}function gq(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gq(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,u,d,h){return u+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(mq)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vu("n",a,r):"("+vu("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Axe(e,t,r);if(t.indexOf("%")!==-1)return Txe(e,t,r);if(t.indexOf("E")!==-1)return gq(t,r);if(t.charCodeAt(0)===36)return"$"+vu(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,l,u=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Uc(u,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:oo(t.substr(0,t.length-n.length))+n;if(i=t.match(hq))return Sxe(i,u,d);if(t.match(/^#+0+$/))return d+Uc(u,t.length-t.indexOf("0"));if(i=t.match(fq))return n=(""+r).replace(/^([^\.]+)$/,"$1."+oo(i[1])).replace(/\.$/,"."+oo(i[1])),n=n.replace(/\.(\d*)$/,function(y,b){return"."+b+ri("0",oo(i[1]).length-b.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+ch(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vu(e,t,-r):ch(""+r)+"."+ri("0",i[1].length);if(i=t.match(/^#,#*,#0/))return vu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=zp(vu(e,t.replace(/[\\-]/g,""),r)),s=0,zp(zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(pq))return n=vu(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=F2(u,Math.pow(10,s)-1,!1),n=""+d,h=Ud("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=I2(l[2],s),h.length<i[4].length&&(h=oo(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=F2(u,Math.pow(10,s)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nA(l[1],s)+i[2]+"/"+i[3]+I2(l[2],s):ri(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:oo(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return oo(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vu(e,t,-r):ch(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Uc(0,3-y.length):"")+y})+"."+Uc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=ch(""+u);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return vu(e,t.slice(0,t.lastIndexOf(".")),r)+oo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ud(e,t,r){return(r|0)===r?vu(e,t,r):zl(e,t,r)}function Exe(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var xq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Fg(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":R2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(xq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Cxe(e,t,r,a){for(var n=[],i="",s=0,l="",u="t",d,h,m,x="H";s<e.length;)switch(l=e.charAt(s)){case"G":if(!R2(e,s))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),y=p==="("||p===")"?p:"t";n[n.length]={t:y,v:p},++s;break;case"_":n[n.length]={t:"t",v:" "},s+=2;break;case"@":n[n.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(d==null&&(d=kf(t,r,e.charAt(s+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(s,2)},u=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=kf(t,r),d==null))return"";for(i=l;++s<e.length&&e.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&u.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=x),n[n.length]={t:l,v:i},u=l;break;case"A":case"a":case"":var b={t:l,v:l};if(d==null&&(d=kf(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(d!=null&&(b.v=d.H>=12?"P":"A"),b.t="T",x="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(d!=null&&(b.v=d.H>=12?"PM":"AM"),b.t="T",s+=5,x="h"):e.substr(s,5).toUpperCase()==="/"?(d!=null&&(b.v=d.H>=12?"":""),b.t="T",s+=5,x="h"):(b.t="t",++s),d==null&&b.t==="T")return"";n[n.length]=b,u=l;break;case"[":for(i=l;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(xq)){if(d==null&&(d=kf(t,r),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Fg(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++s<e.length&&(l=e.charAt(s))==="0";)i+=l;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(s))>-1;)i+=l;n[n.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++s)===l;)i+=l;n[n.length]={t:l,v:i},u=l;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":n[n.length]={t:a===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:l,v:l},++s;break;case"$":n[n.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++s;break}var v=0,k=0,N;for(s=n.length-1,u="t";s>=0;--s)switch(n[s].t){case"h":case"H":n[s].t=x,u="h",v<1&&(v=1);break;case"s":(N=n[s].v.match(/\.0+$/))&&(k=Math.max(k,N[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":u=n[s].t;break;case"m":u==="s"&&(n[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&n[s].v.match(/[Hh]/)&&(v=1),v<2&&n[s].v.match(/[Mm]/)&&(v=2),v<3&&n[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",A;for(s=0;s<n.length;++s)switch(n[s].t){case"t":case"T":case" ":case"D":break;case"X":n[s].v="",n[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[s].v=yxe(n[s].t.charCodeAt(0),n[s].v,d,k),n[s].t="t";break;case"n":case"?":for(A=s+1;n[A]!=null&&((l=n[A].t)==="?"||l==="D"||(l===" "||l==="t")&&n[A+1]!=null&&(n[A+1].t==="?"||n[A+1].t==="t"&&n[A+1].v==="/")||n[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[A].v==="/"||n[A].v===" "&&n[A+1]!=null&&n[A+1].t=="?"));)n[s].v+=n[A].v,n[A]={v:"",t:";"},++A;_+=n[s].v,s=A-1;break;case"G":n[s].t="t",n[s].v=rm(t,r);break}var D="",M,L;if(_.length>0){_.charCodeAt(0)==40?(M=t<0&&_.charCodeAt(0)===45?-t:t,L=Ud("n",_,M)):(M=t<0&&a>1?-t:t,L=Ud("n",_,M),M<0&&n[0]&&n[0].t=="t"&&(L=L.substr(1),n[0].v="-"+n[0].v)),A=L.length-1;var B=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){B=s;break}var F=n.length;if(B===n.length&&L.indexOf("E")===-1){for(s=n.length-1;s>=0;--s)n[s]==null||"n?".indexOf(n[s].t)===-1||(A>=n[s].v.length-1?(A-=n[s].v.length,n[s].v=L.substr(A+1,n[s].v.length)):A<0?n[s].v="":(n[s].v=L.substr(0,A+1),A=-1),n[s].t="t",F=s);A>=0&&F<n.length&&(n[F].v=L.substr(0,A+1)+n[F].v)}else if(B!==n.length&&L.indexOf("E")===-1){for(A=L.indexOf(".")-1,s=B;s>=0;--s)if(!(n[s]==null||"n?".indexOf(n[s].t)===-1)){for(h=n[s].v.indexOf(".")>-1&&s===B?n[s].v.indexOf(".")-1:n[s].v.length-1,D=n[s].v.substr(h+1);h>=0;--h)A>=0&&(n[s].v.charAt(h)==="0"||n[s].v.charAt(h)==="#")&&(D=L.charAt(A--)+D);n[s].v=D,n[s].t="t",F=s}for(A>=0&&F<n.length&&(n[F].v=L.substr(0,A+1)+n[F].v),A=L.indexOf(".")+1,s=B;s<n.length;++s)if(!(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==B)){for(h=n[s].v.indexOf(".")>-1&&s===B?n[s].v.indexOf(".")+1:0,D=n[s].v.substr(0,h);h<n[s].v.length;++h)A<L.length&&(D+=L.charAt(A++));n[s].v=D,n[s].t="t",F=s}}}for(s=0;s<n.length;++s)n[s]!=null&&"n?".indexOf(n[s].t)>-1&&(M=a>1&&t<0&&s>0&&n[s-1].v==="-"?-t:t,n[s].v=Ud(n[s].t,n[s].v,M),n[s].t="t");var H="";for(s=0;s!==n.length;++s)n[s]!=null&&(H+=n[s].v);return H}var RD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function FD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Oxe(e,t){var r=Exe(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(RD),l=r[1].match(RD);return FD(t,s)?[a,r[0]]:FD(t,l)?[a,r[1]]:[a,r[s!=null&&l!=null?2:1]]}return[a,i]}function ec(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Nr)[e],a==null&&(a=r.table&&r.table[LD[e]]||Nr[LD[e]]),a==null&&(a=fxe[e]||"General");break}if(R2(a,0))return rm(t,r);t instanceof Date&&(t=cq(t,r.date1904));var n=Oxe(a,t);if(R2(n[1]))return rm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Cxe(n[1],t,r,n[0])}function zd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Nr[r]==null){t<0&&(t=r);continue}if(Nr[r]==e){t=r;break}}t<0&&(t=391)}return Nr[t]=e,t}function Zw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&zd(e[t],t)}function Bg(){Nr=hxe()}var Pxe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},vq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Dxe(e){var t=typeof e=="number"?Nr[e]:e;return t=t.replace(vq,"(\\d+)"),new RegExp("^"+t+"$")}function Lxe(e,t,r){var a=-1,n=-1,i=-1,s=-1,l=-1,u=-1;(t.match(vq)||[]).forEach(function(m,x){var p=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":s=p;break;case"s":u=p;break;case"m":s>=0?l=p:n=p;break}}),u>=0&&l==-1&&n>=0&&(l=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&l==-1&&u==-1?d:a==-1&&n==-1&&i==-1?h:d+"T"+h}var Mxe=(function(){var e={};e.version="1.2.0";function t(){for(var L=0,B=new Array(256),F=0;F!=256;++F)L=F,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,B[F]=L;return typeof Int32Array<"u"?new Int32Array(B):B}var r=t();function a(L){var B=0,F=0,H=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)O[H]=L[H];for(H=0;H!=256;++H)for(F=L[H],B=256+H;B<4096;B+=256)F=O[B]=F>>>8^L[F&255];var I=[];for(H=1;H!=16;++H)I[H-1]=typeof Int32Array<"u"?O.subarray(H*256,H*256+256):O.slice(H*256,H*256+256);return I}var n=a(r),i=n[0],s=n[1],l=n[2],u=n[3],d=n[4],h=n[5],m=n[6],x=n[7],p=n[8],y=n[9],b=n[10],v=n[11],k=n[12],N=n[13],_=n[14];function A(L,B){for(var F=B^-1,H=0,O=L.length;H<O;)F=F>>>8^r[(F^L.charCodeAt(H++))&255];return~F}function D(L,B){for(var F=B^-1,H=L.length-15,O=0;O<H;)F=_[L[O++]^F&255]^N[L[O++]^F>>8&255]^k[L[O++]^F>>16&255]^v[L[O++]^F>>>24]^b[L[O++]]^y[L[O++]]^p[L[O++]]^x[L[O++]]^m[L[O++]]^h[L[O++]]^d[L[O++]]^u[L[O++]]^l[L[O++]]^s[L[O++]]^i[L[O++]]^r[L[O++]];for(H+=15;O<H;)F=F>>>8^r[(F^L[O++])&255];return~F}function M(L,B){for(var F=B^-1,H=0,O=L.length,I=0,V=0;H<O;)I=L.charCodeAt(H++),I<128?F=F>>>8^r[(F^I)&255]:I<2048?(F=F>>>8^r[(F^(192|I>>6&31))&255],F=F>>>8^r[(F^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,V=L.charCodeAt(H++)&1023,F=F>>>8^r[(F^(240|I>>8&7))&255],F=F>>>8^r[(F^(128|I>>2&63))&255],F=F>>>8^r[(F^(128|V>>6&15|(I&3)<<4))&255],F=F>>>8^r[(F^(128|V&63))&255]):(F=F>>>8^r[(F^(224|I>>12&15))&255],F=F>>>8^r[(F^(128|I>>6&63))&255],F=F>>>8^r[(F^(128|I&63))&255]);return~F}return e.table=r,e.bstr=A,e.buf=D,e.str=M,e})(),br=(function(){var t={};t.version="1.2.1";function r(le,Se){for(var ge=le.split("/"),xe=Se.split("/"),be=0,_e=0,Ve=Math.min(ge.length,xe.length);be<Ve;++be){if(_e=ge[be].length-xe[be].length)return _e;if(ge[be]!=xe[be])return ge[be]<xe[be]?-1:1}return ge.length-xe.length}function a(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:a(le.slice(0,-1));var Se=le.lastIndexOf("/");return Se===-1?le:le.slice(0,Se+1)}function n(le){if(le.charAt(le.length-1)=="/")return n(le.slice(0,-1));var Se=le.lastIndexOf("/");return Se===-1?le:le.slice(Se+1)}function i(le,Se){typeof Se=="string"&&(Se=new Date(Se));var ge=Se.getHours();ge=ge<<6|Se.getMinutes(),ge=ge<<5|Se.getSeconds()>>>1,le.write_shift(2,ge);var xe=Se.getFullYear()-1980;xe=xe<<4|Se.getMonth()+1,xe=xe<<5|Se.getDate(),le.write_shift(2,xe)}function s(le){var Se=le.read_shift(2)&65535,ge=le.read_shift(2)&65535,xe=new Date,be=ge&31;ge>>>=5;var _e=ge&15;ge>>>=4,xe.setMilliseconds(0),xe.setFullYear(ge+1980),xe.setMonth(_e-1),xe.setDate(be);var Ve=Se&31;Se>>>=5;var it=Se&63;return Se>>>=6,xe.setHours(Se),xe.setMinutes(it),xe.setSeconds(Ve<<1),xe}function l(le){Ss(le,0);for(var Se={},ge=0;le.l<=le.length-4;){var xe=le.read_shift(2),be=le.read_shift(2),_e=le.l+be,Ve={};switch(xe){case 21589:ge=le.read_shift(1),ge&1&&(Ve.mtime=le.read_shift(4)),be>5&&(ge&2&&(Ve.atime=le.read_shift(4)),ge&4&&(Ve.ctime=le.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}le.l=_e,Se[xe]=Ve}return Se}var u;function d(){return u||(u={})}function h(le,Se){if(le[0]==80&&le[1]==75)return Yr(le,Se);if((le[0]|32)==109&&(le[1]|32)==105)return Pt(le,Se);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ge=3,xe=512,be=0,_e=0,Ve=0,it=0,Ge=0,Ye=[],Qe=le.slice(0,512);Ss(Qe,0);var xt=m(Qe);switch(ge=xt[0],ge){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(xt[1]==0)return Yr(le,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}xe!==512&&(Qe=le.slice(0,xe),Ss(Qe,28));var Ot=le.slice(0,xe);x(Qe,ge);var Ft=Qe.read_shift(4,"i");if(ge===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);Qe.l+=4,Ve=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),it=Qe.read_shift(4,"i"),be=Qe.read_shift(4,"i"),Ge=Qe.read_shift(4,"i"),_e=Qe.read_shift(4,"i");for(var Ct=-1,Ce=0;Ce<109&&(Ct=Qe.read_shift(4,"i"),!(Ct<0));++Ce)Ye[Ce]=Ct;var nt=p(le,xe);v(Ge,_e,nt,xe,Ye);var $t=N(nt,Ve,Ye,xe);$t[Ve].name="!Directory",be>0&&it!==V&&($t[it].name="!MiniFAT"),$t[Ye[0]].name="!FAT",$t.fat_addrs=Ye,$t.ssz=xe;var Ht={},zr=[],Qa=[],cn=[];_(Ve,$t,nt,zr,be,Ht,Qa,it),y(Qa,cn,zr),zr.shift();var nn={FileIndex:Qa,FullPaths:cn};return Se&&Se.raw&&(nn.raw={header:Ot,sectors:nt}),nn}function m(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(Y,"Header Signature: "),le.l+=16;var Se=le.read_shift(2,"u");return[le.read_shift(2,"u"),Se]}function x(le,Se){var ge=9;switch(le.l+=2,ge=le.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function p(le,Se){for(var ge=Math.ceil(le.length/Se)-1,xe=[],be=1;be<ge;++be)xe[be-1]=le.slice(be*Se,(be+1)*Se);return xe[ge-1]=le.slice(ge*Se),xe}function y(le,Se,ge){for(var xe=0,be=0,_e=0,Ve=0,it=0,Ge=ge.length,Ye=[],Qe=[];xe<Ge;++xe)Ye[xe]=Qe[xe]=xe,Se[xe]=ge[xe];for(;it<Qe.length;++it)xe=Qe[it],be=le[xe].L,_e=le[xe].R,Ve=le[xe].C,Ye[xe]===xe&&(be!==-1&&Ye[be]!==be&&(Ye[xe]=Ye[be]),_e!==-1&&Ye[_e]!==_e&&(Ye[xe]=Ye[_e])),Ve!==-1&&(Ye[Ve]=xe),be!==-1&&xe!=Ye[xe]&&(Ye[be]=Ye[xe],Qe.lastIndexOf(be)<it&&Qe.push(be)),_e!==-1&&xe!=Ye[xe]&&(Ye[_e]=Ye[xe],Qe.lastIndexOf(_e)<it&&Qe.push(_e));for(xe=1;xe<Ge;++xe)Ye[xe]===xe&&(_e!==-1&&Ye[_e]!==_e?Ye[xe]=Ye[_e]:be!==-1&&Ye[be]!==be&&(Ye[xe]=Ye[be]));for(xe=1;xe<Ge;++xe)if(le[xe].type!==0){if(it=xe,it!=Ye[it])do it=Ye[it],Se[xe]=Se[it]+"/"+Se[xe];while(it!==0&&Ye[it]!==-1&&it!=Ye[it]);Ye[xe]=-1}for(Se[0]+="/",xe=1;xe<Ge;++xe)le[xe].type!==2&&(Se[xe]+="/")}function b(le,Se,ge){for(var xe=le.start,be=le.size,_e=[],Ve=xe;ge&&be>0&&Ve>=0;)_e.push(Se.slice(Ve*I,Ve*I+I)),be-=I,Ve=mf(ge,Ve*4);return _e.length===0?dt(0):ls(_e).slice(0,le.size)}function v(le,Se,ge,xe,be){var _e=V;if(le===V){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ve=ge[le],it=(xe>>>2)-1;if(!Ve)return;for(var Ge=0;Ge<it&&(_e=mf(Ve,Ge*4))!==V;++Ge)be.push(_e);v(mf(Ve,xe-4),Se-1,ge,xe,be)}}function k(le,Se,ge,xe,be){var _e=[],Ve=[];be||(be=[]);var it=xe-1,Ge=0,Ye=0;for(Ge=Se;Ge>=0;){be[Ge]=!0,_e[_e.length]=Ge,Ve.push(le[Ge]);var Qe=ge[Math.floor(Ge*4/xe)];if(Ye=Ge*4&it,xe<4+Ye)throw new Error("FAT boundary crossed: "+Ge+" 4 "+xe);if(!le[Qe])break;Ge=mf(le[Qe],Ye)}return{nodes:_e,data:XD([Ve])}}function N(le,Se,ge,xe){var be=le.length,_e=[],Ve=[],it=[],Ge=[],Ye=xe-1,Qe=0,xt=0,Ot=0,Ft=0;for(Qe=0;Qe<be;++Qe)if(it=[],Ot=Qe+Se,Ot>=be&&(Ot-=be),!Ve[Ot]){Ge=[];var Ct=[];for(xt=Ot;xt>=0;){Ct[xt]=!0,Ve[xt]=!0,it[it.length]=xt,Ge.push(le[xt]);var Ce=ge[Math.floor(xt*4/xe)];if(Ft=xt*4&Ye,xe<4+Ft)throw new Error("FAT boundary crossed: "+xt+" 4 "+xe);if(!le[Ce]||(xt=mf(le[Ce],Ft),Ct[xt]))break}_e[Ot]={nodes:it,data:XD([Ge])}}return _e}function _(le,Se,ge,xe,be,_e,Ve,it){for(var Ge=0,Ye=xe.length?2:0,Qe=Se[le].data,xt=0,Ot=0,Ft;xt<Qe.length;xt+=128){var Ct=Qe.slice(xt,xt+128);Ss(Ct,64),Ot=Ct.read_shift(2),Ft=hA(Ct,0,Ot-Ye),xe.push(Ft);var Ce={name:Ft,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},nt=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);nt!==0&&(Ce.ct=A(Ct,Ct.l-8));var $t=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);$t!==0&&(Ce.mt=A(Ct,Ct.l-8)),Ce.start=Ct.read_shift(4,"i"),Ce.size=Ct.read_shift(4,"i"),Ce.size<0&&Ce.start<0&&(Ce.size=Ce.type=0,Ce.start=V,Ce.name=""),Ce.type===5?(Ge=Ce.start,be>0&&Ge!==V&&(Se[Ge].name="!StreamData")):Ce.size>=4096?(Ce.storage="fat",Se[Ce.start]===void 0&&(Se[Ce.start]=k(ge,Ce.start,Se.fat_addrs,Se.ssz)),Se[Ce.start].name=Ce.name,Ce.content=Se[Ce.start].data.slice(0,Ce.size)):(Ce.storage="minifat",Ce.size<0?Ce.size=0:Ge!==V&&Ce.start!==V&&Se[Ge]&&(Ce.content=b(Ce,Se[Ge].data,(Se[it]||{}).data))),Ce.content&&Ss(Ce.content,0),_e[Ft]=Ce,Ve.push(Ce)}}function A(le,Se){return new Date((sl(le,Se+4)/1e7*Math.pow(2,32)+sl(le,Se)/1e7-11644473600)*1e3)}function D(le,Se){return d(),h(u.readFileSync(le),Se)}function M(le,Se){var ge=Se&&Se.type;switch(ge||Gr&&Buffer.isBuffer(le)&&(ge="buffer"),ge||"base64"){case"file":return D(le,Se);case"base64":return h(ul(xl(le)),Se);case"binary":return h(ul(le),Se)}return h(le,Se)}function L(le,Se){var ge=Se||{},xe=ge.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=xe+"/",le.FileIndex[0]={name:xe,type:5}),ge.CLSID&&(le.FileIndex[0].clsid=ge.CLSID),B(le)}function B(le){var Se="Sh33tJ5";if(!br.find(le,"/"+Se)){var ge=dt(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,le.FileIndex.push({name:Se,type:2,content:ge,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+Se),F(le)}}function F(le,Se){L(le);for(var ge=!1,xe=!1,be=le.FullPaths.length-1;be>=0;--be){var _e=le.FileIndex[be];switch(_e.type){case 0:xe?ge=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(_e.R*_e.L*_e.C)&&(ge=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!Se)){var Ve=new Date(1987,1,19),it=0,Ge=Object.create?Object.create(null):{},Ye=[];for(be=0;be<le.FullPaths.length;++be)Ge[le.FullPaths[be]]=!0,le.FileIndex[be].type!==0&&Ye.push([le.FullPaths[be],le.FileIndex[be]]);for(be=0;be<Ye.length;++be){var Qe=a(Ye[be][0]);xe=Ge[Qe],xe||(Ye.push([Qe,{name:n(Qe).replace("/",""),type:1,clsid:X,ct:Ve,mt:Ve,content:null}]),Ge[Qe]=!0)}for(Ye.sort(function(Ft,Ct){return r(Ft[0],Ct[0])}),le.FullPaths=[],le.FileIndex=[],be=0;be<Ye.length;++be)le.FullPaths[be]=Ye[be][0],le.FileIndex[be]=Ye[be][1];for(be=0;be<Ye.length;++be){var xt=le.FileIndex[be],Ot=le.FullPaths[be];if(xt.name=n(Ot).replace("/",""),xt.L=xt.R=xt.C=-(xt.color=1),xt.size=xt.content?xt.content.length:0,xt.start=0,xt.clsid=xt.clsid||X,be===0)xt.C=Ye.length>1?1:-1,xt.size=0,xt.type=5;else if(Ot.slice(-1)=="/"){for(it=be+1;it<Ye.length&&a(le.FullPaths[it])!=Ot;++it);for(xt.C=it>=Ye.length?-1:it,it=be+1;it<Ye.length&&a(le.FullPaths[it])!=a(Ot);++it);xt.R=it>=Ye.length?-1:it,xt.type=1}else a(le.FullPaths[be+1]||"")==a(Ot)&&(xt.R=be+1),xt.type=2}}}function H(le,Se){var ge=Se||{};if(ge.fileType=="mad")return Gs(le,ge);switch(F(le),ge.fileType){case"zip":return cr(le,ge)}var xe=(function(Ft){for(var Ct=0,Ce=0,nt=0;nt<Ft.FileIndex.length;++nt){var $t=Ft.FileIndex[nt];if($t.content){var Ht=$t.content.length;Ht>0&&(Ht<4096?Ct+=Ht+63>>6:Ce+=Ht+511>>9)}}for(var zr=Ft.FullPaths.length+3>>2,Qa=Ct+7>>3,cn=Ct+127>>7,nn=Qa+Ce+zr+cn,Ea=nn+127>>7,qo=Ea<=109?0:Math.ceil((Ea-109)/127);nn+Ea+qo+127>>7>Ea;)qo=++Ea<=109?0:Math.ceil((Ea-109)/127);var Mn=[1,qo,Ea,cn,zr,Ce,Ct,0];return Ft.FileIndex[0].size=Ct<<6,Mn[7]=(Ft.FileIndex[0].start=Mn[0]+Mn[1]+Mn[2]+Mn[3]+Mn[4]+Mn[5])+(Mn[6]+7>>3),Mn})(le),be=dt(xe[7]<<9),_e=0,Ve=0;{for(_e=0;_e<8;++_e)be.write_shift(1,te[_e]);for(_e=0;_e<8;++_e)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),_e=0;_e<3;++_e)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,xe[2]),be.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:V),be.write_shift(4,xe[3]),be.write_shift(-4,xe[1]?xe[0]-1:V),be.write_shift(4,xe[1]),_e=0;_e<109;++_e)be.write_shift(-4,_e<xe[2]?xe[1]+_e:-1)}if(xe[1])for(Ve=0;Ve<xe[1];++Ve){for(;_e<236+Ve*127;++_e)be.write_shift(-4,_e<xe[2]?xe[1]+_e:-1);be.write_shift(-4,Ve===xe[1]-1?V:Ve+1)}var it=function(Ft){for(Ve+=Ft;_e<Ve-1;++_e)be.write_shift(-4,_e+1);Ft&&(++_e,be.write_shift(-4,V))};for(Ve=_e=0,Ve+=xe[1];_e<Ve;++_e)be.write_shift(-4,ae.DIFSECT);for(Ve+=xe[2];_e<Ve;++_e)be.write_shift(-4,ae.FATSECT);it(xe[3]),it(xe[4]);for(var Ge=0,Ye=0,Qe=le.FileIndex[0];Ge<le.FileIndex.length;++Ge)Qe=le.FileIndex[Ge],Qe.content&&(Ye=Qe.content.length,!(Ye<4096)&&(Qe.start=Ve,it(Ye+511>>9)));for(it(xe[6]+7>>3);be.l&511;)be.write_shift(-4,ae.ENDOFCHAIN);for(Ve=_e=0,Ge=0;Ge<le.FileIndex.length;++Ge)Qe=le.FileIndex[Ge],Qe.content&&(Ye=Qe.content.length,!(!Ye||Ye>=4096)&&(Qe.start=Ve,it(Ye+63>>6)));for(;be.l&511;)be.write_shift(-4,ae.ENDOFCHAIN);for(_e=0;_e<xe[4]<<2;++_e){var xt=le.FullPaths[_e];if(!xt||xt.length===0){for(Ge=0;Ge<17;++Ge)be.write_shift(4,0);for(Ge=0;Ge<3;++Ge)be.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)be.write_shift(4,0);continue}Qe=le.FileIndex[_e],_e===0&&(Qe.start=Qe.size?Qe.start-1:V);var Ot=_e===0&&ge.root||Qe.name;if(Ye=2*(Ot.length+1),be.write_shift(64,Ot,"utf16le"),be.write_shift(2,Ye),be.write_shift(1,Qe.type),be.write_shift(1,Qe.color),be.write_shift(-4,Qe.L),be.write_shift(-4,Qe.R),be.write_shift(-4,Qe.C),Qe.clsid)be.write_shift(16,Qe.clsid,"hex");else for(Ge=0;Ge<4;++Ge)be.write_shift(4,0);be.write_shift(4,Qe.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Qe.start),be.write_shift(4,Qe.size),be.write_shift(4,0)}for(_e=1;_e<le.FileIndex.length;++_e)if(Qe=le.FileIndex[_e],Qe.size>=4096)if(be.l=Qe.start+1<<9,Gr&&Buffer.isBuffer(Qe.content))Qe.content.copy(be,be.l,0,Qe.size),be.l+=Qe.size+511&-512;else{for(Ge=0;Ge<Qe.size;++Ge)be.write_shift(1,Qe.content[Ge]);for(;Ge&511;++Ge)be.write_shift(1,0)}for(_e=1;_e<le.FileIndex.length;++_e)if(Qe=le.FileIndex[_e],Qe.size>0&&Qe.size<4096)if(Gr&&Buffer.isBuffer(Qe.content))Qe.content.copy(be,be.l,0,Qe.size),be.l+=Qe.size+63&-64;else{for(Ge=0;Ge<Qe.size;++Ge)be.write_shift(1,Qe.content[Ge]);for(;Ge&63;++Ge)be.write_shift(1,0)}if(Gr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function O(le,Se){var ge=le.FullPaths.map(function(Ge){return Ge.toUpperCase()}),xe=ge.map(function(Ge){var Ye=Ge.split("/");return Ye[Ye.length-(Ge.slice(-1)=="/"?2:1)]}),be=!1;Se.charCodeAt(0)===47?(be=!0,Se=ge[0].slice(0,-1)+Se):be=Se.indexOf("/")!==-1;var _e=Se.toUpperCase(),Ve=be===!0?ge.indexOf(_e):xe.indexOf(_e);if(Ve!==-1)return le.FileIndex[Ve];var it=!_e.match(Wx);for(_e=_e.replace(mo,""),it&&(_e=_e.replace(Wx,"!")),Ve=0;Ve<ge.length;++Ve)if((it?ge[Ve].replace(Wx,"!"):ge[Ve]).replace(mo,"")==_e||(it?xe[Ve].replace(Wx,"!"):xe[Ve]).replace(mo,"")==_e)return le.FileIndex[Ve];return null}var I=64,V=-2,Y="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(le,Se,ge){d();var xe=H(le,ge);u.writeFileSync(Se,xe)}function oe(le){for(var Se=new Array(le.length),ge=0;ge<le.length;++ge)Se[ge]=String.fromCharCode(le[ge]);return Se.join("")}function De(le,Se){var ge=H(le,Se);switch(Se&&Se.type||"buffer"){case"file":return d(),u.writeFileSync(Se.filename,ge),ge;case"binary":return typeof ge=="string"?ge:oe(ge);case"base64":return P1(typeof ge=="string"?ge:oe(ge));case"buffer":if(Gr)return Buffer.isBuffer(ge)?ge:o0(ge);case"array":return typeof ge=="string"?ul(ge):ge}return ge}var re;function P(le){try{var Se=le.InflateRaw,ge=new Se;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)re=le;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function W(le,Se){if(!re)return Ar(le,Se);var ge=re.InflateRaw,xe=new ge,be=xe._processChunk(le.slice(le.l),xe._finishFlushFlag);return le.l+=xe.bytesRead,be}function z(le){return re?re.deflateRawSync(le):ht(le)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(le){var Se=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var Q=typeof Uint8Array<"u",me=Q?new Uint8Array(256):[],Ae=0;Ae<256;++Ae)me[Ae]=ee(Ae);function J(le,Se){var ge=me[le&255];return Se<=8?ge>>>8-Se:(ge=ge<<8|me[le>>8&255],Se<=16?ge>>>16-Se:(ge=ge<<8|me[le>>16&255],ge>>>24-Se))}function ke(le,Se){var ge=Se&7,xe=Se>>>3;return(le[xe]|(ge<=6?0:le[xe+1]<<8))>>>ge&3}function ye(le,Se){var ge=Se&7,xe=Se>>>3;return(le[xe]|(ge<=5?0:le[xe+1]<<8))>>>ge&7}function ce(le,Se){var ge=Se&7,xe=Se>>>3;return(le[xe]|(ge<=4?0:le[xe+1]<<8))>>>ge&15}function qe(le,Se){var ge=Se&7,xe=Se>>>3;return(le[xe]|(ge<=3?0:le[xe+1]<<8))>>>ge&31}function ze(le,Se){var ge=Se&7,xe=Se>>>3;return(le[xe]|(ge<=1?0:le[xe+1]<<8))>>>ge&127}function mt(le,Se,ge){var xe=Se&7,be=Se>>>3,_e=(1<<ge)-1,Ve=le[be]>>>xe;return ge<8-xe||(Ve|=le[be+1]<<8-xe,ge<16-xe)||(Ve|=le[be+2]<<16-xe,ge<24-xe)||(Ve|=le[be+3]<<24-xe),Ve&_e}function Te(le,Se,ge){var xe=Se&7,be=Se>>>3;return xe<=5?le[be]|=(ge&7)<<xe:(le[be]|=ge<<xe&255,le[be+1]=(ge&7)>>8-xe),Se+3}function Ee(le,Se,ge){var xe=Se&7,be=Se>>>3;return ge=(ge&1)<<xe,le[be]|=ge,Se+1}function Be(le,Se,ge){var xe=Se&7,be=Se>>>3;return ge<<=xe,le[be]|=ge&255,ge>>>=8,le[be+1]=ge,Se+8}function ut(le,Se,ge){var xe=Se&7,be=Se>>>3;return ge<<=xe,le[be]|=ge&255,ge>>>=8,le[be+1]=ge&255,le[be+2]=ge>>>8,Se+16}function bt(le,Se){var ge=le.length,xe=2*ge>Se?2*ge:Se+5,be=0;if(ge>=Se)return le;if(Gr){var _e=OD(xe);if(le.copy)le.copy(_e);else for(;be<le.length;++be)_e[be]=le[be];return _e}else if(Q){var Ve=new Uint8Array(xe);if(Ve.set)Ve.set(le);else for(;be<ge;++be)Ve[be]=le[be];return Ve}return le.length=xe,le}function Me(le){for(var Se=new Array(le),ge=0;ge<le;++ge)Se[ge]=0;return Se}function at(le,Se,ge){var xe=1,be=0,_e=0,Ve=0,it=0,Ge=le.length,Ye=Q?new Uint16Array(32):Me(32);for(_e=0;_e<32;++_e)Ye[_e]=0;for(_e=Ge;_e<ge;++_e)le[_e]=0;Ge=le.length;var Qe=Q?new Uint16Array(Ge):Me(Ge);for(_e=0;_e<Ge;++_e)Ye[be=le[_e]]++,xe<be&&(xe=be),Qe[_e]=0;for(Ye[0]=0,_e=1;_e<=xe;++_e)Ye[_e+16]=it=it+Ye[_e-1]<<1;for(_e=0;_e<Ge;++_e)it=le[_e],it!=0&&(Qe[_e]=Ye[it+16]++);var xt=0;for(_e=0;_e<Ge;++_e)if(xt=le[_e],xt!=0)for(it=J(Qe[_e],xe)>>xe-xt,Ve=(1<<xe+4-xt)-1;Ve>=0;--Ve)Se[it|Ve<<xt]=xt&15|_e<<4;return xe}var yt=Q?new Uint16Array(512):Me(512),lr=Q?new Uint16Array(32):Me(32);if(!Q){for(var Rt=0;Rt<512;++Rt)yt[Rt]=0;for(Rt=0;Rt<32;++Rt)lr[Rt]=0}(function(){for(var le=[],Se=0;Se<32;Se++)le.push(5);at(le,lr,32);var ge=[];for(Se=0;Se<=143;Se++)ge.push(8);for(;Se<=255;Se++)ge.push(9);for(;Se<=279;Se++)ge.push(7);for(;Se<=287;Se++)ge.push(8);at(ge,yt,288)})();var kt=(function(){for(var Se=Q?new Uint8Array(32768):[],ge=0,xe=0;ge<se.length-1;++ge)for(;xe<se[ge+1];++xe)Se[xe]=ge;for(;xe<32768;++xe)Se[xe]=29;var be=Q?new Uint8Array(259):[];for(ge=0,xe=0;ge<Z.length-1;++ge)for(;xe<Z[ge+1];++xe)be[xe]=ge;function _e(it,Ge){for(var Ye=0;Ye<it.length;){var Qe=Math.min(65535,it.length-Ye),xt=Ye+Qe==it.length;for(Ge.write_shift(1,+xt),Ge.write_shift(2,Qe),Ge.write_shift(2,~Qe&65535);Qe-- >0;)Ge[Ge.l++]=it[Ye++]}return Ge.l}function Ve(it,Ge){for(var Ye=0,Qe=0,xt=Q?new Uint16Array(32768):[];Qe<it.length;){var Ot=Math.min(65535,it.length-Qe);if(Ot<10){for(Ye=Te(Ge,Ye,+(Qe+Ot==it.length)),Ye&7&&(Ye+=8-(Ye&7)),Ge.l=Ye/8|0,Ge.write_shift(2,Ot),Ge.write_shift(2,~Ot&65535);Ot-- >0;)Ge[Ge.l++]=it[Qe++];Ye=Ge.l*8;continue}Ye=Te(Ge,Ye,+(Qe+Ot==it.length)+2);for(var Ft=0;Ot-- >0;){var Ct=it[Qe];Ft=(Ft<<5^Ct)&32767;var Ce=-1,nt=0;if((Ce=xt[Ft])&&(Ce|=Qe&-32768,Ce>Qe&&(Ce-=32768),Ce<Qe))for(;it[Ce+nt]==it[Qe+nt]&&nt<250;)++nt;if(nt>2){Ct=be[nt],Ct<=22?Ye=Be(Ge,Ye,me[Ct+1]>>1)-1:(Be(Ge,Ye,3),Ye+=5,Be(Ge,Ye,me[Ct-23]>>5),Ye+=3);var $t=Ct<8?0:Ct-4>>2;$t>0&&(ut(Ge,Ye,nt-Z[Ct]),Ye+=$t),Ct=Se[Qe-Ce],Ye=Be(Ge,Ye,me[Ct]>>3),Ye-=3;var Ht=Ct<4?0:Ct-2>>1;Ht>0&&(ut(Ge,Ye,Qe-Ce-se[Ct]),Ye+=Ht);for(var zr=0;zr<nt;++zr)xt[Ft]=Qe&32767,Ft=(Ft<<5^it[Qe])&32767,++Qe;Ot-=nt-1}else Ct<=143?Ct=Ct+48:Ye=Ee(Ge,Ye,1),Ye=Be(Ge,Ye,me[Ct]),xt[Ft]=Qe&32767,++Qe}Ye=Be(Ge,Ye,0)-1}return Ge.l=(Ye+7)/8|0,Ge.l}return function(Ge,Ye){return Ge.length<8?_e(Ge,Ye):Ve(Ge,Ye)}})();function ht(le){var Se=dt(50+Math.floor(le.length*1.1)),ge=kt(le,Se);return Se.slice(0,ge)}var _t=Q?new Uint16Array(32768):Me(32768),hr=Q?new Uint16Array(32768):Me(32768),Ut=Q?new Uint16Array(128):Me(128),At=1,Lt=1;function _r(le,Se){var ge=qe(le,Se)+257;Se+=5;var xe=qe(le,Se)+1;Se+=5;var be=ce(le,Se)+4;Se+=4;for(var _e=0,Ve=Q?new Uint8Array(19):Me(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Ye=Q?new Uint8Array(8):Me(8),Qe=Q?new Uint8Array(8):Me(8),xt=Ve.length,Ot=0;Ot<be;++Ot)Ve[q[Ot]]=_e=ye(le,Se),Ge<_e&&(Ge=_e),Ye[_e]++,Se+=3;var Ft=0;for(Ye[0]=0,Ot=1;Ot<=Ge;++Ot)Qe[Ot]=Ft=Ft+Ye[Ot-1]<<1;for(Ot=0;Ot<xt;++Ot)(Ft=Ve[Ot])!=0&&(it[Ot]=Qe[Ft]++);var Ct=0;for(Ot=0;Ot<xt;++Ot)if(Ct=Ve[Ot],Ct!=0){Ft=me[it[Ot]]>>8-Ct;for(var Ce=(1<<7-Ct)-1;Ce>=0;--Ce)Ut[Ft|Ce<<Ct]=Ct&7|Ot<<3}var nt=[];for(Ge=1;nt.length<ge+xe;)switch(Ft=Ut[ze(le,Se)],Se+=Ft&7,Ft>>>=3){case 16:for(_e=3+ke(le,Se),Se+=2,Ft=nt[nt.length-1];_e-- >0;)nt.push(Ft);break;case 17:for(_e=3+ye(le,Se),Se+=3;_e-- >0;)nt.push(0);break;case 18:for(_e=11+ze(le,Se),Se+=7;_e-- >0;)nt.push(0);break;default:nt.push(Ft),Ge<Ft&&(Ge=Ft);break}var $t=nt.slice(0,ge),Ht=nt.slice(ge);for(Ot=ge;Ot<286;++Ot)$t[Ot]=0;for(Ot=xe;Ot<30;++Ot)Ht[Ot]=0;return At=at($t,_t,286),Lt=at(Ht,hr,30),Se}function Gt(le,Se){if(le[0]==3&&!(le[1]&3))return[vh(Se),2];for(var ge=0,xe=0,be=OD(Se||1<<18),_e=0,Ve=be.length>>>0,it=0,Ge=0;(xe&1)==0;){if(xe=ye(le,ge),ge+=3,xe>>>1)xe>>1==1?(it=9,Ge=5):(ge=_r(le,ge),it=At,Ge=Lt);else{ge&7&&(ge+=8-(ge&7));var Ye=le[ge>>>3]|le[(ge>>>3)+1]<<8;if(ge+=32,Ye>0)for(!Se&&Ve<_e+Ye&&(be=bt(be,_e+Ye),Ve=be.length);Ye-- >0;)be[_e++]=le[ge>>>3],ge+=8;continue}for(;;){!Se&&Ve<_e+32767&&(be=bt(be,_e+32767),Ve=be.length);var Qe=mt(le,ge,it),xt=xe>>>1==1?yt[Qe]:_t[Qe];if(ge+=xt&15,xt>>>=4,(xt>>>8&255)===0)be[_e++]=xt;else{if(xt==256)break;xt-=257;var Ot=xt<8?0:xt-4>>2;Ot>5&&(Ot=0);var Ft=_e+Z[xt];Ot>0&&(Ft+=mt(le,ge,Ot),ge+=Ot),Qe=mt(le,ge,Ge),xt=xe>>>1==1?lr[Qe]:hr[Qe],ge+=xt&15,xt>>>=4;var Ct=xt<4?0:xt-2>>1,Ce=se[xt];for(Ct>0&&(Ce+=mt(le,ge,Ct),ge+=Ct),!Se&&Ve<Ft&&(be=bt(be,Ft+100),Ve=be.length);_e<Ft;)be[_e]=be[_e-Ce],++_e}}}return Se?[be,ge+7>>>3]:[be.slice(0,_e),ge+7>>>3]}function Ar(le,Se){var ge=le.slice(le.l||0),xe=Gt(ge,Se);return le.l+=xe[1],xe[0]}function rr(le,Se){if(le)typeof console<"u"&&console.error(Se);else throw new Error(Se)}function Yr(le,Se){var ge=le;Ss(ge,0);var xe=[],be=[],_e={FileIndex:xe,FullPaths:be};L(_e,{root:Se.root});for(var Ve=ge.length-4;(ge[Ve]!=80||ge[Ve+1]!=75||ge[Ve+2]!=5||ge[Ve+3]!=6)&&Ve>=0;)--Ve;ge.l=Ve+4,ge.l+=4;var it=ge.read_shift(2);ge.l+=6;var Ge=ge.read_shift(4);for(ge.l=Ge,Ve=0;Ve<it;++Ve){ge.l+=20;var Ye=ge.read_shift(4),Qe=ge.read_shift(4),xt=ge.read_shift(2),Ot=ge.read_shift(2),Ft=ge.read_shift(2);ge.l+=8;var Ct=ge.read_shift(4),Ce=l(ge.slice(ge.l+xt,ge.l+xt+Ot));ge.l+=xt+Ot+Ft;var nt=ge.l;ge.l=Ct+4,Dt(ge,Ye,Qe,_e,Ce),ge.l=nt}return _e}function Dt(le,Se,ge,xe,be){le.l+=2;var _e=le.read_shift(2),Ve=le.read_shift(2),it=s(le);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=le.read_shift(4),Ye=le.read_shift(4),Qe=le.read_shift(4),xt=le.read_shift(2),Ot=le.read_shift(2),Ft="",Ct=0;Ct<xt;++Ct)Ft+=String.fromCharCode(le[le.l++]);if(Ot){var Ce=l(le.slice(le.l,le.l+Ot));(Ce[21589]||{}).mt&&(it=Ce[21589].mt),((be||{})[21589]||{}).mt&&(it=be[21589].mt)}le.l+=Ot;var nt=le.slice(le.l,le.l+Ye);switch(Ve){case 8:nt=W(le,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var $t=!1;_e&8&&(Ge=le.read_shift(4),Ge==134695760&&(Ge=le.read_shift(4),$t=!0),Ye=le.read_shift(4),Qe=le.read_shift(4)),Ye!=Se&&rr($t,"Bad compressed size: "+Se+" != "+Ye),Qe!=ge&&rr($t,"Bad uncompressed size: "+ge+" != "+Qe),Ln(xe,Ft,nt,{unsafe:!0,mt:it})}function cr(le,Se){var ge=Se||{},xe=[],be=[],_e=dt(1),Ve=ge.compression?8:0,it=0,Ge=0,Ye=0,Qe=0,xt=0,Ot=le.FullPaths[0],Ft=Ot,Ct=le.FileIndex[0],Ce=[],nt=0;for(Ge=1;Ge<le.FullPaths.length;++Ge)if(Ft=le.FullPaths[Ge].slice(Ot.length),Ct=le.FileIndex[Ge],!(!Ct.size||!Ct.content||Ft=="Sh33tJ5")){var $t=Qe,Ht=dt(Ft.length);for(Ye=0;Ye<Ft.length;++Ye)Ht.write_shift(1,Ft.charCodeAt(Ye)&127);Ht=Ht.slice(0,Ht.l),Ce[xt]=Mxe.buf(Ct.content,0);var zr=Ct.content;Ve==8&&(zr=z(zr)),_e=dt(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,it),_e.write_shift(2,Ve),Ct.mt?i(_e,Ct.mt):_e.write_shift(4,0),_e.write_shift(-4,Ce[xt]),_e.write_shift(4,zr.length),_e.write_shift(4,Ct.content.length),_e.write_shift(2,Ht.length),_e.write_shift(2,0),Qe+=_e.length,xe.push(_e),Qe+=Ht.length,xe.push(Ht),Qe+=zr.length,xe.push(zr),_e=dt(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,it),_e.write_shift(2,Ve),_e.write_shift(4,0),_e.write_shift(-4,Ce[xt]),_e.write_shift(4,zr.length),_e.write_shift(4,Ct.content.length),_e.write_shift(2,Ht.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,$t),nt+=_e.l,be.push(_e),nt+=Ht.length,be.push(Ht),++xt}return _e=dt(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,xt),_e.write_shift(2,xt),_e.write_shift(4,nt),_e.write_shift(4,Qe),_e.write_shift(2,0),ls([ls(xe),ls(be),_e])}var zt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dr(le,Se){if(le.ctype)return le.ctype;var ge=le.name||"",xe=ge.match(/\.([^\.]+)$/);return xe&&zt[xe[1]]||Se&&(xe=(ge=Se).match(/[\.\\]([^\.\\])+$/),xe&&zt[xe[1]])?zt[xe[1]]:"application/octet-stream"}function hs(le){for(var Se=P1(le),ge=[],xe=0;xe<Se.length;xe+=76)ge.push(Se.slice(xe,xe+76));return ge.join(`\r
`)+`\r
`}function wn(le){var Se=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Qe=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],xe=Se.split(`\r
`),be=0;be<xe.length;++be){var _e=xe[be];if(_e.length==0){ge.push("");continue}for(var Ve=0;Ve<_e.length;){var it=76,Ge=_e.slice(Ve,Ve+it);Ge.charAt(it-1)=="="?it--:Ge.charAt(it-2)=="="?it-=2:Ge.charAt(it-3)=="="&&(it-=3),Ge=_e.slice(Ve,Ve+it),Ve+=it,Ve<_e.length&&(Ge+="="),ge.push(Ge)}}return ge.join(`\r
`)}function ma(le){for(var Se=[],ge=0;ge<le.length;++ge){for(var xe=le[ge];ge<=le.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+le[++ge];Se.push(xe)}for(var be=0;be<Se.length;++be)Se[be]=Se[be].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return ul(Se.join(`\r
`))}function bi(le,Se,ge){for(var xe="",be="",_e="",Ve,it=0;it<10;++it){var Ge=Se[it];if(!Ge||Ge.match(/^\s*$/))break;var Ye=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":xe=Ye[2].trim();break;case"content-type":_e=Ye[2].trim();break;case"content-transfer-encoding":be=Ye[2].trim();break}}switch(++it,be.toLowerCase()){case"base64":Ve=ul(xl(Se.slice(it).join("")));break;case"quoted-printable":Ve=ma(Se.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Qe=Ln(le,xe.slice(ge.length),Ve,{unsafe:!0});_e&&(Qe.ctype=_e)}function Pt(le,Se){if(oe(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=Se&&Se.root||"",xe=(Gr&&Buffer.isBuffer(le)?le.toString("binary"):oe(le)).split(`\r
`),be=0,_e="";for(be=0;be<xe.length;++be)if(_e=xe[be],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),ge||(ge=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),_e.slice(0,ge.length)!=ge););var Ve=(xe[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var it="--"+(Ve[1]||""),Ge=[],Ye=[],Qe={FileIndex:Ge,FullPaths:Ye};L(Qe);var xt,Ot=0;for(be=0;be<xe.length;++be){var Ft=xe[be];Ft!==it&&Ft!==it+"--"||(Ot++&&bi(Qe,xe.slice(xt,be),ge),xt=be)}return Qe}function Gs(le,Se){var ge=Se||{},xe=ge.boundary||"SheetJS";xe="------="+xe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],_e=le.FullPaths[0],Ve=_e,it=le.FileIndex[0],Ge=1;Ge<le.FullPaths.length;++Ge)if(Ve=le.FullPaths[Ge].slice(_e.length),it=le.FileIndex[Ge],!(!it.size||!it.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nt){return"_x"+nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nt){return"_u"+nt.charCodeAt(0).toString(16)+"_"});for(var Ye=it.content,Qe=Gr&&Buffer.isBuffer(Ye)?Ye.toString("binary"):oe(Ye),xt=0,Ot=Math.min(1024,Qe.length),Ft=0,Ct=0;Ct<=Ot;++Ct)(Ft=Qe.charCodeAt(Ct))>=32&&Ft<128&&++xt;var Ce=xt>=Ot*4/5;be.push(xe),be.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+Ve),be.push("Content-Transfer-Encoding: "+(Ce?"quoted-printable":"base64")),be.push("Content-Type: "+Dr(it,Ve)),be.push(""),be.push(Ce?wn(Qe):hs(Qe))}return be.push(xe+`--\r
`),be.join(`\r
`)}function fs(le){var Se={};return L(Se,le),Se}function Ln(le,Se,ge,xe){var be=xe&&xe.unsafe;be||L(le);var _e=!be&&br.find(le,Se);if(!_e){var Ve=le.FullPaths[0];Se.slice(0,Ve.length)==Ve?Ve=Se:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+Se).replace("//","/")),_e={name:n(Se),type:2},le.FileIndex.push(_e),le.FullPaths.push(Ve),be||br.utils.cfb_gc(le)}return _e.content=ge,_e.size=ge?ge.length:0,xe&&(xe.CLSID&&(_e.clsid=xe.CLSID),xe.mt&&(_e.mt=xe.mt),xe.ct&&(_e.ct=xe.ct)),_e}function yi(le,Se){L(le);var ge=br.find(le,Se);if(ge){for(var xe=0;xe<le.FileIndex.length;++xe)if(le.FileIndex[xe]==ge)return le.FileIndex.splice(xe,1),le.FullPaths.splice(xe,1),!0}return!1}function ra(le,Se,ge){L(le);var xe=br.find(le,Se);if(xe){for(var be=0;be<le.FileIndex.length;++be)if(le.FileIndex[be]==xe)return le.FileIndex[be].name=n(ge),le.FullPaths[be]=ge,!0}return!1}function Xa(le){F(le,!0)}return t.find=O,t.read=M,t.parse=h,t.write=De,t.writeFile=de,t.utils={cfb_new:fs,cfb_add:Ln,cfb_del:yi,cfb_mov:ra,cfb_gc:Xa,ReadShift:e1,CheckField:Uq,prep_blob:Ss,bconcat:ls,use_zlib:P,_deflateRaw:ht,_inflateRaw:Ar,consts:ae},t})();function Ixe(e){return typeof e=="string"?Jw(e):Array.isArray(e)?lxe(e):e}function jv(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Jw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Eu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([Ixe(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Th(t)),l.write(t),l.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Rxe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function ii(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function BD(e,t){for(var r=[],a=ii(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function ek(e){for(var t=[],r=ii(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function tk(e){for(var t=[],r=ii(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Fxe(e){for(var t=[],r=ii(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var B2=new Date(1899,11,30,0,0,0);function Wi(e,t){var r=e.getTime(),a=B2.getTime()+(e.getTimezoneOffset()-B2.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var bq=new Date,Bxe=B2.getTime()+(bq.getTimezoneOffset()-B2.getTimezoneOffset())*6e4,UD=bq.getTimezoneOffset();function rk(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bxe),t.getTimezoneOffset()!==UD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-UD)*6e4),t}function Uxe(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}var zD=new Date("2017-02-19T19:06:09.000Z"),yq=isNaN(zD.getFullYear())?new Date("2/19/17"):zD,zxe=yq.getFullYear()==2017;function bn(e,t){var r=new Date(e);if(zxe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(yq.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function am(e,t){if(Gr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Eu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Eu(oq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Eu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Eu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function yn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yn(e[r]));return t}function ri(e,t){for(var r="";r.length<t;)r+=e;return r}function zc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var qxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function gg(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&qxe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var $xe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),s=[i[0]],l=1;l<i.length;++l)s.push(n),s.push(i[l]);return s}})();function wq(e){return e?e.content&&e.type?am(e.content,!0):e.data?Hx(e.data):e.asNodeBuffer&&Gr?Hx(e.asNodeBuffer().toString("binary")):e.asBinary?Hx(e.asBinary()):e._data&&e._data.getContent?Hx(am(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function kq(e){if(!e)return null;if(e.data)return ED(e.data);if(e.asNodeBuffer&&Gr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?ED(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Hxe(e){return e&&e.name.slice(-4)===".bin"?kq(e):wq(e)}function Hl(e,t){for(var r=e.FullPaths||ii(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==s||n==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function sA(e,t){var r=Hl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ji(e,t,r){if(!r)return Hxe(sA(e,t));if(!t)return null;try{return ji(e,t)}catch{return null}}function dl(e,t,r){if(!r)return wq(sA(e,t));if(!t)return null;try{return dl(e,t)}catch{return null}}function Wxe(e,t,r){return kq(sA(e,t))}function qD(e){for(var t=e.FullPaths||ii(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function $r(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Gr?a=o0(r):a=cxe(r),br.utils.cfb_add(e,t,a)}br.utils.cfb_add(e,t,r)}else e.file(t,r)}function oA(){return br.utils.cfb_new()}function _q(e,t){switch(t.type){case"base64":return br.read(e,{type:"base64"});case"binary":return br.read(e,{type:"binary"});case"buffer":case"array":return br.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Vx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var vi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Vxe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$D=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Kxe=/<[^>]*>/g,Ks=vi.match($D)?$D:Kxe,Gxe=/<\w*:/,Yxe=/<(\/?)\w+:/;function Er(e,t,r){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var s=e.match(Vxe),l=0,u="",d=0,h="",m="",x=1;if(s)for(d=0;d!=s.length;++d){for(m=s[d],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(x=(n=m.charCodeAt(i+1))==34||n==39?1:0,u=m.slice(i+1+x,m.length-x),l=0;l!=h.length&&h.charCodeAt(l)!==58;++l);if(l===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),a[h]=u,a[h.toLowerCase()]=u;else{var p=(l===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(l+1);if(a[p]&&h.slice(l-3,l)=="ext")continue;a[p]=u,a[p.toLowerCase()]=u}}return a}function zu(e){return e.replace(Yxe,"<$1")}var Sq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},lA=ek(Sq),ba=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(l,u){return Sq[l]||String.fromCharCode(parseInt(u,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,u){return String.fromCharCode(parseInt(u,16))});var s=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,s)+r(n.slice(s+3))}})(),cA=/[&<>'"]/g,Xxe=/[\u0000-\u0008\u000b-\u001f]/g;function Ba(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(Xxe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function HD(e){return Ba(e).replace(/ /g,"_x0020_")}var Nq=/[\u0000-\u001f]/g;function uA(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(/\n/g,"<br/>").replace(Nq,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Qxe(e){var t=e+"";return t.replace(cA,function(r){return lA[r]}).replace(Nq,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var WD=(function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}})();function Jxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function gn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function S_(e){for(var t="",r=0,a=0,n=0,i=0,s=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){s=(a&31)<<6,s|=n&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}s=e.charCodeAt(r++),l=((a&7)<<18|(n&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function VD(e){var t=vh(2*e.length),r,a,n=1,i=0,s=0,l;for(a=0;a<e.length;a+=n)n=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),n=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function KD(e){return o0(e,"binary").toString("utf8")}var ry="foo bar baz",Ya=Gr&&(KD(ry)==S_(ry)&&KD||VD(ry)==S_(ry)&&VD)||S_,Eu=Gr?function(e){return o0(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},L1=(function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}})(),jq=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),Zxe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),e1e=/<\/?(?:vt:)?variant>/g,t1e=/<(?:vt:)([^>]*)>([\s\S]*)</;function GD(e,t){var r=Er(e),a=e.match(Zxe(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var s=i.replace(e1e,"").match(t1e);s&&n.push({v:Ya(s[2]),t:s[1]})}),n}var Aq=/(^\s|\s$|\n)/;function Ns(e,t){return"<"+e+(t.match(Aq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function M1(e){return ii(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Mt(e,t,r){return"<"+e+(r!=null?M1(r):"")+(t!=null?(t.match(Aq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function K3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function r1e(e,t){switch(typeof e){case"string":var r=Mt("vt:lpwstr",Ba(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Mt((e|0)==e?"vt:i4":"vt:r8",Ba(String(e)));case"boolean":return Mt("vt:bool",e?"true":"false")}if(e instanceof Date)return Mt("vt:filetime",K3(e));throw new Error("Unable to serialize "+e)}function dA(e){if(Gr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ya(Th(aA(e)));throw new Error("Bad input format: expected Buffer or string")}var I1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Hi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},mm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],il={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function a1e(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function n1e(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,s=a?-t:t;isFinite(s)?s==0?n=i=0:(n=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(n&15)<<4|i&15,e[r+7]=n>>4|a}var YD=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},XD=Gr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:o0(t)})):YD(e)}:YD,QD=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(Pd(e,n)));return a.join("").replace(mo,"")},hA=Gr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(mo,""):QD(e,t,r)}:QD,JD=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},Tq=Gr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):JD(e,t,r)}:JD,ZD=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(Ep(e,n)));return a.join("")},Av=Gr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):ZD(t,r,a)}:ZD,Eq=function(e,t){var r=sl(e,t);return r>0?Av(e,t+4,t+4+r-1):""},Cq=Eq,Oq=function(e,t){var r=sl(e,t);return r>0?Av(e,t+4,t+4+r-1):""},Pq=Oq,Dq=function(e,t){var r=2*sl(e,t);return r>0?Av(e,t+4,t+4+r-1):""},Lq=Dq,Mq=function(t,r){var a=sl(t,r);return a>0?hA(t,r+4,r+4+a):""},Iq=Mq,Rq=function(e,t){var r=sl(e,t);return r>0?Av(e,t+4,t+4+r):""},Fq=Rq,Bq=function(e,t){return a1e(e,t)},U2=Bq,fA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Gr&&(Cq=function(t,r){if(!Buffer.isBuffer(t))return Eq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Pq=function(t,r){if(!Buffer.isBuffer(t))return Oq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Lq=function(t,r){if(!Buffer.isBuffer(t))return Dq(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},Iq=function(t,r){if(!Buffer.isBuffer(t))return Mq(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},Fq=function(t,r){if(!Buffer.isBuffer(t))return Rq(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},U2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Bq(t,r)},fA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ep=function(e,t){return e[t]},Pd=function(e,t){return e[t+1]*256+e[t]},i1e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},sl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},mf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},s1e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function e1(e,t){var r="",a,n,i=[],s,l,u,d;switch(t){case"dbcs":if(d=this.l,Gr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)r+=String.fromCharCode(Pd(this,d)),d+=2;e*=2;break;case"utf8":r=Av(this,this.l,this.l+e);break;case"utf16le":e*=2,r=hA(this,this.l,this.l+e);break;case"wstr":return e1.call(this,e,"dbcs");case"lpstr-ansi":r=Cq(this,this.l),e=4+sl(this,this.l);break;case"lpstr-cp":r=Pq(this,this.l),e=4+sl(this,this.l);break;case"lpwstr":r=Lq(this,this.l),e=4+2*sl(this,this.l);break;case"lpp4":e=4+sl(this,this.l),r=Iq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+sl(this,this.l),r=Fq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Ep(this,this.l+e++))!==0;)i.push(ty(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Pd(this,this.l+e))!==0;)i.push(ty(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Ep(this,d),this.l=d+1,l=e1.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ty(Pd(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Ep(this,d),this.l=d+1,l=e1.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(ty(Ep(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=Ep(this,this.l),this.l++,a;case 2:return a=(t==="i"?i1e:Pd)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?mf:s1e)(this,this.l),this.l+=4,a):(n=sl(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=U2(this,this.l):n=U2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=Tq(this,this.l,e);break}}return this.l+=e,r}var o1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},l1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},c1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function u1e(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)c1e(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var s=t.charCodeAt(n);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,o1e(this,t,this.l);break;case 8:if(a=8,r==="f"){n1e(this,t,this.l);break}case 16:break;case-4:a=4,l1e(this,t,this.l);break}return this.l+=a,this}function Uq(e,t){var r=Tq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ss(e,t){e.l=t,e.read_shift=e1,e.chk=Uq,e.write_shift=u1e}function Vs(e,t){e.l+=t}function dt(e){var t=vh(e);return Ss(t,0),t}function l0(e,t,r){if(e){var a,n,i;Ss(e,e.l||0);for(var s=e.length,l=0,u=0;e.l<s;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=q1[l]||q1[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;u=e.l+i;var h=d.f&&d.f(e,i,r);if(e.l=u,t(h,d,l))return}}}function Bo(){var e=[],t=Gr?256:2048,r=function(d){var h=dt(d);return Ss(h,0),h},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=r(Math.max(d+1,t)))},s=function(){return n(),ls(e)},l=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:s,_bufs:e}}function jt(e,t,r,a){var n=+t,i;if(!isNaN(n)){a||(a=q1[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var s=e.next(i);n<=127?s.write_shift(1,n):(s.write_shift(1,(n&127)+128),s.write_shift(1,n>>7));for(var l=0;l!=4;++l)if(a>=128)s.write_shift(1,(a&127)+128),a>>=7;else{s.write_shift(1,a);break}a>0&&fA(r)&&e.push(r)}}function t1(e,t,r){var a=yn(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function eL(e,t,r){var a=yn(e);return a.s=t1(a.s,t.s,r),a.e=t1(a.e,t.s,r),a}function r1(e,t){if(e.cRel&&e.c<0)for(e=yn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=yn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=jr(e);return!e.cRel&&e.cRel!=null&&(r=f1e(r)),!e.rRel&&e.rRel!=null&&(r=d1e(r)),r}function N_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+$n(e.s.c)+":"+(e.e.cRel?"":"$")+$n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+gi(e.s.r)+":"+(e.e.rRel?"":"$")+gi(e.e.r):r1(e.s,t.biff)+":"+r1(e.e,t.biff)}function mA(e){return parseInt(h1e(e),10)-1}function gi(e){return""+(e+1)}function d1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function h1e(e){return e.replace(/\$(\d+)$/,"$1")}function pA(e){for(var t=m1e(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function $n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function f1e(e){return e.replace(/^([A-Z])/,"$$$1")}function m1e(e){return e.replace(/^\$([A-Z])/,"$1")}function p1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hn(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function jr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Uo(e){var t=e.indexOf(":");return t==-1?{s:Hn(e),e:Hn(e)}:{s:Hn(e.slice(0,t)),e:Hn(e.slice(t+1))}}function Ur(e,t){return typeof t>"u"||typeof t=="number"?Ur(e.s,e.e):(typeof e!="string"&&(e=jr(e)),typeof t!="string"&&(t=jr(t)),e==t?e:e+":"+t)}function ya(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function tL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ec(e.z,r?Wi(t):t)}catch{}try{return e.w=ec((e.XF||{}).numFmtId||(r?14:0),r?Wi(t):t)}catch{return""+t}}function Jd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?c0[e.v]||e.v:t==null?tL(e,e.v):tL(e,t))}function Eh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function zq(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),s=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")s=a.origin;else{var u=typeof a.origin=="string"?Hn(a.origin):a.origin;s=u.r,l=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=ya(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(d.e.r=s=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var p={v:t[m][x]},y=s+m,b=l+x;if(d.s.r>y&&(d.s.r=y),d.s.c>b&&(d.s.c=b),d.e.r<y&&(d.e.r=y),d.e.c<b&&(d.e.c=b),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))p=t[m][x];else if(Array.isArray(p.v)&&(p.f=t[m][x][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||Nr[14],a.cellDates?(p.t="d",p.w=ec(p.z,Wi(p.v))):(p.t="n",p.v=Wi(p.v),p.w=ec(p.z,p.v))):p.t="s";if(n)i[y]||(i[y]=[]),i[y][b]&&i[y][b].z&&(p.z=i[y][b].z),i[y][b]=p;else{var v=jr({c:b,r:y});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return d.s.c<1e7&&(i["!ref"]=Ur(d)),i}function Ug(e,t){return zq(null,e,t)}function g1e(e){return e.read_shift(4,"i")}function qc(e,t){return t||(t=dt(4)),t.write_shift(4,e),t}function Ws(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function us(e,t){var r=!1;return t==null&&(r=!0,t=dt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function x1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function v1e(e,t){return t||(t=dt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function gA(e,t){var r=e.l,a=e.read_shift(1),n=Ws(e),i=[],s={t:n,h:n};if((a&1)!==0){for(var l=e.read_shift(4),u=0;u!=l;++u)i.push(x1e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function b1e(e,t){var r=!1;return t==null&&(r=!0,t=dt(15+4*e.t.length)),t.write_shift(1,0),us(e.t,t),r?t.slice(0,t.l):t}var y1e=gA;function w1e(e,t){var r=!1;return t==null&&(r=!0,t=dt(23+4*e.t.length)),t.write_shift(1,1),us(e.t,t),t.write_shift(4,1),v1e({},t),r?t.slice(0,t.l):t}function nc(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pm(e,t){return t==null&&(t=dt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xm(e,t){return t==null&&(t=dt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var k1e=Ws,qq=us;function xA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function z2(e,t){var r=!1;return t==null&&(r=!0,t=dt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var _1e=Ws,G3=xA,vA=z2;function bA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?U2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):mf(t,0)>>2;return r?n/100:n}function $q(e,t){t==null&&(t=dt(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Hq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function S1e(e,t){return t||(t=dt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var vm=Hq,zg=S1e;function $s(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function nm(e,t){return(t||dt(8)).write_shift(8,e,"f")}function N1e(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Rf[n];d&&(t.rgb=F1(d));break;case 2:t.rgb=F1([s,l,u]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function q2(e,t){if(t||(t=dt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function j1e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function A1e(e,t){t||(t=dt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Wq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function T1e(e){return Wq(e,1)}function E1e(e){return Wq(e,2)}var yA=2,Ro=3,ay=11,rL=12,$2=19,ny=64,C1e=65,O1e=71,P1e=4108,D1e=4126,ss=80,Vq=81,L1e=[ss,Vq],Y3={1:{n:"CodePage",t:yA},2:{n:"Category",t:ss},3:{n:"PresentationFormat",t:ss},4:{n:"ByteCount",t:Ro},5:{n:"LineCount",t:Ro},6:{n:"ParagraphCount",t:Ro},7:{n:"SlideCount",t:Ro},8:{n:"NoteCount",t:Ro},9:{n:"HiddenCount",t:Ro},10:{n:"MultimediaClipCount",t:Ro},11:{n:"ScaleCrop",t:ay},12:{n:"HeadingPairs",t:P1e},13:{n:"TitlesOfParts",t:D1e},14:{n:"Manager",t:ss},15:{n:"Company",t:ss},16:{n:"LinksUpToDate",t:ay},17:{n:"CharacterCount",t:Ro},19:{n:"SharedDoc",t:ay},22:{n:"HyperlinksChanged",t:ay},23:{n:"AppVersion",t:Ro,p:"version"},24:{n:"DigSig",t:C1e},26:{n:"ContentType",t:ss},27:{n:"ContentStatus",t:ss},28:{n:"Language",t:ss},29:{n:"Version",t:ss},255:{},2147483648:{n:"Locale",t:$2},2147483651:{n:"Behavior",t:$2},1919054434:{}},X3={1:{n:"CodePage",t:yA},2:{n:"Title",t:ss},3:{n:"Subject",t:ss},4:{n:"Author",t:ss},5:{n:"Keywords",t:ss},6:{n:"Comments",t:ss},7:{n:"Template",t:ss},8:{n:"LastAuthor",t:ss},9:{n:"RevNumber",t:ss},10:{n:"EditTime",t:ny},11:{n:"LastPrinted",t:ny},12:{n:"CreatedDate",t:ny},13:{n:"ModifiedDate",t:ny},14:{n:"PageCount",t:Ro},15:{n:"WordCount",t:Ro},16:{n:"CharCount",t:Ro},17:{n:"Thumbnail",t:O1e},18:{n:"Application",t:ss},19:{n:"DocSecurity",t:Ro},255:{},2147483648:{n:"Locale",t:$2},2147483651:{n:"Behavior",t:$2},1919054434:{}},aL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},M1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function I1e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var R1e=I1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Rf=yn(R1e),c0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Q3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function wA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function F1e(e){var t=wA();if(!e||!e.match)return t;var r={};if((e.match(Ks)||[]).forEach(function(a){var n=Er(a);switch(n[0].replace(Gxe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[Q3[n.ContentType]]!==void 0&&t[Q3[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Hi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Gq(e,t){var r=Fxe(Q3),a=[],n;a[a.length]=vi,a[a.length]=Mt("Types",null,{xmlns:Hi.CT,"xmlns:xsd":Hi.xsd,"xmlns:xsi":Hi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Mt("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(n=e[u][0],a[a.length]=Mt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:iy[u][t.bookType]||iy[u].xlsx}))},s=function(u){(e[u]||[]).forEach(function(d){a[a.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:iy[u][t.bookType]||iy[u].xlsx})})},l=function(u){(e[u]||[]).forEach(function(d){a[a.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[u][0]})})};return i("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Qr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function a1(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Ks)||[]).forEach(function(n){var i=Er(n);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Vx(i.Target,t);r[l]=s,a[i.Id]=s}}),r["!id"]=a,r}function qp(e){var t=[vi,Mt("Relationships",null,{xmlns:Hi.RELS})];return ii(e["!id"]).forEach(function(r){t[t.length]=Mt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ia(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[Qr.HLINK,Qr.XPATH,Qr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var B1e="application/vnd.oasis.opendocument.spreadsheet";function U1e(e,t){for(var r=dA(e),a,n;a=I1.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Er(a[0],!1),n.path=="/"&&n.type!==B1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function z1e(e){var t=[vi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function nL(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function q1e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function $1e(e){var t=[vi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(nL(e[r][0],e[r][1])),t.push(q1e("",e[r][0]));return t.push(nL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Yq(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+M2.version+"</meta:generator></office:meta></office:document-meta>"}var Xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],H1e=(function(){for(var e=new Array(Xl.length),t=0;t<Xl.length;++t){var r=Xl[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e})();function Xq(e){var t={};e=Ya(e);for(var r=0;r<Xl.length;++r){var a=Xl[r],n=e.match(H1e[r]);n!=null&&n.length>0&&(t[a[1]]=ba(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=bn(t[a[1]]))}return t}function j_(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Ba(t),a[a.length]=r?Mt(e,t,r):Ns(e,t))}function Qq(e,t){var r=t||{},a=[vi,Mt("cp:coreProperties",null,{"xmlns:cp":Hi.CORE_PROPS,"xmlns:dc":Hi.dc,"xmlns:dcterms":Hi.dcterms,"xmlns:dcmitype":Hi.dcmitype,"xmlns:xsi":Hi.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&j_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:K3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&j_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:K3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Xl.length;++i){var s=Xl[i],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&j_(s[0],l,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Ff=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Jq=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Zq(e,t,r,a){var n=[];if(typeof e=="string")n=GD(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(h){return{v:h}}));var s=typeof t=="string"?GD(t,a).map(function(h){return h.v}):t,l=0,u=0;if(s.length>0)for(var d=0;d!==n.length;d+=2){switch(u=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=u,r.SheetNames=s.slice(l,l+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=u,r.DefinedNames=s.slice(l,l+u);break;case"Charts":case"Diagramme":r.Chartsheets=u,r.ChartNames=s.slice(l,l+u);break}l+=u}}function W1e(e,t,r){var a={};return t||(t={}),e=Ya(e),Ff.forEach(function(n){var i=(e.match(L1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=ba(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(a[n[1]]=s[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Zq(a.HeadingPairs,a.TitlesOfParts,t,r),t}function e$(e){var t=[],r=Mt;return e||(e={}),e.Application="SheetJS",t[t.length]=vi,t[t.length]=Mt("Properties",null,{xmlns:Hi.EXT_PROPS,"xmlns:vt":Hi.vt}),Ff.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Ba(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Ba(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var V1e=/<[^>]+>[^<]*/g;function K1e(e,t){var r={},a="",n=e.match(V1e);if(n)for(var i=0;i!=n.length;++i){var s=n[i],l=Er(s);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=ba(l.name);break;case"</property>":a=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),d=u[0].slice(4),h=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=ba(h);break;case"bool":r[a]=gn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(h);break;case"filetime":case"date":r[a]=bn(h);break;case"cy":case"error":r[a]=ba(h);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,d,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function t$(e){var t=[vi,Mt("Properties",null,{xmlns:Hi.CUST_PROPS,"xmlns:vt":Hi.vt})];if(!e)return t.join("");var r=1;return ii(e).forEach(function(n){++r,t[t.length]=Mt("property",r1e(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ba(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var J3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},A_;function G1e(e,t,r){A_||(A_=ek(J3)),t=A_[t]||t,e[t]=r}function Y1e(e,t){var r=[];return ii(J3).map(function(a){for(var n=0;n<Xl.length;++n)if(Xl[n][1]==a)return Xl[n];for(n=0;n<Ff.length;++n)if(Ff[n][1]==a)return Ff[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(Ns(J3[a[1]]||a[1],n))}}),Mt("DocumentProperties",r.join(""),{xmlns:il.o})}function X1e(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&ii(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Xl.length;++s)if(i==Xl[s][1])return;for(s=0;s<Ff.length;++s)if(i==Ff[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var l=e[i],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l=String(l),n.push(Mt(HD(i),l,{"dt:dt":u}))}}),t&&ii(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),n.push(Mt(HD(i),s,{"dt:dt":l}))}}),"<"+a+' xmlns="'+il.o+'">'+n.join("")+"</"+a+">"}function kA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Q1e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var s=dt(8);return s.write_shift(4,a),s.write_shift(4,n),s}function r$(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function a$(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function n$(e,t,r){return t===31?a$(e):r$(e,t,r)}function Z3(e,t,r){return n$(e,t,r===!1?0:4)}function J1e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return n$(e,t,0)}function Z1e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(mo,""),e.l-n&2&&(e.l+=2)}return r}function eve(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(mo,"");return r}function tve(e){var t=e.l,r=H2(e,Vq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=H2(e,Ro);return[r,a]}function rve(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(tve(e));return r}function iL(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),s=e.read_shift(4);a[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(mo,"").replace(Wx,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function i$(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function ave(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function H2(e,t,r){var a=e.read_shift(2),n,i=r||{};if(e.l+=2,t!==rL&&a!==t&&L1e.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===rL?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return r$(e,a,4).replace(mo,"");case 31:return a$(e);case 64:return kA(e);case 65:return i$(e);case 71:return ave(e);case 80:return Z3(e,a,!i.raw).replace(mo,"");case 81:return J1e(e,a).replace(mo,"");case 4108:return rve(e);case 4126:case 4127:return a==4127?Z1e(e):eve(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function sL(e,t){var r=dt(4),a=dt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=dt(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=Q1e(t);break;case 31:case 80:for(a=dt(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ls([r,a])}function oL(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0,l=0,u=-1,d={};for(s=0;s!=n;++s){var h=e.read_shift(4),m=e.read_shift(4);i[s]=[h,m+r]}i.sort(function(N,_){return N[1]-_[1]});var x={};for(s=0;s!=n;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var y=t[i[s][0]];if(x[y.n]=H2(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Bc(l=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[s][0]===1){if(l=x.CodePage=H2(e,yA),Bc(l),u!==-1){var b=e.l;e.l=i[u][1],d=iL(e,l),e.l=b}}else if(i[s][0]===0){if(l===0){u=s,e.l=i[s+1][1];continue}d=iL(e,l)}else{var v=d[i[s][0]],k;switch(e[e.l]){case 65:e.l+=4,k=i$(e);break;case 30:e.l+=4,k=Z3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,k=Z3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,k=e.read_shift(4,"i");break;case 19:e.l+=4,k=e.read_shift(4);break;case 5:e.l+=4,k=e.read_shift(8,"f");break;case 11:e.l+=4,k=ui(e,4);break;case 64:e.l+=4,k=bn(kA(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[v]=k}}return e.l=r+a,x}var s$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nve(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function lL(e,t,r){var a=dt(8),n=[],i=[],s=8,l=0,u=dt(8),d=dt(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),i.push(u),n.push(d),s+=8+u.length,!t){d=dt(8),d.write_shift(4,0),n.unshift(d);var h=[dt(4)];for(h[0].write_shift(4,e.length),l=0;l<e.length;++l){var m=e[l][0];for(u=dt(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,l+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);h.push(u)}u=ls(h),i.unshift(u),s+=8+u.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(s$.indexOf(e[l][0])>-1||Jq.indexOf(e[l][0])>-1)&&e[l][1]!=null){var x=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof x=="string"){var b=x.split(".");x=(+b[0]<<16)+(+b[1]||0)}u=sL(y.t,x)}else{var v=nve(x);v==-1&&(v=31,x=String(x)),u=sL(v,x)}i.push(u),d=dt(8),d.write_shift(4,t?p:2+l),n.push(d),s+=8+u.length}var k=8*(i.length+1);for(l=0;l<i.length;++l)n[l].write_shift(4,k),k+=i[l].length;return a.write_shift(4,s),a.write_shift(4,i.length),ls([a].concat(n).concat(i))}function cL(e,t,r){var a=e.content;if(!a)return{};Ss(a,0);var n,i,s,l,u=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),h=a.read_shift(16);if(h!==br.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),l=a.read_shift(4),n===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);n===2&&(s=a.read_shift(16),u=a.read_shift(4));var m=oL(a,t),x={SystemIdentifier:d};for(var p in m)x[p]=m[p];if(x.FMTID=i,n===1)return x;if(u-a.l==2&&(a.l+=2),a.l!==u)throw new Error("Length mismatch 2: "+a.l+" !== "+u);var y;try{y=oL(a,null)}catch{}for(p in y)x[p]=y[p];return x.FMTID=[i,s],x}function uL(e,t,r,a,n,i){var s=dt(n?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,br.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,n?68:48);var u=lL(e,r,a);if(l.push(u),n){var d=lL(n,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+u.length),l.push(d)}return ls(l)}function W0(e,t){return e.read_shift(t),null}function ive(e,t){t||(t=dt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function sve(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function ui(e,t){return e.read_shift(t)===1}function lo(e,t){return t||(t=dt(2)),t.write_shift(2,+!!e),t}function Ai(e){return e.read_shift(2,"u")}function Vl(e,t){return t||(t=dt(2)),t.write_shift(2,e),t}function o$(e,t){return sve(e,t,Ai)}function ove(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function l$(e,t,r){return r||(r=dt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Tv(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var s=a?e.read_shift(a,n):"";return s}function lve(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,i=1+(r&1),s=0,l,u={};n&&(s=e.read_shift(2)),a&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*s),a&&(e.l+=l),u.t=h,n||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function cve(e){var t=e.t||"",r=dt(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=dt(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return ls(n)}function im(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Ev(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):im(e,a,r)}function bm(e,t,r){if(r.biff>5)return Ev(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function c$(e,t,r){return r||(r=dt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function uve(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function dve(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(mo,"");return a&&(e.l+=24),n}function hve(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(mo,"");return r+s}function fve(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return dve(e);case"0303000000000000c000000000000046":return hve(e);default:throw new Error("Unsupported Moniker "+r)}}function sy(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(mo,""):"";return r}function dL(e,t){t||(t=dt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function mve(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,s,l,u,d="",h,m;n&16&&(i=sy(e,r-e.l)),n&128&&(s=sy(e,r-e.l)),(n&257)===257&&(l=sy(e,r-e.l)),(n&257)===1&&(u=fve(e,r-e.l)),n&8&&(d=sy(e,r-e.l)),n&32&&(h=e.read_shift(16)),n&64&&(m=kA(e)),e.l=r;var x=s||l||u||"";x&&d&&(x+="#"+d),x||(x="#"+d),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var p={Target:x};return h&&(p.guid=h),m&&(p.time=m),i&&(p.Tooltip=i),p}function pve(e){var t=dt(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)a=a.slice(1),dL(a,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var l=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&dL(n>-1?a.slice(n+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),r=0;r<a.length-3*u;++r)t.write_shift(1,a.charCodeAt(r+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function u$(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function d$(e,t){var r=u$(e);return r[3]=0,r}function qu(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function sm(e,t,r,a){return a||(a=dt(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function gve(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function xve(e,t,r){return t===0?"":bm(e,t,r)}function vve(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),s=e.read_shift(a,"i");return[n,i,s]}function h$(e){var t=e.read_shift(2),r=bA(e);return[t,r]}function bve(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=Tv(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function ak(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function f$(e,t){return t||(t=dt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function m$(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var yve=m$;function p$(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function wve(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function kve(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ps(e){e.l+=2,e.l+=e.read_shift(2)}var _ve={0:Ps,4:Ps,5:Ps,6:Ps,7:kve,8:Ps,9:Ps,10:Ps,11:Ps,12:Ps,13:wve,14:Ps,15:Ps,16:Ps,17:Ps,18:Ps,19:Ps,20:Ps,21:p$};function Sve(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(_ve[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function oy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function _A(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=dt(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Nve(e,t){return t===0||e.read_shift(2),1200}function jve(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=bm(e,0,r);return e.read_shift(t+a-e.l),n}function Ave(e,t){var r=!t||t.biff==8,a=dt(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function Tve(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function Eve(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Tv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:a,hs:n,dt:i,name:s}}function Cve(e,t){var r=!t||t.biff>=8?2:1,a=dt(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function Ove(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0;s!=n&&e.l<r;++s)i.push(lve(e));return i.Count=a,i.Unique=n,i}function Pve(e,t){var r=dt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=cve(e[n]);var i=ls([r].concat(a));return i.parts=[r.length].concat(a.map(function(s){return s.length})),i}function Dve(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Lve(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function Mve(e){var t=gve(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Ive(e){return e.read_shift(2),e.read_shift(4)}function hL(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function Rve(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:i,CurTab:s,FirstTab:l,Selected:u,TabRatio:d}}function Fve(){var e=dt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Bve(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function Uve(e){var t=dt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function zve(){}function qve(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Tv(e,0,r),a}function $ve(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,i=dt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function Hve(e){var t=qu(e);return t.isst=e.read_shift(4),t}function Wve(e,t,r,a){var n=dt(10);return sm(e,t,a,n),n.write_shift(4,r),n}function Vve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=qu(e);r.biff==2&&e.l++;var i=Ev(e,a-e.l,r);return n.val=i,n}function Kve(e,t,r,a,n){var i=!n||n.biff==8,s=dt(8+ +i+(1+i)*r.length);return sm(e,t,a,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Gve(e,t,r){var a=e.read_shift(2),n=bm(e,0,r);return[a,n]}function Yve(e,t,r,a){var n=r&&r.biff==5;a||(a=dt(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var Xve=bm;function fL(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2),u=e.read_shift(2);return e.l=a,{s:{r:i,c:l},e:{r:s,c:u}}}function Qve(e,t){var r=t.biff==8||!t.biff?4:2,a=dt(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function Jve(e){var t=e.read_shift(2),r=e.read_shift(2),a=h$(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function Zve(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(h$(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:s,rkrec:i}}function ebe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:s,ixfe:i}}function tbe(e,t,r,a){var n={},i=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(2);return n.patternType=M1e[l>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=s&15,n.dgRight=s>>4&15,n.dgTop=s>>8&15,n.dgBottom=s>>12&15,n.icvLeft=s>>16&127,n.icvRight=s>>23&127,n.grbitDiag=s>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=u&127,n.icvBack=u>>7&127,n.fsxButton=u>>14&1),n}function rbe(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=tbe(e,t,a.fStyle,r),a}function mL(e,t,r,a){var n=r&&r.biff==5;a||(a=dt(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function abe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function nbe(e){var t=dt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function pL(e,t,r){var a=qu(e);(r.biff==2||t==9)&&++e.l;var n=ove(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function ibe(e,t,r,a,n,i){var s=dt(8);return sm(e,t,a,s),l$(r,i,s),s}function sbe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=qu(e),n=$s(e);return a.val=n,a}function obe(e,t,r,a){var n=dt(14);return sm(e,t,a,n),nm(r,n),n}var gL=xve;function lbe(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=im(e,i),l=[];a>e.l;)l.push(Ev(e));return[i,n,s,l]}function xL(e,t,r){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=bve(e,t-2,r)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var cbe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vL(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),u=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),u=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=im(e,s,r);n&32&&(d=cbe[d.charCodeAt(0)]);var h=a-e.l;r&&r.biff==2&&--h;var m=a==e.l||l===0||!(h>0)?[]:Ske(e,h,r,l);return{chKey:i,Name:d,itab:u,rgce:m}}function g$(e,t,r){if(r.biff<8)return ube(e,t,r);for(var a=[],n=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(vve(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function ube(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=Tv(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function dbe(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=im(e,a,r),s=im(e,n,r);return[i,s]}function hbe(e,t,r){var a=m$(e);e.l++;var n=e.read_shift(1);return t-=8,[Nke(e,t,r),n,a]}function bL(e,t,r){var a=yve(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,kke(e,t,r)]}function fbe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function mbe(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=bm(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},l,s,i]}}function pbe(e,t,r){return mbe(e,t,r)}function gbe(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(ak(e));return r}function xbe(e){var t=dt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)f$(e[r],t);return t}function vbe(e,t,r){if(r&&r.biff<8)return ybe(e,t,r);var a=p$(e),n=Sve(e,t-22,a[1]);return{cmo:a,ft:n}}var bbe={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function ybe(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((bbe[a]||Vs)(e,t,r)),{cmo:[n,a,i],ft:s}}function wbe(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=uve(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ai(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var h=e[e.l],m=im(e,e.lens[d+1]-e.lens[d]-1);if(n+=m,n.length>=(h?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function kbe(e,t){var r=ak(e);e.l+=16;var a=mve(e,t-24);return[r,a]}function _be(e){var t=dt(24),r=Hn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return ls([t,pve(e[1])])}function Sbe(e,t){e.read_shift(2);var r=ak(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(mo,""),[r,a]}function Nbe(e){var t=e[1].Tooltip,r=dt(10+2*(t.length+1));r.write_shift(2,2048);var a=Hn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function jbe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=aL[r]||r,r=e.read_shift(2),t[1]=aL[r]||r,t}function Abe(e){return e||(e=dt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Tbe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(d$(e));return r}function Ebe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(d$(e));return r}function Cbe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function x$(e,t,r){if(!r.cellStyles)return Vs(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:s,ixfe:l,flags:u};return(r.biff>=5||!r.biff)&&(d.level=u>>8&7),d}function Obe(e,t){var r=dt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Pbe(e,t){var r={};return t<32||(e.l+=16,r.header=$s(e),r.footer=$s(e),e.l+=2),r}function Dbe(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function Lbe(e){for(var t=dt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Mbe=qu,Ibe=o$,Rbe=Ev;function Fbe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function Bbe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=qu(e);++e.l;var n=bm(e,t-7,r);return a.t="str",a.val=n,a}function Ube(e){var t=qu(e);++e.l;var r=$s(e);return t.t="n",t.val=r,t}function zbe(e,t,r){var a=dt(15);return Dv(a,e,t),a.write_shift(8,r,"f"),a}function qbe(e){var t=qu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function $be(e,t,r){var a=dt(9);return Dv(a,e,t),a.write_shift(2,r),a}function Hbe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Wbe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Vbe(e,t,r){var a=e.l+t,n=qu(e),i=e.read_shift(2),s=im(e,i,r);return e.l=a,n.t="str",n.val=s,n}var Kbe=[2,3,48,49,131,139,140,245],eN=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ek({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,u){var d=[],h=vh(1);switch(u.type){case"base64":h=ul(xl(l));break;case"binary":h=ul(l);break;case"buffer":case"array":h=l;break}Ss(h,0);var m=h.read_shift(1),x=!!(m&136),p=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:p=!0,x=!0;break;case 49:p=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,v=521;m==2&&(b=h.read_shift(2)),h.l+=3,m!=2&&(b=h.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(v=h.read_shift(2));var k=h.read_shift(2),N=u.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(N=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var _=[],A={},D=Math.min(h.length,m==2?521:v-10-(p?264:0)),M=y?32:11;h.l<D&&h[h.l]!=13;)switch(A={},A.name=O1.utils.decode(N,h.slice(h.l,h.l+M)).replace(/[\u0000\r\n].*$/g,""),h.l+=M,A.type=String.fromCharCode(h.read_shift(1)),m!=2&&!y&&(A.offset=h.read_shift(4)),A.len=h.read_shift(1),m==2&&(A.offset=h.read_shift(2)),A.dec=h.read_shift(1),A.name.length&&_.push(A),m!=2&&(h.l+=y?13:14),A.type){case"B":(!p||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var L=0,B=0;for(d[0]=[],B=0;B!=_.length;++B)d[0][B]=_[B].name;for(;b-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,d[++L]=[],B=0,B=0;B!=_.length;++B){var F=h.slice(h.l,h.l+_[B].len);h.l+=_[B].len,Ss(F,0);var H=O1.utils.decode(N,F);switch(_[B].type){case"C":H.trim().length&&(d[L][B]=H.replace(/\s+$/,""));break;case"D":H.length===8?d[L][B]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):d[L][B]=H;break;case"F":d[L][B]=parseFloat(H.trim());break;case"+":case"I":d[L][B]=y?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":d[L][B]=!0;break;case"N":case"F":d[L][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[L][B]="##MEMO##"+(y?parseInt(H.trim(),10):F.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(d[L][B]=+H||0);break;case"@":d[L][B]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":d[L][B]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":d[L][B]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[L][B]=-F.read_shift(-8,"f");break;case"B":if(p&&_[B].len==8){d[L][B]=F.read_shift(8,"f");break}case"G":case"P":F.l+=_[B].len;break;case"0":if(_[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[B].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=_,d}function a(l,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Ug(r(l,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function n(l,u){try{return Eh(a(l,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,u){var d=u||{};if(+d.codepage>=0&&Bc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Bo(),m=K2(l,{header:1,raw:!0,cellDates:!0}),x=m[0],p=m.slice(1),y=l["!cols"]||[],b=0,v=0,k=0,N=1;for(b=0;b<x.length;++b){if(((y[b]||{}).DBF||{}).name){x[b]=y[b].DBF.name,++k;continue}if(x[b]!=null){if(++k,typeof x[b]=="number"&&(x[b]=x[b].toString(10)),typeof x[b]!="string")throw new Error("DBF Invalid column name "+x[b]+" |"+typeof x[b]+"|");if(x.indexOf(x[b])!==b){for(v=0;v<1024;++v)if(x.indexOf(x[b]+"_"+v)==-1){x[b]+="_"+v;break}}}}var _=ya(l["!ref"]),A=[],D=[],M=[];for(b=0;b<=_.e.c-_.s.c;++b){var L="",B="",F=0,H=[];for(v=0;v<p.length;++v)p[v][b]!=null&&H.push(p[v][b]);if(H.length==0||x[b]==null){A[b]="?";continue}for(v=0;v<H.length;++v){switch(typeof H[v]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=H[v]instanceof Date?"D":"C";break;default:B="C"}F=Math.max(F,String(H[v]).length),L=L&&L!=B?"C":B}F>250&&(F=250),B=((y[b]||{}).DBF||{}).type,B=="C"&&y[b].DBF.len>F&&(F=y[b].DBF.len),L=="B"&&B=="N"&&(L="N",M[b]=y[b].DBF.dec,F=y[b].DBF.len),D[b]=L=="C"||B=="N"?F:i[L]||0,N+=D[b],A[b]=L}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*k),O.write_shift(2,N),b=0;b<4;++b)O.write_shift(4,0);for(O.write_shift(4,0|(+t[sq]||3)<<8),b=0,v=0;b<x.length;++b)if(x[b]!=null){var I=h.next(32),V=(x[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,V,"sbcs"),I.write_shift(1,A[b]=="?"?"C":A[b],"sbcs"),I.write_shift(4,v),I.write_shift(1,D[b]||i[A[b]]||0),I.write_shift(1,M[b]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),v+=D[b]||i[A[b]]||0}var Y=h.next(264);for(Y.write_shift(4,13),b=0;b<65;++b)Y.write_shift(4,0);for(b=0;b<p.length;++b){var te=h.next(N);for(te.write_shift(1,0),v=0;v<x.length;++v)if(x[v]!=null)switch(A[v]){case"L":te.write_shift(1,p[b][v]==null?63:p[b][v]?84:70);break;case"B":te.write_shift(8,p[b][v]||0,"f");break;case"N":var X="0";for(typeof p[b][v]=="number"&&(X=p[b][v].toFixed(M[v]||0)),k=0;k<D[v]-X.length;++k)te.write_shift(1,32);te.write_shift(1,X,"sbcs");break;case"D":p[b][v]?(te.write_shift(4,("0000"+p[b][v].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(p[b][v].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+p[b][v].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(p[b][v]!=null?p[b][v]:"").slice(0,D[v]);for(te.write_shift(1,ae,"sbcs"),k=0;k<D[v]-ae.length;++k)te.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:a,from_sheet:s}})(),v$=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ii(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,p){var y=e[p];return typeof y=="number"?CD(y):y},a=function(x,p,y){var b=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return b==59?x:CD(b)};e["|"]=254;function n(x,p){switch(p.type){case"base64":return i(xl(x),p);case"binary":return i(x,p);case"buffer":return i(Gr&&Buffer.isBuffer(x)?x.toString("binary"):Th(x),p);case"array":return i(am(x),p)}throw new Error("Unrecognized type "+p.type)}function i(x,p){var y=x.split(/[\n\r]+/),b=-1,v=-1,k=0,N=0,_=[],A=[],D=null,M={},L=[],B=[],F=[],H=0,O;for(+p.codepage>=0&&Bc(+p.codepage);k!==y.length;++k){H=0;var I=y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),V=I.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),Y=V[0],te;if(I.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&A.push(I.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ae=!1,de=!1,oe=!1,De=-1,re=-1;for(N=1;N<V.length;++N)switch(V[N].charAt(0)){case"A":break;case"X":v=parseInt(V[N].slice(1))-1,ae=!0;break;case"Y":for(b=parseInt(V[N].slice(1))-1,ae||(v=0),O=_.length;O<=b;++O)_[O]=[];break;case"K":te=V[N].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(zc(te))?isNaN(gg(te).getDate())||(te=bn(te)):(te=zc(te),D!==null&&Fg(D)&&(te=rk(te))),X=!0;break;case"E":oe=!0;var P=$p(V[N].slice(1),{r:b,c:v});_[b][v]=[_[b][v],P];break;case"S":de=!0,_[b][v]=[_[b][v],"S5S"];break;case"G":break;case"R":De=parseInt(V[N].slice(1))-1;break;case"C":re=parseInt(V[N].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}if(X&&(_[b][v]&&_[b][v].length==2?_[b][v][0]=te:_[b][v]=te,D=null),de){if(oe)throw new Error("SYLK shared formula cannot have own formula");var W=De>-1&&_[De][re];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");_[b][v][1]=I$(W[1],{r:b-De,c:v-re})}break;case"F":var z=0;for(N=1;N<V.length;++N)switch(V[N].charAt(0)){case"X":v=parseInt(V[N].slice(1))-1,++z;break;case"Y":for(b=parseInt(V[N].slice(1))-1,O=_.length;O<=b;++O)_[O]=[];break;case"M":H=parseInt(V[N].slice(1))/20;break;case"F":break;case"G":break;case"P":D=A[parseInt(V[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=V[N].slice(1).split(" "),O=parseInt(F[0],10);O<=parseInt(F[1],10);++O)H=parseInt(F[2],10),B[O-1]=H===0?{hidden:!0}:{wch:H},bh(B[O-1]);break;case"C":v=parseInt(V[N].slice(1))-1,B[v]||(B[v]={});break;case"R":b=parseInt(V[N].slice(1))-1,L[b]||(L[b]={}),H>0?(L[b].hpt=H,L[b].hpx=vg(H)):H===0&&(L[b].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}z<1&&(D=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+I)}}return L.length>0&&(M["!rows"]=L),B.length>0&&(M["!cols"]=B),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,M]}function s(x,p){var y=n(x,p),b=y[0],v=y[1],k=Ug(b,p);return ii(v).forEach(function(N){k[N]=v[N]}),k}function l(x,p){return Eh(s(x,p),p)}function u(x,p,y,b){var v="C;Y"+(y+1)+";X"+(b+1)+";K";switch(x.t){case"n":v+=x.v||0,x.f&&!x.F&&(v+=";E"+EA(x.f,{r:y,c:b}));break;case"b":v+=x.v?"TRUE":"FALSE";break;case"e":v+=x.w||x.v;break;case"d":v+='"'+(x.w||x.v)+'"';break;case"s":v+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function d(x,p){p.forEach(function(y,b){var v="F;W"+(b+1)+" "+(b+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=B1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=U1(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&x.push(v)})}function h(x,p){p.forEach(function(y,b){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*z1(y.hpx)+";"),v.length>2&&x.push(v+"R"+(b+1))})}function m(x,p){var y=["ID;PWXL;N;E"],b=[],v=ya(x["!ref"]),k,N=Array.isArray(x),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&d(y,x["!cols"]),x["!rows"]&&h(y,x["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var A=v.s.r;A<=v.e.r;++A)for(var D=v.s.c;D<=v.e.c;++D){var M=jr({r:A,c:D});k=N?(x[A]||[])[D]:x[M],!(!k||k.v==null&&(!k.f||k.F))&&b.push(u(k,x,A,D))}return y.join(_)+_+b.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:s,from_sheet:m}})(),b$=(function(){function e(i,s){switch(s.type){case"base64":return t(xl(i),s);case"binary":return t(i,s);case"buffer":return t(Gr&&Buffer.isBuffer(i)?i.toString("binary"):Th(i),s);case"array":return t(am(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var l=i.split(`
`),u=-1,d=-1,h=0,m=[];h!==l.length;++h){if(l[h].trim()==="BOT"){m[++u]=[],d=0;continue}if(!(u<0)){var x=l[h].trim().split(","),p=x[0],y=x[1];++h;for(var b=l[h]||"";(b.match(/["]/g)||[]).length&1&&h<l.length-1;)b+=`
`+l[++h];switch(b=b.trim(),+p){case-1:if(b==="BOT"){m[++u]=[],d=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[u][d]=!0:b==="FALSE"?m[u][d]=!1:isNaN(zc(y))?isNaN(gg(y).getDate())?m[u][d]=y:m[u][d]=bn(y):m[u][d]=zc(y),++d;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[u][d++]=b!==""?b:null;break}if(b==="EOD")break}}return s&&s.sheetRows&&(m=m.slice(0,s.sheetRows)),m}function r(i,s){return Ug(e(i,s),s)}function a(i,s){return Eh(r(i,s),s)}var n=(function(){var i=function(u,d,h,m,x){u.push(d),u.push(h+","+m),u.push('"'+x.replace(/"/g,'""')+'"')},s=function(u,d,h,m){u.push(d+","+h),u.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var d=[],h=ya(u["!ref"]),m,x=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var p=h.s.r;p<=h.e.r;++p){s(d,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var b=jr({r:p,c:y});if(m=x?(u[p]||[])[y]:u[b],!m){s(d,1,0,"");continue}switch(m.t){case"n":var v=m.w;!v&&m.v!=null&&(v=m.v),v==null?m.f&&!m.F?s(d,1,0,"="+m.f):s(d,1,0,""):s(d,0,v,"V");break;case"b":s(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":s(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=ec(m.z||Nr[14],Wi(bn(m.v)))),s(d,0,m.w,"V");break;default:s(d,1,0,"")}}}s(d,-1,0,"EOD");var k=`\r
`,N=d.join(k);return N}})();return{to_workbook:a,to_sheet:r,from_sheet:n}})(),y$=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var p=m.split(`
`),y=-1,b=-1,v=0,k=[];v!==p.length;++v){var N=p[v].trim().split(":");if(N[0]==="cell"){var _=Hn(N[1]);if(k.length<=_.r)for(y=k.length;y<=_.r;++y)k[y]||(k[y]=[]);switch(y=_.r,b=_.c,N[2]){case"t":k[y][b]=e(N[3]);break;case"v":k[y][b]=+N[3];break;case"vtf":var A=N[N.length-1];case"vtc":switch(N[3]){case"nl":k[y][b]=!!+N[4];break;default:k[y][b]=+N[4];break}N[2]=="vtf"&&(k[y][b]=[k[y][b],A])}}}return x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}function a(m,x){return Ug(r(m,x),x)}function n(m,x){return Eh(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var x=[],p=[],y,b="",v=Uo(m["!ref"]),k=Array.isArray(m),N=v.s.r;N<=v.e.r;++N)for(var _=v.s.c;_<=v.e.c;++_)if(b=jr({r:N,c:_}),y=k?(m[N]||[])[_]:m[b],!(!y||y.v==null||y.t==="z")){switch(p=["cell",b,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=Wi(bn(y.v));p[2]="vtc",p[3]="nd",p[4]=""+A,p[5]=y.w||ec(y.z||Nr[14],A);break;case"e":continue}x.push(p.join(":"))}return x.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(m){return[i,s,l,s,d(m),u].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:h}})(),xg=(function(){function e(h,m,x,p,y){y.raw?m[x][p]=h:h===""||(h==="TRUE"?m[x][p]=!0:h==="FALSE"?m[x][p]=!1:isNaN(zc(h))?isNaN(gg(h).getDate())?m[x][p]=h:m[x][p]=bn(h):m[x][p]=zc(h))}function t(h,m){var x=m||{},p=[];if(!h||h.length===0)return p;for(var y=h.split(/[\r\n]/),b=y.length-1;b>=0&&y[b].length===0;)--b;for(var v=10,k=0,N=0;N<=b;++N)k=y[N].indexOf(" "),k==-1?k=y[N].length:k++,v=Math.max(v,k);for(N=0;N<=b;++N){p[N]=[];var _=0;for(e(y[N].slice(0,v).trim(),p,N,_,x),_=1;_<=(y[N].length-v)/10+1;++_)e(y[N].slice(v+(_-1)*10,v+_*10).trim(),p,N,_,x)}return x.sheetRows&&(p=p.slice(0,x.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(h){for(var m={},x=!1,p=0,y=0;p<h.length;++p)(y=h.charCodeAt(p))==34?x=!x:!x&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p]);if(!y.length){m=a;for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p])}return y.sort(function(b,v){return b[0]-v[0]||a[b[1]]-a[v[1]]}),r[y.pop()[1]]||44}function i(h,m){var x=m||{},p="",y=x.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(p=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(p=h.charAt(4),h=h.slice(6)):p=n(h.slice(0,1024)):x&&x.FS?p=x.FS:p=n(h.slice(0,1024));var v=0,k=0,N=0,_=0,A=0,D=p.charCodeAt(0),M=!1,L=0,B=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var F=x.dateNF!=null?Dxe(x.dateNF):null;function H(){var O=h.slice(_,A),I={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)I.t="z";else if(x.raw)I.t="s",I.v=O;else if(O.trim().length===0)I.t="s",I.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(I.t="s",I.v=O.slice(2,-1).replace(/""/g,'"')):lwe(O)?(I.t="n",I.f=O.slice(1)):(I.t="s",I.v=O);else if(O=="TRUE")I.t="b",I.v=!0;else if(O=="FALSE")I.t="b",I.v=!1;else if(!isNaN(N=zc(O)))I.t="n",x.cellText!==!1&&(I.w=O),I.v=N;else if(!isNaN(gg(O).getDate())||F&&O.match(F)){I.z=x.dateNF||Nr[14];var V=0;F&&O.match(F)&&(O=Lxe(O,x.dateNF,O.match(F)||[]),V=1),x.cellDates?(I.t="d",I.v=bn(O,V)):(I.t="n",I.v=Wi(bn(O,V))),x.cellText!==!1&&(I.w=ec(I.z,I.v instanceof Date?Wi(I.v):I.v)),x.cellNF||delete I.z}else I.t="s",I.v=O;if(I.t=="z"||(x.dense?(y[v]||(y[v]=[]),y[v][k]=I):y[jr({c:k,r:v})]=I),_=A+1,B=h.charCodeAt(_),b.e.c<k&&(b.e.c=k),b.e.r<v&&(b.e.r=v),L==D)++k;else if(k=0,++v,x.sheetRows&&x.sheetRows<=v)return!0}e:for(;A<h.length;++A)switch(L=h.charCodeAt(A)){case 34:B===34&&(M=!M);break;case D:case 10:case 13:if(!M&&H())break e;break}return A-_>0&&H(),y["!ref"]=Ur(b),y}function s(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):Ug(t(h,m),m)}function l(h,m){var x="",p=m.type=="string"?[0,0,0,0]:RA(h,m);switch(m.type){case"base64":x=xl(h);break;case"binary":x=h;break;case"buffer":m.codepage==65001?x=h.toString("utf8"):m.codepage&&typeof O1<"u"||(x=Gr&&Buffer.isBuffer(h)?h.toString("binary"):Th(h));break;case"array":x=am(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+m.type)}return p[0]==239&&p[1]==187&&p[2]==191?x=Ya(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Ya(x):m.type=="binary"&&typeof O1<"u",x.slice(0,19)=="socialcalc:version:"?y$.to_sheet(m.type=="string"?x:Ya(x),m):s(x,m)}function u(h,m){return Eh(l(h,m),m)}function d(h){for(var m=[],x=ya(h["!ref"]),p,y=Array.isArray(h),b=x.s.r;b<=x.e.r;++b){for(var v=[],k=x.s.c;k<=x.e.c;++k){var N=jr({r:b,c:k});if(p=y?(h[b]||[])[k]:h[N],!p||p.v==null){v.push("          ");continue}for(var _=(p.w||(Jd(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(k===0?" ":""))}m.push(v.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:l,from_sheet:d}})();function Gbe(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=v$.to_workbook(e,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return xg.to_workbook(e,t)}}var Bf=(function(){function e(P,W,z){if(P){Ss(P,P.l||0);for(var q=z.Enum||De;P.l<P.length;){var Z=P.read_shift(2),se=q[Z]||q[65535],ee=P.read_shift(2),Q=P.l+ee,me=se.f&&se.f(P,ee,z);if(P.l=Q,W(me,se,Z))return}}}function t(P,W){switch(W.type){case"base64":return r(ul(xl(P)),W);case"binary":return r(ul(P),W);case"buffer":case"array":return r(P,W)}throw"Unsupported type "+W.type}function r(P,W){if(!P)return P;var z=W||{},q=z.dense?[]:{},Z="Sheet1",se="",ee=0,Q={},me=[],Ae=[],J={s:{r:0,c:0},e:{r:0,c:0}},ke=z.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)z.Enum=De,e(P,function(ze,mt,Te){switch(Te){case 0:z.vers=ze,ze>=4096&&(z.qpro=!0);break;case 6:J=ze;break;case 204:ze&&(se=ze);break;case 222:se=ze;break;case 15:case 51:z.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Te==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=z.dateNF||Nr[14],z.cellDates&&(ze[1].t="d",ze[1].v=rk(ze[1].v))),z.qpro&&ze[3]>ee&&(q["!ref"]=Ur(J),Q[Z]=q,me.push(Z),q=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ee=ze[3],Z=se||"Sheet"+(ee+1),se="");var Ee=z.dense?(q[ze[0].r]||[])[ze[0].c]:q[jr(ze[0])];if(Ee){Ee.t=ze[1].t,Ee.v=ze[1].v,ze[1].z!=null&&(Ee.z=ze[1].z),ze[1].f!=null&&(Ee.f=ze[1].f);break}z.dense?(q[ze[0].r]||(q[ze[0].r]=[]),q[ze[0].r][ze[0].c]=ze[1]):q[jr(ze[0])]=ze[1];break}},z);else if(P[2]==26||P[2]==14)z.Enum=re,P[2]==14&&(z.qpro=!0,P.l=0),e(P,function(ze,mt,Te){switch(Te){case 204:Z=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>ee&&(q["!ref"]=Ur(J),Q[Z]=q,me.push(Z),q=z.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ee=ze[3],Z="Sheet"+(ee+1)),ke>0&&ze[0].r>=ke)break;z.dense?(q[ze[0].r]||(q[ze[0].r]=[]),q[ze[0].r][ze[0].c]=ze[1]):q[jr(ze[0])]=ze[1],J.e.c<ze[0].c&&(J.e.c=ze[0].c),J.e.r<ze[0].r&&(J.e.r=ze[0].r);break;case 27:ze[14e3]&&(Ae[ze[14e3][0]]=ze[14e3][1]);break;case 1537:Ae[ze[0]]=ze[1],ze[0]==ee&&(Z=ze[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(q["!ref"]=Ur(J),Q[se||Z]=q,me.push(se||Z),!Ae.length)return{SheetNames:me,Sheets:Q};for(var ye={},ce=[],qe=0;qe<Ae.length;++qe)Q[me[qe]]?(ce.push(Ae[qe]||me[qe]),ye[Ae[qe]]=Q[Ae[qe]]||Q[me[qe]]):(ce.push(Ae[qe]),ye[Ae[qe]]={"!ref":"A1"});return{SheetNames:ce,Sheets:ye}}function a(P,W){var z=W||{};if(+z.codepage>=0&&Bc(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Bo(),Z=ya(P["!ref"]),se=Array.isArray(P),ee=[];It(q,0,i(1030)),It(q,6,u(Z));for(var Q=Math.min(Z.e.r,8191),me=Z.s.r;me<=Q;++me)for(var Ae=gi(me),J=Z.s.c;J<=Z.e.c;++J){me===Z.s.r&&(ee[J]=$n(J));var ke=ee[J]+Ae,ye=se?(P[me]||[])[J]:P[ke];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?It(q,13,p(me,J,ye.v)):It(q,14,b(me,J,ye.v));else{var ce=Jd(ye);It(q,15,m(me,J,ce.slice(0,239)))}}return It(q,1),q.end()}function n(P,W){var z=W||{};if(+z.codepage>=0&&Bc(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Bo();It(q,0,s(P));for(var Z=0,se=0;Z<P.SheetNames.length;++Z)(P.Sheets[P.SheetNames[Z]]||{})["!ref"]&&It(q,27,oe(P.SheetNames[Z],se++));var ee=0;for(Z=0;Z<P.SheetNames.length;++Z){var Q=P.Sheets[P.SheetNames[Z]];if(!(!Q||!Q["!ref"])){for(var me=ya(Q["!ref"]),Ae=Array.isArray(Q),J=[],ke=Math.min(me.e.r,8191),ye=me.s.r;ye<=ke;++ye)for(var ce=gi(ye),qe=me.s.c;qe<=me.e.c;++qe){ye===me.s.r&&(J[qe]=$n(qe));var ze=J[qe]+ce,mt=Ae?(Q[ye]||[])[qe]:Q[ze];if(!(!mt||mt.t=="z"))if(mt.t=="n")It(q,23,H(ye,qe,ee,mt.v));else{var Te=Jd(mt);It(q,22,L(ye,qe,ee,Te.slice(0,239)))}}++ee}}return It(q,1),q.end()}function i(P){var W=dt(2);return W.write_shift(2,P),W}function s(P){var W=dt(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var z=0,q=0,Z=0,se=0;se<P.SheetNames.length;++se){var ee=P.SheetNames[se],Q=P.Sheets[ee];if(!(!Q||!Q["!ref"])){++Z;var me=Uo(Q["!ref"]);z<me.e.r&&(z=me.e.r),q<me.e.c&&(q=me.e.c)}}return z>8191&&(z=8191),W.write_shift(2,z),W.write_shift(1,Z),W.write_shift(1,q),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function l(P,W,z){var q={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&z.qpro?(q.s.c=P.read_shift(1),P.l++,q.s.r=P.read_shift(2),q.e.c=P.read_shift(1),P.l++,q.e.r=P.read_shift(2),q):(q.s.c=P.read_shift(2),q.s.r=P.read_shift(2),W==12&&z.qpro&&(P.l+=2),q.e.c=P.read_shift(2),q.e.r=P.read_shift(2),W==12&&z.qpro&&(P.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function u(P){var W=dt(8);return W.write_shift(2,P.s.c),W.write_shift(2,P.s.r),W.write_shift(2,P.e.c),W.write_shift(2,P.e.r),W}function d(P,W,z){var q=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(q[0].c=P.read_shift(1),q[3]=P.read_shift(1),q[0].r=P.read_shift(2),P.l+=2):(q[2]=P.read_shift(1),q[0].c=P.read_shift(2),q[0].r=P.read_shift(2)),q}function h(P,W,z){var q=P.l+W,Z=d(P,W,z);if(Z[1].t="s",z.vers==20768){P.l++;var se=P.read_shift(1);return Z[1].v=P.read_shift(se,"utf8"),Z}return z.qpro&&P.l++,Z[1].v=P.read_shift(q-P.l,"cstr"),Z}function m(P,W,z){var q=dt(7+z.length);q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,P),q.write_shift(1,39);for(var Z=0;Z<q.length;++Z){var se=z.charCodeAt(Z);q.write_shift(1,se>=128?95:se)}return q.write_shift(1,0),q}function x(P,W,z){var q=d(P,W,z);return q[1].v=P.read_shift(2,"i"),q}function p(P,W,z){var q=dt(7);return q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,P),q.write_shift(2,z,"i"),q}function y(P,W,z){var q=d(P,W,z);return q[1].v=P.read_shift(8,"f"),q}function b(P,W,z){var q=dt(13);return q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,P),q.write_shift(8,z,"f"),q}function v(P,W,z){var q=P.l+W,Z=d(P,W,z);if(Z[1].v=P.read_shift(8,"f"),z.qpro)P.l=q;else{var se=P.read_shift(2);A(P.slice(P.l,P.l+se),Z),P.l+=se}return Z}function k(P,W,z){var q=W&32768;return W&=-32769,W=(q?P:0)+(W>=8192?W-16384:W),(q?"":"$")+(z?$n(W):gi(W))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(P,W){Ss(P,0);for(var z=[],q=0,Z="",se="",ee="",Q="";P.l<P.length;){var me=P[P.l++];switch(me){case 0:z.push(P.read_shift(8,"f"));break;case 1:se=k(W[0].c,P.read_shift(2),!0),Z=k(W[0].r,P.read_shift(2),!1),z.push(se+Z);break;case 2:{var Ae=k(W[0].c,P.read_shift(2),!0),J=k(W[0].r,P.read_shift(2),!1);se=k(W[0].c,P.read_shift(2),!0),Z=k(W[0].r,P.read_shift(2),!1),z.push(Ae+J+":"+se+Z)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(P.read_shift(2));break;case 6:{for(var ke="";me=P[P.l++];)ke+=String.fromCharCode(me);z.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:Q=z.pop(),ee=z.pop(),z.push(["AND","OR"][me-20]+"("+ee+","+Q+")");break;default:if(me<32&&_[me])Q=z.pop(),ee=z.pop(),z.push(ee+_[me]+Q);else if(N[me]){if(q=N[me][1],q==69&&(q=P[P.l++]),q>z.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+z.join("|")+"|");return}var ye=z.slice(-q);z.length-=q,z.push(N[me][0]+"("+ye.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}z.length==1?W[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function D(P){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=P.read_shift(2),W[3]=P[P.l++],W[0].c=P[P.l++],W}function M(P,W){var z=D(P);return z[1].t="s",z[1].v=P.read_shift(W-4,"cstr"),z}function L(P,W,z,q){var Z=dt(6+q.length);Z.write_shift(2,P),Z.write_shift(1,z),Z.write_shift(1,W),Z.write_shift(1,39);for(var se=0;se<q.length;++se){var ee=q.charCodeAt(se);Z.write_shift(1,ee>=128?95:ee)}return Z.write_shift(1,0),Z}function B(P,W){var z=D(P);z[1].v=P.read_shift(2);var q=z[1].v>>1;if(z[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return z[1].v=q,z}function F(P,W){var z=D(P),q=P.read_shift(4),Z=P.read_shift(4),se=P.read_shift(2);if(se==65535)return q===0&&Z===3221225472?(z[1].t="e",z[1].v=15):q===0&&Z===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ee=se&32768;return se=(se&32767)-16446,z[1].v=(1-ee*2)*(Z*Math.pow(2,se+32)+q*Math.pow(2,se)),z}function H(P,W,z,q){var Z=dt(14);if(Z.write_shift(2,P),Z.write_shift(1,z),Z.write_shift(1,W),q==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var se=0,ee=0,Q=0,me=0;return q<0&&(se=1,q=-q),ee=Math.log2(q)|0,q/=Math.pow(2,ee-31),me=q>>>0,(me&2147483648)==0&&(q/=2,++ee,me=q>>>0),q-=me,me|=2147483648,me>>>=0,q*=Math.pow(2,32),Q=q>>>0,Z.write_shift(4,Q),Z.write_shift(4,me),ee+=16383+(se?32768:0),Z.write_shift(2,ee),Z}function O(P,W){var z=F(P);return P.l+=W-14,z}function I(P,W){var z=D(P),q=P.read_shift(4);return z[1].v=q>>6,z}function V(P,W){var z=D(P),q=P.read_shift(8,"f");return z[1].v=q,z}function Y(P,W){var z=V(P);return P.l+=W-10,z}function te(P,W){return P[P.l+W-1]==0?P.read_shift(W,"cstr"):""}function X(P,W){var z=P[P.l++];z>W-1&&(z=W-1);for(var q="";q.length<z;)q+=String.fromCharCode(P[P.l++]);return q}function ae(P,W,z){if(!(!z.qpro||W<21)){var q=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Z=P.read_shift(W-21,"cstr");return[q,Z]}}function de(P,W){for(var z={},q=P.l+W;P.l<q;){var Z=P.read_shift(2);if(Z==14e3){for(z[Z]=[0,""],z[Z][0]=P.read_shift(2);P[P.l];)z[Z][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return z}function oe(P,W){var z=dt(5+P.length);z.write_shift(2,14e3),z.write_shift(2,W);for(var q=0;q<P.length;++q){var Z=P.charCodeAt(q);z[z.l++]=Z>127?95:Z}return z[z.l++]=0,z}var De={0:{n:"BOF",f:Ai},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})();function Ybe(e){var t={},r=e.match(Ks),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=Er(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=eA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var Xbe=(function(){var e=L1("t"),t=L1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var l={t:"s",v:ba(s[1])},u=i.match(t);return u&&(l.s=Ybe(u[1])),l}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(s){return s.replace(a,"").split(n).map(r).filter(function(l){return l.v})}})(),Qbe=(function(){var t=/(\r\n|\n)/g;function r(n,i,s){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),n.b&&(i.push("<b>"),s.push("</b>")),n.i&&(i.push("<i>"),s.push("</i>")),n.strike&&(i.push("<s>"),s.push("</s>"));var u=n.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}})(),Jbe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Zbe=/<(?:\w+:)?r>/,eye=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function SA(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=ba(Ya(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Ya(e),r&&(a.h=uA(a.t))):e.match(Zbe)&&(a.r=Ya(e),a.t=ba(Ya((e.replace(eye,"").match(Jbe)||[]).join("").replace(Ks,""))),r&&(a.h=Qbe(Xbe(a.r)))),a):{t:""}}var tye=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rye=/<(?:\w+:)?(?:si|sstItem)>/g,aye=/<\/(?:\w+:)?(?:si|sstItem)>/;function nye(e,t){var r=[],a="";if(!e)return r;var n=e.match(tye);if(n){a=n[2].replace(rye,"").split(aye);for(var i=0;i!=a.length;++i){var s=SA(a[i].trim(),t);s!=null&&(r[r.length]=s)}n=Er(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var iye=/^\s|\s$|[\t\n\r]/;function w$(e,t){if(!t.bookSST)return"";var r=[vi];r[r.length]=Mt("sst",null,{xmlns:mm[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(iye)&&(i+=' xml:space="preserve"'),i+=">"+Ba(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function sye(e){return[e.read_shift(4),e.read_shift(4)]}function oye(e,t){var r=[],a=!1;return l0(e,function(i,s,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(s.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function lye(e,t){return t||(t=dt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var cye=b1e;function uye(e){var t=Bo();jt(t,159,lye(e));for(var r=0;r<e.length;++r)jt(t,19,cye(e[r]));return jt(t,160),t.end()}function k$(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function qd(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function dye(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=qd(e,4),t.U=qd(e,4),t.W=qd(e,4),t}function hye(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function fye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(hye(e));return t}function mye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function pye(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=qd(e,4),t.U=qd(e,4),t.W=qd(e,4),t}function gye(e){var t=pye(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function _$(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function S$(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function xye(e){var t=qd(e);switch(t.Minor){case 2:return[t.Minor,vye(e)];case 3:return[t.Minor,bye()];case 4:return[t.Minor,yye(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function vye(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=_$(e,r),n=S$(e,e.length-e.l);return{t:"Std",h:a,v:n}}function bye(){throw new Error("File is password-protected: ECMA-376 Extensible")}function yye(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(Ks,function(i){var s=Er(i);switch(zu(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=s[l]});break;case"<dataIntegrity":a.encryptedHmacKey=s.encryptedHmacKey,a.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(s);break;default:throw s[0]}}),a}function wye(e,t){var r={},a=r.EncryptionVersionInfo=qd(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=_$(e,n),t-=n,r.EncryptionVerifier=S$(e,t),r}function kye(e){var t={},r=t.EncryptionVersionInfo=qd(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function NA(e){var t=0,r,a=k$(e),n=a.length+1,i,s,l,u,d;for(r=vh(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)s=r[i],l=(t&16384)===0?0:1,u=t<<1&32767,d=l|u,t=d^s;return t^52811}var N$=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(s){return(s/2|s*128)&255},n=function(s,l){return a(s^l)},i=function(s){for(var l=t[s.length-1],u=104,d=s.length-1;d>=0;--d)for(var h=s[d],m=0;m!=7;++m)h&64&&(l^=r[u]),h*=2,--u;return l};return function(s){for(var l=k$(s),u=i(l),d=l.length,h=vh(16),m=0;m!=16;++m)h[m]=0;var x,p,y;for((d&1)===1&&(x=u>>8,h[d]=n(e[0],x),--d,x=u&255,p=l[l.length-1],h[d]=n(p,x));d>0;)--d,x=u>>8,h[d]=n(l[d],x),--d,x=u&255,h[d]=n(l[d],x);for(d=15,y=15-l.length;y>0;)x=u>>8,h[d]=n(e[y],x),--d,--y,x=u&255,h[d]=n(l[d],x),--d,--y;return h}})(),_ye=function(e,t,r,a,n){n||(n=t),a||(a=N$(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=a[r],s=(s>>5|s<<3)&255,n[i]=s,++r;return[n,r,a]},Sye=function(e){var t=0,r=N$(e);return function(a){var n=_ye("",a,t,r);return t=n[1],n[0]}};function Nye(e,t,r,a){var n={key:Ai(e),verificationBytes:Ai(e)};return r.password&&(n.verifier=NA(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=Sye(r.password)),n}function jye(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=kye(e):a.Data=wye(e,t),a}function Aye(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?jye(e,t-2,a):Nye(e,r.biff>=8?t:t-2,r,a),a}var j$=(function(){function e(n,i){switch(i.type){case"base64":return t(xl(n),i);case"binary":return t(n,i);case"buffer":return t(Gr&&Buffer.isBuffer(n)?n.toString("binary"):Th(n),i);case"array":return t(am(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var s=i||{},l=s.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,m){Array.isArray(l)&&(l[m]=[]);for(var x=/\\\w+\b/g,p=0,y,b=-1;y=x.exec(h);){switch(y[0]){case"\\cell":var v=h.slice(p,x.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var k={v,t:"s"};Array.isArray(l)?l[m][b]=k:l[jr({r:m,c:b})]=k}break}p=x.lastIndex}b>d.e.c&&(d.e.c=b)}),l["!ref"]=Ur(d),l}function r(n,i){return Eh(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],s=ya(n["!ref"]),l,u=Array.isArray(n),d=s.s.r;d<=s.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var m=jr({r:d,c:h});l=u?(n[d]||[])[h]:n[m],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Jd(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function Tye(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function F1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Eye(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),s=n-i;if(s===0)return[0,0,t];var l=0,u=0,d=n+i;switch(u=s/(d>1?2-d:d),n){case t:l=((r-a)/s+6)%6;break;case r:l=(a-t)/s+2;break;case a:l=(t-r)/s+4;break}return[l/6,u,d/2]}function Cye(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),i=a-n/2,s=[i,i,i],l=6*t,u;if(r!==0)switch(l|0){case 0:case 6:u=n*l,s[0]+=n,s[1]+=u;break;case 1:u=n*(2-l),s[0]+=u,s[1]+=n;break;case 2:u=n*(l-2),s[1]+=n,s[2]+=u;break;case 3:u=n*(4-l),s[1]+=u,s[2]+=n;break;case 4:u=n*(l-4),s[2]+=n,s[0]+=u;break;case 5:u=n*(6-l),s[2]+=u,s[0]+=n;break}for(var d=0;d!=3;++d)s[d]=Math.round(s[d]*255);return s}function W2(e,t){if(t===0)return e;var r=Eye(Tye(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),F1(Cye(r))}var A$=6,Oye=15,Pye=1,qs=A$;function B1(e){return Math.floor((e+Math.round(128/qs)/256)*qs)}function U1(e){return Math.floor((e-5)/qs*100+.5)/100}function V2(e){return Math.round((e*qs+5)/qs*256)/256}function T_(e){return V2(U1(B1(e)))}function jA(e){var t=Math.abs(e-T_(e)),r=qs;if(t>.005)for(qs=Pye;qs<Oye;++qs)Math.abs(e-T_(e))<=t&&(t=Math.abs(e-T_(e)),r=qs);qs=r}function bh(e){e.width?(e.wpx=B1(e.width),e.wch=U1(e.wpx),e.MDW=qs):e.wpx?(e.wch=U1(e.wpx),e.width=V2(e.wch),e.MDW=qs):typeof e.wch=="number"&&(e.width=V2(e.wch),e.wpx=B1(e.width),e.MDW=qs),e.customWidth&&delete e.customWidth}var Dye=96,T$=Dye;function z1(e){return e*96/T$}function vg(e){return e*T$/96}var Lye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mye(e,t,r,a){t.Borders=[];var n={},i=!1;(e[0].match(Ks)||[]).forEach(function(s){var l=Er(s);switch(zu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=gn(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=gn(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function Iye(e,t,r,a){t.Fills=[];var n={},i=!1;(e[0].match(Ks)||[]).forEach(function(s){var l=Er(s);switch(zu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function Rye(e,t,r,a){t.Fonts=[];var n={},i=!1;(e[0].match(Ks)||[]).forEach(function(s){var l=Er(s);switch(zu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=Ya(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?gn(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?gn(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?gn(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?gn(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?gn(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?gn(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?gn(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=eA[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=gn(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var u=Rf[n.color.index];n.color.index==81&&(u=Rf[1]),u||(u=Rf[1]),n.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=W2(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function Fye(e,t,r){t.NumberFmt=[];for(var a=ii(Nr),n=0;n<a.length;++n)t.NumberFmt[a[n]]=Nr[a[n]];var i=e[0].match(Ks);if(i)for(n=0;n<i.length;++n){var s=Er(i[n]);switch(zu(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ba(Ya(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=l,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=l}zd(l,u)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Bye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Mt("numFmt",null,{numFmtId:a,formatCode:Ba(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Mt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var ly=["numFmtId","fillId","fontId","borderId","xfId"],cy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Uye(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(Ks)||[]).forEach(function(i){var s=Er(i),l=0;switch(zu(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=s,delete a[0],l=0;l<ly.length;++l)a[ly[l]]&&(a[ly[l]]=parseInt(a[ly[l]],10));for(l=0;l<cy.length;++l)a[cy[l]]&&(a[cy[l]]=gn(a[cy[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=gn(s.wrapText)),a.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function zye(e){var t=[];return t[t.length]=Mt("cellXfs",null),e.forEach(function(r){t[t.length]=Mt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Mt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var qye=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,u,d){var h={};if(!l)return h;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=l.match(t))&&Fye(m,h,d),(m=l.match(n))&&Rye(m,h,u,d),(m=l.match(a))&&Iye(m,h,u,d),(m=l.match(i))&&Mye(m,h,u,d),(m=l.match(r))&&Uye(m,h,d),h}})();function E$(e,t){var r=[vi,Mt("styleSheet",null,{xmlns:mm[0],"xmlns:vt":Hi.vt})],a;return e.SSF&&(a=Bye(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=zye(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function $ye(e,t){var r=e.read_shift(2),a=Ws(e);return[r,a]}function Hye(e,t,r){r||(r=dt(6+4*t.length)),r.write_shift(2,e),us(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function Wye(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=j1e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(a.underline=s);var l=e.read_shift(1);l>0&&(a.family=l);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=N1e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ws(e),a}function Vye(e,t){t||(t=dt(153)),t.write_shift(2,e.sz*20),A1e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),q2(e.color,t);var a=0;return a=2,t.write_shift(1,a),us(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Kye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],E_,Gye=Vs;function yL(e,t){t||(t=dt(84)),E_||(E_=ek(Kye));var r=E_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(q2({auto:1},t),q2({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Yye(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function C$(e,t,r){r||(r=dt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ix(e,t){return t||(t=dt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Xye=Vs;function Qye(e,t){return t||(t=dt(51)),t.write_shift(1,0),Ix(null,t),Ix(null,t),Ix(null,t),Ix(null,t),Ix(null,t),t.length>t.l?t.slice(0,t.l):t}function Jye(e,t){return t||(t=dt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),z2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Zye(e,t,r){var a=dt(2052);return a.write_shift(4,e),z2(t,a),z2(r,a),a.length>a.l?a.slice(0,a.l):a}function e2e(e,t,r){var a={};a.NumberFmt=[];for(var n in Nr)a.NumberFmt[n]=Nr[n];a.CellXf=[],a.Fonts=[];var i=[],s=!1;return l0(e,function(u,d,h){switch(h){case 44:a.NumberFmt[u[0]]=u[1],zd(u[1],u[0]);break;case 43:a.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=W2(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(h),s=!0;break;case 38:i.pop(),s=!1;break;default:if(d.T>0)i.push(h);else if(d.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),a}function t2e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(jt(e,615,qc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&jt(e,44,Hye(n,t[n]))}),jt(e,616))}}function r2e(e){var t=1;jt(e,611,qc(t)),jt(e,43,Vye({sz:12,color:{theme:1},name:"Calibri",family:2})),jt(e,612)}function a2e(e){var t=2;jt(e,603,qc(t)),jt(e,45,yL({patternType:"none"})),jt(e,45,yL({patternType:"gray125"})),jt(e,604)}function n2e(e){var t=1;jt(e,613,qc(t)),jt(e,46,Qye()),jt(e,614)}function i2e(e){var t=1;jt(e,626,qc(t)),jt(e,47,C$({numFmtId:0},65535)),jt(e,627)}function s2e(e,t){jt(e,617,qc(t.length)),t.forEach(function(r){jt(e,47,C$(r,0))}),jt(e,618)}function o2e(e){var t=1;jt(e,619,qc(t)),jt(e,48,Jye({xfId:0,name:"Normal"})),jt(e,620)}function l2e(e){var t=0;jt(e,505,qc(t)),jt(e,506)}function c2e(e){var t=0;jt(e,508,Zye(t,"TableStyleMedium9","PivotStyleMedium4")),jt(e,509)}function u2e(e,t){var r=Bo();return jt(r,278),t2e(r,e.SSF),r2e(r),a2e(r),n2e(r),i2e(r),s2e(r,t.cellXfs),o2e(r),l2e(r),c2e(r),jt(r,279),r.end()}var d2e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function h2e(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(Ks)||[]).forEach(function(n){var i=Er(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[d2e.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function f2e(){}function m2e(){}var p2e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,g2e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,x2e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function v2e(e,t,r){t.themeElements={};var a;[["clrScheme",p2e,h2e],["fontScheme",g2e,f2e],["fmtScheme",x2e,m2e]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var b2e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function O$(e,t){(!e||e.length===0)&&(e=AA());var r,a={};if(!(r=e.match(b2e)))throw new Error("themeElements not found in theme");return v2e(r[0],a,t),a.raw=e,a}function AA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[vi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function y2e(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var s;try{s=_q(i,{type:"array"})}catch{return}var l=dl(s,"theme/theme/theme1.xml",!0);if(l)return O$(l,r)}}function w2e(e){return e.read_shift(4)}function k2e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=_2e(e,4);break;case 2:t.xclrValue=u$(e);break;case 3:t.xclrValue=w2e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function _2e(e,t){return Vs(e,t)}function S2e(e,t){return Vs(e,t)}function N2e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=k2e(e);break;case 6:a[1]=S2e(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function j2e(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(N2e(e,r-e.l));return{ixfe:a,ext:i}}function A2e(e,t){t.forEach(function(r){r[0]})}function T2e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ws(e)}}function E2e(e){var t=dt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),us(e.name,t),t.slice(0,t.l)}function C2e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function O2e(e){var t=dt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function P2e(e,t){var r=dt(8+2*t.length);return r.write_shift(4,e),us(t,r),r.slice(0,r.l)}function D2e(e){return e.l+=4,e.read_shift(4)!=0}function L2e(e,t){var r=dt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function M2e(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],s=!1,l=2;return l0(e,function(u,d,h){switch(h){case 335:a.Types.push({name:u.name});break;case 51:u.forEach(function(m){l==1?a.Cell.push({type:a.Types[m[0]-1].name,index:m[1]}):l==0&&a.Value.push({type:a.Types[m[0]-1].name,index:m[1]})});break;case 337:l=u?1:0;break;case 338:l=2;break;case 35:i.push(h),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!d.T){if(!s||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),a}function I2e(){var e=Bo();return jt(e,332),jt(e,334,qc(1)),jt(e,335,E2e({name:"XLDAPR",version:12e4,flags:3496657072})),jt(e,336),jt(e,339,P2e(1,"XLDAPR")),jt(e,52),jt(e,35,qc(514)),jt(e,4096,qc(0)),jt(e,4097,Vl(1)),jt(e,36),jt(e,53),jt(e,340),jt(e,337,L2e(1)),jt(e,51,O2e([[1,0]])),jt(e,338),jt(e,333),e.end()}function R2e(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,s;return e.replace(Ks,function(l){var u=Er(l);switch(zu(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==u.name&&(s=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[u.t-1].name,index:+u.v}):i==0&&a.Value.push({type:a.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return l}),a}function P$(){var e=[vi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function F2e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ks)||[]).forEach(function(a){var n=Er(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function B2e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=jr(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function U2e(e,t,r){var a=[];return l0(e,function(i,s,l){switch(l){case 63:a.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function z2e(e,t,r,a){if(!e)return e;var n=a||{},i=!1;l0(e,function(l,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function q2e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Dp=1024;function D$(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[Mt("xml",null,{"xmlns:v":il.v,"xmlns:o":il.o,"xmlns:x":il.x,"xmlns:mv":il.mv}).replace(/\/>/,">"),Mt("o:shapelayout",Mt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Mt("v:shapetype",[Mt("v:stroke",null,{joinstyle:"miter"}),Mt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Dp<e*1e3;)Dp+=1e3;return t.forEach(function(i){var s=Hn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var u=l.type=="gradient"?Mt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Mt("v:fill",u,l),h={on:"t",obscured:"t"};++Dp,n=n.concat(["<v:shape"+M1({id:"_x0000_s"+Dp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Mt("v:shadow",null,h),Mt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ns("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ns("x:AutoFill","False"),Ns("x:Row",String(s.r)),Ns("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function wL(e,t,r,a){var n=Array.isArray(e),i;t.forEach(function(s){var l=Hn(s.ref);if(n?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[s.ref],!i){i={t:"z"},n?e[l.r][l.c]=i:e[s.ref]=i;var u=ya(e["!ref"]||"BDWGO1000001:A1");u.s.r>l.r&&(u.s.r=l.r),u.e.r<l.r&&(u.e.r=l.r),u.s.c>l.c&&(u.s.c=l.c),u.e.c<l.c&&(u.e.c=l.c);var d=Ur(u);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var h={a:s.author,t:s.t,r:s.r,T:r};s.h&&(h.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&a){for(m=0;m<a.length;++m)if(h.a==a[m].id){h.a=a[m].name||h.a;break}}i.c.push(h)})}function $2e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^>]*>/);if(l){var u=Er(l[0]),d={author:u.authorId&&r[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=Hn(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&SA(m[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),a.push(d)}}}}),a}function L$(e){var t=[vi,Mt("comments",null,{xmlns:mm[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=Ba(n.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(n=r.indexOf(Ba(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Ns("t",Ba(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)s+=`Reply:
    `+i[l]+`
`;t.push(Ns("t",Ba(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function H2e(e,t){var r=[],a=!1,n={},i=0;return e.replace(Ks,function(l,u){var d=Er(l);switch(zu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=u+l.length;break;case"</text>":n.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function W2e(e,t,r){var a=[vi,Mt("ThreadedComments",null,{xmlns:Hi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=u.id:u.parentId=i,s.ID=u.id,s.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),a.push(Mt("threadedComment",Ns("text",s.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function V2e(e,t){var r=[],a=!1;return e.replace(Ks,function(i){var s=Er(i);switch(zu(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function K2e(e){var t=[vi,Mt("personList",null,{xmlns:Hi.TCMNT,"xmlns:x":mm[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Mt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function G2e(e){var t={};t.iauthor=e.read_shift(4);var r=vm(e);return t.rfx=r.s,t.ref=jr(r.s),e.l+=16,t}function Y2e(e,t){return t==null&&(t=dt(36)),t.write_shift(4,e[1].iauthor),zg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var X2e=Ws;function Q2e(e){return us(e.slice(0,54))}function J2e(e,t){var r=[],a=[],n={},i=!1;return l0(e,function(l,u,d){switch(d){case 632:a.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Z2e(e){var t=Bo(),r=[];return jt(t,628),jt(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),jt(t,632,Q2e(n.a)))})}),jt(t,631),jt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:Hn(a[0]),e:Hn(a[0])};jt(t,635,Y2e([i,n])),n.t&&n.t.length>0&&jt(t,637,w1e(n)),jt(t,636),delete n.iauthor})}),jt(t,634),jt(t,629),t.end()}var ewe="application/vnd.ms-office.vbaProject";function twe(e){var t=br.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");br.utils.cfb_add(t,n,e.FileIndex[a].content)}}),br.write(t)}function rwe(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&br.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var M$=["xlsb","xlsm","xlam","biff8","xla"];function awe(){return{"!type":"dialog"}}function nwe(){return{"!type":"dialog"}}function iwe(){return{"!type":"macro"}}function swe(){return{"!type":"macro"}}var $p=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,i,s){var l=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return l?h+=t.c:--h,u?d+=t.r:--d,n+(l?"":"$")+$n(h)+(u?"":"$")+gi(d)}return function(n,i){return t=i,n.replace(e,r)}})(),TA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,EA=(function(){return function(t,r){return t.replace(TA,function(a,n,i,s,l,u){var d=pA(s)-(i?0:r.c),h=mA(u)-(l?0:r.r),m=h==0?"":l?h+1:"["+h+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+x})}})();function I$(e,t){return e.replace(TA,function(r,a,n,i,s,l){return a+(n=="$"?n+i:$n(pA(i)+t.c))+(s=="$"?s+l:gi(mA(l)+t.r))})}function owe(e,t,r){var a=Uo(t),n=a.s,i=Hn(r),s={r:i.r-n.r,c:i.c-n.c};return I$(e,s)}function lwe(e){return e.length!=1}function kL(e){return e.replace(/_xlfn\./g,"")}function Ni(e){e.l+=1}function yh(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function R$(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return F$(e);r.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),s=yh(e),l=yh(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function F$(e){var t=yh(e),r=yh(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function cwe(e,t,r){if(r.biff<8)return F$(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),i=yh(e),s=yh(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function B$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return uwe(e);var a=e.read_shift(r&&r.biff==12?4:2),n=yh(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function uwe(e){var t=yh(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function dwe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function hwe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return fwe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;n>524287;)n-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:s,rRel:l}}function fwe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function mwe(e,t,r){var a=(e[e.l++]&96)>>5,n=R$(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function pwe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=R$(e,i,r);return[a,n,s]}function gwe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function xwe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function vwe(e,t,r){var a=(e[e.l++]&96)>>5,n=cwe(e,t-1,r);return[a,n]}function bwe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function _L(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function ywe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function wwe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function kwe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function _we(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Swe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function U$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nwe(e){return e.read_shift(2),U$(e)}function jwe(e){return e.read_shift(2),U$(e)}function Awe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=B$(e,0,r);return[a,n]}function Twe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=hwe(e,0,r);return[a,n]}function Ewe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=B$(e,0,r);return[a,n,i]}function Cwe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[Dke[n],$$[n],a]}function Owe(e,t,r){var a=e[e.l++],n=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Pwe(e);return[n,(i[0]===0?$$:Pke)[i[1]]]}function Pwe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Dwe(e,t,r){e.l+=r&&r.biff==2?3:4}function Lwe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Mwe(e){return e.l++,c0[e.read_shift(1)]}function Iwe(e){return e.l++,e.read_shift(2)}function Rwe(e){return e.l++,e.read_shift(1)!==0}function Fwe(e){return e.l++,$s(e)}function Bwe(e,t,r){return e.l++,Tv(e,t-1,r)}function Uwe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ui(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=c0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$s(e);break;case 2:r[1]=bm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zwe(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?vm:ak)(e));return n}function qwe(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,s=[];i!=a&&(s[i]=[]);++i)for(var l=0;l!=n;++l)s[i][l]=Uwe(e,r.biff);return s}function $we(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Hwe(e,t,r){if(r.biff==5)return Wwe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function Wwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Vwe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Kwe(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Gwe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Ywe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var Xwe=Vs,Qwe=Vs,Jwe=Vs;function Cv(e,t,r){return e.l+=2,[dwe(e)]}function CA(e){return e.l+=6,[]}var Zwe=Cv,eke=CA,tke=CA,rke=Cv;function z$(e){return e.l+=2,[Ai(e),e.read_shift(2)&1]}var ake=Cv,nke=z$,ike=CA,ske=Cv,oke=Cv,lke=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cke(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),s=lke[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:a,c:n,C:i}}function uke(e){return e.l+=2,[e.read_shift(4)]}function dke(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function hke(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function fke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function mke(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function pke(e){return e.l+=4,[0,0]}var SL={1:{n:"PtgExp",f:Lwe},2:{n:"PtgTbl",f:Jwe},3:{n:"PtgAdd",f:Ni},4:{n:"PtgSub",f:Ni},5:{n:"PtgMul",f:Ni},6:{n:"PtgDiv",f:Ni},7:{n:"PtgPower",f:Ni},8:{n:"PtgConcat",f:Ni},9:{n:"PtgLt",f:Ni},10:{n:"PtgLe",f:Ni},11:{n:"PtgEq",f:Ni},12:{n:"PtgGe",f:Ni},13:{n:"PtgGt",f:Ni},14:{n:"PtgNe",f:Ni},15:{n:"PtgIsect",f:Ni},16:{n:"PtgUnion",f:Ni},17:{n:"PtgRange",f:Ni},18:{n:"PtgUplus",f:Ni},19:{n:"PtgUminus",f:Ni},20:{n:"PtgPercent",f:Ni},21:{n:"PtgParen",f:Ni},22:{n:"PtgMissArg",f:Ni},23:{n:"PtgStr",f:Bwe},26:{n:"PtgSheet",f:dke},27:{n:"PtgEndSheet",f:hke},28:{n:"PtgErr",f:Mwe},29:{n:"PtgBool",f:Rwe},30:{n:"PtgInt",f:Iwe},31:{n:"PtgNum",f:Fwe},32:{n:"PtgArray",f:bwe},33:{n:"PtgFunc",f:Cwe},34:{n:"PtgFuncVar",f:Owe},35:{n:"PtgName",f:$we},36:{n:"PtgRef",f:Awe},37:{n:"PtgArea",f:mwe},38:{n:"PtgMemArea",f:Vwe},39:{n:"PtgMemErr",f:Xwe},40:{n:"PtgMemNoMem",f:Qwe},41:{n:"PtgMemFunc",f:Kwe},42:{n:"PtgRefErr",f:Gwe},43:{n:"PtgAreaErr",f:gwe},44:{n:"PtgRefN",f:Twe},45:{n:"PtgAreaN",f:vwe},46:{n:"PtgMemAreaN",f:fke},47:{n:"PtgMemNoMemN",f:mke},57:{n:"PtgNameX",f:Hwe},58:{n:"PtgRef3d",f:Ewe},59:{n:"PtgArea3d",f:pwe},60:{n:"PtgRefErr3d",f:Ywe},61:{n:"PtgAreaErr3d",f:xwe},255:{}},gke={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xke={1:{n:"PtgElfLel",f:z$},2:{n:"PtgElfRw",f:ske},3:{n:"PtgElfCol",f:Zwe},6:{n:"PtgElfRwV",f:oke},7:{n:"PtgElfColV",f:rke},10:{n:"PtgElfRadical",f:ake},11:{n:"PtgElfRadicalS",f:ike},13:{n:"PtgElfColS",f:eke},15:{n:"PtgElfColSV",f:tke},16:{n:"PtgElfRadicalLel",f:nke},25:{n:"PtgList",f:cke},29:{n:"PtgSxName",f:uke},255:{}},vke={0:{n:"PtgAttrNoop",f:pke},1:{n:"PtgAttrSemi",f:Swe},2:{n:"PtgAttrIf",f:kwe},4:{n:"PtgAttrChoose",f:ywe},8:{n:"PtgAttrGoto",f:wwe},16:{n:"PtgAttrSum",f:Dwe},32:{n:"PtgAttrBaxcel",f:_L},33:{n:"PtgAttrBaxcel",f:_L},64:{n:"PtgAttrSpace",f:Nwe},65:{n:"PtgAttrSpaceSemi",f:jwe},128:{n:"PtgAttrIfError",f:_we},255:{}};function Ov(e,t,r,a){if(a.biff<8)return Vs(e,t);for(var n=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=qwe(e,0,a),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=zwe(e,r[s][1],a),i.push(r[s][2]);break;case"PtgExp":a&&a.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=n-e.l,t!==0&&i.push(Vs(e,t)),i}function Pv(e,t,r){for(var a=e.l+t,n,i,s=[];a!=e.l;)t=a-e.l,i=e[e.l],n=SL[i]||SL[gke[i]],(i===24||i===25)&&(n=(i===24?xke:vke)[e[e.l+1]]),!n||!n.f?Vs(e,t):s.push([n.n,n.f(e,t,r)]);return s}function bke(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var s=a[i];if(s)switch(s[0]){case 2:n.push('"'+s[1].replace(/"/g,'""')+'"');break;default:n.push(s[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var yke={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wke(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function q$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function NL(e,t,r){var a=q$(e,t,r);return a=="#REF"?a:wke(a,r)}function Us(e,t,r,a,n){var i=n&&n.biff||8,s={s:{c:0,r:0}},l=[],u,d,h,m=0,x=0,p,y="";if(!e[0]||!e[0][0])return"";for(var b=-1,v="",k=0,N=e[0].length;k<N;++k){var _=e[0][k];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=l.pop(),d=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:v=ri(" ",e[0][b][1][1]);break;case 1:v=ri("\r",e[0][b][1][1]);break;default:if(v="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}d=d+v,b=-1}l.push(d+yke[_[0]]+u);break;case"PtgIsect":u=l.pop(),d=l.pop(),l.push(d+" "+u);break;case"PtgUnion":u=l.pop(),d=l.pop(),l.push(d+","+u);break;case"PtgRange":u=l.pop(),d=l.pop(),l.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=t1(_[1][1],s,n),l.push(r1(h,i));break;case"PtgRefN":h=r?t1(_[1][1],r,n):_[1][1],l.push(r1(h,i));break;case"PtgRef3d":m=_[1][1],h=t1(_[1][2],s,n),y=NL(a,m,n),l.push(y+"!"+r1(h,i));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],D=_[1][1];A||(A=0),A&=127;var M=A==0?[]:l.slice(-A);l.length-=A,D==="User"&&(D=M.shift()),l.push(D+"("+M.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":p=eL(_[1][1],r?{s:r}:s,n),l.push(N_(p,n));break;case"PtgArea":p=eL(_[1][1],s,n),l.push(N_(p,n));break;case"PtgArea3d":m=_[1][1],p=_[1][2],y=NL(a,m,n),l.push(y+"!"+N_(p,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=_[1][2];var L=(a.names||[])[x-1]||(a[0]||[])[x],B=L?L.Name:"SH33TJSNAME"+String(x);B&&B.slice(0,6)=="_xlfn."&&!n.xlfn&&(B=B.slice(6)),l.push(B);break;case"PtgNameX":var F=_[1][1];x=_[1][2];var H;if(n.biff<=5)F<0&&(F=-F),a[F]&&(H=a[F][x]);else{var O="";if(((a[F]||[])[0]||[])[0]==14849||(((a[F]||[])[0]||[])[0]==1025?a[F][x]&&a[F][x].itab>0&&(O=a.SheetNames[a[F][x].itab-1]+"!"):O=a.SheetNames[x-1]+"!"),a[F]&&a[F][x])O+=a[F][x].Name;else if(a[0]&&a[0][x])O+=a[0][x].Name;else{var I=(q$(a,F,n)||"").split(";;");I[x-1]?O=I[x-1]:O+="SH33TJSERRX"}l.push(O);break}H||(H={Name:"SH33TJSERRY"}),l.push(H.Name);break;case"PtgParen":var V="(",Y=")";if(b>=0){switch(v="",e[0][b][1][0]){case 2:V=ri(" ",e[0][b][1][1])+V;break;case 3:V=ri("\r",e[0][b][1][1])+V;break;case 4:Y=ri(" ",e[0][b][1][1])+Y;break;case 5:Y=ri("\r",e[0][b][1][1])+Y;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(V+l.pop()+Y);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:_[1][1],r:_[1][0]};var te={c:r.c,r:r.r};if(a.sharedf[jr(h)]){var X=a.sharedf[jr(h)];l.push(Us(X,s,te,a,n))}else{var ae=!1;for(u=0;u!=a.arrayf.length;++u)if(d=a.arrayf[u],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){l.push(Us(d[1],s,te,a,n)),ae=!0;break}ae||l.push(_[1])}break;case"PtgArray":l.push("{"+bke(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var de=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&b>=0&&de.indexOf(e[0][k][0])==-1){_=e[0][b];var oe=!0;switch(_[1][0]){case 4:oe=!1;case 0:v=ri(" ",_[1][1]);break;case 5:oe=!1;case 1:v=ri("\r",_[1][1]);break;default:if(v="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((oe?v:"")+l.pop()+(oe?"":v)),b=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function kke(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Vs(e,t-2)];var l=Pv(e,s,r);return t!==s+n&&(i=Ov(e,t-s-n,l,r)),e.l=a,[l,i]}function _ke(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Vs(e,t-2)];var l=Pv(e,s,r);return t!==s+n&&(i=Ov(e,t-s-n,l,r)),e.l=a,[l,i]}function Ske(e,t,r,a){var n=e.l+t,i=Pv(e,a,r),s;return n!==e.l&&(s=Ov(e,n-e.l,i,r)),[i,s]}function Nke(e,t,r){var a=e.l+t,n,i=e.read_shift(2),s=Pv(e,i,r);return i==65535?[[],Vs(e,t-2)]:(t!==i+2&&(n=Ov(e,a-i-2,s,r)),[s,n])}function jke(e){var t;if(Pd(e,e.l+6)!==65535)return[$s(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Ake(e){if(e==null){var t=dt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return nm(e);return nm(0)}function C_(e,t,r){var a=e.l+t,n=qu(e);r.biff==2&&++e.l;var i=jke(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=_ke(e,a-e.l,r);return{cell:n,val:i[0],formula:l,shared:s>>3&1,tt:i[1]}}function Tke(e,t,r,a,n){var i=sm(t,r,n),s=Ake(e.v),l=dt(6),u=33;l.write_shift(2,u),l.write_shift(4,0);for(var d=dt(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=ls([i,s,l,d]);return m}function nk(e,t,r){var a=e.read_shift(4),n=Pv(e,a,r),i=e.read_shift(4),s=i>0?Ov(e,i,n,r):null;return[n,s]}var Eke=nk,ik=nk,Cke=nk,Oke=nk,Pke={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Dke={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function jL(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Lke(e){var t="of:="+e.replace(TA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function O_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Mke(e){return e.replace(/\./,"!")}var n1={},Hp={},i1=typeof Map<"u";function OA(e,t,r){var a=0,n=e.length;if(r){if(i1?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=i1?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(i1?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function sk(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(qs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=U1(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=V2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Uf(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ch(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){zd(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function H$(e,t,r,a,n,i){try{a.cellNF&&(e.z=Nr[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=bn(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Nr[t]==null&&zd(Pxe[t]||"General",t),e.t==="e")e.w=e.w||c0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=D1(e.v);else if(e.t==="d"){var s=Wi(e.v);(s|0)===s?e.w=s.toString(10):e.w=D1(s)}else{if(e.v===void 0)return"";e.w=rm(e.v,Hp)}else e.t==="d"?e.w=ec(t,Wi(e.v),Hp):e.w=ec(t,e.v,Hp)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=W2(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=W2(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function Ike(e,t,r){if(e&&e["!ref"]){var a=ya(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Rke(e,t){var r=ya(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Ur(r))}var Fke=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Bke=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Uke=/<(?:\w:)?hyperlink [^>]*>/mg,zke=/"(\w*:\w*)"/,qke=/<(?:\w:)?col\b[^>]*[\/]?>/g,$ke=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Hke=/<(?:\w:)?pageMargins[^>]*\/>/g,W$=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Wke=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Vke=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Kke(e,t,r,a,n,i,s){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",m=e.match(Bke);m?(d=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):d=h=e;var x=d.match(W$);x?PA(x[0],l,n,r):(x=d.match(Wke))&&Yke(x[0],x[1]||"",l,n,r);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=d.slice(p,p+50).match(zke);y&&Rke(l,y[1])}var b=d.match(Vke);b&&b[1]&&l5e(b[1],n);var v=[];if(t.cellStyles){var k=d.match(qke);k&&a5e(v,k)}m&&d5e(m[1],l,t,u,i,s);var N=h.match($ke);N&&(l["!autofilter"]=i5e(N[0]));var _=[],A=h.match(Fke);if(A)for(p=0;p!=A.length;++p)_[p]=ya(A[p].slice(A[p].indexOf('"')+1));var D=h.match(Uke);D&&e5e(l,D,a);var M=h.match(Hke);if(M&&(l["!margins"]=t5e(Er(M[0]))),!l["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(l["!ref"]=Ur(u)),t.sheetRows>0&&l["!ref"]){var L=ya(l["!ref"]);t.sheetRows<=+L.e.r&&(L.e.r=t.sheetRows-1,L.e.r>u.e.r&&(L.e.r=u.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>u.e.c&&(L.e.c=u.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ur(L))}return v.length>0&&(l["!cols"]=v),_.length>0&&(l["!merges"]=_),l}function Gke(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ur(e[r])+'"/>';return t+"</mergeCells>"}function PA(e,t,r,a){var n=Er(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=ba(Ya(n.codeName)))}function Yke(e,t,r,a,n){PA(e.slice(0,e.indexOf(">")),r,a,n)}function Xke(e,t,r,a,n){var i=!1,s={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[r];try{t.Workbook&&(u=t.Workbook.Sheets[r].CodeName||u)}catch{}i=!0,s.codeName=Eu(Ba(u))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Mt("outlinePr",null,d)}!i&&!l||(n[n.length]=Mt("sheetPr",l,s))}var Qke=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Jke=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Zke(e){var t={sheet:1};return Qke.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Jke.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=NA(e.password).toString(16).toUpperCase()),Mt("sheetProtection",null,t)}function e5e(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=Er(Ya(t[n]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+ba(i.location))):(i.Target="#"+ba(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=ya(i.ref),u=l.s.r;u<=l.e.r;++u)for(var d=l.s.c;d<=l.e.c;++d){var h=jr({c:d,r:u});a?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function t5e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function r5e(e){return Uf(e),Mt("pageMargins",null,e)}function a5e(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=Er(t[a],!0);n.hidden&&(n.hidden=gn(n.hidden));var i=parseInt(n.min,10)-1,s=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,jA(n.width)),bh(n);i<=s;)e[i++]=yn(n)}}function n5e(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=Mt("col",null,sk(n,a)));return r[r.length]="</cols>",r.join("")}function i5e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function s5e(e,t,r,a){var n=typeof e.ref=="string"?e.ref:Ur(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Uo(n);s.s.r==s.e.r&&(s.e.r=Uo(t["!ref"]).e.r,n=Ur(s));for(var l=0;l<i.length;++l){var u=i[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),Mt("autoFilter",null,{ref:n})}var o5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function l5e(e,t){t.Views||(t.Views=[{}]),(e.match(o5e)||[]).forEach(function(r,a){var n=Er(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),gn(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function c5e(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Mt("sheetViews",Mt("sheetView",null,n),{})}function u5e(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=c0[e.v];break;case"d":a&&a.cellDates?n=bn(e.v,-1).toISOString():(e=yn(e),e.t="n",n=""+(e.v=Wi(bn(e.v)))),typeof e.z>"u"&&(e.z=Nr[14]);break;default:n=e.v;break}var l=Ns("v",Ba(n)),u={r:t},d=Ch(a.cellXfs,e,a);switch(d!==0&&(u.s=d),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=Ns("v",""+OA(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Mt("f",Ba(e.f),h)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(u.cm=1),Mt("c",l,u)}var d5e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=L1("v"),s=L1("f");return function(u,d,h,m,x,p){for(var y=0,b="",v=[],k=[],N=0,_=0,A=0,D="",M,L,B=0,F=0,H,O,I=0,V=0,Y=Array.isArray(p.CellXf),te,X=[],ae=[],de=Array.isArray(d),oe=[],De={},re=!1,P=!!h.sheetStubs,W=u.split(t),z=0,q=W.length;z!=q;++z){b=W[z].trim();var Z=b.length;if(Z!==0){var se=0;e:for(y=0;y<Z;++y)switch(b[y]){case">":if(b[y-1]!="/"){++y;break e}if(h&&h.cellStyles){if(L=Er(b.slice(se,y),!0),B=L.r!=null?parseInt(L.r,10):B+1,F=-1,h.sheetRows&&h.sheetRows<B)continue;De={},re=!1,L.ht&&(re=!0,De.hpt=parseFloat(L.ht),De.hpx=vg(De.hpt)),L.hidden=="1"&&(re=!0,De.hidden=!0),L.outlineLevel!=null&&(re=!0,De.level=+L.outlineLevel),re&&(oe[B-1]=De)}break;case"<":se=y;break}if(se>=y)break;if(L=Er(b.slice(se,y),!0),B=L.r!=null?parseInt(L.r,10):B+1,F=-1,!(h.sheetRows&&h.sheetRows<B)){m.s.r>B-1&&(m.s.r=B-1),m.e.r<B-1&&(m.e.r=B-1),h&&h.cellStyles&&(De={},re=!1,L.ht&&(re=!0,De.hpt=parseFloat(L.ht),De.hpx=vg(De.hpt)),L.hidden=="1"&&(re=!0,De.hidden=!0),L.outlineLevel!=null&&(re=!0,De.level=+L.outlineLevel),re&&(oe[B-1]=De)),v=b.slice(y).split(e);for(var ee=0;ee!=v.length&&v[ee].trim().charAt(0)=="<";++ee);for(v=v.slice(ee),y=0;y!=v.length;++y)if(b=v[y].trim(),b.length!==0){if(k=b.match(r),N=y,_=0,A=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,k!=null&&k.length===2){for(N=0,D=k[1],_=0;_!=D.length&&!((A=D.charCodeAt(_)-64)<1||A>26);++_)N=26*N+A;--N,F=N}else++F;for(_=0;_!=b.length&&b.charCodeAt(_)!==62;++_);if(++_,L=Er(b.slice(0,_),!0),L.r||(L.r=jr({r:B-1,c:F})),D=b.slice(_),M={t:""},(k=D.match(i))!=null&&k[1]!==""&&(M.v=ba(k[1])),h.cellFormula){if((k=D.match(s))!=null&&k[1]!==""){if(M.f=ba(Ya(k[1])).replace(/\r\n/g,`
`),h.xlfn||(M.f=kL(M.f)),k[0].indexOf('t="array"')>-1)M.F=(D.match(n)||[])[1],M.F.indexOf(":")>-1&&X.push([ya(M.F),M.F]);else if(k[0].indexOf('t="shared"')>-1){O=Er(k[0]);var Q=ba(Ya(k[1]));h.xlfn||(Q=kL(Q)),ae[parseInt(O.si,10)]=[O,Q,L.r]}}else(k=D.match(/<f[^>]*\/>/))&&(O=Er(k[0]),ae[O.si]&&(M.f=owe(ae[O.si][1],ae[O.si][2],L.r)));var me=Hn(L.r);for(_=0;_<X.length;++_)me.r>=X[_][0].s.r&&me.r<=X[_][0].e.r&&me.c>=X[_][0].s.c&&me.c<=X[_][0].e.c&&(M.F=X[_][1])}if(L.t==null&&M.v===void 0)if(M.f||M.F)M.v=0,M.t="n";else if(P)M.t="z";else continue;else M.t=L.t||"n";switch(m.s.c>F&&(m.s.c=F),m.e.c<F&&(m.e.c=F),M.t){case"n":if(M.v==""||M.v==null){if(!P)continue;M.t="z"}else M.v=parseFloat(M.v);break;case"s":if(typeof M.v>"u"){if(!P)continue;M.t="z"}else H=n1[parseInt(M.v,10)],M.v=H.t,M.r=H.r,h.cellHTML&&(M.h=H.h);break;case"str":M.t="s",M.v=M.v!=null?Ya(M.v):"",h.cellHTML&&(M.h=uA(M.v));break;case"inlineStr":k=D.match(a),M.t="s",k!=null&&(H=SA(k[1]))?(M.v=H.t,h.cellHTML&&(M.h=H.h)):M.v="";break;case"b":M.v=gn(M.v);break;case"d":h.cellDates?M.v=bn(M.v,1):(M.v=Wi(bn(M.v,1)),M.t="n");break;case"e":(!h||h.cellText!==!1)&&(M.w=M.v),M.v=Kq[M.v];break}if(I=V=0,te=null,Y&&L.s!==void 0&&(te=p.CellXf[L.s],te!=null&&(te.numFmtId!=null&&(I=te.numFmtId),h.cellStyles&&te.fillId!=null&&(V=te.fillId))),H$(M,I,V,h,x,p),h.cellDates&&Y&&M.t=="n"&&Fg(Nr[I])&&(M.t="d",M.v=rk(M.v)),L.cm&&h.xlmeta){var Ae=(h.xlmeta.Cell||[])[+L.cm-1];Ae&&Ae.type=="XLDAPR"&&(M.D=!0)}if(de){var J=Hn(L.r);d[J.r]||(d[J.r]=[]),d[J.r][J.c]=M}else d[L.r]=M}}}}oe.length>0&&(d["!rows"]=oe)}})();function h5e(e,t,r,a){var n=[],i=[],s=ya(e["!ref"]),l="",u,d="",h=[],m=0,x=0,p=e["!rows"],y=Array.isArray(e),b={r:d},v,k=-1;for(x=s.s.c;x<=s.e.c;++x)h[x]=$n(x);for(m=s.s.r;m<=s.e.r;++m){for(i=[],d=gi(m),x=s.s.c;x<=s.e.c;++x){u=h[x]+d;var N=y?(e[m]||[])[x]:e[u];N!==void 0&&(l=u5e(N,u,e,t))!=null&&i.push(l)}(i.length>0||p&&p[m])&&(b={r:d},p&&p[m]&&(v=p[m],v.hidden&&(b.hidden=1),k=-1,v.hpx?k=z1(v.hpx):v.hpt&&(k=v.hpt),k>-1&&(b.ht=k,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),n[n.length]=Mt("row",i.join(""),b))}if(p)for(;m<p.length;++m)p&&p[m]&&(b={r:m+1},v=p[m],v.hidden&&(b.hidden=1),k=-1,v.hpx?k=z1(v.hpx):v.hpt&&(k=v.hpt),k>-1&&(b.ht=k,b.customHeight=1),v.level&&(b.outlineLevel=v.level),n[n.length]=Mt("row","",b));return n.join("")}function V$(e,t,r,a){var n=[vi,Mt("worksheet",null,{xmlns:mm[0],"xmlns:r":Hi.r})],i=r.SheetNames[e],s=0,l="",u=r.Sheets[i];u==null&&(u={});var d=u["!ref"]||"A1",h=ya(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=Ur(h)}a||(a={}),u["!comments"]=[];var m=[];Xke(u,r,e,t,n),n[n.length]=Mt("dimension",null,{ref:d}),n[n.length]=c5e(u,t,e,r),t.sheetFormat&&(n[n.length]=Mt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=n5e(u,u["!cols"])),n[s=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(l=h5e(u,t),l.length>0&&(n[n.length]=l)),n.length>s+1&&(n[n.length]="</sheetData>",n[s]=n[s].replace("/>",">")),u["!protect"]&&(n[n.length]=Zke(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=s5e(u["!autofilter"],u,r,e)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=Gke(u["!merges"]));var x=-1,p,y=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(b){b[1].Target&&(p={ref:b[0]},b[1].Target.charAt(0)!="#"&&(y=Ia(a,-1,Ba(b[1].Target).replace(/#.*$/,""),Qr.HLINK),p["r:id"]="rId"+y),(x=b[1].Target.indexOf("#"))>-1&&(p.location=Ba(b[1].Target.slice(x+1))),b[1].Tooltip&&(p.tooltip=Ba(b[1].Tooltip)),n[n.length]=Mt("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=r5e(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Ns("ignoredErrors",Mt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(y=Ia(a,-1,"../drawings/drawing"+(e+1)+".xml",Qr.DRAW),n[n.length]=Mt("drawing",null,{"r:id":"rId"+y}),u["!drawing"]=m),u["!comments"].length>0&&(y=Ia(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Qr.VML),n[n.length]=Mt("legacyDrawing",null,{"r:id":"rId"+y}),u["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function f5e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}function m5e(e,t,r){var a=dt(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=z1(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),a.write_shift(1,s),a.write_shift(1,0);var l=0,u=a.l;a.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,x=-1,p=h<<10;p<h+1<<10;++p){d.c=p;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[jr(d)];y&&(m<0&&(m=p),x=p)}m<0||(++l,a.write_shift(4,m),a.write_shift(4,x))}var b=a.l;return a.l=u,a.write_shift(4,l),a.l=b,a.length>a.l?a.slice(0,a.l):a}function p5e(e,t,r,a){var n=m5e(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&jt(e,0,n)}var g5e=vm,x5e=zg;function v5e(){}function b5e(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=k1e(e),r}function y5e(e,t,r){r==null&&(r=dt(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return q2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),qq(e,r),r.slice(0,r.l)}function w5e(e){var t=nc(e);return[t]}function k5e(e,t,r){return r==null&&(r=dt(8)),pm(t,r)}function _5e(e){var t=gm(e);return[t]}function S5e(e,t,r){return r==null&&(r=dt(4)),xm(t,r)}function N5e(e){var t=nc(e),r=e.read_shift(1);return[t,r,"b"]}function j5e(e,t,r){return r==null&&(r=dt(9)),pm(t,r),r.write_shift(1,e.v?1:0),r}function A5e(e){var t=gm(e),r=e.read_shift(1);return[t,r,"b"]}function T5e(e,t,r){return r==null&&(r=dt(5)),xm(t,r),r.write_shift(1,e.v?1:0),r}function E5e(e){var t=nc(e),r=e.read_shift(1);return[t,r,"e"]}function C5e(e,t,r){return r==null&&(r=dt(9)),pm(t,r),r.write_shift(1,e.v),r}function O5e(e){var t=gm(e),r=e.read_shift(1);return[t,r,"e"]}function P5e(e,t,r){return r==null&&(r=dt(8)),xm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function D5e(e){var t=nc(e),r=e.read_shift(4);return[t,r,"s"]}function L5e(e,t,r){return r==null&&(r=dt(12)),pm(t,r),r.write_shift(4,t.v),r}function M5e(e){var t=gm(e),r=e.read_shift(4);return[t,r,"s"]}function I5e(e,t,r){return r==null&&(r=dt(8)),xm(t,r),r.write_shift(4,t.v),r}function R5e(e){var t=nc(e),r=$s(e);return[t,r,"n"]}function F5e(e,t,r){return r==null&&(r=dt(16)),pm(t,r),nm(e.v,r),r}function K$(e){var t=gm(e),r=$s(e);return[t,r,"n"]}function B5e(e,t,r){return r==null&&(r=dt(12)),xm(t,r),nm(e.v,r),r}function U5e(e){var t=nc(e),r=bA(e);return[t,r,"n"]}function z5e(e,t,r){return r==null&&(r=dt(12)),pm(t,r),$q(e.v,r),r}function q5e(e){var t=gm(e),r=bA(e);return[t,r,"n"]}function $5e(e,t,r){return r==null&&(r=dt(8)),xm(t,r),$q(e.v,r),r}function H5e(e){var t=nc(e),r=gA(e);return[t,r,"is"]}function W5e(e){var t=nc(e),r=Ws(e);return[t,r,"str"]}function V5e(e,t,r){return r==null&&(r=dt(12+4*e.v.length)),pm(t,r),us(e.v,r),r.length>r.l?r.slice(0,r.l):r}function K5e(e){var t=gm(e),r=Ws(e);return[t,r,"str"]}function G5e(e,t,r){return r==null&&(r=dt(8+4*e.v.length)),xm(t,r),us(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Y5e(e,t,r){var a=e.l+t,n=nc(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"b"];if(r.cellFormula){e.l+=2;var l=ik(e,a-e.l,r);s[3]=Us(l,null,n,r.supbooks,r)}else e.l=a;return s}function X5e(e,t,r){var a=e.l+t,n=nc(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"e"];if(r.cellFormula){e.l+=2;var l=ik(e,a-e.l,r);s[3]=Us(l,null,n,r.supbooks,r)}else e.l=a;return s}function Q5e(e,t,r){var a=e.l+t,n=nc(e);n.r=r["!row"];var i=$s(e),s=[n,i,"n"];if(r.cellFormula){e.l+=2;var l=ik(e,a-e.l,r);s[3]=Us(l,null,n,r.supbooks,r)}else e.l=a;return s}function J5e(e,t,r){var a=e.l+t,n=nc(e);n.r=r["!row"];var i=Ws(e),s=[n,i,"str"];if(r.cellFormula){e.l+=2;var l=ik(e,a-e.l,r);s[3]=Us(l,null,n,r.supbooks,r)}else e.l=a;return s}var Z5e=vm,e4e=zg;function t4e(e,t){return t==null&&(t=dt(4)),t.write_shift(4,e),t}function r4e(e,t){var r=e.l+t,a=vm(e),n=xA(e),i=Ws(e),s=Ws(e),l=Ws(e);e.l=r;var u={rfx:a,relId:n,loc:i,display:l};return s&&(u.Tooltip=s),u}function a4e(e,t){var r=dt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zg({s:Hn(e[0]),e:Hn(e[0])},r),vA("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return us(n||"",r),us(e[1].Tooltip||"",r),us("",r),r.slice(0,r.l)}function n4e(){}function i4e(e,t,r){var a=e.l+t,n=Hq(e),i=e.read_shift(1),s=[n];if(s[2]=i,r.cellFormula){var l=Eke(e,a-e.l,r);s[1]=l}else e.l=a;return s}function s4e(e,t,r){var a=e.l+t,n=vm(e),i=[n];if(r.cellFormula){var s=Oke(e,a-e.l,r);i[1]=s,e.l=a}else e.l=a;return i}function o4e(e,t,r){r==null&&(r=dt(18));var a=sk(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var G$=["left","right","top","bottom","header","footer"];function l4e(e){var t={};return G$.forEach(function(r){t[r]=$s(e)}),t}function c4e(e,t){return t==null&&(t=dt(48)),Uf(e),G$.forEach(function(r){nm(e[r],t)}),t}function u4e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function d4e(e,t,r){r==null&&(r=dt(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function h4e(e){var t=dt(24);return t.write_shift(4,4),t.write_shift(4,1),zg(e,t),t}function f4e(e,t){return t==null&&(t=dt(66)),t.write_shift(2,e.password?NA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function m4e(){}function p4e(){}function g4e(e,t,r,a,n,i,s){if(!e)return e;var l=t||{};a||(a={"!id":{}});var u=l.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,p,y,b,v,k,N,_,A,D,M=[];l.biff=12,l["!row"]=0;var L=0,B=!1,F=[],H={},O=l.supbooks||n.supbooks||[[]];if(O.sharedf=H,O.arrayf=F,O.SheetNames=n.SheetNames||n.Sheets.map(function(de){return de.name}),!l.supbooks&&(l.supbooks=O,n.Names))for(var I=0;I<n.Names.length;++I)O[0][I+1]=n.Names[I];var V=[],Y=[],te=!1;q1[16]={n:"BrtShortReal",f:K$};var X;if(l0(e,function(oe,De,re){if(!x)switch(re){case 148:d=oe;break;case 0:p=oe,l.sheetRows&&l.sheetRows<=p.r&&(x=!0),A=gi(v=p.r),l["!row"]=p.r,(oe.hidden||oe.hpt||oe.level!=null)&&(oe.hpt&&(oe.hpx=vg(oe.hpt)),Y[oe.r]=oe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:oe[2]},oe[2]){case"n":y.v=oe[1];break;case"s":_=n1[oe[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!oe[1];break;case"e":y.v=oe[1],l.cellText!==!1&&(y.w=c0[y.v]);break;case"str":y.t="s",y.v=oe[1];break;case"is":y.t="s",y.v=oe[1].t;break}if((b=s.CellXf[oe[0].iStyleRef])&&H$(y,b.numFmtId,null,l,i,s),k=oe[0].c==-1?k+1:oe[0].c,l.dense?(u[v]||(u[v]=[]),u[v][k]=y):u[$n(k)+A]=y,l.cellFormula){for(B=!1,L=0;L<F.length;++L){var P=F[L];p.r>=P[0].s.r&&p.r<=P[0].e.r&&k>=P[0].s.c&&k<=P[0].e.c&&(y.F=Ur(P[0]),B=!0)}!B&&oe.length>3&&(y.f=oe[3])}if(h.s.r>p.r&&(h.s.r=p.r),h.s.c>k&&(h.s.c=k),h.e.r<p.r&&(h.e.r=p.r),h.e.c<k&&(h.e.c=k),l.cellDates&&b&&y.t=="n"&&Fg(Nr[b.numFmtId])){var W=kf(y.v);W&&(y.t="d",y.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 1:case 12:if(!l.sheetStubs||m)break;y={t:"z",v:void 0},k=oe[0].c==-1?k+1:oe[0].c,l.dense?(u[v]||(u[v]=[]),u[v][k]=y):u[$n(k)+A]=y,h.s.r>p.r&&(h.s.r=p.r),h.s.c>k&&(h.s.c=k),h.e.r<p.r&&(h.e.r=p.r),h.e.c<k&&(h.e.c=k),X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 176:M.push(oe);break;case 49:X=((l.xlmeta||{}).Cell||[])[oe-1];break;case 494:var z=a["!id"][oe.relId];for(z?(oe.Target=z.Target,oe.loc&&(oe.Target+="#"+oe.loc),oe.Rel=z):oe.relId==""&&(oe.Target="#"+oe.loc),v=oe.rfx.s.r;v<=oe.rfx.e.r;++v)for(k=oe.rfx.s.c;k<=oe.rfx.e.c;++k)l.dense?(u[v]||(u[v]=[]),u[v][k]||(u[v][k]={t:"z",v:void 0}),u[v][k].l=oe):(N=jr({c:k,r:v}),u[N]||(u[N]={t:"z",v:void 0}),u[N].l=oe);break;case 426:if(!l.cellFormula)break;F.push(oe),D=l.dense?u[v][k]:u[$n(k)+A],D.f=Us(oe[1],h,{r:p.r,c:k},O,l),D.F=Ur(oe[0]);break;case 427:if(!l.cellFormula)break;H[jr(oe[0].s)]=oe[1],D=l.dense?u[v][k]:u[$n(k)+A],D.f=Us(oe[1],h,{r:p.r,c:k},O,l);break;case 60:if(!l.cellStyles)break;for(;oe.e>=oe.s;)V[oe.e--]={width:oe.w/256,hidden:!!(oe.flags&1),level:oe.level},te||(te=!0,jA(oe.w/256)),bh(V[oe.e+1]);break;case 161:u["!autofilter"]={ref:Ur(oe)};break;case 476:u["!margins"]=oe;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),oe.name&&(n.Sheets[r].CodeName=oe.name),(oe.above||oe.left)&&(u["!outline"]={above:oe.above,left:oe.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),oe.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!De.T){if(!m||l.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},l),delete l.supbooks,delete l["!row"],!u["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=Ur(d||h)),l.sheetRows&&u["!ref"]){var ae=ya(u["!ref"]);l.sheetRows<=+ae.e.r&&(ae.e.r=l.sheetRows-1,ae.e.r>h.e.r&&(ae.e.r=h.e.r),ae.e.r<ae.s.r&&(ae.s.r=ae.e.r),ae.e.c>h.e.c&&(ae.e.c=h.e.c),ae.e.c<ae.s.c&&(ae.s.c=ae.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Ur(ae))}return M.length>0&&(u["!merges"]=M),V.length>0&&(u["!cols"]=V),Y.length>0&&(u["!rows"]=Y),u}function x4e(e,t,r,a,n,i,s){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=yn(t),t.z=t.z||Nr[14],t.v=Wi(bn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var u={r,c:a};switch(u.s=Ch(n.cellXfs,t,n),t.l&&i["!links"].push([jr(u),t.l]),t.c&&i["!comments"].push([jr(u),t.c]),t.t){case"s":case"str":return n.bookSST?(l=OA(n.Strings,t.v,n.revStrings),u.t="s",u.v=l,s?jt(e,18,I5e(t,u)):jt(e,7,L5e(t,u))):(u.t="str",s?jt(e,17,G5e(t,u)):jt(e,6,V5e(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?jt(e,13,$5e(t,u)):jt(e,2,z5e(t,u)):s?jt(e,16,B5e(t,u)):jt(e,5,F5e(t,u)),!0;case"b":return u.t="b",s?jt(e,15,T5e(t,u)):jt(e,4,j5e(t,u)),!0;case"e":return u.t="e",s?jt(e,14,P5e(t,u)):jt(e,3,C5e(t,u)),!0}return s?jt(e,12,S5e(t,u)):jt(e,1,k5e(t,u)),!0}function v4e(e,t,r,a){var n=ya(t["!ref"]||"A1"),i,s="",l=[];jt(e,145);var u=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var h=n.s.r;h<=d;++h){s=gi(h),p5e(e,t,n,h);var m=!1;if(h<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){h===n.s.r&&(l[x]=$n(x)),i=l[x]+s;var p=u?(t[h]||[])[x]:t[i];if(!p){m=!1;continue}m=x4e(e,p,h,x,a,t,m)}}jt(e,146)}function b4e(e,t){!t||!t["!merges"]||(jt(e,177,t4e(t["!merges"].length)),t["!merges"].forEach(function(r){jt(e,176,e4e(r))}),jt(e,178))}function y4e(e,t){!t||!t["!cols"]||(jt(e,390),t["!cols"].forEach(function(r,a){r&&jt(e,60,o4e(a,r))}),jt(e,391))}function w4e(e,t){!t||!t["!ref"]||(jt(e,648),jt(e,649,h4e(ya(t["!ref"]))),jt(e,650))}function k4e(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=Ia(r,-1,a[1].Target.replace(/#.*$/,""),Qr.HLINK);jt(e,494,a4e(a,n))}}),delete t["!links"]}function _4e(e,t,r,a){if(t["!comments"].length>0){var n=Ia(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Qr.VML);jt(e,551,vA("rId"+n)),t["!legacy"]=n}}function S4e(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Ur(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Uo(i);l.s.r==l.e.r&&(l.e.r=Uo(t["!ref"]).e.r,i=Ur(l));for(var u=0;u<s.length;++u){var d=s[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),jt(e,161,zg(ya(i))),jt(e,162)}}function N4e(e,t,r){jt(e,133),jt(e,137,d4e(t,r)),jt(e,138),jt(e,134)}function j4e(e,t){t["!protect"]&&jt(e,535,f4e(t["!protect"]))}function A4e(e,t,r,a){var n=Bo(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var u=ya(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],jt(n,129),(r.vbaraw||s["!outline"])&&jt(n,147,y5e(l,s["!outline"])),jt(n,148,x5e(u)),N4e(n,s,r.Workbook),y4e(n,s),v4e(n,s,e,t),j4e(n,s),S4e(n,s,r,e),b4e(n,s),k4e(n,s,a),s["!margins"]&&jt(n,476,c4e(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&w4e(n,s),_4e(n,s,e,a),jt(n,130),n.end()}function T4e(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var n=ba((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function E4e(e,t,r,a,n,i){var s=i||{"!type":"chart"};if(!e)return i;var l=0,u=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=T4e(m);h.s.r=h.s.c=0,h.e.c=l,d=$n(l),x[0].forEach(function(p,y){s[d+gi(y)]={t:"n",v:p,z:x[1]},u=y}),h.e.r<u&&(h.e.r=u),++l}),l>0&&(s["!ref"]=Ur(h)),s}function C4e(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,l=e.match(W$);return l&&PA(l[0],i,n,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function O4e(e,t){e.l+=10;var r=Ws(e);return{name:r}}function P4e(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return l0(e,function(u,d,h){switch(h){case 550:i["!rel"]=u;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),u.name&&(n.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var DA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],D4e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],L4e=[],M4e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function AL(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=gn(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function TL(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=gn(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function Y$(e){TL(e.WBProps,DA),TL(e.CalcPr,M4e),AL(e.WBView,D4e),AL(e.Sheets,L4e),Hp.date1904=gn(e.WBProps.date1904)}function I4e(e){return!e.Workbook||!e.Workbook.WBProps?"false":gn(e.Workbook.WBProps.date1904)?"true":"false"}var R4e="][*?/\\".split("");function X$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return R4e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function F4e(e,t,r){e.forEach(function(a,n){X$(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var s=t&&t[n]&&t[n].CodeName||a;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function B4e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];F4e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Ike(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var U4e=/<\w+:workbook/;function z4e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},s=0;if(e.replace(Ks,function(u,d){var h=Er(u);switch(zu(h[0])){case"<?xml":break;case"<workbook":u.match(U4e)&&(n="xmlns"+u.match(/<(\w+):/)[1]),r.xmlns=h[n];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":DA.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=gn(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Ya(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=ba(Ya(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Ya(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),gn(h.hidden||"0")&&(i.Hidden=!0),s=d+u.length;break;case"</definedName>":i.Ref=ba(Ya(e.slice(s,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),mm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Y$(r),r}function Q$(e){var t=[vi];t[t.length]=Mt("workbook",null,{xmlns:mm[0],"xmlns:r":Hi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(DA.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Mt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Ba(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Mt("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var u={name:l.Name};l.Comment&&(u.comment=l.Comment),l.Sheet!=null&&(u.localSheetId=""+l.Sheet),l.Hidden&&(u.hidden="1"),l.Ref&&(t[t.length]=Mt("definedName",Ba(l.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function q4e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=G3(e),r.name=Ws(e),r}function $4e(e,t){return t||(t=dt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),vA(e.strRelID,t),us(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function H4e(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Ws(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function W4e(e,t){t||(t=dt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),qq(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function V4e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function K4e(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=_1e(e),s=Cke(e,0,r),l=xA(e);e.l=a;var u={Name:i,Ptg:s};return n<268435455&&(u.Sheet=n),l&&(u.Comment=l),u}function G4e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],q1[16]={n:"BrtFRTArchID$",f:V4e},l0(e,function(u,d,h){switch(h){case 156:s.SheetNames.push(u.name),r.Sheets.push(u);break;case 153:r.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=Us(u.Ptg,null,null,s,t),delete t.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,u]):s[0]=[h,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(h),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(h),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),Y$(r),r.Names=i,r.supbooks=s,r}function Y4e(e,t){jt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};jt(e,156,$4e(n))}jt(e,144)}function X4e(e,t){t||(t=dt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return us("SheetJS",t),us(M2.version,t),us(M2.version,t),us("7262",t),t.length>t.l?t.slice(0,t.l):t}function Q4e(e,t){t||(t=dt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function J4e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&i==-1&&(i=a);i>n||(jt(e,135),jt(e,158,Q4e(n)),jt(e,136))}}function Z4e(e,t){var r=Bo();return jt(r,131),jt(r,128,X4e()),jt(r,153,W4e(e.Workbook&&e.Workbook.WBProps||null)),J4e(r,e),Y4e(r,e),jt(r,132),r.end()}function e_e(e,t,r){return t.slice(-4)===".bin"?G4e(e,r):z4e(e,r)}function t_e(e,t,r,a,n,i,s,l){return t.slice(-4)===".bin"?g4e(e,a,r,n,i,s,l):Kke(e,a,r,n,i,s,l)}function r_e(e,t,r,a,n,i,s,l){return t.slice(-4)===".bin"?P4e(e,a,r,n,i):C4e(e,a,r,n,i)}function a_e(e,t,r,a,n,i,s,l){return t.slice(-4)===".bin"?iwe():swe()}function n_e(e,t,r,a,n,i,s,l){return t.slice(-4)===".bin"?awe():nwe()}function i_e(e,t,r,a){return t.slice(-4)===".bin"?e2e(e,r,a):qye(e,r,a)}function s_e(e,t,r){return O$(e,r)}function o_e(e,t,r){return t.slice(-4)===".bin"?oye(e,r):nye(e,r)}function l_e(e,t,r){return t.slice(-4)===".bin"?J2e(e,r):$2e(e,r)}function c_e(e,t,r){return t.slice(-4)===".bin"?U2e(e):F2e(e)}function u_e(e,t,r,a){return r.slice(-4)===".bin"?z2e(e,t,r,a):void 0}function d_e(e,t,r){return t.slice(-4)===".bin"?M2e(e,t,r):R2e(e,t,r)}function h_e(e,t,r){return(t.slice(-4)===".bin"?Z4e:Q$)(e)}function f_e(e,t,r,a,n){return(t.slice(-4)===".bin"?A4e:V$)(e,r,a,n)}function m_e(e,t,r){return(t.slice(-4)===".bin"?u2e:E$)(e,r)}function p_e(e,t,r){return(t.slice(-4)===".bin"?uye:w$)(e,r)}function g_e(e,t,r){return(t.slice(-4)===".bin"?Z2e:L$)(e)}function x_e(e){return(e.slice(-4)===".bin"?I2e:P$)()}var J$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Z$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Tc(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(J$),i,s,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(Z$),(s=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),a[l]=i[2].slice(1,i[2].length-1));return a}function v_e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(J$),n,i,s,l;if(a)for(l=0;l!=a.length;++l)n=a[l].match(Z$),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?s="xmlns"+n[1].slice(6):s=n[1].slice(i+1),r[s]=n[2].slice(1,n[2].length-1));return r}var s1;function b_e(e,t){var r=s1[e]||ba(e);return r==="General"?rm(t):ec(r,t)}function y_e(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=gn(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=bn(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ba(t)]=n}function w_e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||c0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=D1(e.v):e.w=rm(e.v):e.w=b_e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=s1[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Fg(a)){var n=kf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function k_e(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=Lye[a.Pattern]||a.Pattern)}e[t.ID]=t}function __e(e,t,r,a,n,i,s,l,u,d){var h="General",m=a.StyleID,x={};d=d||{};var p=[],y=0;for(m===void 0&&l&&(m=l.StyleID),m===void 0&&s&&(m=s.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&p.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=gn(e);break;case"String":a.t="s",a.r=WD(ba(e)),a.v=e.indexOf("<")>-1?ba(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(bn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=ba(e):a.v<60&&(a.v=a.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=Kq[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=WD(t||e));break}if(w_e(a,h,d),d.cellFormula!==!1)if(a.Formula){var b=ba(a.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),a.f=$p(b,n),delete a.Formula,a.ArrayRange=="RC"?a.F=$p("RC:RC",n):a.ArrayRange&&(a.F=$p(a.ArrayRange,n),u.push([ya(a.F),a.F]))}else for(y=0;y<u.length;++y)n.r>=u[y][0].s.r&&n.r<=u[y][0].e.r&&n.c>=u[y][0].s.c&&n.c<=u[y][0].e.c&&(a.F=u[y][1]);d.cellStyles&&(p.forEach(function(v){!x.patternType&&v.patternType&&(x.patternType=v.patternType)}),a.s=x),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function S_e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function P_(e,t){var r=t||{};Bg();var a=Hx(dA(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Ya(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var s=yn(r);return s.type="string",xg.to_workbook(a,s)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(mt){n.indexOf("<"+mt)>=0&&(i=!0)}),i)return cSe(a,r);s1={"General Number":"General","General Date":Nr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Nr[15],"Short Date":Nr[14],"Long Time":Nr[19],"Medium Time":Nr[18],"Short Time":Nr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Nr[2],Standard:Nr[4],Percent:Nr[10],Scientific:Nr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,u=[],d,h={},m=[],x=r.dense?[]:{},p="",y={},b={},v=Tc('<Data ss:Type="String">'),k=0,N=0,_=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},M={},L="",B=0,F=[],H={},O={},I=0,V=[],Y=[],te={},X=[],ae,de=!1,oe=[],De=[],re={},P=0,W=0,z={Sheets:[],WBProps:{date1904:!1}},q={};I1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";l=I1.exec(a);)switch(l[3]=(Z=l[3]).toLowerCase()){case"data":if(Z=="data"){if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break}if(u[u.length-1][1])break;l[1]==="/"?__e(a.slice(k,l.index),L,v,u[u.length-1][0]=="comment"?te:y,{c:N,r:_},D,X[N],b,oe,r):(L="",v=Tc(l[0]),k=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(Y.length>0&&(y.c=Y),(!r.sheetRows||r.sheetRows>_)&&y.v!==void 0&&(r.dense?(x[_]||(x[_]=[]),x[_][N]=y):x[$n(N)+gi(_)]=y),y.HRef&&(y.l={Target:ba(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(P=N+(parseInt(y.MergeAcross,10)|0),W=_+(parseInt(y.MergeDown,10)|0),F.push({s:{c:N,r:_},e:{c:P,r:W}})),!r.sheetStubs)y.MergeAcross?N=P+1:++N;else if(y.MergeAcross||y.MergeDown){for(var se=N;se<=P;++se)for(var ee=_;ee<=W;++ee)(se>N||ee>_)&&(r.dense?(x[ee]||(x[ee]=[]),x[ee][se]={t:"z"}):x[$n(se)+gi(ee)]={t:"z"});N=P+1}else++N;else y=v_e(l[0]),y.Index&&(N=+y.Index-1),N<A.s.c&&(A.s.c=N),N>A.e.c&&(A.e.c=N),l[0].slice(-2)==="/>"&&++N,Y=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(_<A.s.r&&(A.s.r=_),_>A.e.r&&(A.e.r=_),l[0].slice(-2)==="/>"&&(b=Tc(l[0]),b.Index&&(_=+b.Index-1)),N=0,++_):(b=Tc(l[0]),b.Index&&(_=+b.Index-1),re={},(b.AutoFitHeight=="0"||b.Height)&&(re.hpx=parseInt(b.Height,10),re.hpt=z1(re.hpx),De[_]=re),b.Hidden=="1"&&(re.hidden=!0,De[_]=re));break;case"worksheet":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));m.push(p),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(x["!ref"]=Ur(A),r.sheetRows&&r.sheetRows<=A.e.r&&(x["!fullref"]=x["!ref"],A.e.r=r.sheetRows-1,x["!ref"]=Ur(A))),F.length&&(x["!merges"]=F),X.length>0&&(x["!cols"]=X),De.length>0&&(x["!rows"]=De),h[p]=x}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=N=0,u.push([l[3],!1]),d=Tc(l[0]),p=ba(d.Name),x=r.dense?[]:{},F=[],oe=[],De=[],q={name:p,Hidden:0},z.Sheets.push(q);break;case"table":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;u.push([l[3],!1]),X=[],de=!1}break;case"style":l[1]==="/"?k_e(D,M,r):M=Tc(l[0]);break;case"numberformat":M.nf=ba(Tc(l[0]).Format||"General"),s1[M.nf]&&(M.nf=s1[M.nf]);for(var Q=0;Q!=392&&Nr[Q]!=M.nf;++Q);if(Q==392){for(Q=57;Q!=392;++Q)if(Nr[Q]==null){zd(M.nf,Q);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(ae=Tc(l[0]),ae.Hidden&&(ae.hidden=!0,delete ae.Hidden),ae.Width&&(ae.wpx=parseInt(ae.Width,10)),!de&&ae.wpx>10){de=!0,qs=A$;for(var me=0;me<X.length;++me)X[me]&&bh(X[me])}de&&bh(ae),X[ae.Index-1||X.length]=ae;for(var Ae=0;Ae<+ae.Span;++Ae)X[X.length]=yn(ae);break;case"namedrange":if(l[1]==="/")break;z.Names||(z.Names=[]);var J=Er(l[0]),ke={Name:J.Name,Ref:$p(J.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(ke.Sheet=z.Sheets.length-1),z.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?L+=a.slice(B,l.index):B=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;M.Interior=Tc(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?G1e(H,Z,a.slice(I,l.index)):I=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else u.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));S_e(te),Y.push(te)}else u.push([l[3],!1]),d=Tc(l[0]),te={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ye=Tc(l[0]);x["!autofilter"]={ref:$p(ye.Range).replace(/\$/g,"")},u.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=u.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&u.push([l[3],!0]);break;case"null":break;default:if(u.length==0&&l[3]=="document"||u.length==0&&l[3]=="uof")return DL(a,r);var ce=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ce=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ce=!1}break;case"excelworkbook":switch(l[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ce=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ce=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(I,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else I=l.index+l[0].length;break;case"header":x["!margins"]||Uf(x["!margins"]={},"xlml"),isNaN(+Er(l[0]).Margin)||(x["!margins"].header=+Er(l[0]).Margin);break;case"footer":x["!margins"]||Uf(x["!margins"]={},"xlml"),isNaN(+Er(l[0]).Margin)||(x["!margins"].footer=+Er(l[0]).Margin);break;case"pagemargins":var qe=Er(l[0]);x["!margins"]||Uf(x["!margins"]={},"xlml"),isNaN(+qe.Top)||(x["!margins"].top=+qe.Top),isNaN(+qe.Left)||(x["!margins"].left=+qe.Left),isNaN(+qe.Right)||(x["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(x["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ce=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ce=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ce=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ce=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ce=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ce=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ce=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ce=!1}break;case"smarttags":break;default:ce=!1;break}if(ce||l[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?y_e(O,Z,V,a.slice(I,l.index)):(V=l,I=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+u.join("|")}var ze={};return!r.bookSheets&&!r.bookProps&&(ze.Sheets=h),ze.SheetNames=m,ze.Workbook=z,ze.SSF=yn(Nr),ze.Props=H,ze.Custprops=O,ze}function tN(e,t){switch(MA(t=t||{}),t.type||"base64"){case"base64":return P_(xl(e),t);case"binary":case"buffer":case"file":return P_(e,t);case"array":return P_(Th(e),t)}}function N_e(e,t){var r=[];return e.Props&&r.push(Y1e(e.Props,t)),e.Custprops&&r.push(X1e(e.Props,e.Custprops)),r.join("")}function j_e(){return""}function A_e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Mt("NumberFormat",null,{"ss:Format":Ba(Nr[a.numFmtId])}));var s={"ss:ID":"s"+(21+n)};r.push(Mt("Style",i.join(""),s))}),Mt("Styles",r.join(""))}function eH(e){return Mt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+EA(e.Ref,{r:0,c:0})})}function T_e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(eH(n)))}return Mt("Names",r.join(""))}function E_e(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],s=0;s<n.length;++s){var l=n[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(eH(l)))}return i.join("")}function C_e(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Mt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Mt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Mt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(Mt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Ns("ProtectContents","True")),e["!protect"].objects&&n.push(Ns("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Ns("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Ns("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Ns("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&n.push("<"+s[1]+"/>")})),n.length==0?"":Mt("WorksheetOptions",n.join(""),{xmlns:il.x})}function O_e(e){return e.map(function(t){var r=Jxe(t.t||""),a=Mt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Mt("Comment",a,{"ss:Author":t.a})}).join("")}function P_e(e,t,r,a,n,i,s){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ba(EA(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var u=Hn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(u.r==s.r?"":"["+(u.r-s.r)+"]")+"C"+(u.c==s.c?"":"["+(u.c-s.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ba(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ba(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],h=0;h!=d.length;++h)d[h].s.c!=s.c||d[h].s.r!=s.r||(d[h].e.c>d[h].s.c&&(l["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(l["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=c0[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Nr[14]);break;case"s":m="String",x=Qxe(e.v||"");break}var p=Ch(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=s.c+1;var y=e.v!=null?x:"",b=e.t=="z"?"":'<Data ss:Type="'+m+'">'+y+"</Data>";return(e.c||[]).length>0&&(b+=O_e(e.c)),Mt("Cell",b,l)}function D_e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=vg(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function L_e(e,t,r,a){if(!e["!ref"])return"";var n=ya(e["!ref"]),i=e["!merges"]||[],s=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,k){bh(v);var N=!!v.width,_=sk(k,v),A={"ss:Index":k+1};N&&(A["ss:Width"]=B1(_.width)),v.hidden&&(A["ss:Hidden"]="1"),l.push(Mt("Column",null,A))});for(var u=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var h=[D_e(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>m)&&!(i[s].s.r>d)&&!(i[s].e.c<m)&&!(i[s].e.r<d)){(i[s].s.c!=m||i[s].s.r!=d)&&(x=!0);break}if(!x){var p={r:d,c:m},y=jr(p),b=u?(e[d]||[])[m]:e[y];h.push(P_e(b,y,e,t,r,a,p))}}h.push("</Row>"),h.length>2&&l.push(h.join(""))}return l.join("")}function M_e(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],s=i?E_e(i,t,e,r):"";return s.length>0&&a.push("<Names>"+s+"</Names>"),s=i?L_e(i,t,e,r):"",s.length>0&&a.push("<Table>"+s+"</Table>"),a.push(C_e(i,t,e,r)),a.join("")}function I_e(e,t){t||(t={}),e.SSF||(e.SSF=yn(Nr)),e.SSF&&(Bg(),Zw(e.SSF),t.revssf=tk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(N_e(e,t)),r.push(j_e()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Mt("Worksheet",M_e(a,t,e),{"ss:Name":Ba(e.SheetNames[a])}));return r[2]=A_e(e,t),r[3]=T_e(e),vi+Mt("Workbook",r.join(""),{xmlns:il.ss,"xmlns:o":il.o,"xmlns:x":il.x,"xmlns:ss":il.ss,"xmlns:dt":il.dt,"xmlns:html":il.html})}function R_e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=T1e(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=E1e(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var F_e=[60,1084,2066,2165,2175];function B_e(e,t,r,a,n){var i=a,s=[],l=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}s.push(l),r.l+=i;for(var u=Pd(r,r.l),d=rN[u],h=0;d!=null&&F_e.indexOf(u)>-1;)i=Pd(r,r.l+2),h=r.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),l=r.slice(h,r.l+4+i),s.push(l),r.l+=4+i,d=rN[u=Pd(r,r.l)];var m=ls(s);Ss(m,0);var x=0;m.lens=[];for(var p=0;p<s.length;++p)m.lens.push(x),x+=s[p].length;if(m.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+a;return t.f(m,m.length,n)}function pu(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Nr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||c0[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=D1(e.v):e.w=rm(e.v):e.w=ec(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Fg(Nr[a]||String(a))){var n=kf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function uy(e,t,r){return{v:e,ixfe:t,t:r}}function U_e(e,t){var r={opts:{}},a={},n=t.dense?[]:{},i={},s={},l=null,u=[],d="",h={},m,x="",p,y,b,v,k={},N=[],_,A,D=[],M=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},B={},F=function(ht){return ht<8?Rf[ht]:ht<64&&M[ht-8]||Rf[ht]},H=function(ht,_t,hr){var Ut=_t.XF.data;if(!(!Ut||!Ut.patternType||!hr||!hr.cellStyles)){_t.s={},_t.s.patternType=Ut.patternType;var At;(At=F1(F(Ut.icvFore)))&&(_t.s.fgColor={rgb:At}),(At=F1(F(Ut.icvBack)))&&(_t.s.bgColor={rgb:At})}},O=function(ht,_t,hr){if(!(re>1)&&!(hr.sheetRows&&ht.r>=hr.sheetRows)){if(hr.cellStyles&&_t.XF&&_t.XF.data&&H(ht,_t,hr),delete _t.ixfe,delete _t.XF,m=ht,x=jr(ht),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<s.s.r&&(s.s.r=ht.r),ht.c<s.s.c&&(s.s.c=ht.c),ht.r+1>s.e.r&&(s.e.r=ht.r+1),ht.c+1>s.e.c&&(s.e.c=ht.c+1),hr.cellFormula&&_t.f){for(var Ut=0;Ut<N.length;++Ut)if(!(N[Ut][0].s.c>ht.c||N[Ut][0].s.r>ht.r)&&!(N[Ut][0].e.c<ht.c||N[Ut][0].e.r<ht.r)){_t.F=Ur(N[Ut][0]),(N[Ut][0].s.c!=ht.c||N[Ut][0].s.r!=ht.r)&&delete _t.f,_t.f&&(_t.f=""+Us(N[Ut][1],s,ht,oe,I));break}}hr.dense?(n[ht.r]||(n[ht.r]=[]),n[ht.r][ht.c]=_t):n[x]=_t}},I={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var V,Y=[],te=[],X=[],ae=[],de=!1,oe=[];oe.SheetNames=I.snames,oe.sharedf=I.sharedf,oe.arrayf=I.arrayf,oe.names=[],oe.XTI=[];var De=0,re=0,P=0,W=[],z=[],q;I.codepage=1200,Bc(1200);for(var Z=!1;e.l<e.length-1;){var se=e.l,ee=e.read_shift(2);if(ee===0&&De===10)break;var Q=e.l===e.length?0:e.read_shift(2),me=rN[ee];if(me&&me.f){if(t.bookSheets&&De===133&&ee!==133)break;if(De=ee,me.r===2||me.r==12){var Ae=e.read_shift(2);if(Q-=2,!I.enc&&Ae!==ee&&((Ae&255)<<8|Ae>>8)!==ee)throw new Error("rt mismatch: "+Ae+"!="+ee);me.r==12&&(e.l+=10,Q-=10)}var J={};if(ee===10?J=me.f(e,Q,I):J=B_e(ee,me,e,Q,I),re==0&&[9,521,1033,2057].indexOf(De)===-1)continue;switch(ee){case 34:r.opts.Date1904=L.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=J,!t.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=J;break;case 66:var ke=Number(J);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}Bc(I.codepage=ke),Z=!0;break;case 317:I.rrtabid=J;break;case 25:I.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:I.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(n["!type"]="dialog"),J.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),J.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:D.push(J);break;case 430:oe.push([J]),oe[oe.length-1].XTI=[];break;case 35:case 547:oe[oe.length-1].push(J);break;case 24:case 536:q={Name:J.Name,Ref:Us(J.rgce,s,null,oe,I)},J.itab>0&&(q.Sheet=J.itab-1),oe.names.push(q),oe[0]||(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(z[J.itab-1]={ref:Ur(J.rgce[0][0][1][2])});break;case 22:I.ExternCount=J;break;case 23:oe.length==0&&(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].XTI=oe[oe.length-1].XTI.concat(J),oe.XTI=oe.XTI.concat(J);break;case 2196:if(I.biff<8)break;q!=null&&(q.Comment=J[1]);break;case 18:n["!protect"]=J;break;case 19:J!==0&&I.WTF&&console.error("Password verifier: "+J);break;case 133:i[J.pos]=J,I.snames.push(J.name);break;case 10:{if(--re)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,n["!ref"]=Ur(s),t.sheetRows&&t.sheetRows<=s.e.r){var ye=s.e.r;s.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Ur(s),s.e.r=ye}s.e.r++,s.e.c++}Y.length>0&&(n["!merges"]=Y),te.length>0&&(n["!objects"]=te),X.length>0&&(n["!cols"]=X),ae.length>0&&(n["!rows"]=ae),L.Sheets.push(B)}d===""?h=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),I.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(I.biff=5,Z=!0,Bc(I.codepage=28591)),I.biff==8&&J.BIFFVer==0&&J.dt==16&&(I.biff=2),re++)break;if(n=t.dense?[]:{},I.biff<8&&!Z&&(Z=!0,Bc(I.codepage=t.codepage||1252)),I.biff<5||J.BIFFVer==0&&J.dt==4096){d===""&&(d="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ce={pos:e.l-Q,name:d};i[ce.pos]=ce,I.snames.push(d)}else d=(i[se]||{name:""}).name;J.dt==32&&(n["!type"]="chart"),J.dt==64&&(n["!type"]="macro"),Y=[],te=[],I.arrayf=N=[],X=[],ae=[],de=!1,B={Hidden:(i[se]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[J.r]||[])[J.c]:n[jr({c:J.c,r:J.r})])&&++J.c,_={ixfe:J.ixfe,XF:D[J.ixfe]||{},v:J.val,t:"n"},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 5:case 517:_={ixfe:J.ixfe,XF:D[J.ixfe],v:J.val,t:J.t},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 638:_={ixfe:J.ixfe,XF:D[J.ixfe],v:J.rknum,t:"n"},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 189:for(var qe=J.c;qe<=J.C;++qe){var ze=J.rkrec[qe-J.c][0];_={ixfe:ze,XF:D[ze],v:J.rkrec[qe-J.c][1],t:"n"},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:qe,r:J.r},_,t)}break;case 6:case 518:case 1030:{if(J.val=="String"){l=J;break}if(_=uy(J.val,J.cell.ixfe,J.tt),_.XF=D[_.ixfe],t.cellFormula){var mt=J.formula;if(mt&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp"){var Te=mt[0][0][1][0],Ee=mt[0][0][1][1],Be=jr({r:Te,c:Ee});k[Be]?_.f=""+Us(J.formula,s,J.cell,oe,I):_.F=((t.dense?(n[Te]||[])[Ee]:n[Be])||{}).F}else _.f=""+Us(J.formula,s,J.cell,oe,I)}P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O(J.cell,_,t),l=J}break;case 7:case 519:if(l)l.val=J,_=uy(J,l.cell.ixfe,"s"),_.XF=D[_.ixfe],t.cellFormula&&(_.f=""+Us(l.formula,s,l.cell,oe,I)),P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O(l.cell,_,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(J);var ut=jr(J[0].s);if(p=t.dense?(n[J[0].s.r]||[])[J[0].s.c]:n[ut],t.cellFormula&&p){if(!l||!ut||!p)break;p.f=""+Us(J[1],s,J[0],oe,I),p.F=Ur(J[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!l)break;k[jr(l.cell)]=J[0],p=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[jr(l.cell)],(p||{}).f=""+Us(J[0],s,m,oe,I)}}break;case 253:_=uy(u[J.isst].t,J.ixfe,"s"),u[J.isst].h&&(_.h=u[J.isst].h),_.XF=D[_.ixfe],P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:J.ixfe,XF:D[J.ixfe],t:"z"},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t));break;case 190:if(t.sheetStubs)for(var bt=J.c;bt<=J.C;++bt){var Me=J.ixfe[bt-J.c];_={ixfe:Me,XF:D[Me],t:"z"},P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:bt,r:J.r},_,t)}break;case 214:case 516:case 4:_=uy(J.val,J.ixfe,"s"),_.XF=D[_.ixfe],P>0&&(_.z=W[_.ixfe>>8&63]),pu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 0:case 512:re===1&&(s=J);break;case 252:u=J;break;case 1054:if(I.biff==4){W[P++]=J[1];for(var at=0;at<P+163&&Nr[at]!=J[1];++at);at>=163&&zd(J[1],P+163)}else zd(J[1],J[0]);break;case 30:{W[P++]=J;for(var yt=0;yt<P+163&&Nr[yt]!=J;++yt);yt>=163&&zd(J,P+163)}break;case 229:Y=Y.concat(J);break;case 93:te[J.cmo[0]]=I.lastobj=J;break;case 438:I.lastobj.TxO=J;break;case 127:I.lastobj.ImData=J;break;case 440:for(v=J[0].s.r;v<=J[0].e.r;++v)for(b=J[0].s.c;b<=J[0].e.c;++b)p=t.dense?(n[v]||[])[b]:n[jr({c:b,r:v})],p&&(p.l=J[1]);break;case 2048:for(v=J[0].s.r;v<=J[0].e.r;++v)for(b=J[0].s.c;b<=J[0].e.c;++b)p=t.dense?(n[v]||[])[b]:n[jr({c:b,r:v})],p&&p.l&&(p.l.Tooltip=J[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;p=t.dense?(n[J[0].r]||[])[J[0].c]:n[jr(J[0])];var lr=te[J[2]];p||(t.dense?(n[J[0].r]||(n[J[0].r]=[]),p=n[J[0].r][J[0].c]={t:"z"}):p=n[jr(J[0])]={t:"z"},s.e.r=Math.max(s.e.r,J[0].r),s.s.r=Math.min(s.s.r,J[0].r),s.e.c=Math.max(s.e.c,J[0].c),s.s.c=Math.min(s.s.c,J[0].c)),p.c||(p.c=[]),y={a:J[1],t:lr.TxO.t},p.c.push(y)}break;case 2173:A2e(D[J.ixfe],J.ext);break;case 125:{if(!I.cellStyles)break;for(;J.e>=J.s;)X[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},de||(de=!0,jA(J.w/256)),bh(X[J.e+1])}break;case 520:{var Rt={};J.level!=null&&(ae[J.r]=Rt,Rt.level=J.level),J.hidden&&(ae[J.r]=Rt,Rt.hidden=!0),J.hpt&&(ae[J.r]=Rt,Rt.hpt=J.hpt,Rt.hpx=vg(J.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Uf(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=J;break;case 161:n["!margins"]||Uf(n["!margins"]={}),n["!margins"].header=J.header,n["!margins"].footer=J.footer;break;case 574:J.RTL&&(L.Views[0].RTL=!0);break;case 146:M=J;break;case 2198:V=J;break;case 140:A=J;break;case 442:d?B.CodeName=J||B.name:L.WBProps.CodeName=J||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),e.l+=Q}return r.SheetNames=ii(i).sort(function(kt,ht){return Number(kt)-Number(ht)}).map(function(kt){return i[kt].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&z.forEach(function(kt,ht){r.Sheets[r.SheetNames[ht]]["!autofilter"]=kt}),r.Strings=u,r.SSF=yn(Nr),I.enc&&(r.Encryption=I.enc),V&&(r.Themes=V),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),oe.names.length>0&&(L.Names=oe.names),r.Workbook=L,r}var o1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function z_e(e,t,r){var a=br.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=cL(a,Y3,o1.DSI);for(var i in n)t[i]=n[i]}catch(d){if(r.WTF)throw d}var s=br.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var l=cL(s,X3,o1.SI);for(var u in l)t[u]==null&&(t[u]=l[u])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Zq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function q_e(e,t){var r=[],a=[],n=[],i=0,s,l=BD(Y3,"n"),u=BD(X3,"n");if(e.Props)for(s=ii(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?a:n).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=ii(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(u,s[i])?a:n).push([s[i],e.Custprops[s[i]]]);var d=[];for(i=0;i<n.length;++i)s$.indexOf(n[i][0])>-1||Jq.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&br.utils.cfb_add(t,"/SummaryInformation",uL(a,o1.SI,u,X3)),(r.length||d.length)&&br.utils.cfb_add(t,"/DocumentSummaryInformation",uL(r,o1.DSI,l,Y3,d.length?d:null,o1.UDI))}function tH(e,t){t||(t={}),MA(t),rA(),t.codepage&&tA(t.codepage);var r,a;if(e.FullPaths){if(br.find(e,"/encryption"))throw new Error("File is password-protected");r=br.find(e,"!CompObj"),a=br.find(e,"/Workbook")||br.find(e,"/Book")}else{switch(t.type){case"base64":e=ul(xl(e));break;case"binary":e=ul(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ss(e,0),a={content:e}}var n,i;if(r&&R_e(r),t.bookProps&&!t.bookSheets)n={};else{var s=Gr?"buffer":"array";if(a&&a.content)n=U_e(a.content,t);else if((i=br.find(e,"PerfectOffice_MAIN"))&&i.content)n=Bf.to_workbook(i.content,(t.type=s,t));else if((i=br.find(e,"NativeContent_MAIN"))&&i.content)n=Bf.to_workbook(i.content,(t.type=s,t));else throw(i=br.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&br.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=twe(e))}var l={};return e.FullPaths&&z_e(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}function $_e(e,t){var r=t||{},a=br.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return br.utils.cfb_add(a,n,rH(e,r)),r.biff==8&&(e.Props||e.Custprops)&&q_e(e,a),r.biff==8&&e.vbaraw&&rwe(a,br.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var q1={0:{f:f5e},1:{f:w5e},2:{f:U5e},3:{f:E5e},4:{f:N5e},5:{f:R5e},6:{f:W5e},7:{f:D5e},8:{f:J5e},9:{f:Q5e},10:{f:Y5e},11:{f:X5e},12:{f:_5e},13:{f:q5e},14:{f:O5e},15:{f:A5e},16:{f:K$},17:{f:K5e},18:{f:M5e},19:{f:gA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:K4e},40:{},42:{},43:{f:Wye},44:{f:$ye},45:{f:Gye},46:{f:Xye},47:{f:Yye},48:{},49:{f:g1e},50:{},51:{f:C2e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:x$},62:{f:H5e},63:{f:B2e},64:{f:m4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:u4e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:b5e},148:{f:g5e,p:16},151:{f:n4e},152:{},153:{f:H4e},154:{},155:{},156:{f:q4e},157:{},158:{},159:{T:1,f:sye},160:{T:-1},161:{T:1,f:vm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Z5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:T2e},336:{T:-1},337:{f:D2e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:G3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:g$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:i4e},427:{f:s4e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:l4e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:v5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:r4e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:G3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:X2e},633:{T:1},634:{T:-1},635:{T:1,f:G2e},636:{T:-1},637:{f:y1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:O4e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:p4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rN={6:{f:C_},10:{f:W0},12:{f:Ai},13:{f:Ai},14:{f:ui},15:{f:ui},16:{f:$s},17:{f:ui},18:{f:ui},19:{f:Ai},20:{f:gL},21:{f:gL},23:{f:g$},24:{f:vL},25:{f:ui},26:{},27:{},28:{f:pbe},29:{},34:{f:ui},35:{f:xL},38:{f:$s},39:{f:$s},40:{f:$s},41:{f:$s},42:{f:ui},43:{f:ui},47:{f:Aye},49:{f:qve},51:{f:Ai},60:{},61:{f:Rve},64:{f:ui},65:{f:zve},66:{f:Ai},77:{},80:{},81:{},82:{},85:{f:Ai},89:{},90:{},91:{},92:{f:jve},93:{f:vbe},94:{},95:{f:ui},96:{},97:{},99:{f:ui},125:{f:x$},128:{f:abe},129:{f:Tve},130:{f:Ai},131:{f:ui},132:{f:ui},133:{f:Eve},134:{},140:{f:jbe},141:{f:Ai},144:{},146:{f:Ebe},151:{},152:{},153:{},154:{},155:{},156:{f:Ai},157:{},158:{},160:{f:Ibe},161:{f:Pbe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Zve},190:{f:ebe},193:{f:W0},197:{},198:{},199:{},200:{},201:{},202:{f:ui},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ai},220:{},221:{f:ui},222:{},224:{f:rbe},225:{f:Nve},226:{f:W0},227:{},229:{f:gbe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ove},253:{f:Hve},255:{f:Dve},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:o$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ui},353:{f:W0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lbe},431:{f:ui},432:{},433:{},434:{},437:{},438:{f:wbe},439:{f:ui},440:{f:kbe},441:{},442:{f:Ev},443:{},444:{f:Ai},445:{},446:{},448:{f:W0},449:{f:Ive,r:2},450:{f:W0},512:{f:fL},513:{f:Mbe},515:{f:sbe},516:{f:Vve},517:{f:pL},519:{f:Rbe},520:{f:Lve},523:{},545:{f:bL},549:{f:hL},566:{},574:{f:Bve},638:{f:Jve},659:{},1048:{},1054:{f:Gve},1084:{},1212:{f:hbe},2048:{f:Sbe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:oy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:W0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Cbe,r:12},2173:{f:j2e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ui,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dbe,r:12},2197:{},2198:{f:y2e,r:12},2199:{},2200:{},2201:{},2202:{f:fbe,r:12},2203:{f:W0},2204:{},2205:{},2206:{},2207:{},2211:{f:Mve},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ai},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Dbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Tbe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:fL},1:{},2:{f:qbe},3:{f:Ube},4:{f:Bbe},5:{f:pL},7:{f:Hbe},8:{},9:{f:oy},11:{},22:{f:Ai},30:{f:Xve},31:{},32:{},33:{f:bL},36:{},37:{f:hL},50:{f:Wbe},62:{},52:{},67:{},68:{f:Ai},69:{},86:{},126:{},127:{f:Fbe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Vbe},223:{},234:{},354:{},421:{},518:{f:C_},521:{f:oy},536:{f:vL},547:{f:xL},561:{},579:{},1030:{f:C_},1033:{f:oy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function It(e,t,r,a){var n=t;if(!isNaN(n)){var i=a||(r||[]).length||0,s=e.next(4);s.write_shift(2,n),s.write_shift(2,i),i>0&&fA(r)&&e.push(r)}}function H_e(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return It(e,t,r,n);var i=t;if(!isNaN(i)){for(var s=r.parts||[],l=0,u=0,d=0;d+(s[l]||8224)<=8224;)d+=s[l]||8224,l++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d;u<n;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(s[l]||8224)<=8224;)d+=s[l]||8224,l++;h.write_shift(2,d),e.push(r.slice(u,u+d)),u+=d}}}function Dv(e,t,r){return e||(e=dt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function W_e(e,t,r,a){var n=dt(9);return Dv(n,e,t),l$(r,a||"b",n),n}function V_e(e,t,r){var a=dt(8+2*r.length);return Dv(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function K_e(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Wi(bn(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?It(e,2,$be(r,a,n)):It(e,3,zbe(r,a,n));return;case"b":case"e":It(e,5,W_e(r,a,t.v,t.t));return;case"s":case"str":It(e,4,V_e(r,a,(t.v||"").slice(0,255)));return}It(e,1,Dv(null,r,a))}function G_e(e,t,r,a){var n=Array.isArray(t),i=ya(t["!ref"]||"A1"),s,l="",u=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Ur(i)}for(var d=i.s.r;d<=i.e.r;++d){l=gi(d);for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(u[h]=$n(h)),s=u[h]+l;var m=n?(t[d]||[])[h]:t[s];m&&K_e(e,m,d,h)}}}function Y_e(e,t){for(var r=t||{},a=Bo(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(n=i);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return It(a,r.biff==4?1033:r.biff==3?521:9,_A(e,16,r)),G_e(a,e.Sheets[e.SheetNames[n]],n,r),It(a,10),a.end()}function X_e(e,t,r){It(e,49,$ve({sz:12,name:"Arial"},r))}function Q_e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&It(e,1054,Yve(n,t[n],r))})}function J_e(e,t){var r=dt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),It(e,2151,r),r=dt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),f$(ya(t["!ref"]||"A1"),r),r.write_shift(4,4),It(e,2152,r)}function Z_e(e,t){for(var r=0;r<16;++r)It(e,224,mL({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){It(e,224,mL(a,0,t))})}function eSe(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];It(e,440,_be(a)),a[1].Tooltip&&It(e,2048,Nbe(a))}delete t["!links"]}function tSe(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&It(e,125,Obe(sk(n,a),n))})}}function rSe(e,t,r,a,n){var i=16+Ch(n.cellXfs,t,n);if(t.v==null&&!t.bf){It(e,513,sm(r,a,i));return}if(t.bf)It(e,6,Tke(t,r,a,n,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Wi(bn(t.v)):t.v;It(e,515,obe(r,a,s,i));break;case"b":case"e":It(e,517,ibe(r,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var l=OA(n.Strings,t.v,n.revStrings);It(e,253,Wve(r,a,l,i))}else It(e,516,Kve(r,a,(t.v||"").slice(0,255),i,n));break;default:It(e,513,sm(r,a,i))}}function aSe(e,t,r){var a=Bo(),n=r.SheetNames[e],i=r.Sheets[n]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[e]||{},u=Array.isArray(i),d=t.biff==8,h,m="",x=[],p=ya(i["!ref"]||"A1"),y=d?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}It(a,2057,_A(r,16,t)),It(a,13,Vl(1)),It(a,12,Vl(100)),It(a,15,lo(!0)),It(a,17,lo(!1)),It(a,16,nm(.001)),It(a,95,lo(!0)),It(a,42,lo(!1)),It(a,43,lo(!1)),It(a,130,Vl(1)),It(a,128,nbe()),It(a,131,lo(!1)),It(a,132,lo(!1)),d&&tSe(a,i["!cols"]),It(a,512,Qve(p,t)),d&&(i["!links"]=[]);for(var b=p.s.r;b<=p.e.r;++b){m=gi(b);for(var v=p.s.c;v<=p.e.c;++v){b===p.s.r&&(x[v]=$n(v)),h=x[v]+m;var k=u?(i[b]||[])[v]:i[h];k&&(rSe(a,k,b,v,t),d&&k.l&&i["!links"].push([h,k.l]))}}var N=l.CodeName||l.name||n;return d&&It(a,574,Uve((s.Views||[])[0])),d&&(i["!merges"]||[]).length&&It(a,229,xbe(i["!merges"])),d&&eSe(a,i),It(a,442,c$(N)),d&&J_e(a,i),It(a,10),a.end()}function nSe(e,t,r){var a=Bo(),n=(e||{}).Workbook||{},i=n.Sheets||[],s=n.WBProps||{},l=r.biff==8,u=r.biff==5;if(It(a,2057,_A(e,5,r)),r.bookType=="xla"&&It(a,135),It(a,225,l?Vl(1200):null),It(a,193,ive(2)),u&&It(a,191),u&&It(a,192),It(a,226),It(a,92,Ave("SheetJS",r)),It(a,66,Vl(l?1200:1252)),l&&It(a,353,Vl(0)),l&&It(a,448),It(a,317,Lbe(e.SheetNames.length)),l&&e.vbaraw&&It(a,211),l&&e.vbaraw){var d=s.CodeName||"ThisWorkbook";It(a,442,c$(d))}It(a,156,Vl(17)),It(a,25,lo(!1)),It(a,18,lo(!1)),It(a,19,Vl(0)),l&&It(a,431,lo(!1)),l&&It(a,444,Vl(0)),It(a,61,Fve()),It(a,64,lo(!1)),It(a,141,Vl(0)),It(a,34,lo(I4e(e)=="true")),It(a,14,lo(!0)),l&&It(a,439,lo(!1)),It(a,218,Vl(0)),X_e(a,e,r),Q_e(a,e.SSF,r),Z_e(a,r),l&&It(a,352,lo(!1));var h=a.end(),m=Bo();l&&It(m,140,Abe()),l&&r.Strings&&H_e(m,252,Pve(r.Strings)),It(m,10);var x=m.end(),p=Bo(),y=0,b=0;for(b=0;b<e.SheetNames.length;++b)y+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var v=h.length+y+x.length;for(b=0;b<e.SheetNames.length;++b){var k=i[b]||{};It(p,133,Cve({pos:v,hs:k.Hidden||0,dt:0,name:e.SheetNames[b]},r)),v+=t[b].length}var N=p.end();if(y!=N.length)throw new Error("BS8 "+y+" != "+N.length);var _=[];return h.length&&_.push(h),N.length&&_.push(N),x.length&&_.push(x),ls(_)}function iSe(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=yn(Nr)),e&&e.SSF&&(Bg(),Zw(e.SSF),r.revssf=tk(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,IA(r),r.cellXfs=[],Ch(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=aSe(n,r,e);return a.unshift(nSe(e,a,r)),ls(a)}function rH(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=Uo(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return iSe(e,t);case 4:case 3:case 2:return Y_e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function EL(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=n.index,l=i&&i.index||e.length,u=$xe(e.slice(s,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,m=0,x=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<u.length;++s){var b=u[s].trim(),v=b.slice(0,3).toLowerCase();if(v=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}h=0;continue}if(!(v!="<td"&&v!="<th")){var k=b.split(/<\/t[dh]>/i);for(l=0;l<k.length;++l){var N=k[l].trim();if(N.match(/<t[dh]/i)){for(var _=N,A=0;_.charAt(0)=="<"&&(A=_.indexOf(">"))>-1;)_=_.slice(A+1);for(var D=0;D<y.length;++D){var M=y[D];M.s.c==h&&M.s.r<d&&d<=M.e.r&&(h=M.e.c+1,D=-1)}var L=Er(N.slice(0,N.indexOf(">")));x=L.colspan?+L.colspan:1,((m=+L.rowspan)>1||x>1)&&y.push({s:{r:d,c:h},e:{r:d+(m||1)-1,c:h+x-1}});var B=L.t||L["data-t"]||"";if(!_.length){h+=x;continue}if(_=jq(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>h&&(p.s.c=h),p.e.c<h&&(p.e.c=h),!_.length){h+=x;continue}var F={t:"s",v:_};r.raw||!_.trim().length||B=="s"||(_==="TRUE"?F={t:"b",v:!0}:_==="FALSE"?F={t:"b",v:!1}:isNaN(zc(_))?isNaN(gg(_).getDate())||(F={t:"d",v:bn(_)},r.cellDates||(F={t:"n",v:Wi(F.v)}),F.z=r.dateNF||Nr[14]):F={t:"n",v:zc(_)}),r.dense?(a[d]||(a[d]=[]),a[d][h]=F):a[jr({r:d,c:h})]=F,h+=x}}}}return a["!ref"]=Ur(p),y.length&&(a["!merges"]=y),a}function sSe(e,t,r,a){for(var n=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var l=0,u=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>s)&&!(n[d].e.r<r||n[d].e.c<s)){if(n[d].s.r<r||n[d].s.c<s){l=-1;break}l=n[d].e.r-n[d].s.r+1,u=n[d].e.c-n[d].s.c+1;break}if(!(l<0)){var h=jr({r,c:s}),m=a.dense?(e[r]||[])[s]:e[h],x=m&&m.v!=null&&(m.h||uA(m.w||(Jd(m),m.w)||""))||"",p={};l>1&&(p.rowspan=l),u>1&&(p.colspan=u),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(p["data-t"]=m&&m.t||"z",m.v!=null&&(p["data-v"]=m.v),m.z!=null&&(p["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),p.id=(a.id||"sjs")+"-"+h,i.push(Mt("td",x,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var oSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lSe="</body></html>";function cSe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Eh(EL(r[0],t),t);var a=BA();return r.forEach(function(n,i){UA(a,EL(n,t),"Sheet"+(i+1))}),a}function uSe(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function aH(e,t){var r=t||{},a=r.header!=null?r.header:oSe,n=r.footer!=null?r.footer:lSe,i=[a],s=Uo(e["!ref"]);r.dense=Array.isArray(e),i.push(uSe(e,s,r));for(var l=s.s.r;l<=s.e.r;++l)i.push(sSe(e,s,l,r));return i.push("</table>"+n),i.join("")}function nH(e,t,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var s=typeof a.origin=="string"?Hn(a.origin):a.origin;n=s.r,i=s.c}var l=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var h=Uo(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),n==-1&&(d.e.r=n=h.e.r+1)}var m=[],x=0,p=e["!rows"]||(e["!rows"]=[]),y=0,b=0,v=0,k=0,N=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&b<u;++y){var A=l[y];if(CL(A)){if(a.display)continue;p[b]={hidden:!0}}var D=A.children;for(v=k=0;v<D.length;++v){var M=D[v];if(!(a.display&&CL(M))){var L=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):jq(M.innerHTML),B=M.getAttribute("data-z")||M.getAttribute("z");for(x=0;x<m.length;++x){var F=m[x];F.s.c==k+i&&F.s.r<b+n&&b+n<=F.e.r&&(k=F.e.c+1-i,x=-1)}_=+M.getAttribute("colspan")||1,((N=+M.getAttribute("rowspan")||1)>1||_>1)&&m.push({s:{r:b+n,c:k+i},e:{r:b+n+(N||1)-1,c:k+i+(_||1)-1}});var H={t:"s",v:L},O=M.getAttribute("data-t")||M.getAttribute("t")||"";L!=null&&(L.length==0?H.t=O||"z":a.raw||L.trim().length==0||O=="s"||(L==="TRUE"?H={t:"b",v:!0}:L==="FALSE"?H={t:"b",v:!1}:isNaN(zc(L))?isNaN(gg(L).getDate())||(H={t:"d",v:bn(L)},a.cellDates||(H={t:"n",v:Wi(H.v)}),H.z=a.dateNF||Nr[14]):H={t:"n",v:zc(L)})),H.z===void 0&&B!=null&&(H.z=B);var I="",V=M.getElementsByTagName("A");if(V&&V.length)for(var Y=0;Y<V.length&&!(V[Y].hasAttribute("href")&&(I=V[Y].getAttribute("href"),I.charAt(0)!="#"));++Y);I&&I.charAt(0)!="#"&&(H.l={Target:I}),a.dense?(e[b+n]||(e[b+n]=[]),e[b+n][k+i]=H):e[jr({c:k+i,r:b+n})]=H,d.e.c<k+i&&(d.e.c=k+i),k+=_}}++b}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,b-1+n),e["!ref"]=Ur(d),b>=u&&(e["!fullref"]=Ur((d.e.r=l.length-y+b-1+n,d))),e}function iH(e,t){var r=t||{},a=r.dense?[]:{};return nH(a,e,t)}function dSe(e,t){return Eh(iH(e,t),t)}function CL(e){var t="",r=hSe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function hSe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function fSe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ba(t.replace(/<[^>]*>/g,""));return[r]}var OL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function sH(e,t){var r=t||{},a=dA(e),n=[],i,s,l={name:""},u="",d=0,h,m,x={},p=[],y=r.dense?[]:{},b,v,k={value:""},N="",_=0,A=[],D=-1,M=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},B=0,F={},H=[],O={},I=0,V=0,Y=[],te=1,X=1,ae=[],de={Names:[]},oe={},De=["",""],re=[],P={},W="",z=0,q=!1,Z=!1,se=0;for(I1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=I1.exec(a);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?y["!ref"]=Ur(L):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=L.e.r&&(y["!fullref"]=y["!ref"],L.e.r=r.sheetRows-1,y["!ref"]=Ur(L)),H.length&&(y["!merges"]=H),Y.length&&(y["!rows"]=Y),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),p.push(h.name),x[h.name]=y,Z=!1):b[0].charAt(b[0].length-2)!=="/"&&(h=Er(b[0],!1),D=M=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,y=r.dense?[]:{},H=[],Y=[],Z=!0);break;case"table-row-group":b[1]==="/"?--B:++B;break;case"table-row":case"":if(b[1]==="/"){D+=te,te=1;break}if(m=Er(b[0],!1),m.?D=m.-1:D==-1&&(D=0),te=+m["number-rows-repeated"]||1,te<10)for(se=0;se<te;++se)B>0&&(Y[D+se]={level:B});M=-1;break;case"covered-table-cell":b[1]!=="/"&&++M,r.sheetStubs&&(r.dense?(y[D]||(y[D]=[]),y[D][M]={t:"z"}):y[jr({r:D,c:M})]={t:"z"}),N="",A=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++M,k=Er(b[0],!1),X=parseInt(k["number-columns-repeated"]||"1",10),v={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(v.f=jL(ba(k.formula))),(k.||k["value-type"])=="string"&&(v.t="s",v.v=ba(k["string-value"]||""),r.dense?(y[D]||(y[D]=[]),y[D][M]=v):y[jr({r:D,c:M})]=v),M+=X-1;else if(b[1]!=="/"){++M,N="",_=0,A=[],X=1;var ee=te?D+te-1:D;if(M>L.e.c&&(L.e.c=M),M<L.s.c&&(L.s.c=M),D<L.s.r&&(L.s.r=D),ee>L.e.r&&(L.e.r=ee),k=Er(b[0],!1),re=[],P={},v={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=ba(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(I=parseInt(k["number-matrix-rows-spanned"],10)||0,V=parseInt(k["number-matrix-columns-spanned"],10)||0,O={s:{r:D,c:M},e:{r:D+I-1,c:M+V-1}},v.F=Ur(O),ae.push([O,v.F])),k.formula)v.f=jL(k.formula);else for(se=0;se<ae.length;++se)D>=ae[se][0].s.r&&D<=ae[se][0].e.r&&M>=ae[se][0].s.c&&M<=ae[se][0].e.c&&(v.F=ae[se][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(I=parseInt(k["number-rows-spanned"],10)||0,V=parseInt(k["number-columns-spanned"],10)||0,O={s:{r:D,c:M},e:{r:D+I-1,c:M+V-1}},H.push(O)),k["number-columns-repeated"]&&(X=parseInt(k["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=gn(k["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(k.value);break;case"percentage":v.t="n",v.v=parseFloat(k.value);break;case"currency":v.t="n",v.v=parseFloat(k.value);break;case"date":v.t="d",v.v=bn(k["date-value"]),r.cellDates||(v.t="n",v.v=Wi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Uxe(k["time-value"])/86400,r.cellDates&&(v.t="d",v.v=rk(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(k.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",k["string-value"]!=null&&(N=ba(k["string-value"]),A=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(q=!1,v.t==="s"&&(v.v=N||"",A.length&&(v.R=A),q=_==0),oe.Target&&(v.l=oe),re.length>0&&(v.c=re,re=[]),N&&r.cellText!==!1&&(v.w=N),q&&(v.t="z",delete v.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var Q=0;Q<te;++Q){if(X=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(y[D+Q]||(y[D+Q]=[]),y[D+Q][M]=Q==0?v:yn(v);--X>0;)y[D+Q][M+X]=yn(v);else for(y[jr({r:D+Q,c:M})]=v;--X>0;)y[jr({r:D+Q,c:M+X})]=yn(v);L.e.c<=M&&(L.e.c=M)}X=parseInt(k["number-columns-repeated"]||"1",10),M+=X-1,X=0,v={},N="",A=[]}oe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i;P.t=N,A.length&&(P.R=A),P.a=W,re.push(P)}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!1]);W="",z=0,N="",_=0,A=[];break;case"creator":b[1]==="/"?W=a.slice(z,b.index):z=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&n.push([b[3],!1]);N="",_=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(F[l.name]=u,(i=n.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&(u="",l=Er(b[0],!1),n.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":s=Er(b[0],!1),u+=OL[b[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":s=Er(b[0],!1),u+=OL[b[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":u+=a.slice(d,b.index);break}else d=b.index+b[0].length;break;case"named-range":s=Er(b[0],!1),De=O_(s["cell-range-address"]);var me={Name:s.name,Ref:De[0]+"!"+De[1]};Z&&(me.Sheet=p.length),de.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(b[1]==="/"&&(!k||!k["string-value"])){var Ae=fSe(a.slice(_,b.index));N=(N.length>0?N+`
`:"")+Ae[0]}else Er(b[0],!1),_=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{De=O_(Er(b[0])["target-range-address"]),x[De[0]]["!autofilter"]={ref:De[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(oe=Er(b[0],!1),!oe.href)break;oe.Target=ba(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(De=O_(oe.Target.slice(1)),oe.Target="#"+De[0]+"!"+De[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var J={Sheets:x,SheetNames:p,Workbook:de};return r.bookSheets&&delete J.Sheets,J}function PL(e,t){t=t||{},Hl(e,"META-INF/manifest.xml")&&U1e(ji(e,"META-INF/manifest.xml"),t);var r=dl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=sH(Ya(r),t);return Hl(e,"meta.xml")&&(a.Props=Xq(ji(e,"meta.xml"))),a}function DL(e,t){return sH(e,t)}var mSe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+M1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return vi+t}})(),LL=(function(){var e=function(i){return Ba(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,s,l){var u=[];u.push('      <table:table table:name="'+Ba(s.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,h=0,m=Uo(i["!ref"]||"A1"),x=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var b="",v=i["!rows"]||[];for(d=0;d<m.s.r;++d)b=v[d]?' table:style-name="ro'+v[d].ods+'"':"",u.push("        <table:table-row"+b+`></table:table-row>
`);for(;d<=m.e.r;++d){for(b=v[d]?' table:style-name="ro'+v[d].ods+'"':"",u.push("        <table:table-row"+b+`>
`),h=0;h<m.s.c;++h)u.push(t);for(;h<=m.e.c;++h){var k=!1,N={},_="";for(p=0;p!=x.length;++p)if(!(x[p].s.c>h)&&!(x[p].s.r>d)&&!(x[p].e.c<h)&&!(x[p].e.r<d)){(x[p].s.c!=h||x[p].s.r!=d)&&(k=!0),N["table:number-columns-spanned"]=x[p].e.c-x[p].s.c+1,N["table:number-rows-spanned"]=x[p].e.r-x[p].s.r+1;break}if(k){u.push(r);continue}var A=jr({r:d,c:h}),D=y?(i[d]||[])[h]:i[A];if(D&&D.f&&(N["table:formula"]=Ba(Lke(D.f)),D.F&&D.F.slice(0,A.length)==A)){var M=Uo(D.F);N["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,N["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!D){u.push(t);continue}switch(D.t){case"b":_=D.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=D.v?"true":"false";break;case"n":_=D.w||String(D.v||0),N["office:value-type"]="float",N["office:value"]=D.v||0;break;case"s":case"str":_=D.v==null?"":D.v,N["office:value-type"]="string";break;case"d":_=D.w||bn(D.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=bn(D.v).toISOString(),N["table:style-name"]="ce1";break;default:u.push(t);continue}var L=e(_);if(D.l&&D.l.Target){var B=D.l.Target;B=B.charAt(0)=="#"?"#"+Mke(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),L=Mt("text:a",L,{"xlink:href":B.replace(/&/g,"&amp;")})}u.push("          "+Mt("table:table-cell",Mt("text:p",L,{}),N)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;bh(m),m.ods=l;var x=d["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++l}}});var u=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=u;var m=d["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,l){var u=[vi],d=M1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=M1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(u.push("<office:document"+d+h+`>
`),u.push(Yq().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),n(u,s),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=s.SheetNames.length;++m)u.push(a(s.Sheets[s.SheetNames[m]],s,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),l.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function oH(e,t){if(t.bookType=="fods")return LL(e,t);var r=oA(),a="",n=[],i=[];return a="mimetype",$r(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",$r(r,a,LL(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",$r(r,a,mSe(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",$r(r,a,vi+Yq()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",$r(r,a,$1e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",$r(r,a,z1e(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function om(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function aN(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ya(Th(e))}function pSe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ul(Eu(e))}function gSe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function wh(e){var t=e.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function ML(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function xSe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function vSe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=r>=0?0:128}function $1(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Ma(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ai(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function _a(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=$1(e,r),i=n&7;n=Math.floor(n/8);var s=0,l;if(n==0)break;switch(i){case 0:{for(var u=r[0];e[r[0]++]>=128;);l=e.slice(u,r[0])}break;case 5:s=4,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=$1(e,r),l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:l,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function ws(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Ma(a*8+n.type)),n.type==2&&t.push(Ma(n.data.length)),t.push(n.data))})}),wh(t)}function LA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ql(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=$1(e,a),i=_a(e.slice(a[0],a[0]+n));a[0]+=n;var s={id:ai(i[1][0].data),messages:[]};i[2].forEach(function(l){var u=_a(l.data),d=ai(u[3][0].data);s.messages.push({meta:u,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(s.merge=ai(i[3][0].data)>>>0>0),r.push(s)}return r}function wp(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Ma(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Ma(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(s){n.push(s.data),s.meta[3]=[{type:0,data:Ma(s.data.length)}],a[2].push({data:ws(s.meta),type:2})});var i=ws(a);t.push(Ma(i.length)),t.push(i),n.forEach(function(s){return t.push(s)})}),wh(t)}function bSe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=$1(t,r),n=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=t[r[0]],l>1&&(s|=t[r[0]+1]<<8),l>2&&(s|=t[r[0]+2]<<16),l>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}n.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var u=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,u=(t[r[0]++]&224)<<3,u|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(u=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(u=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[wh(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(n.push(n[0].slice(-u)),d-=u;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-u,-u+d))}}var h=wh(n);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function $l(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(bSe(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return wh(t)}function kp(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var i=Ma(a),s=i.length;t.push(i),a<=60?(s++,t.push(new Uint8Array([a-1<<2]))):a<=256?(s+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(s+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(s+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(s+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),s+=a,n[0]=0,n[1]=s&255,n[2]=s>>8&255,n[3]=s>>16&255,r+=a}return wh(t)}function ySe(e,t,r,a){var n=om(e),i=n.getUint32(4,!0),s=(a>1?12:8)+ML(i&(a>1?3470:398))*4,l=-1,u=-1,d=NaN,h=new Date(2001,0,1);i&512&&(l=n.getUint32(s,!0),s+=4),s+=ML(i&(a>1?12288:4096))*4,i&16&&(u=n.getUint32(s,!0),s+=4),i&32&&(d=n.getFloat64(s,!0),s+=8),i&64&&(h.setTime(h.getTime()+n.getFloat64(s,!0)*1e3),s+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[u]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:r[l]};else if(u>-1)m={t:"s",v:t[u]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function wSe(e,t,r){var a=om(e),n=a.getUint32(8,!0),i=12,s=-1,l=-1,u=NaN,d=NaN,h=new Date(2001,0,1);n&1&&(u=xSe(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(h.setTime(h.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(l=a.getUint32(i,!0),i+=4),n&16&&(s=a.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:t[l]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(s>-1)m={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return m}function D_(e,t){var r=new Uint8Array(32),a=om(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,vSe(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function L_(e,t){var r=new Uint8Array(32),a=om(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function kSe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return ySe(e,t,r,e[0]);case 5:return wSe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Bs(e){var t=_a(e);return $1(t[1][0].data)}function IL(e,t){var r=_a(t.data),a=ai(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(s){var l=_a(s.data),u=ai(l[1][0].data)>>>0;switch(a){case 1:i[u]=aN(l[3][0].data);break;case 8:{var d=e[Bs(l[9][0].data)][0],h=_a(d.data),m=e[Bs(h[1][0].data)][0],x=ai(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var p=_a(m.data);i[u]=p[3].map(function(y){return aN(y.data)}).join("")}break}}),i}function _Se(e,t){var r,a,n,i,s,l,u,d,h,m,x,p,y,b,v=_a(e),k=ai(v[1][0].data)>>>0,N=ai(v[2][0].data)>>>0,_=((a=(r=v[8])==null?void 0:r[0])==null?void 0:a.data)&&ai(v[8][0].data)>0||!1,A,D;if((i=(n=v[7])==null?void 0:n[0])!=null&&i.data&&t!=0)A=(l=(s=v[7])==null?void 0:s[0])==null?void 0:l.data,D=(d=(u=v[6])==null?void 0:u[0])==null?void 0:d.data;else if((m=(h=v[4])==null?void 0:h[0])!=null&&m.data&&t!=1)A=(p=(x=v[4])==null?void 0:x[0])==null?void 0:p.data,D=(b=(y=v[3])==null?void 0:y[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var M=_?4:1,L=om(A),B=[],F=0;F<A.length/2;++F){var H=L.getUint16(F*2,!0);H<65535&&B.push([F,H])}if(B.length!=N)throw"Expected ".concat(N," cells, found ").concat(B.length);var O=[];for(F=0;F<B.length-1;++F)O[B[F][0]]=D.subarray(B[F][1]*M,B[F+1][1]*M);return B.length>=1&&(O[B[B.length-1][0]]=D.subarray(B[B.length-1][1]*M)),{R:k,cells:O}}function SSe(e,t){var r,a=_a(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?ai(a[7][0].data)>>>0>0?1:0:-1,i=LA(a[5],function(s){return _Se(s,n)});return{nrows:ai(a[4][0].data)>>>0,data:i.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(u,d){if(s[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));s[l.R][d]=u}),s},[])}}function NSe(e,t,r){var a,n=_a(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ai(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(ai(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=Ur(i);var s=_a(n[4][0].data),l=IL(e,e[Bs(s[4][0].data)][0]),u=(a=s[17])!=null&&a[0]?IL(e,e[Bs(s[17][0].data)][0]):[],d=_a(s[3][0].data),h=0;d[1].forEach(function(m){var x=_a(m.data),p=e[Bs(x[2][0].data)][0],y=ai(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var b=SSe(e,p);b.data.forEach(function(v,k){v.forEach(function(N,_){var A=jr({r:h+k,c:_}),D=kSe(N,l,u);D&&(r[A]=D)})}),h+=b.nrows})}function jSe(e,t){var r=_a(t.data),a={"!ref":"A1"},n=e[Bs(r[2][0].data)],i=ai(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return NSe(e,n[0],a),a}function ASe(e,t){var r,a=_a(t.data),n={name:(r=a[1])!=null&&r[0]?aN(a[1][0].data):"",sheets:[]},i=LA(a[2],Bs);return i.forEach(function(s){e[s].forEach(function(l){var u=ai(l.meta[1][0].data);u==6e3&&n.sheets.push(jSe(e,l))})}),n}function TSe(e,t){var r=BA(),a=_a(t.data),n=LA(a[1],Bs);if(n.forEach(function(i){e[i].forEach(function(s){var l=ai(s.meta[1][0].data);if(l==2){var u=ASe(e,s);u.sheets.forEach(function(d,h){UA(r,d,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function M_(e){var t,r,a,n,i={},s=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=$l(u.content)}catch(m){return console.log("?? "+u.content.length+" "+(m.message||m))}var h;try{h=ql(d)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,s.push(m.id)})}}),!s.length)throw new Error("File has no messages");var l=((n=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&ai(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||s.forEach(function(u){i[u].forEach(function(d){var h=ai(d.meta[1][0].data)>>>0;if(h==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return TSe(i,l)}function ESe(e,t,r){var a,n,i,s;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&ai(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var u=0,d=om(e[7][0].data),h=0,m=[],x=om(e[4][0].data),p=0,y=[],b=0;b<t.length;++b){if(t[b]==null){d.setUint16(b*2,65535,!0),x.setUint16(b*2,65535);continue}d.setUint16(b*2,h,!0),x.setUint16(b*2,p,!0);var v,k;switch(typeof t[b]){case"string":v=D_({t:"s",v:t[b]},r),k=L_({t:"s",v:t[b]},r);break;case"number":v=D_({t:"n",v:t[b]},r),k=L_({t:"n",v:t[b]},r);break;case"boolean":v=D_({t:"b",v:t[b]},r),k=L_({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}m.push(v),h+=v.length,y.push(k),p+=k.length,++u}for(e[2][0].data=Ma(u);b<e[7][0].data.length/2;++b)d.setUint16(b*2,65535,!0),x.setUint16(b*2,65535,!0);return e[6][0].data=wh(m),e[3][0].data=wh(y),u}function CSe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Uo(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Ur(a)));var i=K2(r,{range:a,header:1}),s=["~Sh33tJ5~"];i.forEach(function(W){return W.forEach(function(z){typeof z=="string"&&s.push(z)})});var l={},u=[],d=br.read(t.numbers,{type:"base64"});d.FileIndex.map(function(W,z){return[W,d.FullPaths[z]]}).forEach(function(W){var z=W[0],q=W[1];if(z.type==2&&z.name.match(/\.iwa/)){var Z=z.content,se=$l(Z),ee=ql(se);ee.forEach(function(Q){u.push(Q.id),l[Q.id]={deps:[],location:q,type:ai(Q.messages[0].meta[1][0].data)}})}}),u.sort(function(W,z){return W-z});var h=u.filter(function(W){return W>1}).map(function(W){return[W,Ma(W)]});d.FileIndex.map(function(W,z){return[W,d.FullPaths[z]]}).forEach(function(W){var z=W[0];if(W[1],!!z.name.match(/\.iwa/)){var q=ql($l(z.content));q.forEach(function(Z){Z.messages.forEach(function(se){h.forEach(function(ee){Z.messages.some(function(Q){return ai(Q.meta[1][0].data)!=11006&&gSe(Q.data,ee[1])})&&l[ee[0]].deps.push(Z.id)})})})}});for(var m=br.find(d,l[1].location),x=ql($l(m.content)),p,y=0;y<x.length;++y){var b=x[y];b.id==1&&(p=b)}var v=Bs(_a(p.messages[0].data)[1][0].data);for(m=br.find(d,l[v].location),x=ql($l(m.content)),y=0;y<x.length;++y)b=x[y],b.id==v&&(p=b);for(v=Bs(_a(p.messages[0].data)[2][0].data),m=br.find(d,l[v].location),x=ql($l(m.content)),y=0;y<x.length;++y)b=x[y],b.id==v&&(p=b);for(v=Bs(_a(p.messages[0].data)[2][0].data),m=br.find(d,l[v].location),x=ql($l(m.content)),y=0;y<x.length;++y)b=x[y],b.id==v&&(p=b);var k=_a(p.messages[0].data);{k[6][0].data=Ma(a.e.r+1),k[7][0].data=Ma(a.e.c+1);var N=Bs(k[46][0].data),_=br.find(d,l[N].location),A=ql($l(_.content));{for(var D=0;D<A.length&&A[D].id!=N;++D);if(A[D].id!=N)throw"Bad ColumnRowUIDMapArchive";var M=_a(A[D].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var L=0;L<=a.e.c;++L){var B=[];B[1]=B[2]=[{type:0,data:Ma(L+420690)}],M[1].push({type:2,data:ws(B)}),M[2].push({type:0,data:Ma(L)}),M[3].push({type:0,data:Ma(L)})}M[4]=[],M[5]=[],M[6]=[];for(var F=0;F<=a.e.r;++F)B=[],B[1]=B[2]=[{type:0,data:Ma(F+726270)}],M[4].push({type:2,data:ws(B)}),M[5].push({type:0,data:Ma(F)}),M[6].push({type:0,data:Ma(F)});A[D].messages[0].data=ws(M)}_.content=kp(wp(A)),_.size=_.content.length,delete k[46];var H=_a(k[4][0].data);{H[7][0].data=Ma(a.e.r+1);var O=_a(H[1][0].data),I=Bs(O[2][0].data);_=br.find(d,l[I].location),A=ql($l(_.content));{if(A[0].id!=I)throw"Bad HeaderStorageBucket";var V=_a(A[0].messages[0].data);for(F=0;F<i.length;++F){var Y=_a(V[2][0].data);Y[1][0].data=Ma(F),Y[4][0].data=Ma(i[F].length),V[2][F]={type:V[2][0].type,data:ws(Y)}}A[0].messages[0].data=ws(V)}_.content=kp(wp(A)),_.size=_.content.length;var te=Bs(H[2][0].data);_=br.find(d,l[te].location),A=ql($l(_.content));{if(A[0].id!=te)throw"Bad HeaderStorageBucket";for(V=_a(A[0].messages[0].data),L=0;L<=a.e.c;++L)Y=_a(V[2][0].data),Y[1][0].data=Ma(L),Y[4][0].data=Ma(a.e.r+1),V[2][L]={type:V[2][0].type,data:ws(Y)};A[0].messages[0].data=ws(V)}_.content=kp(wp(A)),_.size=_.content.length;var X=Bs(H[4][0].data);(function(){for(var W=br.find(d,l[X].location),z=ql($l(W.content)),q,Z=0;Z<z.length;++Z){var se=z[Z];se.id==X&&(q=se)}var ee=_a(q.messages[0].data);{ee[3]=[];var Q=[];s.forEach(function(J,ke){Q[1]=[{type:0,data:Ma(ke)}],Q[2]=[{type:0,data:Ma(1)}],Q[3]=[{type:2,data:pSe(J)}],ee[3].push({type:2,data:ws(Q)})})}q.messages[0].data=ws(ee);var me=wp(z),Ae=kp(me);W.content=Ae,W.size=W.content.length})();var ae=_a(H[3][0].data);{var de=ae[1][0];delete ae[2];var oe=_a(de.data);{var De=Bs(oe[2][0].data);(function(){for(var W=br.find(d,l[De].location),z=ql($l(W.content)),q,Z=0;Z<z.length;++Z){var se=z[Z];se.id==De&&(q=se)}var ee=_a(q.messages[0].data);{delete ee[6],delete ae[7];var Q=new Uint8Array(ee[5][0].data);ee[5]=[];for(var me=0,Ae=0;Ae<=a.e.r;++Ae){var J=_a(Q);me+=ESe(J,i[Ae],s),J[1][0].data=Ma(Ae),ee[5].push({data:ws(J),type:2})}ee[1]=[{type:0,data:Ma(a.e.c+1)}],ee[2]=[{type:0,data:Ma(a.e.r+1)}],ee[3]=[{type:0,data:Ma(me)}],ee[4]=[{type:0,data:Ma(a.e.r+1)}]}q.messages[0].data=ws(ee);var ke=wp(z),ye=kp(ke);W.content=ye,W.size=W.content.length})()}de.data=ws(oe)}H[3][0].data=ws(ae)}k[4][0].data=ws(H)}p.messages[0].data=ws(k);var re=wp(x),P=kp(re);return m.content=P,m.size=m.content.length,d}function lH(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function MA(e){lH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function IA(e){lH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function OSe(e){return Qr.WS.indexOf(e)>-1?"sheet":e==Qr.CS?"chart":e==Qr.DS?"dialog":e==Qr.MS?"macro":e&&e.length?e:"sheet"}function PSe(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,OSe(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function DSe(e,t,r,a,n,i,s,l,u,d,h,m){try{i[a]=a1(dl(e,r,!0),t);var x=ji(e,t),p;switch(l){case"sheet":p=t_e(x,t,n,u,i[a],d,h,m);break;case"chart":if(p=r_e(x,t,n,u,i[a],d,h,m),!p||!p["!drawel"])break;var y=Vx(p["!drawel"].Target,t),b=R1(y),v=q2e(dl(e,y,!0),a1(dl(e,b,!0),y)),k=Vx(v,y),N=R1(k);p=E4e(dl(e,k,!0),k,u,a1(dl(e,N,!0),k),d,p);break;case"macro":p=a_e(x,t,n,u,i[a],d,h,m);break;case"dialog":p=n_e(x,t,n,u,i[a],d,h,m);break;default:throw new Error("Unrecognized sheet type "+l)}s[a]=p;var _=[];i&&i[a]&&ii(i[a]).forEach(function(A){var D="";if(i[a][A].Type==Qr.CMNT){D=Vx(i[a][A].Target,t);var M=l_e(ji(e,D,!0),D,u);if(!M||!M.length)return;wL(p,M,!1)}i[a][A].Type==Qr.TCMNT&&(D=Vx(i[a][A].Target,t),_=_.concat(H2e(ji(e,D,!0),u)))}),_&&_.length&&wL(p,_,!0,u.people||[])}catch(A){if(u.WTF)throw A}}function Bl(e){return e.charAt(0)=="/"?e.slice(1):e}function LSe(e,t){if(Bg(),t=t||{},MA(t),Hl(e,"META-INF/manifest.xml")||Hl(e,"objectdata.xml"))return PL(e,t);if(Hl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof M_<"u"){if(e.FileIndex)return M_(e);var r=br.utils.cfb_new();return qD(e).forEach(function(Y){$r(r,Y,Wxe(e,Y))}),M_(r)}throw new Error("Unsupported NUMBERS file")}if(!Hl(e,"[Content_Types].xml"))throw Hl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Hl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=qD(e),n=F1e(dl(e,"[Content_Types].xml")),i=!1,s,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",ji(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!ji(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},d={};if(!t.bookSheets&&!t.bookProps){if(n1=[],n.sst)try{n1=o_e(ji(e,Bl(n.sst)),n.sst,t)}catch(Y){if(t.WTF)throw Y}t.cellStyles&&n.themes.length&&(u=s_e(dl(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=i_e(ji(e,Bl(n.style)),n.style,u,t))}n.links.map(function(Y){try{var te=a1(dl(e,R1(Bl(Y))),Y);return u_e(ji(e,Bl(Y)),te,Y,t)}catch{}});var h=e_e(ji(e,Bl(n.workbooks[0])),n.workbooks[0],t),m={},x="";n.coreprops.length&&(x=ji(e,Bl(n.coreprops[0]),!0),x&&(m=Xq(x)),n.extprops.length!==0&&(x=ji(e,Bl(n.extprops[0]),!0),x&&W1e(x,m,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=dl(e,Bl(n.custprops[0]),!0),x&&(p=K1e(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(h.Sheets?s=h.Sheets.map(function(te){return te.name}):m.Worksheets&&m.SheetNames.length>0&&(s=m.SheetNames),t.bookProps&&(y.Props=m,y.Custprops=p),t.bookSheets&&typeof s<"u"&&(y.SheetNames=s),t.bookSheets?y.SheetNames:t.bookProps))return y;s={};var b={};t.bookDeps&&n.calcchain&&(b=c_e(ji(e,Bl(n.calcchain)),n.calcchain));var v=0,k={},N,_;{var A=h.Sheets;m.Worksheets=A.length,m.SheetNames=[];for(var D=0;D!=A.length;++D)m.SheetNames[D]=A[D].name}var M=i?"bin":"xml",L=n.workbooks[0].lastIndexOf("/"),B=(n.workbooks[0].slice(0,L+1)+"_rels/"+n.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");Hl(e,B)||(B="xl/_rels/workbook."+M+".rels");var F=a1(dl(e,B,!0),B.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=d_e(ji(e,Bl(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=V2e(ji(e,Bl(n.people[0])),t)),F&&(F=PSe(F,h.Sheets));var H=ji(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=m.Worksheets;++v){var O="sheet";if(F&&F[v]?(N="xl/"+F[v][1].replace(/[\/]?xl\//,""),Hl(e,N)||(N=F[v][1]),Hl(e,N)||(N=B.replace(/_rels\/.*$/,"")+F[v][1]),O=F[v][2]):(N="xl/worksheets/sheet"+(v+1-H)+"."+M,N=N.replace(/sheet0\./,"sheet.")),_=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(m.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,V=0;V!=t.sheets.length;++V)typeof t.sheets[V]=="number"&&t.sheets[V]==v&&(I=1),typeof t.sheets[V]=="string"&&t.sheets[V].toLowerCase()==m.SheetNames[v].toLowerCase()&&(I=1);if(!I)continue e}}DSe(e,N,_,m.SheetNames[v],v,k,s,O,t,h,u,d)}return y={Directory:n,Workbook:h,Props:m,Custprops:p,Deps:b,Sheets:s,SheetNames:m.SheetNames,Strings:n1,Styles:d,Themes:u,SSF:yn(Nr)},t&&t.bookFiles&&(e.files?(y.keys=a,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(Y,te){Y=Y.replace(/^Root Entry[\/]/,""),y.keys.push(Y),y.files[Y]=e.FileIndex[te]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=ji(e,Bl(n.vba[0]),!0):n.defaults&&n.defaults.bin===ewe&&(y.vbaraw=ji(e,"xl/vbaProject.bin",!0))),y}function MSe(e,t){var r=t||{},a="Workbook",n=br.find(e,a);try{if(a="/!DataSpaces/Version",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(dye(n.content),a="/!DataSpaces/DataSpaceMap",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=fye(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=mye(n.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);gye(n.content)}catch{}if(a="/EncryptionInfo",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=xye(n.content);if(a="/EncryptedPackage",n=br.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function ISe(e,t){return t.bookType=="ods"?oH(e,t):t.bookType=="numbers"?CSe(e,t):t.bookType=="xlsb"?RSe(e,t):FSe(e,t)}function RSe(e,t){Dp=1024,e&&!e.SSF&&(e.SSF=yn(Nr)),e&&e.SSF&&(Bg(),Zw(e.SSF),t.revssf=tk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,i1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=M$.indexOf(t.bookType)>-1,n=wA();IA(t=t||{});var i=oA(),s="",l=0;if(t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",$r(i,s,Qq(e.Props,t)),n.coreprops.push(s),Ia(t.rels,2,s,Qr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,$r(i,s,e$(e.Props)),n.extprops.push(s),Ia(t.rels,3,s,Qr.EXT_PROPS),e.Custprops!==e.Props&&ii(e.Custprops||{}).length>0&&(s="docProps/custom.xml",$r(i,s,t$(e.Custprops)),n.custprops.push(s),Ia(t.rels,4,s,Qr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,$r(i,s,f_e(l-1,s,t,e,h)),n.sheets.push(s),Ia(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qr.WS[0])}if(m){var p=m["!comments"],y=!1,b="";p&&p.length>0&&(b="xl/comments"+l+"."+r,$r(i,b,g_e(p,b)),n.comments.push(b),Ia(h,-1,"../comments"+l+"."+r,Qr.CMNT),y=!0),m["!legacy"]&&y&&$r(i,"xl/drawings/vmlDrawing"+l+".vml",D$(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&$r(i,R1(s),qp(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,$r(i,s,p_e(t.Strings,s,t)),n.strs.push(s),Ia(t.wbrels,-1,"sharedStrings."+r,Qr.SST)),s="xl/workbook."+r,$r(i,s,h_e(e,s)),n.workbooks.push(s),Ia(t.rels,1,s,Qr.WB),s="xl/theme/theme1.xml",$r(i,s,AA(e.Themes,t)),n.themes.push(s),Ia(t.wbrels,-1,"theme/theme1.xml",Qr.THEME),s="xl/styles."+r,$r(i,s,m_e(e,s,t)),n.styles.push(s),Ia(t.wbrels,-1,"styles."+r,Qr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",$r(i,s,e.vbaraw),n.vba.push(s),Ia(t.wbrels,-1,"vbaProject.bin",Qr.VBA)),s="xl/metadata."+r,$r(i,s,x_e(s)),n.metadata.push(s),Ia(t.wbrels,-1,"metadata."+r,Qr.XLMETA),$r(i,"[Content_Types].xml",Gq(n,t)),$r(i,"_rels/.rels",qp(t.rels)),$r(i,"xl/_rels/workbook."+r+".rels",qp(t.wbrels)),delete t.revssf,delete t.ssf,i}function FSe(e,t){Dp=1024,e&&!e.SSF&&(e.SSF=yn(Nr)),e&&e.SSF&&(Bg(),Zw(e.SSF),t.revssf=tk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,i1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=M$.indexOf(t.bookType)>-1,n=wA();IA(t=t||{});var i=oA(),s="",l=0;if(t.cellXfs=[],Ch(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",$r(i,s,Qq(e.Props,t)),n.coreprops.push(s),Ia(t.rels,2,s,Qr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,$r(i,s,e$(e.Props)),n.extprops.push(s),Ia(t.rels,3,s,Qr.EXT_PROPS),e.Custprops!==e.Props&&ii(e.Custprops||{}).length>0&&(s="docProps/custom.xml",$r(i,s,t$(e.Custprops)),n.custprops.push(s),Ia(t.rels,4,s,Qr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var m={"!id":{}},x=e.Sheets[e.SheetNames[l-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,$r(i,s,V$(l-1,t,e,m)),n.sheets.push(s),Ia(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qr.WS[0])}if(x){var y=x["!comments"],b=!1,v="";if(y&&y.length>0){var k=!1;y.forEach(function(N){N[1].forEach(function(_){_.T==!0&&(k=!0)})}),k&&(v="xl/threadedComments/threadedComment"+l+"."+r,$r(i,v,W2e(y,h,t)),n.threadedcomments.push(v),Ia(m,-1,"../threadedComments/threadedComment"+l+"."+r,Qr.TCMNT)),v="xl/comments"+l+"."+r,$r(i,v,L$(y)),n.comments.push(v),Ia(m,-1,"../comments"+l+"."+r,Qr.CMNT),b=!0}x["!legacy"]&&b&&$r(i,"xl/drawings/vmlDrawing"+l+".vml",D$(l,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&$r(i,R1(s),qp(m))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,$r(i,s,w$(t.Strings,t)),n.strs.push(s),Ia(t.wbrels,-1,"sharedStrings."+r,Qr.SST)),s="xl/workbook."+r,$r(i,s,Q$(e)),n.workbooks.push(s),Ia(t.rels,1,s,Qr.WB),s="xl/theme/theme1.xml",$r(i,s,AA(e.Themes,t)),n.themes.push(s),Ia(t.wbrels,-1,"theme/theme1.xml",Qr.THEME),s="xl/styles."+r,$r(i,s,E$(e,t)),n.styles.push(s),Ia(t.wbrels,-1,"styles."+r,Qr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",$r(i,s,e.vbaraw),n.vba.push(s),Ia(t.wbrels,-1,"vbaProject.bin",Qr.VBA)),s="xl/metadata."+r,$r(i,s,P$()),n.metadata.push(s),Ia(t.wbrels,-1,"metadata."+r,Qr.XLMETA),h.length>1&&(s="xl/persons/person.xml",$r(i,s,K2e(h)),n.people.push(s),Ia(t.wbrels,-1,"persons/person.xml",Qr.PEOPLE)),$r(i,"[Content_Types].xml",Gq(n,t)),$r(i,"_rels/.rels",qp(t.rels)),$r(i,"xl/_rels/workbook."+r+".rels",qp(t.wbrels)),delete t.revssf,delete t.ssf,i}function RA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=xl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function BSe(e,t){return br.find(e,"EncryptedPackage")?MSe(e,t):tH(e,t)}function USe(e,t){var r,a=e,n=t||{};return n.type||(n.type=Gr&&Buffer.isBuffer(e)?"buffer":"base64"),r=_q(a,n),LSe(r,n)}function cH(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return tN(e.slice(r),t);default:break e}return xg.to_workbook(e,t)}function zSe(e,t){var r="",a=RA(e,t);switch(t.type){case"base64":r=xl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=am(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Ya(r)),t.type="binary",cH(r,t)}function qSe(e,t){var r=e;return t.type=="base64"&&(r=xl(r)),r=O1.utils.decode(1200,r.slice(2),"str"),t.type="binary",cH(r,t)}function $Se(e){return e.match(/[^\x00-\x7F]/)?Eu(e):e}function I_(e,t,r,a){return a?(r.type="string",xg.to_workbook(e,r)):xg.to_workbook(t,r)}function nN(e,t){rA();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return nN(new Uint8Array(e),(r=yn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Hp={},r.dateNF&&(Hp.dateNF=r.dateNF),r.type||(r.type=Gr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Gr?"buffer":"binary",a=Rxe(e),typeof Uint8Array<"u"&&!Gr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=$Se(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return r=yn(r),r.type="array",nN(aA(a),r)}switch((n=RA(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return BSe(br.read(a,r),r);break;case 9:if(n[1]<=8)return tH(a,r);break;case 60:return tN(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return Gbe(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return b$.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?USe(a,r):I_(e,a,r,i);case 239:return n[3]===60?tN(a,r):I_(e,a,r,i);case 255:if(n[1]===254)return qSe(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Bf.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Bf.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return eN.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return j$.to_workbook(a,r);break;case 10:case 13:case 32:return zSe(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Kbe.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?eN.to_workbook(a,r):I_(e,a,r,i)}function uH(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return jv(t.file,br.write(e,{type:Gr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return br.write(e,t)}function HSe(e,t){var r=yn(t||{}),a=ISe(e,r);return WSe(a,r)}function WSe(e,t){var r={},a=Gr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?br.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Jw(n))}return t.password&&typeof encrypt_agile<"u"?uH(encrypt_agile(n,t.password),t):t.type==="file"?jv(t.file,n):t.type=="string"?Ya(n):n}function VSe(e,t){var r=t||{},a=$_e(e,r);return uH(a,r)}function bu(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return P1(Eu(a));case"binary":return Eu(a);case"string":return e;case"file":return jv(t.file,a,"utf8");case"buffer":return Gr?o0(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):bu(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function KSe(e,t){switch(t.type){case"base64":return P1(e);case"binary":return e;case"string":return e;case"file":return jv(t.file,e,"binary");case"buffer":return Gr?o0(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?P1(r):t.type=="string"?Ya(r):r;case"file":return jv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function dH(e,t){rA(),B4e(e);var r=yn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=dH(e,r);return r.type="array",Jw(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return bu(I_e(e,r),r);case"slk":case"sylk":return bu(v$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return bu(aH(e.Sheets[e.SheetNames[n]],r),r);case"txt":return KSe(hH(e.Sheets[e.SheetNames[n]],r),r);case"csv":return bu(FA(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return bu(b$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return dy(eN.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return bu(xg.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return bu(j$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return bu(y$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return bu(oH(e,r),r);case"wk1":return dy(Bf.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return dy(Bf.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),dy(rH(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),VSe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return HSe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function GSe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ym(e,t,r){var a={};return a.type="file",a.file=t,GSe(a),dH(e,a)}function YSe(e,t,r,a,n,i,s,l){var u=gi(r),d=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=s?e[r][p]:e[a[p]+u];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[p]!=null&&(x[i[p]]=d);continue}var b=y.v;switch(y.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(b==null)if(y.t=="e"&&b===null)x[i[p]]=null;else if(d!==void 0)x[i[p]]=d;else if(h&&b===null)x[i[p]]=null;else continue;else x[i[p]]=h&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?b:Jd(y,b,l);b!=null&&(m=!1)}}return{row:x,isempty:m}}function K2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],s=0,l="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof h){case"string":u=ya(h);break;case"number":u=ya(e["!ref"]),u.s.r=h;break;default:u=h}a>0&&(n=0);var m=gi(u.s.r),x=[],p=[],y=0,b=0,v=Array.isArray(e),k=u.s.r,N=0,_={};v&&!e[k]&&(e[k]=[]);var A=d.skipHidden&&e["!cols"]||[],D=d.skipHidden&&e["!rows"]||[];for(N=u.s.c;N<=u.e.c;++N)if(!(A[N]||{}).hidden)switch(x[N]=$n(N),r=v?e[k][N]:e[x[N]+m],a){case 1:i[N]=N-u.s.c;break;case 2:i[N]=x[N];break;case 3:i[N]=d.header[N-u.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=Jd(r,null,d),b=_[s]||0,!b)_[s]=1;else{do l=s+"_"+b++;while(_[l]);_[s]=b,_[l]=1}i[N]=l}for(k=u.s.r+n;k<=u.e.r;++k)if(!(D[k]||{}).hidden){var M=YSe(e,u,k,x,a,i,v,d);(M.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[y++]=M.row)}return p.length=y,p}var RL=/"/g;function XSe(e,t,r,a,n,i,s,l){for(var u=!0,d=[],h="",m=gi(r),x=t.s.c;x<=t.e.c;++x)if(a[x]){var p=l.dense?(e[r]||[])[x]:e[a[x]+m];if(p==null)h="";else if(p.v!=null){u=!1,h=""+(l.rawNumbers&&p.t=="n"?p.v:Jd(p,null,l));for(var y=0,b=0;y!==h.length;++y)if((b=h.charCodeAt(y))===n||b===i||b===34||l.forceQuotes){h='"'+h.replace(RL,'""')+'"';break}h=="ID"&&(h='"ID"')}else p.f!=null&&!p.F?(u=!1,h="="+p.f,h.indexOf(",")>=0&&(h='"'+h.replace(RL,'""')+'"')):h="";d.push(h)}return l.blankrows===!1&&u?null:d.join(s)}function FA(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=ya(e["!ref"]),i=a.FS!==void 0?a.FS:",",s=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,u=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(x[y]||{}).hidden||(m[y]=$n(y));for(var b=0,v=n.s.r;v<=n.e.r;++v)(p[v]||{}).hidden||(h=XSe(e,n,v,m,s,u,i,a),h!=null&&(a.strip&&(h=h.replace(d,"")),(h||a.blankrows!==!1)&&r.push((b++?l:"")+h)));return delete a.dense,r.join("")}function hH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=FA(e,t);return r}function QSe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=ya(e["!ref"]),i="",s=[],l,u=[],d=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)s[l]=$n(l);for(var h=n.s.r;h<=n.e.r;++h)for(i=gi(h),l=n.s.c;l<=n.e.c;++l)if(t=s[l]+i,r=d?(e[h]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}u[u.length]=t+"="+a}return u}function fH(e,t,r){var a=r||{},n=+!a.skipHeader,i=e||{},s=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var u=typeof a.origin=="string"?Hn(a.origin):a.origin;s=u.r,l=u.c}var d,h={s:{c:0,r:0},e:{c:l,r:s+t.length-1+n}};if(i["!ref"]){var m=ya(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),s==-1&&(s=m.e.r+1,h.e.r=s+t.length-1+n)}else s==-1&&(s=0,h.e.r=t.length-1+n);var x=a.header||[],p=0;t.forEach(function(b,v){ii(b).forEach(function(k){(p=x.indexOf(k))==-1&&(x[p=x.length]=k);var N=b[k],_="z",A="",D=jr({c:l+p,r:s+v+n});d=H1(i,D),N&&typeof N=="object"&&!(N instanceof Date)?i[D]=N:(typeof N=="number"?_="n":typeof N=="boolean"?_="b":typeof N=="string"?_="s":N instanceof Date?(_="d",a.cellDates||(_="n",N=Wi(N)),A=a.dateNF||Nr[14]):N===null&&a.nullError&&(_="e",N=0),d?(d.t=_,d.v=N,delete d.w,delete d.R,A&&(d.z=A)):i[D]=d={t:_,v:N},A&&(d.z=A))})}),h.e.c=Math.max(h.e.c,l+x.length-1);var y=gi(s);if(n)for(p=0;p<x.length;++p)i[$n(p+l)+y]={t:"s",v:x[p]};return i["!ref"]=Ur(h),i}function JSe(e,t){return fH(null,e,t)}function H1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Hn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?H1(e,jr(t)):H1(e,jr({r:t,c:r||0}))}function ZSe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function BA(){return{SheetNames:[],Sheets:{}}}function UA(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var s=i&&i[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=s+n)!=-1;++n);}if(X$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function e3e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=ZSe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function t3e(e,t){return e.z=t,e}function mH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function r3e(e,t,r){return mH(e,"#"+t,r)}function a3e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function n3e(e,t,r,a){for(var n=typeof t!="string"?t:ya(t),i=typeof t=="string"?t:Ur(t),s=n.s.r;s<=n.e.r;++s)for(var l=n.s.c;l<=n.e.c;++l){var u=H1(e,s,l);u.t="n",u.F=i,delete u.v,s==n.s.r&&l==n.s.c&&(u.f=r,a&&(u.D=!0))}return e}var Kr={encode_col:$n,encode_row:gi,encode_cell:jr,encode_range:Ur,decode_col:pA,decode_row:mA,split_cell:p1e,decode_cell:Hn,decode_range:Uo,format_cell:Jd,sheet_add_aoa:zq,sheet_add_json:fH,sheet_add_dom:nH,aoa_to_sheet:Ug,json_to_sheet:JSe,table_to_sheet:iH,table_to_book:dSe,sheet_to_csv:FA,sheet_to_txt:hH,sheet_to_json:K2,sheet_to_html:aH,sheet_to_formulae:QSe,sheet_to_row_object_array:K2,sheet_get_cell:H1,book_new:BA,book_append_sheet:UA,book_set_sheet_visibility:e3e,cell_set_number_format:t3e,cell_set_hyperlink:mH,cell_set_internal_link:r3e,cell_add_comment:a3e,sheet_set_array_formula:n3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const i3e=(e,t,r="inventory-export.xlsx")=>{const a=e.map((s,l)=>{var u;return{STT:l+1,"Tn sn phm":s.name,SKU:s.sku,"Danh mc":s.category||"","Tn kho":s.stock[t]||0,"Gi bn l":s.retailPrice[t]||0,"Gi bn s":((u=s.wholesalePrice)==null?void 0:u[t])||0,"Gi tr tn":(s.stock[t]||0)*(s.retailPrice[t]||0),"M t":s.description||""}}),n=Kr.json_to_sheet(a);n["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20},{wch:10},{wch:15},{wch:15},{wch:15},{wch:40}];const i=Kr.book_new();Kr.book_append_sheet(i,n,"Tn kho"),ym(i,r)},s3e=(e="inventory-template.xlsx")=>{const t=[{"Tn sn phm":"VD: Nht Motul 7100 10W40",SKU:"A3B7K9M2 (hoc  trng - h thng t to)","Danh mc":"Nht ng c","S lng nhp":50,"Gi bn l":18e4,"Gi bn s":15e4,"M t":"Nht cao cp cho xe cn tay"}],r=Kr.json_to_sheet(t);r["!cols"]=[{wch:30},{wch:15},{wch:20},{wch:15},{wch:15},{wch:15},{wch:40}];const a=Kr.book_new();Kr.book_append_sheet(a,r,"Template"),ym(a,e)},o3e=(e,t)=>new Promise((r,a)=>{const n=new FileReader;n.onload=i=>{var s;try{const l=(s=i.target)==null?void 0:s.result,u=/\.csv$/i.test(e.name),d=nN(l,{type:u?"string":"binary"}),h=d.SheetNames[0],m=d.Sheets[h],x=Kr.sheet_to_json(m,{defval:"",blankrows:!1}),p=_=>_.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(//gi,A=>A===""?"d":"D"),y=_=>p(String(_).toLowerCase().trim()).replace(/[^a-z0-9]+/g,""),b=_=>{if(_==null||_==="")return 0;if(typeof _=="number")return _;let A=String(_).trim();A=A.replace(/\s+/g,""),A.includes(".")&&A.includes(",")?A=A.replace(/\./g,"").replace(/,/g,"."):A.includes(",")&&!A.includes(".")?A=A.replace(/,/g,"."):A=A.replace(/,/g,"");const D=parseFloat(A);return isNaN(D)?0:D},v={name:["tensanpham","ten","productname","name","tenhang","tenmh"],sku:["sku","mahang","mah","code","ma","masp","mavt"],category:["danhmuc","nhom","loai","category"],quantity:["soluongnhap","soluong","ton","tonkho","sl","qty"],costPrice:["dongianhap","gianhap","costprice","giavon"],retailPrice:["giabanle","giale","giaban","gia","retailprice","giabanra","dongiabanle"],wholesalePrice:["giabansi","giasi","wholesaleprice","giabuon","dongiabansi"],description:["mota","ghichu","note","description"]},k=[],N=x.map((_,A)=>{const D=_||{},M={};Object.keys(D).forEach(X=>{M[y(X)]=D[X]});const L=(X,ae)=>{for(const de of v[X]){const oe=M[de];if(oe!=null&&oe!=="")return oe}return ae},B=String(L("name","")).trim();let F=String(L("sku","")).trim().toUpperCase();(!F||!Mge(F))&&(F=nq(),console.log(` Generated SKU for "${B}": ${F}`));const H=L("category"),O=b(L("quantity",0)),I=b(L("costPrice",0)),V=b(L("retailPrice",0)),Y=b(L("wholesalePrice",0)),te=L("description");if(!B&&Object.values(D).some(X=>X!=="")){const X=Object.values(D).map(ae=>String(ae).trim()).filter(ae=>ae!=="");if(X.length>0&&X[0].length>0)return k.push(`Hng ${A+2}: Thiu tn sn phm, to SKU: ${F}`),null}return B?{name:B,sku:F,category:H,quantity:O,costPrice:I,retailPrice:V,wholesalePrice:Y,description:te}:null}).filter(Boolean);r({items:N,errors:k})}catch(l){const u=l instanceof Error?l.message:"Khng c c d liu";a(new Error(u))}},n.onerror=()=>{a(new Error("Li c file"))},/\.csv$/i.test(e.name)?n.readAsText(e,"utf-8"):n.readAsBinaryString(e)}),pH=()=>{const[e,t]=j.useState({isOpen:!1,title:"",message:"",confirmText:"Xc nhn",cancelText:"Hy",confirmColor:"blue",resolve:null}),r=j.useCallback(i=>new Promise(s=>{t({isOpen:!0,...i,resolve:s})}),[]),a=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!0),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]),n=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!1),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]);return{confirm:r,confirmState:e,handleConfirm:a,handleCancel:n}},gH=({isOpen:e,title:t,message:r,confirmText:a="Xc nhn",cancelText:n="Hy",confirmColor:i="blue",onConfirm:s,onCancel:l})=>{if(!e)return null;const u={red:"bg-red-600 hover:bg-red-700",blue:"bg-blue-600 hover:bg-blue-700",green:"bg-emerald-600 hover:bg-emerald-700"};return o.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full animate-scaleIn",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i==="red"?"bg-red-100 dark:bg-red-900/30":i==="green"?"bg-emerald-100 dark:bg-emerald-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:i==="red"?o.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):i==="green"?o.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):o.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:t})]})}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:r})}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 bg-slate-50 dark:bg-slate-900/50 rounded-b-lg",children:[o.jsx("button",{onClick:l,className:"px-4 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors font-medium",children:n}),o.jsx("button",{onClick:s,className:`px-4 py-2.5 text-white rounded-lg transition-colors font-medium ${u[i]}`,children:a})]})]})})},l3e={async getParts(){const{data:e,error:t}=await Tt.from("parts").select("*").order("name");if(t)throw t;return e}},xH=()=>xi({queryKey:["parts"],queryFn:l3e.getParts,staleTime:300*1e3,gcTime:600*1e3}),$d="categories";async function c3e(){try{const{data:e,error:t}=await Tt.from($d).select("*").order("name");return t?ot({code:"supabase",message:"Khng th ti danh mc",cause:t}):Fr(e||[])}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function u3e(e){var t;try{if(!e.name)return ot({code:"validation",message:"Thiu tn danh mc"});const r={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,icon:e.icon,color:e.color,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:n}=await Tt.from($d).insert([r]).select().single();if(n||!a)return ot({code:"supabase",message:"To danh mc tht bi",cause:n});let i=null;try{const{data:s}=await Tt.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await On(i,{action:"category.create",tableName:$d,recordId:a.id,oldData:null,newData:a}),Fr(a)}catch(r){return ot({code:"network",message:"Li kt ni khi to danh mc",cause:r})}}async function d3e(e,t){var r;try{let a=null;try{const u=await Tt.from($d).select("*").eq("id",e).single();a=(u==null?void 0:u.data)??null}catch{}const{data:n,error:i}=await Tt.from($d).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();let s=n;if((!n||i)&&!i&&(s={id:e,...a||{},...t}),i&&n==null)return ot({code:"supabase",message:"Cp nht danh mc tht bi",cause:i});let l=null;try{const{data:u}=await Tt.auth.getUser();l=((r=u==null?void 0:u.user)==null?void 0:r.id)||null}catch{}return await On(l,{action:"category.update",tableName:$d,recordId:e,oldData:a,newData:n}),Fr(s)}catch(a){return ot({code:"network",message:"Li kt ni khi cp nht danh mc",cause:a})}}async function h3e(e){var t;try{let r=null;try{const i=await Tt.from($d).select("*").eq("id",e).single();r=(i==null?void 0:i.data)??null}catch{}const{error:a}=await Tt.from($d).delete().eq("id",e);if(a)return ot({code:"supabase",message:"Xa danh mc tht bi",cause:a});let n=null;try{const{data:i}=await Tt.auth.getUser();n=((t=i==null?void 0:i.user)==null?void 0:t.id)||null}catch{}return await On(n,{action:"category.delete",tableName:$d,recordId:e,oldData:r,newData:null}),Fr({id:e})}catch(r){return ot({code:"network",message:"Li kt ni khi xa danh mc",cause:r})}}const ok=()=>xi({queryKey:["categories"],queryFn:async()=>{const e=await c3e();if(!e.ok)throw e.error;return e.data}}),zA=()=>{const e=ia();return an({mutationFn:async t=>{const r=await u3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Xe.success(" to danh mc")},onError:t=>Xe.error((t==null?void 0:t.message)||"Li to danh mc")})},f3e=()=>{const e=ia();return an({mutationFn:async({id:t,updates:r})=>{const a=await d3e(t,r);if(!a.ok)throw a.error;return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Xe.success(" cp nht danh mc")},onError:t=>Xe.error((t==null?void 0:t.message)||"Li cp nht danh mc")})},m3e=()=>{const e=ia();return an({mutationFn:async({id:t})=>{const r=await h3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Xe.success(" xa danh mc")},onError:t=>Xe.error((t==null?void 0:t.message)||"Li xa danh mc")})},vH=()=>{const{data:e=[]}=xH(),{data:t=[],isLoading:r,isError:a,refetch:n}=ok(),i=zA(),s=f3e(),l=m3e(),[u,d]=j.useState(!1),[h,m]=j.useState(null),[x,p]=j.useState(""),[y,b]=j.useState("#3b82f6"),[v,k]=j.useState("package"),{confirm:N,confirmState:_,handleConfirm:A,handleCancel:D}=pH(),M=j.useMemo(()=>t.map(V=>({id:V.id,name:V.name,icon:V.icon||"package",color:V.color||"#3b82f6",count:e.filter(Y=>Y.category===V.name).length})),[t,e]),L=async()=>{if(!x.trim()){Xe.warning("Vui lng nhp tn danh mc");return}if(M.some(Y=>Y.name.toLowerCase()===x.toLowerCase())){Xe.warning("Danh mc ny  tn ti");return}try{await i.mutateAsync({name:x,icon:v,color:y}),p(""),d(!1)}catch(Y){Xe.error(ca(Y))}},B=async(V,Y)=>{if(!Y.trim()){Xe.warning("Vui lng nhp tn danh mc mi");return}const te=t.find(X=>X.name===V);if(!te){Xe.error("Khng tm thy danh mc  i tn");return}try{await s.mutateAsync({id:te.id,updates:{name:Y}}),m(null)}catch(X){Xe.error(ca(X))}},F=async V=>{const Y=e.filter(ae=>ae.category===V).length;if(!await N({title:"Xc nhn xa danh mc",message:`Bn c chc chn mun xa danh mc "${V}"? ${Y} sn phm trong danh mc ny s khng cn danh mc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"}))return;const X=t.find(ae=>ae.name===V);if(!X){Xe.error("Khng tm thy danh mc");return}try{await l.mutateAsync({id:X.id})}catch(ae){Xe.error(ca(ae))}},H=[{value:"#3b82f6",label:"Xanh dng"},{value:"#10b981",label:"Xanh l"},{value:"#f59e0b",label:"Vng"},{value:"#ef4444",label:""},{value:"#8b5cf6",label:"Tm"},{value:"#ec4899",label:"Hng"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Cam"}],O={package:o.jsx(fl,{className:"w-5 h-5"}),wrench:o.jsx(Wy,{className:"w-5 h-5"}),settings:o.jsx(YN,{className:"w-5 h-5"}),hammer:o.jsx(FJ,{className:"w-5 h-5"}),cog:o.jsx(LJ,{className:"w-5 h-5"}),bolt:o.jsx(OJ,{className:"w-5 h-5"}),bike:o.jsx(tR,{className:"w-5 h-5"}),car:o.jsx(PJ,{className:"w-5 h-5"}),disc:o.jsx(IJ,{className:"w-5 h-5"}),battery:o.jsx(CJ,{className:"w-5 h-5"}),lightbulb:o.jsx(qJ,{className:"w-5 h-5"}),palette:o.jsx(nR,{className:"w-5 h-5"})},I=Object.keys(O);return o.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-[#0f172a]",children:[o.jsx("div",{className:"bg-white dark:bg-[#1e293b] shadow-sm border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Danh mc sn phm"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l cc danh mc phn loi sn phm"})]}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[o.jsx(xh,{className:"w-5 h-5"}),"Thm danh mc"]})]})}),r&&o.jsx("div",{className:"p-6 text-sm text-slate-500 dark:text-slate-400",children:"ang ti danh mc..."}),a&&o.jsxs("div",{className:"p-6 text-sm text-red-500",children:["Li ti d liu."," ",o.jsx("button",{onClick:()=>n(),className:"underline",children:"Th li"})]}),o.jsx("div",{className:"px-6 py-4 bg-white dark:bg-[#1e293b] border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[o.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Tng danh mc"}),o.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:M.length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[o.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Tng sn phm"}),o.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100 mt-1",children:e.length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg border border-amber-200 dark:border-amber-700",children:[o.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Cha phn loi"}),o.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100 mt-1",children:e.filter(V=>!V.category).length})]})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[M.map(V=>o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-5 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-3xl",children:V.icon}),o.jsxs("div",{children:[h===V.name?o.jsx("input",{type:"text",defaultValue:V.name,onKeyDown:Y=>{Y.key==="Enter"?B(V.name,Y.currentTarget.value):Y.key==="Escape"&&m(null)},onBlur:Y=>B(V.name,Y.target.value),autoFocus:!0,className:"px-2 py-1 border border-blue-500 rounded text-sm font-semibold text-slate-900 dark:text-slate-100 dark:bg-[#0f172a]"}):o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:V.name}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-0.5",children:[V.count," sn phm"]})]})]})}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx("button",{onClick:()=>m(V.name),className:"flex-1 px-3 py-1.5 text-sm border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"i tn"}),o.jsx("button",{onClick:()=>F(V.name),className:"flex-1 px-3 py-1.5 text-sm border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 rounded hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Xa"})]})]},V.name)),M.length===0&&o.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center",children:[o.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Cha c danh mc no"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Thm danh mc u tin  phn loi sn phm"}),o.jsx("button",{onClick:()=>d(!0),className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Thm danh mc"})]})]})}),u&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Thm danh mc mi"}),o.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn danh mc"}),o.jsx("input",{type:"text",value:x,onChange:V=>p(V.target.value),placeholder:"VD: Ph tng xe my",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Biu tng"}),o.jsx("div",{className:"grid grid-cols-6 gap-2",children:I.map(V=>o.jsx("button",{onClick:()=>k(V),className:`p-3 border rounded-lg transition-colors flex items-center justify-center ${v===V?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:O[V]},V))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu sc"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:H.map(V=>o.jsx("button",{onClick:()=>b(V.value),className:`p-3 rounded-lg border-2 transition-all ${y===V.value?"border-slate-900 dark:border-slate-100 scale-110":"border-transparent"}`,style:{backgroundColor:V.value},title:V.label,children:o.jsx("div",{className:"w-full h-6"})},V.value))})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),o.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Thm danh mc"})]})]})}),o.jsx(gH,{isOpen:_.isOpen,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,confirmColor:_.confirmColor,onConfirm:A,onCancel:D})]})},bH=()=>{const{parts:e,sales:t,workOrders:r,customers:a,currentBranchId:n}=si(),[i,s]=j.useState(""),[l,u]=j.useState("all"),[d,h]=j.useState(null),[m,x]=j.useState("all"),[p,y]=j.useState(null),b=j.useMemo(()=>{const _=new Set;return e.forEach(A=>{A.category&&_.add(A.category)}),Array.from(_).sort()},[e]),v=j.useMemo(()=>e.filter(_=>{var D,M;if(i){const L=i.toLowerCase(),B=_.name.toLowerCase().includes(L),F=(D=_.sku)==null?void 0:D.toLowerCase().includes(L),H=(M=_.description)==null?void 0:M.toLowerCase().includes(L);if(!B&&!F&&!H)return!1}if(l!=="all"&&_.category!==l)return!1;if(d){const L=_.retailPrice[n]||0;if(L<d.min||L>d.max)return!1}const A=_.stock[n]||0;return!(m==="in-stock"&&A<=0||m==="low-stock"&&A>10||m==="out-of-stock"&&A>0)}),[e,i,l,d,m,n]),N=p?(_=>{const A=e.find(F=>F.id===_);if(!A)return null;const D=t.filter(F=>F.items.some(H=>H.partId===_)),M=r.filter(F=>{var H;return(H=F.partsUsed)==null?void 0:H.some(O=>O.partId===_)}),L=D.reduce((F,H)=>{const O=H.items.find(I=>I.partId===_);return F+((O==null?void 0:O.quantity)||0)},0),B=D.reduce((F,H)=>{const O=H.items.find(I=>I.partId===_);return F+((O==null?void 0:O.sellingPrice)||0)*((O==null?void 0:O.quantity)||0)},0);return{part:A,salesCount:D.length,totalSold:L,revenue:B,lastSold:D.length>0?D.sort((F,H)=>new Date(H.date).getTime()-new Date(F.date).getTime())[0].date:null,workOrdersCount:M.length}})(p):null;return o.jsxs("div",{className:"h-full flex bg-slate-50 dark:bg-[#0f172a]",children:[o.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700 flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Tra cu sn phm"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tm kim v xem chi tit sn phm"})]}),o.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:o.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),placeholder:"Tm theo tn, SKU, m t...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 placeholder-slate-400"})}),o.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),o.jsxs("select",{value:l,onChange:_=>u(_.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",children:[o.jsx("option",{value:"all",children:"Tt c danh mc"}),b.map(_=>o.jsx("option",{value:_,children:_},_))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn kho"}),o.jsx("div",{className:"space-y-2",children:[{value:"all",label:"Tt c"},{value:"in-stock",label:"Cn hng"},{value:"low-stock",label:"Sp ht (10)"},{value:"out-of-stock",label:"Ht hng"}].map(_=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"stock",value:_.value,checked:m===_.value,onChange:A=>x(A.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:_.label})]},_.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Khong gi"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",placeholder:"T",onChange:_=>h(A=>({min:Number(_.target.value)||0,max:(A==null?void 0:A.max)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"}),o.jsx("input",{type:"number",placeholder:"n",onChange:_=>h(A=>({min:(A==null?void 0:A.min)||0,max:Number(_.target.value)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"})]}),d&&o.jsx("button",{onClick:()=>h(null),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xa b lc gi"})]})]}),o.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tm thy"," ",o.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:v.length})," ","sn phm"]})})]})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:v.map(_=>{const A=_.stock[n]||0,D=_.retailPrice[n]||0;return o.jsx("div",{onClick:()=>y(_.id),className:`bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border-2 transition-all cursor-pointer ${p===_.id?"border-blue-500 shadow-md":"border-slate-200 dark:border-slate-700 hover:shadow-md"}`,children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:_.name}),A<=0?o.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded",children:"Ht hng"}):A<=10?o.jsx("span",{className:"px-2 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs rounded",children:"Sp ht"}):o.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-xs rounded",children:"Cn hng"})]}),o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:["SKU: ",_.sku]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tn kho"}),o.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:A})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gi bn"}),o.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Oe(D)})]})]}),_.category&&o.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]}),_.category]})})]})},_.id)})}),v.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[o.jsx("circle",{cx:"11",cy:"11",r:"7"}),o.jsx("path",{d:"m21 21-4.35-4.35"})]})}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Khng tm thy sn phm"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Th thay i b lc hoc t kha tm kim"})]})]})}),N&&o.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chi tit sn phm"}),o.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:N.part.name}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["SKU: ",N.part.sku]})]}),N.part.description&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"M t"}),o.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:N.part.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Tn kho"}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.part.stock[n]||0})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Gi bn l"}),o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Oe(N.part.retailPrice[n]||0)})]})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thng k bn hng"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Tng  bn"}),o.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:N.totalSold})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-emerald-600 dark:text-emerald-400 mb-1",children:"Doanh thu"}),o.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:Oe(N.revenue)})]}),o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg",children:[o.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400 mb-1",children:"S n hng"}),o.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:N.salesCount})]}),N.lastSold&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Bn gn nht"}),o.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:ln(N.lastSold)})]}),N.workOrdersCount>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Lnh sa cha"}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.workOrdersCount})]})]})]})]})]})},iN="suppliers";async function p3e(){try{const{data:e,error:t}=await Tt.from(iN).select("*").order("name");return t?ot({code:"supabase",message:"Khng th ti nh cung cp",cause:t}):Fr(e||[])}catch(e){return ot({code:"network",message:"Li kt ni",cause:e})}}async function g3e(e){var t;try{if(!e.name)return ot({code:"validation",message:"Thiu tn nh cung cp"});const r={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,phone:e.phone,address:e.address,created_at:new Date().toISOString()},{data:a,error:n}=await Tt.from(iN).insert([r]).select().single();if(n||!a){const s=(n==null?void 0:n.message)||(n==null?void 0:n.details)||"To nh cung cp tht bi";return ot({code:"supabase",message:s,cause:n})}let i=null;try{const{data:s}=await Tt.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await On(i,{action:"supplier.create",tableName:iN,recordId:a.id,oldData:null,newData:a}),Fr(a)}catch(r){return ot({code:"network",message:"Li kt ni khi to nh cung cp",cause:r})}}const x3e=()=>xi({queryKey:["suppliers"],queryFn:async()=>{const e=await p3e();if(!e.ok)throw e.error;return e.data}}),v3e=()=>{const e=ia();return an({mutationFn:async t=>{const r=await g3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]}),Xe.success(" thm nh cung cp")},onError:t=>Xe.error((t==null?void 0:t.message)||"Li thm nh cung cp")})},b3e=e=>xi({queryKey:["inventoryTxRepo",e],queryFn:async()=>{const t=await Hge(e);if(!t.ok)throw t.error;return t.data}}),y3e=()=>{const e=ia();return an({mutationFn:async t=>{console.log(" ang gi createInventoryTransaction vi input:",t);const r=await Wge(t);if(console.log(" Kt qu createInventoryTransaction:",r),!r.ok)throw r.error||new Error("Li khng xc nh");return r.data},onSuccess:()=>{console.log(" Lu lch s thnh cng!"),e.invalidateQueries({queryKey:["inventoryTxRepo"]}),Xe.success(" ghi lch s kho")},onError:t=>{console.error(" Li lu lch s:",t),Xe.error(ca(t))}})},R_=new Intl.NumberFormat("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:2});function w3e(e){let t=e.replace(/[^0-9.,-]/g,"");const r=t.includes("."),a=t.includes(",");r&&a?t=t.replace(/\./g,"").replace(",","."):a&&!r&&(t=t.replace(",","."));const n=Number(t);return Number.isFinite(n)?n:0}const Cu=({value:e,onValue:t,placeholder:r,className:a,min:n,max:i,disabled:s,ariaLabel:l})=>{const[u,d]=fa.useState(e?R_.format(e):""),[h,m]=fa.useState(!1);fa.useEffect(()=>{h||d(e?R_.format(e):"")},[e,h]);const x=y=>{const b=y.target.value;d(b);const v=w3e(b);if(n!==void 0&&v<n){t(n);return}if(i!==void 0&&v>i){t(i);return}t(v)},p=()=>{m(!1),d(e?R_.format(e):"")};return o.jsx("input",{type:"text",inputMode:"decimal",value:u,onChange:x,onFocus:()=>m(!0),onBlur:p,placeholder:r,className:a,disabled:s,"aria-label":l})},FL=5e7,BL=1e4;function sN(e,t){const r=[];let a=Math.max(0,Math.round(e)),n=Math.max(0,Math.round(t));return a>FL&&(r.push("Gi nhp qu ln (>50 triu)  c gii hn."),a=FL),n>BL&&(r.push("S lng qu ln (>10,000)  c gii hn."),n=BL),{ok:!0,warnings:r,clean:{importPrice:a,quantity:n}}}const k3e=({isOpen:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(""),[i,s]=j.useState(""),[l,u]=j.useState(""),[d,h]=j.useState(1),[m,x]=j.useState(0),[p,y]=j.useState(0),[b,v]=j.useState(1),[k,N]=j.useState("thng"),[_,A]=j.useState(!1),{data:D=[]}=ok(),M=zA(),[L,B]=j.useState(!1),[F,H]=j.useState(""),O=()=>{if(!a.trim()){Xe.warning("Vui lng nhp tn sn phm");return}r({name:a.trim(),description:i.trim(),category:l||"Cha phn loi",quantity:Number(d)||1,importPrice:Number(m)||0,retailPrice:Number(p)||0,warranty:Number(b)||0,warrantyUnit:k}),n(""),s(""),u(""),h(1),x(0),y(0),v(1),A(!1),N("thng")};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Thm sn phm mi"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a,onChange:I=>n(I.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"Nhp tn sn phm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t"}),o.jsx("textarea",{value:i,onChange:I=>s(I.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"M t sn phm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc sn phm"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:l,onChange:I=>u(I.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{value:"",children:"-- Chn hoc to mi --"}),D.map(I=>o.jsx("option",{value:I.name,children:I.name},I.id))]}),o.jsx("button",{type:"button",onClick:()=>B(!0),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600","aria-label":"Thm danh mc mi",children:o.jsx("span",{className:"text-xl text-slate-600 dark:text-slate-300",children:"+"})})]}),L&&o.jsxs("form",{onSubmit:async I=>{I.preventDefault();const V=F.trim();if(!V){Xe.warning("Vui lng nhp tn danh mc");return}if(V.length<2){Xe.warning("Tn qu ngn");return}try{const Y=await M.mutateAsync({name:V});u(Y.name),H(""),B(!1)}catch(Y){Xe.error((Y==null?void 0:Y.message)||"Li to danh mc")}},className:"flex gap-2",children:[o.jsx("input",{autoFocus:!0,type:"text",value:F,onChange:I=>H(I.target.value),placeholder:"Nhp tn danh mc mi",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm text-slate-900 dark:text-slate-100"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium",children:"Lu"}),o.jsx("button",{type:"button",onClick:()=>{B(!1),H("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Hy"})]})]})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Thng tin nhp kho:"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"S lng:"}),o.jsx(Cu,{value:d,onValue:I=>{const V=sN(m,I);V.warnings.length&&V.warnings.forEach(Y=>Xe.warning(Y)),h(Math.max(1,V.clean.quantity))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi nhp:"}),o.jsx(Cu,{value:m,onValue:I=>{const V=sN(I,d);V.warnings.length&&V.warnings.forEach(Y=>Xe.warning(Y)),x(V.clean.importPrice),_||y(Math.round(V.clean.importPrice*1.5))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi bn l:"}),o.jsx(Cu,{value:p,onValue:I=>{y(Math.max(0,Math.round(I))),A(!0)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bo hnh"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Cu,{value:b,onValue:I=>v(Math.max(0,Math.floor(I))),className:"w-24 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"}),o.jsxs("select",{value:k,onChange:I=>N(I.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{value:"thng",children:"thng"}),o.jsx("option",{value:"nm",children:"nm"}),o.jsx("option",{value:"ngy",children:"ngy"})]})]})]})]})}),o.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700",children:o.jsx("button",{onClick:O,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium",children:"Lu v Thm vo gi hng"})})]})}):null},_3e=({isOpen:e,onClose:t,parts:r,currentBranchId:a,onSave:n})=>{const[i,s]=j.useState(""),[l,u]=j.useState(""),{data:d=[]}=x3e(),h=v3e(),[m,x]=j.useState(!1),[p,y]=j.useState({name:"",phone:"",address:"",note:""}),b=iq(),[v,k]=j.useState(!1),[N,_]=j.useState([]),[A,D]=j.useState(null),[M,L]=j.useState(null),[B,F]=j.useState(0),[H,O]=j.useState(0),[I,V]=j.useState("amount"),[Y,te]=j.useState(0),X=j.useMemo(()=>{const q=i.toLowerCase();return i?r.filter(Z=>Z.name.toLowerCase().includes(q)||Z.sku.toLowerCase().includes(q)):r},[r,i]),ae=q=>{var se,ee;const Z=N.find(Q=>Q.partId===q.id);_(Z?Q=>Q.map(me=>me.partId===q.id?{...me,quantity:me.quantity+1}:me):[...N,{partId:q.id,partName:q.name,sku:q.sku,quantity:1,importPrice:((se=q.costPrice)==null?void 0:se[a])||0,sellingPrice:q.retailPrice[a]||0,wholesalePrice:((ee=q.wholesalePrice)==null?void 0:ee[a])||0}]),s("")},de=(q,Z,se)=>{_(ee=>ee.map(Q=>Q.partId===q?{...Q,[Z]:se}:Q))},oe=q=>{_(Z=>Z.filter(se=>se.partId!==q))},De=j.useMemo(()=>N.reduce((q,Z)=>q+Z.importPrice*Z.quantity,0),[N]),re=j.useMemo(()=>Math.max(0,De-H),[De,H]),{profile:P}=rc(),W=()=>{var Z;if(!aq(P==null?void 0:P.role,"part.update_price")){Xe.error("Bn khng c quyn cp nht gi");return}if(N.length===0){Xe.warning("Vui lng chn sn phm nhp kho");return}const q=((Z=d.find(se=>se.id===l))==null?void 0:Z.name)||"";n(N,q,re,""),_([]),u(""),s(""),O(0),te(0),V("amount")},z=q=>{(async()=>{try{const Z=await b.mutateAsync({name:q.name,sku:`SKU-${Date.now()}`,category:q.category,description:q.description,stock:{[a]:q.quantity},retailPrice:{[a]:q.retailPrice},wholesalePrice:{[a]:Math.round(q.retailPrice*.9)}});_(se=>[...se,{partId:Z.id,partName:q.name,sku:Z.sku,quantity:q.quantity,importPrice:q.importPrice,sellingPrice:q.retailPrice,wholesalePrice:q.wholesalePrice||0}]),Xe.success(" to ph tng mi v thm vo phiu nhp")}catch(Z){Xe.error((Z==null?void 0:Z.message)||"Li to ph tng mi")}finally{k(!1)}})()};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex",children:[o.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50 dark:bg-slate-900",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""}),o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chn sn phm nhp kho"})]}),o.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:[o.jsx("span",{className:"text-xl",children:"+"}),o.jsx("span",{children:"Thm sn phm mi"})]})]}),o.jsx("div",{className:"p-6 bg-white dark:bg-slate-800",children:o.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm, SKU...",value:i,onChange:q=>s(q.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:X.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy sn phm no"}):o.jsx("div",{className:"space-y-2",children:X.map(q=>o.jsxs("div",{onClick:()=>ae(q),className:"p-4 bg-white dark:bg-slate-800 rounded-lg hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border border-slate-200 dark:border-slate-600 transition-colors",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:q.name}),o.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["SKU: ",q.sku]})]},q.id))})})]}),o.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nh cung cp (NCC):"}),o.jsxs("button",{onClick:()=>{y({name:"",phone:"",address:"",note:""}),x(!0)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-slate-700 dark:text-blue-400",children:[o.jsx("span",{className:"text-base leading-none",children:"+"}),"Thm NCC"]})]}),o.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{value:"",children:"Tm/Chn nh cung cp"}),d.map(q=>o.jsxs("option",{value:q.id,children:[q.name," ",q.phone?`(${q.phone})`:""]},q.id))]}),l&&o.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:(()=>{const q=d.find(Z=>Z.id===l);return q?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Tn:"})," ",q.name]}),q.phone&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"T:"})," ",q.phone]}),q.address&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"/c:"})," ",q.address]})]}):null})()})]}),m&&o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Thm nh cung cp"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"Tn *"}),o.jsx("input",{autoFocus:!0,value:p.name,onChange:q=>y(Z=>({...Z,name:q.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",placeholder:"Tn nh cung cp"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"in thoi"}),o.jsx("input",{value:p.phone,onChange:q=>y(Z=>({...Z,phone:q.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",placeholder:"ST"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"a ch"}),o.jsx("textarea",{rows:2,value:p.address,onChange:q=>y(Z=>({...Z,address:q.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm resize-none",placeholder:"a ch nh cung cp"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"Ghi ch"}),o.jsx("textarea",{rows:2,value:p.note,onChange:q=>y(Z=>({...Z,note:q.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm resize-none",placeholder:"Thng tin thm (ty chn)"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Hy"}),o.jsx("button",{onClick:async()=>{var q,Z;if(!p.name.trim()){Xe.warning("Nhp tn nh cung cp");return}try{const se=await h.mutateAsync({name:p.name.trim(),phone:((q=p.phone)==null?void 0:q.trim())||void 0,address:((Z=p.address)==null?void 0:Z.trim())||void 0});u(se.id),x(!1)}catch{}},className:"px-4 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60",disabled:h.isPending,children:h.isPending?"ang lu...":"Lu"})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng nhp kho"}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",N.length," sn phm)"]})]}),N.length===0?o.jsxs("div",{className:"text-center text-slate-400 py-12",children:[o.jsx("div",{className:"text-4xl mb-2",children:o.jsx(fl,{className:"w-10 h-10 mx-auto text-slate-300"})}),o.jsx("div",{className:"text-sm",children:"Gi hng trng"}),o.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):o.jsx("div",{className:"space-y-3",children:N.map(q=>o.jsxs("div",{className:"border border-slate-200 dark:border-slate-600 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(fl,{className:"w-6 h-6 text-slate-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:q.partName}),o.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["SKU: ",q.sku]})]}),o.jsx("button",{onClick:()=>oe(q.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 flex-shrink-0",title:"Xa",children:""})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"S lng:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>de(q.partId,"quantity",Math.max(1,q.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),o.jsx("span",{className:"w-8 text-center font-medium text-sm text-slate-900 dark:text-slate-100",children:q.quantity}),o.jsx("button",{onClick:()=>de(q.partId,"quantity",q.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi nhp:"}),o.jsx(Cu,{value:q.importPrice,onValue:Z=>{const{clean:se}=sN(Z,q.quantity),ee=se.importPrice,Q=Math.round(ee*1.5);_(me=>me.map(Ae=>Ae.partId===q.partId?{...Ae,importPrice:ee,sellingPrice:Ae.sellingPrice===0||Ae.sellingPrice===Math.round((Ae.importPrice||0)*1.5)?Q:Ae.sellingPrice}:Ae))},className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi bn l:"}),o.jsx(Cu,{value:q.sellingPrice,onValue:Z=>de(q.partId,"sellingPrice",Math.max(0,Math.round(Z))),className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi bn s:"}),o.jsx(Cu,{value:q.wholesalePrice||0,onValue:Z=>de(q.partId,"wholesalePrice",Math.max(0,Math.round(Z))),className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Thnh tin:"}),o.jsx("span",{className:"font-bold text-sm text-blue-600 dark:text-blue-400",children:Oe(q.importPrice*q.quantity)})]})]})]},q.partId))})]}),o.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Tng tin hng"}),o.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:Oe(re)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:I==="amount"?H||"":Y,onChange:q=>{const Z=Number(q.target.value)||0;if(I==="amount")Z>De?(Xe.warning("Gim gi khng c ln hn tng tin!"),O(De)):O(Z);else{const se=Math.min(Z,100);te(se),O(Math.round(De*se/100))}},placeholder:"0",className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",min:"0",max:I==="amount"?De:100}),o.jsxs("select",{value:I,onChange:q=>{const Z=q.target.value;V(Z),O(0),te(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[o.jsx("option",{value:"amount",children:""}),o.jsx("option",{value:"percent",children:"%"})]})]})]}),I==="percent"&&o.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(q=>o.jsxs("button",{onClick:()=>{te(q),O(Math.round(De*q/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[q,"%"]},q))}),I==="percent"&&Y>0&&o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",Oe(H)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xl font-bold pt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:Oe(re)})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:["Phng thc thanh ton ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>D("cash"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${A==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),o.jsx("span",{className:"font-medium",children:"Tin mt"})]}),o.jsxs("button",{onClick:()=>D("bank"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${A==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),o.jsx("path",{d:"M2 10h20"}),o.jsx("path",{d:"M6 14h4"})]}),o.jsx("span",{className:"font-medium",children:"Chuyn khon"})]})]})]}),A&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"Hnh thc"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("button",{onClick:()=>{L("full"),F(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${M==="full"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton "}),o.jsx("button",{onClick:()=>L("partial"),className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${M==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),o.jsx("button",{onClick:()=>{L("note"),F(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${M==="note"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Ghi n"})]})]}),M==="partial"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin khch tr"}),o.jsx(Cu,{value:B,onValue:q=>F(Math.max(0,Math.round(q))),className:"w-full px-3 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right text-lg font-medium",placeholder:"0"}),o.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",Oe(Math.max(0,re-B))," "]})]}),A&&M&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hch ton:"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{children:"Mua hng/nhp kho"}),o.jsx("option",{children:"Nhp tr hng"}),o.jsx("option",{children:"Khc"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:t,className:"flex-1 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-100 px-4 py-3 rounded-lg font-medium transition-colors",children:"LU NHP"}),o.jsx("button",{onClick:()=>{if(!A){Xe.warning("Vui lng chn phng thc thanh ton");return}if(!M){Xe.warning("Vui lng chn hnh thc thanh ton");return}if(M==="partial"&&B<=0){Xe.warning("Vui lng nhp s tin khch tr");return}W()},disabled:!A||!M||M==="partial"&&B<=0,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium transition-colors disabled:bg-slate-300 disabled:text-slate-500 disabled:cursor-not-allowed dark:disabled:bg-slate-600 dark:disabled:text-slate-400",children:"NHP KHO"})]})]})]})]})}),o.jsx(k3e,{isOpen:v,onClose:()=>k(!1),onSave:z})]}):null},S3e=({isOpen:e,onClose:t,onSave:r,initialData:a,mode:n})=>{const[i,s]=j.useState((a==null?void 0:a.name)||""),[l,u]=j.useState((a==null?void 0:a.phone)||""),[d,h]=j.useState((a==null?void 0:a.address)||""),[m,x]=j.useState((a==null?void 0:a.email)||"");j.useEffect(()=>{a&&(s(a.name),u(a.phone),h(a.address),x(a.email))},[a]);const p=y=>{if(y.preventDefault(),!i.trim()){Xe.error("Vui lng nhp tn nh cung cp");return}r({name:i.trim(),phone:l.trim(),address:d.trim(),email:m.trim()})};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-md",children:o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:n==="add"?"Thm nh cung cp mi":"Chnh sa nh cung cp"}),o.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tn nh cung cp *"}),o.jsx("input",{type:"text",value:i,onChange:y=>s(y.target.value),placeholder:"Nhp tn nh cung cp",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",required:!0,autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),o.jsx("input",{type:"tel",value:l,onChange:y=>u(y.target.value),placeholder:"Nhp s in thoi",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:y=>x(y.target.value),placeholder:"Nhp email",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"a ch"}),o.jsx("textarea",{value:d,onChange:y=>h(y.target.value),placeholder:"Nhp a ch",rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Hy"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:n==="add"?"Thm":"Lu"})]})]})})}):null},N3e=({isOpen:e,onClose:t,onAdd:r,currentBranchId:a})=>{const[n,i]=j.useState(""),[s,l]=j.useState(null),[u,d]=j.useState(1),[h,m]=j.useState(0),{data:x=[]}=xi({queryKey:["allPartsForReceipt"],queryFn:async()=>{const{data:v,error:k}=await Tt.from("parts").select("*").order("name");if(k)throw k;return v||[]}}),p=j.useMemo(()=>{if(!n)return[];const v=n.toLowerCase();return x.filter(k=>{var N,_;return k.name.toLowerCase().includes(v)||((N=k.sku)==null?void 0:N.toLowerCase().includes(v))||((_=k.description)==null?void 0:_.toLowerCase().includes(v))})},[x,n]),y=v=>{var k;l(v),m(((k=v.costPrice)==null?void 0:k[a])||0),i(v.name)},b=v=>{if(v.preventDefault(),!s){Xe.error("Vui lng chn sn phm");return}if(u<=0){Xe.error("S lng phi ln hn 0");return}if(h<0){Xe.error("n gi khng c m");return}r({partId:s.id,partName:s.name,sku:s.sku||"",quantity:u,unitPrice:h}),i(""),l(null),d(1),m(0)};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-lg",children:o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thm sn phm vo phiu"}),o.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tm kim sn phm *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:n,onChange:v=>{i(v.target.value),l(null)},placeholder:"Nhp tn hoc SKU sn phm...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",autoFocus:!0}),n&&!s&&p.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map(v=>{var k;return o.jsxs("button",{type:"button",onClick:()=>y(v),className:"w-full px-3 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 border-b border-slate-200 dark:border-slate-700 last:border-0",children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:v.name}),o.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",v.sku||"N/A"," | Gi nhp:"," ",Oe(((k=v.costPrice)==null?void 0:k[a])||0)]})]},v.id)})})]}),s&&o.jsxs("div",{className:"mt-2 p-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded text-sm text-green-800 dark:text-green-200",children:["  chn: ",s.name," (",s.sku,")"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S lng *"}),o.jsx("input",{type:"number",value:u,onChange:v=>d(Number(v.target.value)),min:"1",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"n gi nhp *"}),o.jsx(Cu,{value:h,onValue:m,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Thnh tin"}),o.jsx("input",{type:"text",value:Oe(u*h),readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 font-bold"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Hy"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Thm sn phm"})]})]})})}):null},j3e=({receipt:e,onClose:t,onSave:r,currentBranchId:a})=>{const[n,i]=j.useState(e.supplier),[s,l]=j.useState(""),[u,d]=j.useState(e.supplier),[h,m]=j.useState(!1),[x,p]=j.useState(!1),[y,b]=j.useState("add"),[v,k]=j.useState(!1),[N,_]=j.useState(null),{data:A=[]}=xi({queryKey:["suppliers"],queryFn:async()=>{const{data:z,error:q}=await Tt.from("suppliers").select("*").order("name");if(q)throw q;return z||[]}}),D=j.useMemo(()=>{if(!u)return A;const z=u.toLowerCase();return A.filter(q=>q.name.toLowerCase().includes(z))},[A,u]),[M,L]=j.useState(e.items.map(z=>({id:z.id,partName:z.partName,quantity:z.quantity,unitPrice:z.unitPrice||0,totalPrice:z.quantity*(z.unitPrice||0),notes:z.notes||""}))),[B,F]=j.useState([{time:"15:31",date:e.date,payer:"Xun Nhan",cashier:"(Tin mt)",amount:e.total}]),[H,O]=j.useState(!0);fa.useEffect(()=>{var q,Z,se;const z=e.items[0];if((q=z==null?void 0:z.notes)!=null&&q.includes("Phone:")){const ee=(se=(Z=z.notes.split("Phone:")[1])==null?void 0:Z.split("NV:")[0])==null?void 0:se.trim();ee&&l(ee)}},[e.items]),fa.useEffect(()=>{const z=q=>{q.target.closest(".supplier-dropdown-container")||m(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const I=M.reduce((z,q)=>z+q.totalPrice,0),V=B.reduce((z,q)=>z+q.amount,0),Y=(z,q)=>{const Z=[...M];Z[z].quantity=q,Z[z].totalPrice=q*Z[z].unitPrice,L(Z)},te=(z,q)=>{const Z=[...M];Z[z].unitPrice=q,Z[z].totalPrice=Z[z].quantity*q,L(Z)},X=z=>{if(M.length===1){Xe.error("Phi c t nht 1 sn phm");return}const q=M.filter((Z,se)=>se!==z);L(q),Xe.success(" xa sn phm")},ae=z=>{const q={id:`new-${Date.now()}`,partId:z.partId,partName:z.partName,quantity:z.quantity,unitPrice:z.unitPrice,totalPrice:z.quantity*z.unitPrice,notes:"",sku:z.sku};L([...M,q]),k(!1),Xe.success(` thm ${z.partName} (s lu khi bm LU)`)},de=z=>{i(z.name),l(z.phone),p(!1),Xe.success(y==="add"?" thm nh cung cp":" cp nht nh cung cp")},oe=()=>{b("edit"),p(!0)},De=()=>{b("add"),p(!0)},re=z=>{_(z),Xe.info("Click vo  s lng hoc n gi  chnh sa")},P=z=>{confirm("Bn c mun xa sn phm ny?")&&X(z)},W=z=>{if(z.preventDefault(),!n){Xe.error("Vui lng chn nh cung cp");return}if(M.some(q=>q.quantity<=0)){Xe.error("S lng phi ln hn 0");return}r({supplier:n,supplierPhone:s,items:M,payments:B,isPaid:H})};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("form",{onSubmit:W,children:[o.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["[Chnh sa] Phiu Nhp Kho ",e.receiptCode]})]}),o.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[new Date(e.date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})," ",new Date(e.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl w-8 h-8 flex items-center justify-center rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-medium text-teal-600 dark:text-teal-400 mb-2",children:"Nh cung cp:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative supplier-dropdown-container",children:[o.jsx("input",{type:"text",value:u,onChange:z=>{d(z.target.value),m(!0)},onFocus:()=>m(!0),placeholder:"Tm kim v chn mt nh cung cp",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u&&o.jsx("button",{type:"button",onClick:()=>{d(""),i(""),l("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:""}),h&&D.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:D.map(z=>o.jsxs("button",{type:"button",onClick:()=>{i(z.name),d(z.name),l(z.phone||""),m(!1)},className:"w-full px-3 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 border-b border-slate-200 dark:border-slate-700 last:border-0",children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:z.name}),z.phone&&o.jsxs("div",{className:"text-xs text-slate-500",children:["Phone: ",z.phone]})]},z.id))})]}),o.jsxs("button",{type:"button",onClick:oe,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Chnh sa"]}),o.jsxs("button",{type:"button",onClick:De,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"+"}),"Thm mi"]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-base font-medium text-teal-600 dark:text-teal-400",children:"Chi tit sn phm nhp kho:"}),o.jsxs("button",{type:"button",onClick:()=>k(!0),className:"text-sm text-teal-600 hover:text-teal-700 dark:text-teal-400 flex items-center gap-1",children:[o.jsx("span",{className:"text-lg",children:"+"}),"Thm sn phm"]})]}),o.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"-"}),o.jsx("th",{className:"px-3 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tn"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm font-medium text-slate-700 dark:text-slate-300",children:"SL"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"n gi nhp"}),o.jsx("th",{className:"px-3 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thnh tin"}),o.jsx("th",{className:"px-3 py-2 text-center text-sm font-medium text-slate-700 dark:text-slate-300 w-20"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:M.map((z,q)=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors ${N===q?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[o.jsx("td",{className:"px-3 py-3 text-sm text-slate-900 dark:text-slate-100",children:q+1}),o.jsxs("td",{className:"px-3 py-3",children:[o.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:z.partName}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"[Khc]"}),o.jsxs("div",{className:"text-xs text-slate-500",children:["- G Bn l: ",Oe(7e4)]}),o.jsxs("div",{className:"text-xs text-slate-500",children:["- G Bn s: ",Oe(0)]}),o.jsx("div",{className:"text-xs text-red-500",children:"( xut kho)"})]}),o.jsx("td",{className:"px-3 py-3 text-center",children:o.jsx("input",{type:"number",value:z.quantity,onChange:Z=>Y(q,Number(Z.target.value)),onFocus:()=>_(q),onBlur:()=>_(null),min:"1",className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})}),o.jsx("td",{className:"px-3 py-3 text-right",children:o.jsx(Cu,{value:z.unitPrice,onValue:Z=>te(q,Z),className:"w-28 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})}),o.jsx("td",{className:"px-3 py-3 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:Oe(z.totalPrice)}),o.jsx("td",{className:"px-3 py-3 text-center",children:o.jsxs("div",{className:"flex justify-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>re(q),className:"p-1 text-blue-400 hover:bg-blue-500/20 rounded",title:"Chnh sa",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsx("button",{type:"button",onClick:()=>P(q),className:"p-1 text-slate-400 hover:bg-slate-500/20 rounded",title:"Xa sn phm",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})})]},z.id))}),o.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:4,className:"px-3 py-2 text-right font-bold text-slate-900 dark:text-slate-100",children:"TNG:"}),o.jsx("td",{className:"px-3 py-2 text-right font-bold text-slate-900 dark:text-slate-100",children:Oe(I)}),o.jsx("td",{})]})})]})})]}),o.jsxs("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[o.jsx("label",{className:"block text-base font-medium text-teal-600 dark:text-teal-400 mb-3",children:"Cng n:"}),o.jsxs("div",{className:"flex items-center justify-between mb-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[o.jsxs("span",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:["TNG PHI CHI: ",Oe(I)]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})," thanh ton "]}),o.jsxs("button",{type:"button",className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm flex items-center gap-1",children:[o.jsx("span",{className:"text-lg",children:"+"}),"To phiu chi"]})]})]}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 flex items-start gap-1",children:[o.jsx("svg",{className:"w-4 h-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Tng phi chi l ph cha phi tr cho i tc sa cha"]}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-slate-700 dark:text-slate-300",children:"-"}),o.jsx("th",{className:"px-2 py-2 text-left text-slate-700 dark:text-slate-300",children:"Thi gian"}),o.jsx("th",{className:"px-2 py-2 text-left text-slate-700 dark:text-slate-300",children:"Ngi chi - Ghi ch"}),o.jsx("th",{className:"px-2 py-2 text-right text-slate-700 dark:text-slate-300",children:"S tin"})]})}),o.jsx("tbody",{children:B.map((z,q)=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsx("td",{className:"px-2 py-2 text-slate-900 dark:text-slate-100",children:q+1}),o.jsxs("td",{className:"px-2 py-2 text-slate-900 dark:text-slate-100",children:[z.time," ",new Date(z.date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]}),o.jsxs("td",{className:"px-2 py-2",children:[o.jsx("div",{className:"text-slate-900 dark:text-slate-100",children:z.payer}),o.jsx("div",{className:"text-xs text-slate-500",children:z.cashier})]}),o.jsx("td",{className:"px-2 py-2 text-right text-slate-900 dark:text-slate-100",children:Oe(z.amount)})]},q))}),o.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-2 py-2 text-right font-bold text-slate-900 dark:text-slate-100",children:"Tng  chi"}),o.jsx("td",{className:"px-2 py-2 text-right font-bold text-slate-900 dark:text-slate-100",children:Oe(V)})]})})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 p-4 flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"NG"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"LU"})]})]}),o.jsx(S3e,{isOpen:x,onClose:()=>p(!1),onSave:de,initialData:y==="edit"?{name:n,phone:s,address:"",email:""}:void 0,mode:y}),o.jsx(N3e,{isOpen:v,onClose:()=>k(!1),onAdd:ae,currentBranchId:a})]})})},A3e=({transactions:e})=>{const t=ia(),[r,a]=j.useState("7days"),[n,i]=j.useState(ln(new Date,!0)),[s,l]=j.useState(ln(new Date,!0)),[u,d]=j.useState(""),[h,m]=j.useState(null),{currentBranchId:x}=si(),p=j.useMemo(()=>{console.log(" [InventoryHistorySection] Tng s giao dch:",e.length);let N=e.filter(A=>A.type==="Nhp kho");console.log(" [InventoryHistorySection] Giao dch 'Nhp kho':",N.length);const _=new Date;switch(r){case"7days":const A=new Date(_.getTime()-6048e5);N=N.filter(L=>new Date(L.date)>=A);break;case"30days":const D=new Date(_.getTime()-720*60*60*1e3);N=N.filter(L=>new Date(L.date)>=D);break;case"thisMonth":const M=new Date(_.getFullYear(),_.getMonth(),1);N=N.filter(L=>new Date(L.date)>=M);break;case"custom":N=N.filter(L=>{const B=new Date(L.date);return B>=new Date(n)&&B<=new Date(s)});break}if(u){const A=u.toLowerCase();N=N.filter(D=>D.partName.toLowerCase().includes(A)||D.notes&&D.notes.toLowerCase().includes(A))}return N.sort((A,D)=>new Date(D.date).getTime()-new Date(A.date).getTime())},[e,r,n,s,u]),y=j.useMemo(()=>p.reduce((N,_)=>N+_.totalPrice,0),[p]),b=j.useMemo(()=>{const N=new Map;return p.forEach(_=>{var B,F;const A=new Date(_.date),D=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`,M=(B=_.notes)!=null&&B.includes("NCC:")?(F=_.notes.split("NCC:")[1])==null?void 0:F.trim():"Khng xc nh",L=`${D}_${M}_${A.getHours()}_${A.getMinutes()}`;N.has(L)||N.set(L,[]),N.get(L).push(_)}),Array.from(N.entries()).map(([_,A],D)=>{var H,O;const M=A[0],L=new Date(M.date);return{receiptCode:`PN-${`${L.getFullYear()}${String(L.getMonth()+1).padStart(2,"0")}${String(L.getDate()).padStart(2,"0")}`}-${String(N.size-D).padStart(3,"0")}`,date:M.date,supplier:(H=M.notes)!=null&&H.includes("NCC:")?(O=M.notes.split("NCC:")[1])==null?void 0:O.trim():"Khng xc nh",items:A,total:A.reduce((I,V)=>I+V.totalPrice,0)}}).sort((_,A)=>new Date(A.date).getTime()-new Date(_.date).getTime())},[p]),[v,k]=j.useState(new Set);return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Lch s nhp kho"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"7days",label:"7 ngy qua"},{key:"30days",label:"30 ngy qua"},{key:"thisMonth",label:"Thng ny"},{key:"custom",label:"Ty chn"}].map(N=>o.jsx("button",{onClick:()=>a(N.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r===N.key?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:N.label},N.key))}),r==="custom"&&o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"T ngy"}),o.jsx("input",{type:"date",value:n,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"n ngy"}),o.jsx("input",{type:"date",value:s,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]}),o.jsx("input",{type:"text",placeholder:"Nh cung cp, SKU, tn ph tng...",value:u,onChange:N=>d(N.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tng s tin:"," ",o.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:b.length})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng gi tr"}),o.jsx("div",{className:"text-lg font-bold text-blue-600",children:Oe(y)})]})]})}),o.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:b.length===0?o.jsxs("div",{className:"px-6 py-12 text-center text-slate-500",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("div",{children:"Khng c d liu"})]}):b.map(N=>{var _,A,D,M,L;return o.jsx("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",checked:v.has(N.receiptCode),onChange:B=>{const F=new Set(v);B.target.checked?F.add(N.receiptCode):F.delete(N.receiptCode),k(F)},className:"mt-1 w-4 h-4 text-blue-600 rounded border-slate-300 focus:ring-blue-500 flex-shrink-0"}),o.jsxs("div",{className:"w-28 flex-shrink-0",children:[o.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:new Date(N.date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(N.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("div",{className:"w-40 flex-shrink-0",children:[o.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:N.supplier}),((_=N.items[0].notes)==null?void 0:_.includes("Phone:"))&&o.jsxs("div",{className:"text-xs text-slate-500",children:["Phone: ",(A=N.items[0].notes.split("Phone:")[1])==null?void 0:A.trim()]})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Chi tit nhp kho:"}),o.jsx("div",{className:"space-y-0.5",children:N.items.map((B,F)=>o.jsxs("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:[o.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[B.quantity,"x"," "]}),o.jsx("span",{children:B.partName}),o.jsxs("span",{className:"text-slate-500",children:[" ","(G: ",Oe(B.unitPrice||0),")"]})]},B.id))}),o.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["NV: Nhp kho:"," ",((L=(M=(D=N.items[0].notes)==null?void 0:D.split("NV:")[1])==null?void 0:M.split("NCC:")[0])==null?void 0:L.trim())||"Xun Nhan"]})]}),o.jsx("div",{className:"w-32 text-right flex-shrink-0",children:o.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:Oe(N.total)})}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx("button",{onClick:()=>m({...N,date:new Date(N.date)}),className:"p-1.5 text-blue-400 hover:bg-blue-500/20 rounded transition-colors",title:"Chnh sa",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsx("button",{className:"p-1.5 text-slate-400 hover:bg-slate-500/20 rounded transition-colors",title:"Thm ty chn",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})},N.receiptCode)})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",b.length," phiu nhp"]})}),h&&o.jsx(j3e,{receipt:h,onClose:()=>m(null),onSave:async N=>{var _,A,D,M,L,B,F,H,O;try{const I=new Set(h.items.map(X=>X.id)),V=new Set(N.items.filter(X=>!X.id.startsWith("new-")).map(X=>X.id)),Y=Array.from(I).filter(X=>!V.has(X));for(const X of Y){const ae=h.items.find(re=>re.id===X);if(!ae)continue;const{data:de,error:oe}=await Tt.from("parts").select("stock").eq("id",ae.partId).single();if(oe)throw new Error(`Khng th ly thng tin ph tng: ${oe.message}`);if(de){const P=(((_=de.stock)==null?void 0:_[x])||0)-ae.quantity;if(P<0)throw new Error(`Khng th xa sn phm "${ae.partName}" v s lm tn kho m`);const{error:W}=await Tt.from("parts").update({stock:{...de.stock,[x]:P}}).eq("id",ae.partId);if(W)throw new Error(`Khng th cp nht tn kho: ${W.message}`)}const{error:De}=await Tt.from("inventory_transactions").delete().eq("id",X);if(De)throw new Error(`Khng th xa giao dch: ${De.message}`)}for(const X of N.items){if(X.id.startsWith("new-"))continue;const ae=h.items.find(oe=>oe.id===X.id),{error:de}=await Tt.from("inventory_transactions").update({quantity:X.quantity,unitPrice:X.unitPrice,totalPrice:X.totalPrice,notes:`NV:${((M=(D=(A=N.items[0].notes)==null?void 0:A.split("NV:")[1])==null?void 0:D.split("NCC:")[0])==null?void 0:M.trim())||"Xun Nhan"} NCC:${N.supplier}${N.supplierPhone?` Phone:${N.supplierPhone}`:""}`}).eq("id",X.id);if(de)throw de;if(ae&&ae.quantity!==X.quantity){const oe=X.quantity-ae.quantity,{data:De,error:re}=await Tt.from("parts").select("stock, id").eq("id",ae.partId).single();if(re)throw new Error(`Khng th ly thng tin ph tng: ${re.message}`);if(De){const P=((L=De.stock)==null?void 0:L[x])||0,W=P+oe;if(W<0)throw new Error(`Khng th gim s lng v s lm tn kho m (hin c: ${P})`);const{error:z}=await Tt.from("parts").update({stock:{...De.stock,[x]:W}}).eq("id",De.id);if(z)throw new Error(`Khng th cp nht tn kho: ${z.message}`)}}}const te=N.items.filter(X=>X.id.startsWith("new-"));for(const X of te){const{data:ae,error:de}=await Tt.from("parts").select("stock, id").eq("id",X.partId).single();if(de)throw new Error(`Khng th ly thng tin ph tng: ${de.message}`);if(ae){const re=(((B=ae.stock)==null?void 0:B[x])||0)+X.quantity,{error:P}=await Tt.from("parts").update({stock:{...ae.stock,[x]:re}}).eq("id",ae.id);if(P)throw new Error(`Khng th cp nht tn kho: ${P.message}`)}const{error:oe}=await Tt.from("inventory_transactions").insert({type:"Nhp kho",partId:X.partId,partName:X.partName,quantity:X.quantity,date:h.date.toISOString(),unitPrice:X.unitPrice,totalPrice:X.totalPrice,branchId:x,notes:`NV:${((O=(H=(F=N.items[0].notes)==null?void 0:F.split("NV:")[1])==null?void 0:H.split("NCC:")[0])==null?void 0:O.trim())||"Xun Nhan"} NCC:${N.supplier}${N.supplierPhone?` Phone:${N.supplierPhone}`:""}`});if(oe)throw new Error(`Khng th to giao dch mi: ${oe.message}`)}Xe.success(` cp nht phiu nhp kho (${N.items.length} sn phm)`),t.invalidateQueries({queryKey:["inventoryTransactions"]}),t.invalidateQueries({queryKey:["partsRepo"]}),t.invalidateQueries({queryKey:["partsRepoPaged"]}),m(null)}catch(I){Xe.error(`Li cp nht: ${I.message||"Khng r"}`)}},currentBranchId:x})]})},T3e=()=>{var Te;const{currentBranchId:e}=si(),{mutateAsync:t}=y3e(),{data:r=[]}=b3e({branchId:e}),[a,n]=j.useState("stock"),[i,s]=j.useState(!1),[l,u]=j.useState(""),[d,h]=j.useState("all"),[m,x]=j.useState("all"),[p,y]=j.useState(!1),[b,v]=j.useState(1),[k,N]=j.useState(20),[_,A]=j.useState([]),[D,M]=j.useState(null),[L,B]=j.useState(!1),{confirm:F,confirmState:H,handleConfirm:O,handleCancel:I}=pH(),{data:V,isLoading:Y,isError:te}=zge({page:b,pageSize:k,search:l,category:d==="all"?void 0:d}),X=(V==null?void 0:V.data)||[],ae=((Te=V==null?void 0:V.meta)==null?void 0:Te.total)||0,de=Math.max(1,Math.ceil(ae/k)),{data:oe,refetch:De}=xi({queryKey:["allPartsForTotals",e,l,d],queryFn:async()=>{console.log(" Fetching allPartsForTotals...");let Ee=Tt.from("parts").select("id, name, sku, stock, costPrice, retailPrice").order("name");if(d&&d!=="all"&&(Ee=Ee.eq("category",d)),l&&l.trim()){const bt=l.trim();Ee=Ee.or(`name.ilike.%${bt}%,sku.ilike.%${bt}%`)}const{data:Be,error:ut}=await Ee;if(ut)throw ut;return console.log(` Fetched ${(Be==null?void 0:Be.length)||0} parts`),Be||[]},staleTime:5e3}),re=j.useMemo(()=>{if(!oe)return new Set;const Ee=new Map;oe.forEach(ut=>{const bt=Ee.get(ut.name)||0;Ee.set(ut.name,bt+1)});const Be=new Set(Array.from(Ee.entries()).filter(([ut,bt])=>bt>1).map(([ut,bt])=>ut));return console.log(` Detected ${Be.size} duplicate product names from ${oe.length} parts`),Be.size>0&&console.log("Duplicate names:",Array.from(Be).slice(0,5)),Be},[oe]),P=j.useCallback(Ee=>re.has(Ee),[re]),{data:W}=xi({queryKey:["duplicateParts",e,Array.from(re)],queryFn:async()=>{if(re.size===0)return[];console.log(` Fetching all duplicate parts for ${re.size} names...`);const{data:Ee,error:Be}=await Tt.from("parts").select("*").in("name",Array.from(re)).order("name");if(Be)throw Be;return console.log(` Found ${(Ee==null?void 0:Ee.length)||0} parts with duplicate names`),Ee||[]},enabled:p&&re.size>0,staleTime:5e3}),z=j.useMemo(()=>p&&re.size>0?W||[]:X,[X,p,re,W]);j.useEffect(()=>{p&&re.size===0&&y(!1)},[p,re.size]);const q=j.useMemo(()=>oe?oe.reduce((Ee,Be)=>{var ut;return Ee+(((ut=Be.stock)==null?void 0:ut[e])||0)},0):0,[oe,e]),Z=j.useMemo(()=>oe?oe.reduce((Ee,Be)=>{var Me,at;const ut=((Me=Be.stock)==null?void 0:Me[e])||0,bt=((at=Be.costPrice)==null?void 0:at[e])||0;return Ee+ut*bt},0):0,[oe,e]),se=ia(),ee=qge();iq();const Q=$ge(),{data:me=[]}=ok(),{profile:Ae}=rc(),J=j.useCallback((Ee,Be,ut,bt)=>{Ee.forEach(async Me=>{const at=X.find(yt=>yt.id===Me.partId);try{await t({type:"Nhp kho",partId:Me.partId,partName:Me.partName,quantity:Me.quantity,date:new Date().toISOString(),unitPrice:Me.importPrice,totalPrice:Me.importPrice*Me.quantity,branchId:e,notes:Be?`NCC: ${Be}`:bt})}catch(yt){console.error("Li lu lch s kho:",yt),Xe.error(`Li lu lch s: ${yt.message||"Khng r"}`);return}at&&(ee.mutate({id:Me.partId,updates:{retailPrice:{...at.retailPrice,[e]:Me.sellingPrice},wholesalePrice:{...at.wholesalePrice,[e]:Me.wholesalePrice||0}}}),at.retailPrice[e]!==Me.sellingPrice&&On((Ae==null?void 0:Ae.id)||null,{action:"part.update_price",tableName:"parts",recordId:at.id,oldData:{retailPrice:at.retailPrice[e]},newData:{retailPrice:Me.sellingPrice}}))}),s(!1),Xe.success("Nhp kho thnh cng!"),On((Ae==null?void 0:Ae.id)||null,{action:"inventory.receipt",tableName:"inventory_transactions",oldData:null,newData:{supplier:Be,items:Ee.map(Me=>({partId:Me.partId,quantity:Me.quantity,importPrice:Me.importPrice,sellingPrice:Me.sellingPrice})),totalAmount:ut}})},[X,e,ee,t,Ae==null?void 0:Ae.id]),ke=Ee=>{A(Ee?z.map(Be=>Be.id):[])},ye=(Ee,Be)=>{A(Be?[..._,Ee]:_.filter(ut=>ut!==Ee))},ce=async Ee=>{const Be=X.find(bt=>bt.id===Ee);!Be||!await F({title:"Xc nhn xa",message:`Bn c chc chn mun xa sn phm "${Be.name}"?`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"})||Q.mutate({id:Ee},{onSuccess:async()=>{A(bt=>bt.filter(Me=>Me!==Ee)),await De(),console.log(" Refetched allPartsForTotals after delete"),Xe.success(` xa ph tng "${Be.name}"`)},onError:bt=>{console.error("Delete error:",bt),Xe.error(`Khng th xa: ${bt.message}`)}})},qe=async()=>{if(_.length===0){Xe.warning("Vui lng chn t nht mt sn phm");return}if(!await F({title:"Xc nhn xa",message:`Bn c chc chn mun xa ${_.length} sn phm  chn? Hnh ng ny khng th hon tc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"}))return;let Be=0,ut=0;const bt=_.length;_.forEach((Me,at)=>{Q.mutate({id:Me},{onSuccess:async()=>{Be++,Be+ut===bt&&(await De(),console.log(" Refetched allPartsForTotals after bulk delete"),ut===0?Xe.success(` xa ${Be} ph tng`):Xe.warning(` xa ${Be}/${bt} ph tng (${ut} li)`))},onError:yt=>{console.error(`Delete error for item ${Me}:`,yt),ut++,Be+ut===bt&&(Be===0?Xe.error(`Khng th xa ${bt} ph tng`):Xe.warning(` xa ${Be}/${bt} ph tng (${ut} li)`))}})}),A([])},ze=()=>{try{const Ee=new Date,Be=`ton-kho-${Ee.getDate()}-${Ee.getMonth()+1}-${Ee.getFullYear()}.xlsx`;i3e(X,e,Be),Xe.success("Xut file Excel thnh cng!")}catch(Ee){console.error("Export error:",Ee),Xe.error("C li khi xut file Excel")}},mt=()=>{try{s3e(),Xe.success("Ti template thnh cng! Vui lng in thng tin v import li.")}catch(Ee){console.error("Template download error:",Ee),Xe.error("C li khi ti template")}};return o.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[o.jsx("div",{className:"bg-primary-bg border-b border-primary-border px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"flex gap-2",children:[{key:"stock",label:"Tn kho",icon:o.jsx(fl,{className:"w-4 h-4"})},{key:"categories",label:"Danh mc",icon:o.jsx(KS,{className:"w-4 h-4"})},{key:"lookup",label:"Tra cu",icon:o.jsx(GN,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:o.jsx(nv,{className:"w-4 h-4"})}].map(Ee=>o.jsx("button",{onClick:()=>n(Ee.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===Ee.key?"bg-blue-600 text-white":"text-secondary-text hover:bg-tertiary-bg"}`,children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[Ee.icon,Ee.label]})},Ee.key))}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("span",{className:"text-xl",children:"+"}),o.jsx("span",{children:"To phiu nhp"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Chuyn kho"})]}),o.jsxs("button",{onClick:ze,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Xut Excel"})]}),o.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Nhp CSV"})]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a==="stock"&&o.jsxs("div",{className:"space-y-4",children:[re.size>0&&o.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-sm font-semibold text-orange-800 dark:text-orange-300 mb-1",children:["Pht hin ",re.size," sn phm c tn trng lp"]}),o.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 mb-2",children:'Cc sn phm c tn ging nhau nhng SKU khc nhau c th gy nhm ln khi bn hng. Cc dng trng lp c nh du mu cam vi nhn " Trng".'}),o.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-500",children:" Khuyn ngh: Chn cc sn phm trng tn v xa hoc i tn  phn bit (VD: thm m nh cung cp, thm phin bn)"}),o.jsx("button",{onClick:()=>y(!p),className:`mt-2 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${p?"bg-orange-600 text-white hover:bg-orange-700":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/60"}`,children:p?" ang lc sn phm trng":" Ch hin th sn phm trng"})]})]})}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"bg-accent-blue-bg rounded-lg px-5 py-3 border border-accent-blue-border min-w-[140px]",children:[o.jsx("div",{className:"text-xs text-accent-blue-text mb-1",children:"Tng SL tn"}),o.jsx("div",{className:"text-xl font-bold text-primary-text",children:q.toLocaleString()})]}),o.jsxs("div",{className:"bg-accent-green-bg rounded-lg px-5 py-3 border border-accent-green-border min-w-[180px]",children:[o.jsx("div",{className:"text-xs text-accent-green-text mb-1",children:"Tng gi tr tn"}),o.jsx("div",{className:"text-xl font-bold text-accent-green-text",children:Oe(Z)})]})]}),o.jsxs("div",{className:"flex gap-3 flex-1",children:[o.jsx("input",{type:"text",placeholder:"Tm kim theo tn hoc SKU...",value:l,onChange:Ee=>{v(1),u(Ee.target.value)},className:"flex-1 px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-primary-text placeholder-tertiary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors"}),o.jsxs("select",{value:m,onChange:Ee=>{v(1),x(Ee.target.value)},className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:[o.jsx("option",{value:"all",children:"Tt c tn kho"}),o.jsx("option",{value:"low",children:"Sp ht (<10)"}),o.jsx("option",{value:"out",children:"Ht hng (=0)"})]}),o.jsxs("select",{value:d,onChange:Ee=>{v(1),h(Ee.target.value)},className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:[o.jsx("option",{value:"all",children:"Tt c danh mc"}),me.map(Ee=>o.jsx("option",{value:Ee.name,children:Ee.name},Ee.id))]})]})]}),o.jsxs("div",{className:"rounded-lg overflow-hidden border border-primary-border",children:[_.length>0&&o.jsxs("div",{className:"px-6 py-3 bg-blue-100 dark:bg-blue-900/30 border-b border-primary-border flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[" chn ",_.length," sn phm"]}),o.jsxs("button",{onClick:qe,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa  chn"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-tertiary-bg",children:o.jsxs("tr",{className:"border-b border-primary-border",children:[o.jsx("th",{className:"px-6 py-4 text-center w-12",children:o.jsx("input",{type:"checkbox",checked:_.length===z.length&&z.length>0,onChange:Ee=>ke(Ee.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),o.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"STT"}),o.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn sn phm"}),o.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Danh mc"}),o.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn kho"}),o.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi nhp"}),o.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi bn l"}),o.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi bn s"}),o.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi tr"}),o.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Thao tc"})]})}),o.jsx("tbody",{className:"bg-primary-bg divide-y divide-primary-border",children:z.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:10,className:"px-6 py-8 text-center text-tertiary-text",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("div",{className:"text-lg",children:"Khng c sn phm no"}),o.jsx("div",{className:"text-sm",children:"Hy th mt b lc khc hoc thm sn phm mi"})]})}):z.map((Ee,Be)=>{var kt,ht;const ut=Ee.stock[e]||0,bt=Ee.retailPrice[e]||0,Me=((kt=Ee.wholesalePrice)==null?void 0:kt[e])||0,at=((ht=Ee.costPrice)==null?void 0:ht[e])||0,yt=ut*bt,lr=_.includes(Ee.id),Rt=P(Ee.name);return o.jsxs("tr",{className:`border-b border-primary-border hover:bg-tertiary-bg transition-colors ${lr?"bg-blue-900/20 dark:bg-blue-900/20":Rt?"bg-orange-500/10 border-l-4 border-l-orange-500":""}`,children:[o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("input",{type:"checkbox",checked:lr,onChange:_t=>ye(Ee.id,_t.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:Be+1}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-primary-text",children:Ee.name}),o.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",Ee.sku]})]}),Rt&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 border border-orange-300 dark:border-orange-700",title:"Sn phm c tn trng lp",children:" Trng"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:Ee.category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-bold rounded ${ut===0?"text-red-600 dark:text-red-400":ut<10?"text-yellow-600 dark:text-yellow-400":"text-emerald-600 dark:text-emerald-400"}`,children:ut})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-secondary-text",children:Oe(at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-primary-text font-medium",children:Oe(bt)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-secondary-text",children:Oe(Me)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-semibold text-primary-text",children:Oe(yt)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>M(Ee),className:"p-1.5 text-blue-400 hover:bg-blue-500/20 rounded transition-colors",title:"Chnh sa",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsx("button",{onClick:()=>ce(Ee.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Xa",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Ee.id)})})]})}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-primary-border bg-primary-bg",children:[o.jsxs("div",{className:"text-sm text-secondary-text",children:["Trang ",b,"/",de,"  Tng ",ae," ph tng"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{disabled:b===1||Y,onClick:()=>v(Ee=>Math.max(1,Ee-1)),className:"px-3 py-1.5 border border-secondary-border rounded disabled:opacity-40",children:" Trc"}),o.jsx("button",{disabled:b>=de||Y,onClick:()=>v(Ee=>Math.min(de,Ee+1)),className:"px-3 py-1.5 border border-secondary-border rounded disabled:opacity-40",children:"Sau "}),o.jsx("select",{value:k,onChange:Ee=>{const Be=Number(Ee.target.value)||20;N(Be),v(1)},className:"px-2 py-1.5 border border-secondary-border rounded",children:[10,20,50,100].map(Ee=>o.jsxs("option",{value:Ee,children:[Ee,"/trang"]},Ee))})]})]})]})]}),a==="history"&&o.jsx(A3e,{transactions:r}),a==="categories"&&o.jsx("div",{className:"bg-[#0f172a] -m-6",children:o.jsx(vH,{})}),a==="lookup"&&o.jsx("div",{className:"bg-[#0f172a] -m-6",children:o.jsx(bH,{})})]}),o.jsx(_3e,{isOpen:i,onClose:()=>s(!1),parts:X,currentBranchId:e,onSave:J}),D&&o.jsx(C3e,{part:D,onClose:()=>M(null),onSave:Ee=>{console.log(" Saving part updates:",Ee);const Be={name:Ee.name,category:Ee.category,stock:Ee.stock,retailPrice:Ee.retailPrice,wholesalePrice:Ee.wholesalePrice};Ee.costPrice&&(Be.costPrice=Ee.costPrice),console.log(" Sending updates:",Be),ee.mutate({id:Ee.id,updates:Be}),M(null)},currentBranchId:e}),L&&o.jsx(E3e,{onClose:()=>B(!1),onDownloadTemplate:mt,onImport:async Ee=>{var Be,ut;try{const{items:bt,errors:Me}=await o3e(Ee,e);if(bt.length===0){const Dt=Me.length?`Khng import c: ${Me.slice(0,3).join("; ")}`:"File khng c d liu hp l";throw new Error(Dt)}const at=bt.map(Dt=>Dt.sku);console.log(` Checking ${at.length} SKUs...`);const yt=new Map;at.forEach(Dt=>{yt.set(Dt,(yt.get(Dt)||0)+1)});const lr=Array.from(yt.entries()).filter(([Dt,cr])=>cr>1).map(([Dt,cr])=>`${Dt}(${cr}x)`);lr.length>0&&console.warn(` Duplicate SKUs in file: ${lr.slice(0,5).join(", ")}`);const Rt=Array.from(new Set(at)),kt=100,ht=[];for(let Dt=0;Dt<Rt.length;Dt+=kt){const cr=Rt.slice(Dt,Dt+kt),{data:zt,error:Dr}=await Tt.from("parts").select("*").in("sku",cr);if(Dr)throw console.error(` Fetch chunk ${Dt/kt+1} error:`,Dr),new Error(`Li kim tra ph tng: ${Dr.message}`);zt&&ht.push(...zt)}console.log(` Found ${ht.length} existing parts`);const _t=new Map(ht.map(Dt=>[Dt.sku,Dt])),hr=[],Ut=[],At=[],Lt=new Set;let _r=0,Gt=0,Ar=0;const rr=new Date().toISOString();for(const Dt of bt){if(Lt.has(Dt.sku)){console.warn(` Skipping duplicate SKU in file: ${Dt.sku}`),Ar++;continue}Lt.add(Dt.sku);const cr=_t.get(Dt.sku);if(cr)Gt+=1,Ut.push({id:cr.id,stock:{...cr.stock,[e]:(cr.stock[e]||0)+Dt.quantity},costPrice:{...cr.costPrice,[e]:Dt.costPrice},retailPrice:{...cr.retailPrice,[e]:Dt.retailPrice},wholesalePrice:{...cr.wholesalePrice,[e]:Dt.wholesalePrice}}),At.push({type:"Nhp kho",date:rr,branchId:e,partId:cr.id,partName:Dt.name,quantity:Dt.quantity,unitPrice:Dt.retailPrice,totalPrice:Dt.quantity*Dt.retailPrice,notes:"Nhp kho t file Excel"});else{_r+=1;const zt=((Be=crypto==null?void 0:crypto.randomUUID)==null?void 0:Be.call(crypto))||`${Math.random().toString(36).slice(2)}-${Date.now()}`;hr.push({id:zt,name:Dt.name,sku:Dt.sku,category:Dt.category,description:Dt.description,stock:{[e]:Dt.quantity},costPrice:{[e]:Dt.costPrice},retailPrice:{[e]:Dt.retailPrice},wholesalePrice:{[e]:Dt.wholesalePrice}}),At.push({type:"Nhp kho",date:rr,branchId:e,partId:zt,partName:Dt.name,quantity:Dt.quantity,unitPrice:Dt.retailPrice,totalPrice:Dt.quantity*Dt.retailPrice,notes:"Nhp kho t file Excel"})}}if(hr.length>0){const{data:Dt,error:cr}=await Tt.from("parts").insert(hr).select();if(cr)throw console.error(" Batch create error:",cr),new Error(`Li to ph tng: ${cr.message}`);console.log(` Created ${(Dt==null?void 0:Dt.length)||0} parts`)}if(Ut.length>0){let Dt=0,cr=0;for(const zt of Ut){const{error:Dr}=await Tt.from("parts").update({stock:zt.stock,costPrice:zt.costPrice,retailPrice:zt.retailPrice,wholesalePrice:zt.wholesalePrice}).eq("id",zt.id);Dr?(console.error(` Update error for part ${zt.id}:`,Dr),cr++):Dt++}console.log(` Updated ${Dt}/${Ut.length} parts`)}if(At.length>0){const{error:Dt}=await Tt.from("inventory_transactions").insert(At);Dt&&console.warn(" Inventory transactions error:",Dt)}se.invalidateQueries({queryKey:["partsRepo"]}),se.invalidateQueries({queryKey:["partsRepoPaged"]});try{const{data:Dt}=await Tt.auth.getUser();await On(((ut=Dt==null?void 0:Dt.user)==null?void 0:ut.id)||null,{action:"inventory.import",tableName:"inventory_transactions",oldData:null,newData:{totalRows:bt.length+Me.length,created:_r,updated:Gt,skipped:Me.length,sampleErrors:Me.slice(0,10),branchId:e,at:rr}})}catch{}B(!1);let Yr=`Import: to mi ${_r}, cp nht ${Gt}`;Ar>0&&(Yr+=`, b qua ${Ar} SKU trng`),Me.length>0&&(Yr+=`, ${Me.length} dng li`),Xe.success(Yr)}catch(bt){console.error(" Import error:",bt),Xe.error(`Li import: ${bt}`)}}}),o.jsx(gH,{isOpen:H.isOpen,title:H.title,message:H.message,confirmText:H.confirmText,cancelText:H.cancelText,confirmColor:H.confirmColor,onConfirm:O,onCancel:I})]})},E3e=({onClose:e,onDownloadTemplate:t,onImport:r})=>{const[a,n]=j.useState(null),[i,s]=j.useState(!1),l=d=>{var m,x;const h=(m=d.target.files)==null?void 0:m[0];if(h){const p=(x=h.name.split(".").pop())==null?void 0:x.toLowerCase();p==="xlsx"||p==="xls"||p==="csv"?n(h):Xe.warning("Vui lng chn file Excel (.xlsx, .xls) hoc CSV (.csv)")}},u=async()=>{if(!a){Xe.warning("Vui lng chn file  import");return}s(!0);try{await r(a)}finally{s(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Nhp tn kho t Excel/CSV"}),o.jsx("button",{onClick:e,disabled:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 disabled:opacity-50",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Hng dn s dng"}),o.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[o.jsx("li",{children:"Ti file template mu"}),o.jsx("li",{children:"in thng tin sn phm vo file"}),o.jsx("li",{children:"Lu file v chn  import"})]}),o.jsx("button",{onClick:t,className:"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:" Ti Template Excel"})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn file  import"}),o.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 text-center",children:[o.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:l,disabled:i,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[o.jsx("svg",{className:"w-12 h-12 text-slate-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Click  chn file Excel hoc CSV"}),a&&o.jsxs("span",{className:"mt-2 text-sm font-medium text-blue-600 dark:text-blue-400",children:[" ",a.name]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Hy"}),o.jsx("button",{onClick:u,disabled:!a||i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"ang x l...":"Import"})]})]})]})})},C3e=({part:e,onClose:t,onSave:r,currentBranchId:a})=>{var p,y;const[n,i]=j.useState({name:e.name,category:e.category||"",retailPrice:e.retailPrice[a]||0,wholesalePrice:((p=e.wholesalePrice)==null?void 0:p[a])||0,costPrice:((y=e.costPrice)==null?void 0:y[a])||0,stock:e.stock[a]||0}),{data:s=[]}=ok(),l=zA(),[u,d]=j.useState(!1),[h,m]=j.useState(""),x=b=>{if(b.preventDefault(),!n.name.trim()){Xe.warning("Vui lng nhp tn sn phm");return}r({id:e.id,name:n.name.trim(),category:n.category.trim()||void 0,stock:{...e.stock,[a]:n.stock},costPrice:{...e.costPrice,[a]:n.costPrice},retailPrice:{...e.retailPrice,[a]:n.retailPrice},wholesalePrice:{...e.wholesalePrice,[a]:n.wholesalePrice}})};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Chnh sa sn phm"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:n.name,onChange:b=>i({...n,name:b.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:n.category,onChange:b=>i({...n,category:b.target.value}),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{value:"",children:"-- Chn hoc to mi --"}),s.map(b=>o.jsx("option",{value:b.name,children:b.name},b.id))]}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600",title:"Thm danh mc mi",children:"+"})]}),u&&o.jsxs("form",{onSubmit:async b=>{b.preventDefault();const v=h.trim();if(!v)return Xe.warning("Vui lng nhp tn danh mc");try{const k=await l.mutateAsync({name:v});i({...n,category:k.name}),m(""),d(!1)}catch(k){Xe.error((k==null?void 0:k.message)||"Li to danh mc")}},className:"flex gap-2",children:[o.jsx("input",{autoFocus:!0,type:"text",value:h,onChange:b=>m(b.target.value),placeholder:"Nhp tn danh mc mi",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm text-slate-900 dark:text-slate-100"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium",children:"Lu"}),o.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Hy"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi nhp"}),o.jsx("input",{type:"number",value:n.costPrice||0,onChange:b=>i({...n,costPrice:Number(b.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn l"}),o.jsx("input",{type:"number",value:n.retailPrice,onChange:b=>i({...n,retailPrice:Number(b.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn s"}),o.jsx("input",{type:"number",value:n.wholesalePrice,onChange:b=>i({...n,wholesalePrice:Number(b.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tn kho hin ti"}),o.jsx("input",{type:"number",value:n.stock,onChange:b=>i({...n,stock:Number(b.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"}),o.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"S lng tn kho ti chi nhnh hin ti"})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[o.jsx("div",{className:"font-medium mb-1",children:"Lu :"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Bn c th chnh sa trc tip gi nhp, gi bn v tn kho"}),o.jsx("li",{children:'Hoc s dng "To phiu nhp"  ghi nhn lch s nhp kho chi tit'})]})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Lu thay i"})]})]})]})})},lk="work_orders";function O3e(e){return{id:e.id,creationDate:e.creationdate||e.creationDate,customerName:e.customername||e.customerName,customerPhone:e.customerphone||e.customerPhone,vehicleModel:e.vehiclemodel||e.vehicleModel,licensePlate:e.licenseplate||e.licensePlate,issueDescription:e.issuedescript||e.issueDescription,technicianName:e.technicianname||e.technicianName,status:e.status,laborCost:e.laborcost||e.laborCost||0,discount:e.discount,partsUsed:e.partsused||e.partsUsed,additionalServices:e.additionalservices||e.additionalServices,notes:e.notes,total:e.total,branchId:e.branchid||e.branchId,depositAmount:e.depositamount||e.depositAmount,depositDate:e.depositdate||e.depositDate,depositTransactionId:e.deposittransactionid||e.depositTransactionId,paymentStatus:e.paymentstatus||e.paymentStatus,paymentMethod:e.paymentmethod||e.paymentMethod,additionalPayment:e.additionalpayment||e.additionalPayment,totalPaid:e.totalpaid||e.totalPaid,remainingAmount:e.remainingamount||e.remainingAmount,paymentDate:e.paymentdate||e.paymentDate,cashTransactionId:e.cashtransactionid||e.cashTransactionId,refunded:e.refunded,refunded_at:e.refunded_at||e.refundedAt,refund_transaction_id:e.refund_transaction_id||e.refundTransactionId,refund_reason:e.refund_reason||e.refundReason}}async function P3e(){try{const{data:e,error:t}=await Tt.from(lk).select("*").order("creationdate",{ascending:!1});return t?ot({code:"supabase",message:"Khng th ti danh sch phiu sa cha",cause:t}):Fr((e||[]).map(O3e))}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function D3e(e){var t;try{if(!e.id)return ot({code:"validation",message:"Thiu ID phiu sa cha"});const r={p_order_id:e.id,p_customer_name:e.customerName||"",p_customer_phone:e.customerPhone||"",p_vehicle_model:e.vehicleModel||"",p_license_plate:e.licensePlate||"",p_issue_description:e.issueDescription||"",p_technician_name:e.technicianName||"",p_status:e.status||"Tip nhn",p_labor_cost:e.laborCost||0,p_discount:e.discount||0,p_parts_used:e.partsUsed||[],p_additional_services:e.additionalServices||null,p_total:e.total||0,p_branch_id:e.branchId||"CN1",p_payment_status:e.paymentStatus||"unpaid",p_payment_method:e.paymentMethod||null,p_deposit_amount:e.depositAmount||0,p_additional_payment:e.additionalPayment||0,p_user_id:e.userId||"unknown"},{data:a,error:n}=await Tt.rpc("work_order_create_atomic",r);if(n||!a){const h=(n==null?void 0:n.details)||(n==null?void 0:n.message)||"",m=h.toUpperCase();if(m.includes("INSUFFICIENT_STOCK")){let x=[];const p=h.indexOf(":");if(p!==-1){const b=h.slice(p+1).trim();try{x=JSON.parse(b)}catch{}}const y=Array.isArray(x)?x.map(b=>`${b.partName||b.partId||"?"} (cn ${b.available}, cn ${b.requested})`).join(", "):"";return ot({code:"validation",message:y?`Thiu tn kho: ${y}`:"Tn kho khng  cho mt hoc nhiu ph tng",cause:n})}return m.includes("PART_NOT_FOUND")?ot({code:"validation",message:"Khng tm thy ph tng trong kho",cause:n}):m.includes("INVALID_PART")?ot({code:"validation",message:"D liu ph tng khng hp l",cause:n}):m.includes("INVALID_STATUS")?ot({code:"validation",message:"Trng thi khng hp l",cause:n}):m.includes("INVALID_PAYMENT_STATUS")?ot({code:"validation",message:"Trng thi thanh ton khng hp l",cause:n}):m.includes("UNAUTHORIZED")?ot({code:"supabase",message:"Bn khng c quyn to phiu sa cha",cause:n}):m.includes("BRANCH_MISMATCH")?ot({code:"validation",message:"Chi nhnh khng khp vi quyn hin ti",cause:n}):ot({code:"supabase",message:"To phiu sa cha (atomic) tht bi",cause:n})}const i=a.workOrder,s=a.depositTransactionId,l=a.paymentTransactionId,u=a.inventoryTxCount;if(!i)return ot({code:"unknown",message:"Kt qu RPC khng hp l"});let d=null;try{const{data:h}=await Tt.auth.getUser();d=((t=h==null?void 0:h.user)==null?void 0:t.id)||null}catch{}return await On(d,{action:"work_order.create",tableName:lk,recordId:i.id,oldData:null,newData:i}),Fr({...i,depositTransactionId:s,paymentTransactionId:l,inventoryTxCount:u})}catch(r){return ot({code:"network",message:"Li kt ni khi to phiu sa cha (atomic)",cause:r})}}async function L3e(e){var t;try{if(!e.id)return ot({code:"validation",message:"Thiu ID phiu sa cha"});const r={p_order_id:e.id,p_customer_name:e.customerName||"",p_customer_phone:e.customerPhone||"",p_vehicle_model:e.vehicleModel||"",p_license_plate:e.licensePlate||"",p_issue_description:e.issueDescription||"",p_technician_name:e.technicianName||"",p_status:e.status||"Tip nhn",p_labor_cost:e.laborCost||0,p_discount:e.discount||0,p_parts_used:e.partsUsed||[],p_additional_services:e.additionalServices||null,p_total:e.total||0,p_payment_status:e.paymentStatus||"unpaid",p_payment_method:e.paymentMethod||null,p_deposit_amount:e.depositAmount||0,p_additional_payment:e.additionalPayment||0,p_user_id:e.userId||"unknown"},{data:a,error:n}=await Tt.rpc("work_order_update_atomic",r);if(n||!a){const d=(n==null?void 0:n.details)||(n==null?void 0:n.message)||"",h=d.toUpperCase();if(h.includes("INSUFFICIENT_STOCK")){let m=[];const x=d.indexOf(":");if(x!==-1){const y=d.slice(x+1).trim();try{m=JSON.parse(y)}catch{}}const p=Array.isArray(m)?m.map(y=>`${y.partName||y.partId||"?"} (cn ${y.available}, cn ${y.requested})`).join(", "):"";return ot({code:"validation",message:p?`Thiu tn kho: ${p}`:"Tn kho khng  cho mt hoc nhiu ph tng",cause:n})}return h.includes("ORDER_NOT_FOUND")?ot({code:"validation",message:"Khng tm thy phiu sa cha",cause:n}):h.includes("PART_NOT_FOUND")?ot({code:"validation",message:"Khng tm thy ph tng trong kho",cause:n}):h.includes("INVALID_PART")?ot({code:"validation",message:"D liu ph tng khng hp l",cause:n}):h.includes("UNAUTHORIZED")?ot({code:"supabase",message:"Bn khng c quyn cp nht phiu sa cha",cause:n}):h.includes("BRANCH_MISMATCH")?ot({code:"validation",message:"Chi nhnh khng khp vi quyn hin ti",cause:n}):ot({code:"supabase",message:"Cp nht phiu sa cha (atomic) tht bi",cause:n})}const i=a.workOrder,s=a.depositTransactionId,l=a.paymentTransactionId;if(!i)return ot({code:"unknown",message:"Kt qu RPC khng hp l"});let u=null;try{const{data:d}=await Tt.auth.getUser();u=((t=d==null?void 0:d.user)==null?void 0:t.id)||null}catch{}return await On(u,{action:"work_order.update",tableName:lk,recordId:i.id,oldData:null,newData:i}),Fr({...i,depositTransactionId:s,paymentTransactionId:l})}catch(r){return ot({code:"network",message:"Li kt ni khi cp nht phiu sa cha (atomic)",cause:r})}}async function M3e(e,t){var r;try{let a=null;try{const{data:d}=await Tt.auth.getUser();a=((r=d==null?void 0:d.user)==null?void 0:r.id)||null}catch{}const{data:n,error:i}=await Tt.rpc("work_order_refund_atomic",{p_order_id:e,p_refund_reason:t,p_user_id:a||"unknown"});if(i||!n){const h=((i==null?void 0:i.details)||(i==null?void 0:i.message)||"").toUpperCase();return h.includes("ORDER_NOT_FOUND")?ot({code:"validation",message:"Khng tm thy phiu sa cha",cause:i}):h.includes("ALREADY_REFUNDED")?ot({code:"validation",message:"Phiu ny  c hon tin ri",cause:i}):h.includes("UNAUTHORIZED")?ot({code:"supabase",message:"Bn khng c quyn hon tin",cause:i}):h.includes("BRANCH_MISMATCH")?ot({code:"validation",message:"Chi nhnh khng khp vi quyn hin ti",cause:i}):ot({code:"supabase",message:"Hon tin tht bi",cause:i})}const s=n.workOrder,l=n.refund_transaction_id,u=n.refundAmount;return s?(await On(a,{action:"work_order.refund",tableName:lk,recordId:e,oldData:null,newData:s}),Fr({...s,refund_transaction_id:l,refundAmount:u})):ot({code:"unknown",message:"Kt qu RPC khng hp l"})}catch(a){return ot({code:"network",message:"Li kt ni khi hon tin",cause:a})}}const I3e=()=>xi({queryKey:["workOrdersRepo"],queryFn:async()=>{const e=await P3e();if(!e.ok)throw e.error;return e.data}}),R3e=()=>{const e=ia();return an({mutationFn:async t=>{const r=await D3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:t=>{e.invalidateQueries({queryKey:["workOrdersRepo"]}),e.invalidateQueries({queryKey:["partsRepo"]}),Xe.success(" to phiu sa cha (atomic)"),t!=null&&t.inventoryTxCount&&Xe.info(`Xut kho: ${t.inventoryTxCount} ph tng`)},onError:t=>Xe.error(ca(t))})},F3e=()=>{const e=ia();return an({mutationFn:async t=>{const r=await L3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["workOrdersRepo"]}),e.invalidateQueries({queryKey:["partsRepo"]}),Xe.success(" cp nht phiu sa cha (atomic)")},onError:t=>Xe.error(ca(t))})},B3e=()=>{const e=ia();return an({mutationFn:({orderId:t,refundReason:r})=>M3e(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:["workOrdersRepo"]}),e.invalidateQueries({queryKey:["partsRepo"]}),Xe.success(" hon tin phiu sa cha"),t.ok&&t.data.refundAmount&&Xe.info(`Hon tin: ${new Intl.NumberFormat("vi-VN").format(t.data.refundAmount)}`)},onError:t=>Xe.error(ca(t))})};async function U3e(){try{const{data:e,error:t}=await Tt.from("customer_debts").select("*").order("created_at",{ascending:!1});if(t)return ot({code:"supabase",message:"Khng th ti danh sch cng n khch hng",cause:t});const r=(e||[]).map(a=>({id:a.id,customerId:a.customer_id,customerName:a.customer_name,phone:a.phone,licensePlate:a.license_plate,description:a.description,totalAmount:a.total_amount,paidAmount:a.paid_amount,remainingAmount:a.remaining_amount,createdDate:a.created_date,branchId:a.branch_id}));return Fr(r)}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function z3e(e){try{const t={id:`CDEBT-${Date.now()}`,customer_id:e.customerId,customer_name:e.customerName,phone:e.phone,license_plate:e.licensePlate,description:e.description,total_amount:e.totalAmount,paid_amount:e.paidAmount||0,remaining_amount:e.totalAmount-(e.paidAmount||0),created_date:e.createdDate,branch_id:e.branchId||"CN1"},{data:r,error:a}=await Tt.from("customer_debts").insert(t).select().single();return a||!r?ot({code:"supabase",message:(a==null?void 0:a.message)||"Khng th thm cng n",cause:a||new Error("No data returned")}):Fr({id:r.id,customerId:r.customer_id,customerName:r.customer_name,phone:r.phone,licensePlate:r.license_plate,description:r.description,totalAmount:r.total_amount,paidAmount:r.paid_amount,remainingAmount:r.remaining_amount,createdDate:r.created_date,branchId:r.branch_id})}catch(t){return ot({code:"network",message:"Li kt ni khi thm cng n",cause:t})}}async function q3e(e,t){try{const r={};t.customerName!==void 0&&(r.customer_name=t.customerName),t.phone!==void 0&&(r.phone=t.phone),t.licensePlate!==void 0&&(r.license_plate=t.licensePlate),t.description!==void 0&&(r.description=t.description),t.totalAmount!==void 0&&(r.total_amount=t.totalAmount),t.paidAmount!==void 0&&(r.paid_amount=t.paidAmount,r.remaining_amount=(t.totalAmount||0)-t.paidAmount),r.updated_at=new Date().toISOString();const{data:a,error:n}=await Tt.from("customer_debts").update(r).eq("id",e).select().single();return n||!a?ot({code:"supabase",message:"Khng th cp nht cng n",cause:n}):Fr({id:a.id,customerId:a.customer_id,customerName:a.customer_name,phone:a.phone,licensePlate:a.license_plate,description:a.description,totalAmount:a.total_amount,paidAmount:a.paid_amount,remainingAmount:a.remaining_amount,createdDate:a.created_date,branchId:a.branch_id})}catch(r){return ot({code:"network",message:"Li kt ni khi cp nht cng n",cause:r})}}async function $3e(e){try{const{error:t}=await Tt.from("customer_debts").delete().eq("id",e);return t?ot({code:"supabase",message:"Khng th xa cng n",cause:t}):Fr(void 0)}catch(t){return ot({code:"network",message:"Li kt ni khi xa cng n",cause:t})}}async function H3e(){try{const{data:e,error:t}=await Tt.from("supplier_debts").select("*").order("created_at",{ascending:!1});if(t)return ot({code:"supabase",message:"Khng th ti danh sch cng n nh cung cp",cause:t});const r=(e||[]).map(a=>({id:a.id,supplierId:a.supplier_id,supplierName:a.supplier_name,description:a.description,totalAmount:a.total_amount,paidAmount:a.paid_amount,remainingAmount:a.remaining_amount,createdDate:a.created_date,branchId:a.branch_id}));return Fr(r)}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function W3e(e){try{const t={id:`SDEBT-${Date.now()}`,supplier_id:e.supplierId,supplier_name:e.supplierName,description:e.description,total_amount:e.totalAmount,paid_amount:e.paidAmount||0,remaining_amount:e.totalAmount-(e.paidAmount||0),created_date:e.createdDate,branch_id:e.branchId||"CN1"},{data:r,error:a}=await Tt.from("supplier_debts").insert(t).select().single();return a||!r?ot({code:"supabase",message:(a==null?void 0:a.message)||"Khng th thm cng n",cause:a||new Error("No data returned")}):Fr({id:r.id,supplierId:r.supplier_id,supplierName:r.supplier_name,description:r.description,totalAmount:r.total_amount,paidAmount:r.paid_amount,remainingAmount:r.remaining_amount,createdDate:r.created_date,branchId:r.branch_id})}catch(t){return ot({code:"network",message:"Li kt ni khi thm cng n",cause:t})}}async function V3e(e,t){try{const r={};t.supplierName!==void 0&&(r.supplier_name=t.supplierName),t.description!==void 0&&(r.description=t.description),t.totalAmount!==void 0&&(r.total_amount=t.totalAmount),t.paidAmount!==void 0&&(r.paid_amount=t.paidAmount,r.remaining_amount=(t.totalAmount||0)-t.paidAmount),r.updated_at=new Date().toISOString();const{data:a,error:n}=await Tt.from("supplier_debts").update(r).eq("id",e).select().single();return n||!a?ot({code:"supabase",message:"Khng th cp nht cng n",cause:n}):Fr({id:a.id,supplierId:a.supplier_id,supplierName:a.supplier_name,description:a.description,totalAmount:a.total_amount,paidAmount:a.paid_amount,remainingAmount:a.remaining_amount,createdDate:a.created_date,branchId:a.branch_id})}catch(r){return ot({code:"network",message:"Li kt ni khi cp nht cng n",cause:r})}}async function K3e(e){try{const{error:t}=await Tt.from("supplier_debts").delete().eq("id",e);return t?ot({code:"supabase",message:"Khng th xa cng n",cause:t}):Fr(void 0)}catch(t){return ot({code:"network",message:"Li kt ni khi xa cng n",cause:t})}}function G3e(){return xi({queryKey:["customer_debts"],queryFn:async()=>{const e=await U3e();if(!e.ok)throw new Error(ca(e.error));return e.data}})}function qA(){const e=ia();return an({mutationFn:async t=>{const r=await z3e(t);if(!r.ok){const a=r.error?ca(r.error):"Khng th thm cng n";throw new Error(a)}return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["customer_debts"]}),Xe.success("Thm cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function yH(){const e=ia();return an({mutationFn:async({id:t,updates:r})=>{const a=await q3e(t,r);if(!a.ok)throw new Error(ca(a.error));return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["customer_debts"]}),Xe.success("Cp nht cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function Y3e(){const e=ia();return an({mutationFn:async t=>{const r=await $3e(t);if(!r.ok)throw new Error(ca(r.error));return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["customer_debts"]}),Xe.success("Xa cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function X3e(){return xi({queryKey:["supplier_debts"],queryFn:async()=>{const e=await H3e();if(!e.ok)throw new Error(ca(e.error));return e.data}})}function Q3e(){const e=ia();return an({mutationFn:async t=>{const r=await W3e(t);if(!r.ok){const a=r.error?ca(r.error):"Khng th thm cng n";throw new Error(a)}return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_debts"]}),Xe.success("Thm cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function J3e(){const e=ia();return an({mutationFn:async({id:t,updates:r})=>{const a=await V3e(t,r);if(!a.ok)throw new Error(ca(a.error));return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_debts"]}),Xe.success("Cp nht cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function Z3e(){const e=ia();return an({mutationFn:async t=>{const r=await K3e(t);if(!r.ok)throw new Error(ca(r.error));return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_debts"]}),Xe.success("Xa cng n thnh cng!")},onError:t=>{Xe.error((t==null?void 0:t.message)||"C li xy ra")}})}function eNe(){var ye,ce,qe,ze,mt;const{parts:e,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:l,workOrders:u,setWorkOrders:d}=si(),{data:h,isLoading:m}=Qw(),{data:x,isLoading:p}=I3e(),y=h||e;j.useEffect(()=>{x&&d(x)},[x,d]);const[b,v]=j.useState(!1),[k,N]=j.useState(!1),[_,A]=j.useState(void 0),[D,M]=j.useState(""),[L,B]=j.useState("all"),[F,H]=j.useState("all"),[O,I]=j.useState(null),[V,Y]=j.useState(!1),[te,X]=j.useState(null),[ae,de]=j.useState(null),[oe,De]=j.useState(!1),[re,P]=j.useState(""),W=Bu();j.useEffect(()=>{const Te=W&&W.state;if(console.log("[ServiceManager] location.state:",Te),Te&&Te.editOrder){A(Te.editOrder),v(!0);try{window.history.replaceState({},document.title)}catch{}}},[W]),j.useEffect(()=>{(async()=>{try{const{data:Ee,error:Be}=await Tt.from("store_settings").select("store_name, address, phone, email, logo_url, bank_qr_url, bank_name, bank_account_number, bank_account_holder, bank_branch, work_order_prefix").order("created_at",{ascending:!1}).limit(1).single();if(Be){console.error("Error fetching store settings:",Be);return}X(Ee)}catch(Ee){console.error("Failed to fetch store settings:",Ee)}})()},[]);const z=[{id:"oil-change",name:"Thay du ng c",description:"Thay du v lc du ng c",duration:30,laborCost:3e5,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"}]},{id:"brake-service",name:"Sa phanh",description:"Thay m phanh v bo dng h thng phanh",duration:45,laborCost:505e3,parts:[{name:"M phanh trc",quantity:2,price:16e4,unit:"ci"},{name:"M phanh sau",quantity:2,price:12e4,unit:"ci"},{name:"Du phanh",quantity:1,price:25e3,unit:"chai"}]},{id:"cleaning",name:"V sinh kim phun",description:"V sinh v hiu chnh kim phun xng",duration:60,laborCost:15e4,parts:[{name:"Dung dch v sinh kim phun",quantity:1,price:5e4,unit:"chai"}]},{id:"oil-box",name:"Thay nht hp s",description:"Thay du hp s v kim tra",duration:25,laborCost:14e4,parts:[{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]},{id:"bug-check",name:"Thay bugi",description:"Thay bugi v kim tra h thng nh la",duration:20,laborCost:85e3,parts:[{name:"Bugi",quantity:1,price:35e3,unit:"ci"}]},{id:"full-maintenance",name:"Bo dng tng qut",description:"Bo dng nh k y ",duration:90,laborCost:57e4,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"},{name:"Lc khng kh",quantity:1,price:25e3,unit:"ci"},{name:"Bugi",quantity:1,price:35e3,unit:"ci"},{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]}],q=j.useMemo(()=>{let Te=u.filter(Ee=>Ee.status!=="Tr my");return F==="pending"?Te=Te.filter(Ee=>Ee.status==="Tip nhn"):F==="inProgress"?Te=Te.filter(Ee=>Ee.status==="ang sa"):F==="done"&&(Te=Te.filter(Ee=>Ee.status===" sa xong")),D&&(Te=Te.filter(Ee=>{var Be,ut;return Ee.customerName.toLowerCase().includes(D.toLowerCase())||((Be=Ee.vehicleModel)==null?void 0:Be.toLowerCase().includes(D.toLowerCase()))||((ut=Ee.licensePlate)==null?void 0:ut.toLowerCase().includes(D.toLowerCase()))})),Te.sort((Ee,Be)=>{const ut=Ee.creationDate||Ee.creationdate,bt=Be.creationDate||Be.creationdate;return!ut||!bt?0:new Date(bt).getTime()-new Date(ut).getTime()})},[u,F,D]),Z=j.useMemo(()=>{const Te=u.filter(at=>at.status==="Tip nhn").length,Ee=u.filter(at=>at.status==="ang sa").length,Be=u.filter(at=>at.status===" sa xong").length,ut=u.filter(at=>at.status==="Tr my").length,bt=u.filter(at=>at.paymentStatus==="paid"&&new Date(at.creationDate).toDateString()===new Date().toDateString()).reduce((at,yt)=>at+yt.total,0),Me=u.filter(at=>at.paymentStatus==="paid"&&new Date(at.creationDate).toDateString()===new Date().toDateString()).reduce((at,yt)=>{var lr;return at+(yt.total-(((lr=yt.partsUsed)==null?void 0:lr.reduce((Rt,kt)=>Rt+kt.price*kt.quantity,0))||0))},0);return{pending:Te,inProgress:Ee,done:Be,delivered:ut,todayRevenue:bt,todayProfit:Me}},[u]),se=Te=>{A(Te||{id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:"",technicianName:"",status:"Tip nhn",laborCost:0,discount:0,partsUsed:[],total:0,branchId:l,paymentStatus:"unpaid",creationDate:new Date().toISOString()}),v(!0)},ee=Te=>{const Ee={id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:Te.description,laborCost:Te.laborCost,partsUsed:Te.parts.map((Be,ut)=>({partId:`TEMPLATE-${ut}`,partName:Be.name,sku:"",quantity:Be.quantity,price:Be.price})),status:"Tip nhn",paymentStatus:"unpaid",discount:0,total:0,creationDate:new Date().toISOString(),branchId:l,technicianName:""};A(Ee),N(!1),v(!0)},Q=Te=>{I(Te),Y(!0)},me=()=>{setTimeout(()=>{L2("work-order-receipt")},100)},{mutateAsync:Ae}=B3e();qA(),yH();const J=Te=>{de(Te),P(""),De(!0)},ke=async()=>{if(ae){if(!re.trim()){Xe.error("Vui lng nhp l do hy");return}try{const Te=await Ae({orderId:ae.id,refundReason:re});if(Te&&"refund_transaction_id"in Te&&"refundAmount"in Te&&Te.refund_transaction_id&&Te.refundAmount){const Ee=Te.refundAmount;n(Be=>[...Be,{id:Te.refund_transaction_id,type:"refund",category:"refund",amount:-Ee,date:new Date().toISOString(),description:`Hon tin hy phiu #${(so(ae.id,te==null?void 0:te.work_order_prefix)||"").split("-").pop()} - ${re}`,branchId:l,paymentSource:ae.paymentMethod,reference:ae.id}]),ae.paymentMethod&&i(Be=>Be.map(ut=>ut.id===ae.paymentMethod?{...ut,balance:{...ut.balance,[l]:(ut.balance[l]||0)-Ee}}:ut))}d(Ee=>Ee.map(Be=>Be.id===ae.id?{...Be,refunded:!0,status:" hy"}:Be)),De(!1),de(null)}catch(Te){console.error("Error refunding work order:",Te)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-6",children:[o.jsx(_p,{label:"Tip nhn",value:Z.pending,icon:o.jsx(WN,{className:"w-5 h-5"}),color:"blue"}),o.jsx(_p,{label:"ang sa",value:Z.inProgress,icon:o.jsx(Wy,{className:"w-5 h-5"}),color:"orange"}),o.jsx(_p,{label:" sa xong",value:Z.done,icon:o.jsx(rR,{className:"w-5 h-5"}),color:"green"}),o.jsx(_p,{label:"Tr my",value:Z.delivered,icon:o.jsx(JJ,{className:"w-5 h-5"}),color:"purple"}),o.jsx(_p,{label:"Doanh thu hm nay",value:`${Oe(Z.todayRevenue).replace("","")}`,icon:o.jsx(VN,{className:"w-5 h-5"}),color:"green"}),o.jsx(_p,{label:"Li nhun hm nay",value:`${Oe(Z.todayProfit).replace("","")}`,icon:o.jsx(Hy,{className:"w-5 h-5"}),color:"blue"})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:D,onChange:Te=>M(Te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400"}),o.jsx(GN,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400","aria-hidden":"true"})]})}),o.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[o.jsx("option",{children:"Tt c ngy"}),o.jsx("option",{children:"Hm nay"}),o.jsx("option",{children:"7 ngy qua"}),o.jsx("option",{children:"30 ngy qua"})]}),o.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[o.jsx("option",{children:"Tt c KTV"}),o.jsx("option",{children:"KTV 1"}),o.jsx("option",{children:"KTV 2"})]}),o.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[o.jsx("option",{children:"Tt c thanh ton"}),o.jsx("option",{children:" thanh ton"}),o.jsx("option",{children:"Cha thanh ton"})]}),o.jsxs("button",{className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Xem bo co",children:[o.jsx(Hy,{className:"w-4 h-4"})," Bo co"]}),o.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"M danh sch mu sa cha",children:[o.jsx(nv,{className:"w-4 h-4"})," Mu SC"]}),o.jsxs("button",{onClick:()=>se(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"To phiu sa cha mi",children:[o.jsx(Sy,{className:"w-4 h-4"})," Thm Phiu"]}),o.jsxs("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Gi SMS nhc khch hng",children:[o.jsx(tZ,{className:"w-4 h-4"})," SMS QH"]})]})}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center border-b border-slate-200 dark:border-slate-700",children:[o.jsx(Rx,{label:"Tt c",active:F==="all",onClick:()=>H("all")}),o.jsx(Rx,{label:"Tip nhn",active:F==="pending",onClick:()=>H("pending")}),o.jsx(Rx,{label:"ang sa",active:F==="inProgress",onClick:()=>H("inProgress")}),o.jsx(Rx,{label:" sa xong",active:F==="done",onClick:()=>H("done")}),o.jsx(Rx,{label:"Tr my",active:F==="delivered",onClick:()=>H("delivered")}),o.jsx("div",{className:"ml-auto px-4 py-3",children:o.jsx(ev,{to:"/service-history",className:"px-3 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded text-sm flex items-center gap-1 transition-colors",children:" Lch s SC"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 w-12",children:o.jsx("input",{type:"checkbox",className:"rounded"})}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tn thit b"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Khch hng"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Chi tit"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Hn tr"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"Thao tc"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-800",children:q.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."})}):q.map(Te=>{var bt,Me;const Ee=((bt=Te.partsUsed)==null?void 0:bt.reduce((at,yt)=>at+yt.quantity*yt.price,0))||0,Be=((Me=Te.additionalServices)==null?void 0:Me.reduce((at,yt)=>at+(yt.price||0)*(yt.quantity||1),0))||0,ut=Te.laborCost||0;return o.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[o.jsx("td",{className:"px-2 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("input",{type:"checkbox",className:"rounded"}),o.jsx("div",{className:"w-10 h-10 bg-slate-200 dark:bg-slate-700 rounded flex items-center justify-center flex-shrink-0",children:o.jsx(Wy,{className:"w-5 h-5 text-slate-400"})}),o.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:(so(Te.id,te==null?void 0:te.work_order_prefix)||"").split("-").pop()})]})}),o.jsx("td",{className:"px-4 py-4 align-top",children:o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("div",{className:"font-semibold text-base text-slate-900 dark:text-slate-100",children:Te.vehicleModel||"N/A"}),o.jsxs("div",{className:"text-xs text-slate-500",children:[o.jsx("span",{children:"Imei: "}),o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:Te.licensePlate||"Cha nhp imei"})]}),o.jsxs("div",{className:"text-xs text-slate-500",children:[o.jsx("span",{children:"Lc: "}),o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:ln(Te.creationDate,!0)})]})]})}),o.jsx("td",{className:"px-4 py-4 align-top",children:o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("div",{className:"font-semibold text-base text-slate-900 dark:text-slate-100",children:Te.customerName}),o.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:Te.customerPhone}),o.jsx("div",{className:"text-xs text-slate-500 italic",children:Te.issueDescription||"Khng c ghi ch"})]})}),o.jsx("td",{className:"px-4 py-4 align-top",children:o.jsxs("div",{className:"space-y-1",children:[Te.partsUsed&&Te.partsUsed.length>0?o.jsx("div",{className:"space-y-0.5",children:Te.partsUsed.map((at,yt)=>o.jsxs("div",{className:"text-xs text-slate-700 dark:text-slate-300",children:[" ",at.partName," (",at.quantity,")"]},yt))}):o.jsx("div",{className:"text-xs text-slate-500 italic",children:Te.issueDescription||"Cha c ph tng"}),o.jsx("div",{className:"text-xs text-cyan-600 dark:text-cyan-400 mt-2",children:Te.technicianName||"Cha phn cng"})]})}),o.jsx("td",{className:"px-4 py-4 align-top",children:o.jsxs("div",{className:"space-y-1 min-w-[160px] text-xs",children:[o.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500",children:[ut>0&&o.jsxs("span",{className:"mr-2",children:["DV: ",Oe(ut)]}),Ee>0&&o.jsxs("span",{className:"mr-2",children:["P/tng: ",Oe(Ee)]}),Be>0&&o.jsxs("span",{className:"mr-2",children:["Cng: ",Oe(Be)]})]}),Te.total>0&&o.jsxs("div",{className:"flex items-center justify-between pt-1.5 mt-1.5 border-t border-slate-200 dark:border-slate-600",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Tng cng:"}),o.jsxs("span",{className:"text-sm font-semibold text-blue-500 dark:text-blue-400 tabular-nums",children:[Oe(Te.total).replace("","")," "]})]}),Te.discount&&Te.discount>0&&o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-red-500",children:"Gim gi:"}),o.jsxs("span",{className:"font-medium text-red-500 tabular-nums",children:[Oe(Te.discount)," "]})]}),Te.additionalPayment&&Te.additionalPayment>0&&o.jsxs("div",{className:"flex items-center justify-between text-xs text-green-500",children:[o.jsx("span",{children:"Thanh ton thm:"}),o.jsxs("span",{className:"font-medium tabular-nums",children:["-",Oe(Te.additionalPayment)," "]})]}),Te.remainingAmount!==void 0&&Te.remainingAmount>0&&o.jsxs("div",{className:"flex items-center justify-between text-xs mt-1",children:[o.jsx("span",{children:"Cn phi thu:"}),o.jsxs("span",{className:`font-bold tabular-nums ${Te.remainingAmount>0?"text-red-500":"text-green-500"}`,children:[Oe(Te.remainingAmount)," "]})]}),o.jsx("div",{className:"pt-2",children:Te.status==="Tr my"?o.jsx("span",{className:"inline-block px-2.5 py-1 bg-green-500/10 text-green-600 dark:text-green-400 rounded text-xs font-medium border border-green-500/20",children:" sa xong"}):Te.status===" sa xong"?o.jsx("span",{className:"inline-block px-2.5 py-1 bg-blue-500/10 text-blue-600 dark:text-blue-400 rounded text-xs font-medium border border-blue-500/20",children:" sa xong"}):o.jsx("span",{className:"inline-block px-2.5 py-1 bg-orange-500/10 text-orange-600 dark:text-orange-400 rounded text-xs font-medium border border-orange-500/20",children:"ang sa..."})})]})}),o.jsx("td",{className:"px-4 py-4 align-top",children:o.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[o.jsxs("button",{onClick:()=>se(Te),className:"px-4 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium min-w-[70px] flex items-center justify-center gap-1",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Xem"})]}),o.jsx("button",{onClick:()=>Q(Te),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 rounded transition-colors",title:"In phiu dch v",children:o.jsx(x1,{className:"w-4 h-4"})}),!Te.refunded&&o.jsx("button",{onClick:()=>J(Te),className:"px-3 py-1 text-xs bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 rounded border border-red-500/20 transition-colors",title:"Hon tin v hy phiu",children:"Hy"})]})})]},Te.id)})})]})})]}),k&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Mu sa cha thng dng"}),o.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-600","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Chn mu sa cha  t ng in thng tin vo phiu sa cha"}),o.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:z.map(Te=>o.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:shadow-md transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Te.name}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Te.description}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Te.duration," pht"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Oe(Te.laborCost+Te.parts.reduce((Ee,Be)=>Ee+Be.price*Be.quantity,0))})})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Ph tng cn thit:"}),Te.parts.map((Ee,Be)=>o.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[o.jsxs("span",{children:[Ee.name," x",Ee.quantity," ",Ee.unit]}),o.jsx("span",{children:Oe(Ee.price*Ee.quantity)})]},Be)),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx("button",{onClick:()=>ee(Te),className:"flex-1 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm",children:"p dng mu"}),o.jsx("button",{className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded text-sm",children:"To mi"}),o.jsx("button",{className:"px-3 py-1.5 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded text-sm",children:"Sa mu"})]})]})]},Te.id))})]})]})}),b&&_&&o.jsx(tNe,{order:_,onClose:()=>{v(!1),A(void 0)},onSave:Te=>{if(Te.id&&(_!=null&&_.id))d(Ee=>Ee.map(Be=>Be.id===Te.id?Te:Be));else{const Ee={...Te,id:`${(te==null?void 0:te.work_order_prefix)||"SC"}-${Date.now()}`};d(Be=>[...Be,Ee])}v(!1),A(void 0)},parts:y,partsLoading:m,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:l,storeSettings:te}),V&&O&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Xem trc phiu in"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:me,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition",children:[o.jsx(x1,{className:"w-4 h-4"}),"In phiu"]}),o.jsx("button",{onClick:()=>{Y(!1),I(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-100 dark:bg-slate-900",children:o.jsx("div",{className:"bg-white shadow-lg mx-auto",style:{width:"148mm",minHeight:"210mm",color:"#000"},children:o.jsxs("div",{style:{padding:"10mm"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"3mm",marginBottom:"4mm",alignItems:"start",borderBottom:"2px solid #3b82f6",paddingBottom:"3mm"},children:[o.jsxs("div",{style:{fontSize:"8.5pt",lineHeight:"1.4"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"11pt",marginBottom:"1mm",color:"#1e40af"},children:(te==null?void 0:te.store_name)||"Nhn Lm SmartCare"}),o.jsxs("div",{style:{color:"#000"},children:[""," ",(te==null?void 0:te.address)||"p Ph Li B, X Long Ph Thun, ng Thp"]}),o.jsxs("div",{style:{color:"#000"},children:[" ",(te==null?void 0:te.phone)||"0947.747.907"]}),(te==null?void 0:te.email)&&o.jsxs("div",{style:{color:"#000"},children:[" ",te.email]})]}),(te==null?void 0:te.logo_url)&&o.jsx("div",{style:{textAlign:"center"},children:o.jsx("img",{src:te.logo_url,alt:"Logo",style:{height:"15mm",width:"auto",objectFit:"contain"}})}),o.jsx("div",{style:{fontSize:"8pt",lineHeight:"1.4",textAlign:"right"},children:(te==null?void 0:te.bank_name)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{fontWeight:"bold",marginBottom:"1mm",color:"#000"},children:[" ",te.bank_name]}),te.bank_account_number&&o.jsxs("div",{style:{color:"#000"},children:["STK: ",te.bank_account_number]}),te.bank_account_holder&&o.jsx("div",{style:{color:"#000",fontSize:"7.5pt"},children:te.bank_account_holder}),te.bank_qr_url&&o.jsx("div",{style:{marginTop:"2mm",display:"inline-block"},children:o.jsx("img",{src:te.bank_qr_url,alt:"QR Banking",style:{height:"15mm",width:"15mm",objectFit:"contain"}})})]})})]}),o.jsxs("div",{style:{marginBottom:"4mm"},children:[o.jsx("div",{style:{textAlign:"center",marginBottom:"2mm"},children:o.jsx("h1",{style:{fontSize:"16pt",fontWeight:"bold",margin:"0",textTransform:"uppercase",color:"#1e40af"},children:"PHIU DCH V SA CHA"})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"9pt",color:"#666"},children:[o.jsx("div",{children:new Date(O.creationDate).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{style:{fontWeight:"bold"},children:["M:"," ",so(O.id,te==null?void 0:te.work_order_prefix)]})]})]}),o.jsxs("div",{style:{border:"1px solid #ddd",padding:"3mm",marginBottom:"3mm",borderRadius:"2mm",backgroundColor:"#f8fafc",color:"#000",fontSize:"9pt"},children:[o.jsxs("div",{style:{display:"flex",gap:"4mm",marginBottom:"1.5mm"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Khch hng:"})," ",O.customerName]}),o.jsxs("div",{style:{flex:"0 0 auto"},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"ST:"})," ",O.customerPhone]})]}),o.jsxs("div",{style:{display:"flex",gap:"4mm"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Loi xe:"})," ",O.vehicleModel]}),o.jsxs("div",{style:{flex:"0 0 auto"},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Bin s:"})," ",O.licensePlate]})]})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",color:"#000"},children:o.jsxs("div",{style:{display:"flex",gap:"3mm"},children:[o.jsx("div",{style:{fontWeight:"bold",minWidth:"20%",flexShrink:0},children:"M t s c:"}),o.jsx("div",{style:{flex:1,whiteSpace:"pre-wrap"},children:O.issueDescription||"Khng c m t"})]})}),O.partsUsed&&O.partsUsed.length>0&&o.jsxs("div",{style:{marginBottom:"4mm",color:"#000"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 2mm 0",fontSize:"11pt"},children:"Ph tng s dng:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"left",fontSize:"10pt"},children:"Tn ph tng"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt",width:"15%"},children:"SL"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"n gi"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"Thnh tin"})]})}),o.jsx("tbody",{children:O.partsUsed.map((Te,Ee)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",fontSize:"10pt"},children:Te.partName}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt"},children:Te.quantity}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt"},children:Oe(Te.price)}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",fontWeight:"bold"},children:Oe(Te.price*Te.quantity)})]},Ee))})]})]}),O.additionalServices&&O.additionalServices.length>0&&o.jsxs("div",{style:{marginBottom:"4mm",color:"#000"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 2mm 0",fontSize:"11pt",color:"#000"},children:"Dch v b sung:"}),o.jsx("ul",{style:{margin:"0",paddingLeft:"5mm",color:"#000"},children:O.additionalServices.map((Te,Ee)=>o.jsxs("li",{style:{marginBottom:"1mm"},children:[Te.description," -"," ",Oe(Te.price)," x"," ",Te.quantity]},Ee))})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",backgroundColor:"#f9f9f9",color:"#000"},children:o.jsx("table",{style:{width:"100%",borderSpacing:"0",color:"#000"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Tin ph tng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((ye=O.partsUsed)==null?void 0:ye.reduce((Te,Ee)=>Te+Ee.price*Ee.quantity,0))||0)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Ph dch v:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(O.laborCost||0)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Gi cng/t hng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((ce=O.additionalServices)==null?void 0:ce.reduce((Te,Ee)=>Te+(Ee.price||0)*(Ee.quantity||1),0))||0)})]}),O.discount!=null&&O.discount>0&&o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt",color:"#e74c3c"},children:"Gim gi:"}),o.jsxs("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt",color:"#e74c3c"},children:["-",Oe(O.discount)]})]}),o.jsxs("tr",{style:{borderTop:"2px solid #333"},children:[o.jsx("td",{style:{fontWeight:"bold",paddingTop:"2mm",fontSize:"12pt"},children:"TNG CNG:"}),o.jsxs("td",{style:{textAlign:"right",paddingTop:"2mm",fontSize:"12pt",fontWeight:"bold",color:"#2563eb"},children:[Oe(O.total)," "]})]})]})})}),o.jsx("div",{style:{marginTop:"8mm",paddingTop:"4mm",borderTop:"1px dashed #999",color:"#000"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10pt"},children:[o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0",color:"#000"},children:"Khch hng"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]}),o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0",color:"#000"},children:"Nhn vin"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]})]})}),o.jsxs("div",{style:{marginTop:"4mm",padding:"3mm",backgroundColor:"#fff9e6",border:"1px solid #ffd700",borderRadius:"2mm",fontSize:"9pt",textAlign:"center",color:"#000"},children:[o.jsx("p",{style:{margin:"0",fontStyle:"italic",color:"#000"},children:"Cm n qu khch  s dng dch v!"}),o.jsx("p",{style:{margin:"1mm 0 0 0",fontStyle:"italic",color:"#000"},children:"Vui lng gi phiu ny  i chiu khi nhn xe"})]})]})})})]})}),O&&o.jsxs("div",{id:"work-order-receipt",className:"hidden print:block",style:{width:"148mm",margin:"0 auto",padding:"10mm",fontFamily:"Arial, sans-serif",fontSize:"11pt",color:"#000",backgroundColor:"#fff"},children:[o.jsxs("div",{style:{marginBottom:"5mm"},children:[o.jsx("div",{style:{textAlign:"center",marginBottom:"3mm"},children:o.jsx("h1",{style:{fontSize:"18pt",fontWeight:"bold",margin:"0 0 1mm 0",textTransform:"uppercase"},children:"PHIU DCH V SA CHA"})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"9pt",color:"#666"},children:[o.jsx("div",{children:new Date(O.creationDate).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{children:["M phiu:"," ",so(O.id,te==null?void 0:te.work_order_prefix)]})]})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm"},children:o.jsx("table",{style:{width:"100%",borderSpacing:"0"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",width:"20%",paddingBottom:"2mm"},children:"Khch hng:"}),o.jsx("td",{style:{paddingBottom:"2mm",width:"30%"},children:O.customerName}),o.jsx("td",{style:{fontWeight:"bold",width:"15%",paddingBottom:"2mm",paddingLeft:"3mm"},children:"Thanh Lc"}),o.jsx("td",{style:{paddingBottom:"2mm"},children:O.customerPhone})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm"},children:"Loi xe:"}),o.jsx("td",{style:{paddingBottom:"2mm"},colSpan:3,children:O.vehicleModel})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold"},children:"Bin s:"}),o.jsx("td",{colSpan:3,children:O.licensePlate})]})]})})}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm"},children:o.jsxs("div",{style:{display:"flex",gap:"3mm"},children:[o.jsx("div",{style:{fontWeight:"bold",minWidth:"20%",flexShrink:0},children:"M t s c:"}),o.jsx("div",{style:{flex:1,whiteSpace:"pre-wrap"},children:O.issueDescription||"Khng c m t"})]})}),O.partsUsed&&O.partsUsed.length>0&&o.jsxs("div",{style:{marginBottom:"4mm"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 2mm 0",fontSize:"11pt"},children:"Ph tng s dng:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"left",fontSize:"10pt"},children:"Tn ph tng"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt",width:"15%"},children:"SL"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"n gi"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"Thnh tin"})]})}),o.jsx("tbody",{children:O.partsUsed.map((Te,Ee)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",fontSize:"10pt"},children:Te.partName}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt"},children:Te.quantity}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt"},children:Oe(Te.price)}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",fontWeight:"bold"},children:Oe(Te.price*Te.quantity)})]},Ee))})]})]}),O.additionalServices&&O.additionalServices.length>0&&o.jsxs("div",{style:{marginBottom:"4mm"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 2mm 0",fontSize:"11pt"},children:"Dch v b sung:"}),o.jsx("ul",{style:{margin:"0",paddingLeft:"5mm"},children:O.additionalServices.map((Te,Ee)=>o.jsxs("li",{style:{marginBottom:"1mm"},children:[Te.description," - ",Oe(Te.price)," x"," ",Te.quantity]},Ee))})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",backgroundColor:"#f9f9f9"},children:o.jsx("table",{style:{width:"100%",borderSpacing:"0"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Tin ph tng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((qe=O.partsUsed)==null?void 0:qe.reduce((Te,Ee)=>Te+Ee.price*Ee.quantity,0))||0)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Gi cng/t hng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((ze=O.additionalServices)==null?void 0:ze.reduce((Te,Ee)=>Te+(Ee.price||0)*(Ee.quantity||1),0))||0)})]}),O.discount!=null&&O.discount>0&&o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt",color:"#e74c3c"},children:"Gim gi:"}),o.jsxs("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt",color:"#e74c3c"},children:["-",Oe(O.discount)]})]}),o.jsxs("tr",{style:{borderTop:"2px solid #333"},children:[o.jsx("td",{style:{fontWeight:"bold",paddingTop:"2mm",fontSize:"12pt"},children:"TNG CNG:"}),o.jsxs("td",{style:{textAlign:"right",paddingTop:"2mm",fontSize:"12pt",fontWeight:"bold",color:"#2563eb"},children:[Oe(O.total)," "]})]})]})})}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",backgroundColor:"#f0f9ff"},children:o.jsx("table",{style:{width:"100%",borderSpacing:"0",fontSize:"9pt"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",width:"30%",paddingBottom:"2mm"},children:"Ca hng:"}),o.jsx("td",{style:{paddingBottom:"2mm"},children:"Motocare - Ph tng xe my"})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm"},children:"a ch:"}),o.jsx("td",{style:{paddingBottom:"2mm"},children:"[a ch ca hng ca bn]"})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm"},children:"Hotline:"}),o.jsx("td",{style:{paddingBottom:"2mm"},children:"[S in thoi]"})]}),o.jsxs("tr",{style:{borderTop:"1px dashed #999"},children:[o.jsx("td",{style:{fontWeight:"bold",paddingTop:"2mm",paddingBottom:"2mm"},children:"Ngn hng:"}),o.jsx("td",{style:{paddingTop:"2mm",paddingBottom:"2mm"},children:"[Tn ngn hng]"})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm"},children:"S ti khon:"}),o.jsx("td",{style:{paddingBottom:"2mm"},children:"[S ti khon]"})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold"},children:"Ch ti khon:"}),o.jsx("td",{children:"[Tn ch ti khon]"})]})]})})}),o.jsx("div",{style:{marginTop:"8mm",paddingTop:"4mm",borderTop:"1px dashed #999"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10pt"},children:[o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0"},children:"Khch hng"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]}),o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0"},children:"Nhn vin"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]})]})}),o.jsxs("div",{style:{marginTop:"4mm",padding:"3mm",backgroundColor:"#fff9e6",border:"1px solid #ffd700",borderRadius:"2mm",fontSize:"9pt",textAlign:"center"},children:[o.jsx("p",{style:{margin:"0",fontStyle:"italic"},children:"Cm n qu khch  s dng dch v!"}),o.jsx("p",{style:{margin:"1mm 0 0 0",fontStyle:"italic"},children:"Vui lng gi phiu ny  i chiu khi nhn xe"})]})]}),oe&&ae&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-md",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Xc nhn hy phiu"}),o.jsx("button",{onClick:()=>{De(!1),de(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:""})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[o.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[" ",o.jsx("strong",{children:"Cnh bo:"})," Hnh ng ny s:"]}),o.jsxs("ul",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Hon tr tn kho cc ph tng  s dng"}),o.jsxs("li",{children:["Hon tin ",Oe(ae.totalPaid||0)," ","cho khch"]}),o.jsx("li",{children:'nh du phiu l " hy"'})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["L do hy phiu ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:re,onChange:Te=>P(Te.target.value),placeholder:"Vd: Khch hng khng ng  chi ph, sa nhm xe...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none",rows:3})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-3 space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Phiu:"}),o.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:["#",so(ae.id,te==null?void 0:te.work_order_prefix).split("-").pop()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Khch hng:"}),o.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:ae.customerName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ph tng:"}),o.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[((mt=ae.partsUsed)==null?void 0:mt.length)||0," mn"]})]}),o.jsxs("div",{className:"flex justify-between border-t border-slate-200 dark:border-slate-600 pt-2",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"S tin hon:"}),o.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:Oe(ae.totalPaid||0)})]})]})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 px-6 py-4 flex justify-end gap-3 rounded-b-xl",children:[o.jsx("button",{onClick:()=>{De(!1),de(null)},className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg font-medium",children:"Hy b"}),o.jsx("button",{onClick:ke,disabled:!re.trim(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-300 dark:disabled:bg-red-900 text-white rounded-lg font-medium disabled:cursor-not-allowed",children:"Xc nhn hy phiu"})]})]})})]})}const tNe=({order:e,onClose:t,onSave:r,parts:a,partsLoading:n,customers:i,employees:s,upsertCustomer:l,setCashTransactions:u,setPaymentSources:d,paymentSources:h,currentBranchId:m,storeSettings:x})=>{const{profile:p}=rc(),{mutateAsync:y}=R3e(),{mutateAsync:b}=F3e(),[v,k]=j.useState(()=>e!=null&&e.id?e:{id:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.customerName)||"",customerPhone:(e==null?void 0:e.customerPhone)||"",vehicleModel:(e==null?void 0:e.vehicleModel)||"",licensePlate:(e==null?void 0:e.licensePlate)||"",issueDescription:(e==null?void 0:e.issueDescription)||"",technicianName:(e==null?void 0:e.technicianName)||"",status:(e==null?void 0:e.status)||"Tip nhn",laborCost:(e==null?void 0:e.laborCost)||0,discount:(e==null?void 0:e.discount)||0,partsUsed:(e==null?void 0:e.partsUsed)||[],total:(e==null?void 0:e.total)||0,branchId:(e==null?void 0:e.branchId)||m,paymentStatus:(e==null?void 0:e.paymentStatus)||"unpaid",creationDate:(e==null?void 0:e.creationDate)||new Date().toISOString()}),[N,_]=j.useState(""),[A,D]=j.useState([]),[M,L]=j.useState(!1),[B,F]=j.useState(0),[H,O]=j.useState(!1),[I,V]=j.useState(0),[Y,te]=j.useState(!1),[X,ae]=j.useState(!1),[de,oe]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[De,re]=j.useState(""),[P,W]=j.useState(!1),[z,q]=j.useState([]),[Z,se]=j.useState({description:"",quantity:1,price:0});j.useEffect(()=>{e!=null&&e.partsUsed?D(e.partsUsed):D([]),e!=null&&e.customerName?re(e.customerName):re(""),e!=null&&e.additionalServices?q(e.additionalServices):q([]),e!=null&&e.depositAmount?(V(e.depositAmount),te(!0)):(V(0),te(!1)),e!=null&&e.additionalPayment?(F(e.additionalPayment),O(!0)):(F(0),O(!1))},[e]);const ee=j.useMemo(()=>De.trim()?i.filter(Me=>{var at;return Me.name.toLowerCase().includes(De.toLowerCase())||((at=Me.phone)==null?void 0:at.toLowerCase().includes(De.toLowerCase()))}):i,[i,De]);j.useEffect(()=>{const Me=at=>{at.target.closest(".customer-search-container")||W(!1)};return document.addEventListener("mousedown",Me),()=>document.removeEventListener("mousedown",Me)},[]);const Q=A.reduce((Me,at)=>Me+(at.price||0)*(at.quantity||0),0),me=z.reduce((Me,at)=>Me+(at.price||0)*(at.quantity||0),0),Ae=(v.laborCost||0)+Q+me,J=v.discount||0,ke=Math.max(0,Ae-J);console.log("Tinh toan:",{laborCost:v.laborCost,partsTotal:Q,servicesTotal:me,subtotal:Ae,discount:J,total:ke});const ye=I||0,ce=H?B:0,qe=ye+ce,ze=Math.max(0,ke-qe),mt=qA(),Te=async(Me,at)=>{var yt;if(!(at<=0))try{const lr=Me.customerPhone||Me.id||`CUST-ANON-${Date.now()}`,Rt=((yt=Me.customerName)==null?void 0:yt.trim())||Me.customerPhone||"Khch vng lai",kt={customerId:lr,customerName:Rt,phone:Me.customerPhone||null,licensePlate:Me.licensePlate||null,description:`Cng n t phiu sa cha #${so(Me.id,x==null?void 0:x.work_order_prefix).split("-").pop()||""} - ${Rt} - Bin s: ${Me.licensePlate||""}`,totalAmount:at,paidAmount:0,remainingAmount:at,createdDate:new Date().toISOString().split("T")[0],branchId:m};console.log("[ServiceManager] createCustomerDebt payload:",kt);const ht=await mt.mutateAsync(kt);console.log("[ServiceManager] createCustomerDebt result:",ht),Xe.success(` to cng n ${at.toLocaleString()} cho khch hng (ID: ${ht==null?void 0:ht.id})`)}catch(lr){console.error("Error creating customer debt:",lr),Xe.error("Khng th to cng n t ng")}},Ee=async()=>{var lr,Rt;if(!((lr=v.customerName)!=null&&lr.trim())){Xe.error("Vui lng nhp tn khch hng");return}if(!((Rt=v.customerPhone)!=null&&Rt.trim())){Xe.error("Vui lng nhp s in thoi");return}if(!/^[0-9]{10,11}$/.test(v.customerPhone.trim())){Xe.error("S in thoi khng hp l (cn 10-11 ch s)");return}if(ke<=0){Xe.error("Tng tin phi ln hn 0");return}if(v.customerName&&v.customerPhone&&!i.find(ht=>ht.phone===v.customerPhone)){const ht=i.find(_t=>_t.phone===v.customerPhone&&v.customerName&&_t.name.toLowerCase()!==v.customerName.toLowerCase());ht&&Xe.warning(`ST  tn ti cho khch "${ht.name}". C th trng lp?`),l({id:`CUST-${Date.now()}`,name:v.customerName,phone:v.customerPhone,vehicleModel:v.vehicleModel,licensePlate:v.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()})}let at="unpaid";if(qe>=ke?at="paid":qe>0&&(at="partial"),!(e!=null&&e.id)&&A.length>0){try{const kt=`${(x==null?void 0:x.work_order_prefix)||"SC"}-${Date.now()}`,ht=await y({id:kt,customerName:v.customerName||"",customerPhone:v.customerPhone||"",vehicleModel:v.vehicleModel||"",licensePlate:v.licensePlate||"",issueDescription:v.issueDescription||"",technicianName:v.technicianName||"",status:v.status||"Tip nhn",laborCost:v.laborCost||0,discount:J,partsUsed:A,additionalServices:z.length>0?z:void 0,total:ke,branchId:m,paymentStatus:at,paymentMethod:v.paymentMethod,depositAmount:I>0?I:void 0,additionalPayment:ce>0?ce:void 0,totalPaid:qe>0?qe:void 0,remainingAmount:ze,creationDate:new Date().toISOString(),userId:(p==null?void 0:p.id)||"unknown"}),_t=ht==null?void 0:ht.depositTransactionId,hr=ht==null?void 0:ht.paymentTransactionId,Ut={id:kt,customerName:v.customerName||"",customerPhone:v.customerPhone||"",vehicleModel:v.vehicleModel||"",licensePlate:v.licensePlate||"",issueDescription:v.issueDescription||"",technicianName:v.technicianName||"",status:v.status||"Tip nhn",laborCost:v.laborCost||0,discount:J,partsUsed:A,additionalServices:z.length>0?z:void 0,total:ke,branchId:m,depositAmount:I>0?I:void 0,depositDate:I>0?new Date().toISOString():void 0,depositTransactionId:_t,paymentStatus:at,paymentMethod:v.paymentMethod,additionalPayment:ce>0?ce:void 0,totalPaid:qe>0?qe:void 0,remainingAmount:ze,cashTransactionId:hr,paymentDate:hr?new Date().toISOString():void 0,creationDate:new Date().toISOString()};_t&&I>0&&(u(At=>[...At,{id:_t,type:"deposit",category:"service_deposit",amount:I,date:new Date().toISOString(),description:`t cc sa cha #${(so(kt,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:kt}]),d(At=>At.map(Lt=>Lt.id===v.paymentMethod?{...Lt,balance:{...Lt.balance,[m]:(Lt.balance[m]||0)+I}}:Lt))),hr&&ce>0&&(u(At=>[...At,{id:hr,type:"income",category:"service_income",amount:ce,date:new Date().toISOString(),description:`Thu tin sa cha #${(so(kt,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:kt}]),d(At=>At.map(Lt=>Lt.id===v.paymentMethod?{...Lt,balance:{...Lt.balance,[m]:(Lt.balance[m]||0)+ce}}:Lt))),r(Ut),ze>0&&await Te(Ut,ze)}catch(kt){console.error("Error creating work order (atomic):",kt)}return}if(e!=null&&e.id&&A.length>0){try{const kt=await b({id:e.id,customerName:v.customerName||"",customerPhone:v.customerPhone||"",vehicleModel:v.vehicleModel||"",licensePlate:v.licensePlate||"",issueDescription:v.issueDescription||"",technicianName:v.technicianName||"",status:v.status||"Tip nhn",laborCost:v.laborCost||0,discount:J,partsUsed:A,additionalServices:z.length>0?z:void 0,total:ke,branchId:m,paymentStatus:at,paymentMethod:v.paymentMethod,depositAmount:I>0?I:void 0,additionalPayment:ce>0?ce:void 0,totalPaid:qe>0?qe:void 0,remainingAmount:ze,userId:(p==null?void 0:p.id)||"unknown"}),ht=kt.workOrder,_t=kt==null?void 0:kt.depositTransactionId,hr=kt==null?void 0:kt.paymentTransactionId,Ut={...ht,depositTransactionId:_t||e.depositTransactionId,cashTransactionId:hr||e.cashTransactionId};_t&&I>e.depositAmount&&(u(At=>[...At,{id:_t,type:"deposit",category:"service_deposit",amount:I-(e.depositAmount||0),date:new Date().toISOString(),description:`t cc b sung #${(so(e.id,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:e.id}]),d(At=>At.map(Lt=>Lt.id===v.paymentMethod?{...Lt,balance:{...Lt.balance,[m]:(Lt.balance[m]||0)+(I-(e.depositAmount||0))}}:Lt))),hr&&ce>(e.additionalPayment||0)&&(u(At=>[...At,{id:hr,type:"income",category:"service_income",amount:ce-(e.additionalPayment||0),date:new Date().toISOString(),description:`Thu tin b sung #${(so(e.id,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:e.id}]),d(At=>At.map(Lt=>Lt.id===v.paymentMethod?{...Lt,balance:{...Lt.balance,[m]:(Lt.balance[m]||0)+(ce-(e.additionalPayment||0))}}:Lt))),r(Ut),ze>0&&await Te(Ut,ze)}catch(kt){console.error("Error updating work order (atomic):",kt)}return}const yt={id:v.id||`${(x==null?void 0:x.work_order_prefix)||"SC"}-${Date.now()}`,customerName:v.customerName||"",customerPhone:v.customerPhone||"",vehicleModel:v.vehicleModel||"",licensePlate:v.licensePlate||"",issueDescription:v.issueDescription||"",technicianName:v.technicianName||"",status:v.status||"Tip nhn",laborCost:v.laborCost||0,discount:J,partsUsed:A,additionalServices:z.length>0?z:void 0,total:ke,branchId:m,depositAmount:I>0?I:void 0,depositDate:I>0&&!(e!=null&&e.depositDate)?new Date().toISOString():e==null?void 0:e.depositDate,paymentStatus:at,paymentMethod:v.paymentMethod,additionalPayment:ce>0?ce:void 0,totalPaid:qe>0?qe:void 0,remainingAmount:ze,creationDate:v.creationDate||new Date().toISOString()};if(I>0&&!(e!=null&&e.depositAmount)&&v.paymentMethod){const kt=`DEP-${Date.now()}`;u(ht=>[...ht,{id:kt,type:"deposit",category:"service_deposit",amount:I,date:new Date().toISOString(),description:`t cc sa cha #${(so(yt.id,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:yt.id}]),d(ht=>ht.map(_t=>_t.id===v.paymentMethod?{..._t,balance:{..._t.balance,[m]:(_t.balance[m]||0)+I}}:_t)),yt.depositTransactionId=kt}if(ce>0&&v.paymentMethod){const kt=`PAY-${Date.now()}`;u(ht=>[...ht,{id:kt,type:"income",category:"service_income",amount:ce,date:new Date().toISOString(),description:`Thu tin sa cha #${(so(yt.id,x==null?void 0:x.work_order_prefix)||"").split("-").pop()} - ${v.customerName}`,branchId:m,paymentSource:v.paymentMethod,reference:yt.id}]),d(ht=>ht.map(_t=>_t.id===v.paymentMethod?{..._t,balance:{..._t.balance,[m]:(_t.balance[m]||0)+ce}}:_t)),yt.cashTransactionId=kt,yt.paymentDate=new Date().toISOString()}r(yt),ze>0&&await Te(yt,ze)},Be=Me=>{const at=A.find(yt=>yt.partId===Me.id);D(at?A.map(yt=>yt.partId===Me.id?{...yt,quantity:yt.quantity+1}:yt):[...A,{partId:Me.id,partName:Me.name,sku:Me.sku||"",quantity:1,price:Me.retailPrice[m]||0}]),L(!1),_("")},ut=j.useMemo(()=>a.filter(Me=>{var yt;return(((yt=Me.stock)==null?void 0:yt[m])||0)>0}),[a,m]),bt=j.useMemo(()=>N.trim()?ut.filter(Me=>{var at;return Me.name.toLowerCase().includes(N.toLowerCase())||((at=Me.sku)==null?void 0:at.toLowerCase().includes(N.toLowerCase()))}):ut,[ut,N]);return o.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:v.id?`Chi tit phiu sa cha - ${so(v.id,x==null?void 0:x.work_order_prefix)}`:"To phiu sa cha mi"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thng tin Khch hng & S c"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Khch hng ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 relative customer-search-container",children:[o.jsx("input",{type:"text",placeholder:"Tm khch hng...",value:De,onChange:Me=>{re(Me.target.value),W(!0),k({...v,customerName:Me.target.value})},onFocus:()=>W(!0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),P&&ee.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ee.map(Me=>o.jsxs("button",{type:"button",onClick:()=>{k({...v,customerName:Me.name,customerPhone:Me.phone}),re(Me.name),W(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-600 text-sm border-b border-slate-200 dark:border-slate-600 last:border-0",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:Me.name}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:Me.phone})]},Me.id))})]}),o.jsx("button",{type:"button",onClick:()=>ae(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-xl",title:"Thm khch hng mi",children:"+"})]}),v.customerName&&v.customerPhone&&o.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:v.customerName}),o.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),v.customerPhone]})}),(v.vehicleModel||v.licensePlate)&&o.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[o.jsx("circle",{cx:"6",cy:"17",r:"2"}),o.jsx("circle",{cx:"18",cy:"17",r:"2"}),o.jsx("path",{d:"M4 17h2l4-6h2l2 3h4"})]}),v.vehicleModel," ",v.licensePlate&&`- ${v.licensePlate}`]})})]}),o.jsx("button",{type:"button",onClick:()=>{re(""),k({...v,customerName:"",customerPhone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-red-500 text-sm flex items-center",title:"Xa khch hng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S KM hin ti"}),o.jsx("input",{type:"number",placeholder:"15000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t s c"}),o.jsx("textarea",{rows:4,placeholder:"Bo dng nh k, thay nht...",value:v.issueDescription||"",onChange:Me=>k({...v,issueDescription:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Chi tit Dch v"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),o.jsxs("select",{value:v.status||"Tip nhn",onChange:Me=>k({...v,status:Me.target.value}),className:`w-full px-3 py-2 border rounded-lg font-medium ${v.status==="Tip nhn"?"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":v.status==="ang sa"?"bg-orange-100 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300":v.status===" sa xong"?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300":"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700 text-green-700 dark:text-green-300"}`,children:[o.jsx("option",{value:"Tip nhn",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tip nhn"}),o.jsx("option",{value:"ang sa",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"ang sa"}),o.jsx("option",{value:" sa xong",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:" sa xong"}),o.jsx("option",{value:"Tr my",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tr my"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"K thut vin"}),o.jsxs("select",{value:v.technicianName||"",onChange:Me=>k({...v,technicianName:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[o.jsx("option",{value:"",children:"-- Chn k thut vin --"}),s.filter(Me=>Me.branchId===m&&Me.status==="active"&&Me.department==="K thut").map(Me=>o.jsx("option",{value:Me.name,children:Me.name},Me.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph dch v (Cng th)"}),o.jsx("input",{type:"number",placeholder:"100.000",value:v.laborCost||"",onChange:Me=>k({...v,laborCost:Number(Me.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ghi ch ni b"}),o.jsx("textarea",{rows:4,placeholder:"VD: Khch yu cu kim tra thm h thng in",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Ph tng s dng"}),o.jsx("button",{onClick:()=>L(!M),className:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm flex items-center gap-1",children:" Thm ph tng"})]}),M&&o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Tm kim ph tng theo tn hoc SKU...",value:N,onChange:Me=>_(Me.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",autoFocus:!0}),o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:n?o.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"ang ti ph tng..."}):bt.length===0?o.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Khng tm thy ph tng"}):bt.slice(0,10).map(Me=>o.jsxs("button",{onClick:()=>Be(Me),className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-600 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:Me.name}),o.jsx("div",{className:"text-xs text-slate-500",children:Me.sku})]}),o.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:Oe(Me.retailPrice[m]||0)})]},Me.id))})]}),o.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tn"}),o.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:".Gi"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"T.Tin"}),o.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-600",children:A.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-slate-400",children:"Cha c ph tng no"})}):A.map((Me,at)=>o.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:Me.partName}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("input",{type:"number",min:"1",value:Me.quantity,onChange:yt=>{const lr=Number(yt.target.value);D(A.map((Rt,kt)=>kt===at?{...Rt,quantity:lr}:Rt))},className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:Oe(Me.price)}),o.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:Oe(Me.price*Me.quantity)}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("button",{onClick:()=>D(A.filter((yt,lr)=>lr!==at)),className:"text-red-500 hover:text-red-700","aria-label":"Xa ph tng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},at))})]})})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Bo gi (Gia cng, t hng)"}),o.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"M t"}),o.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"n gi"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"Thnh tin"}),o.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:o.jsx("button",{onClick:()=>{Z.description&&Z.price>0&&(q([...z,{...Z,id:`SRV-${Date.now()}`}]),se({description:"",quantity:1,price:0}))},className:"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs",children:"Thm"})})]})}),o.jsxs("tbody",{children:[z.map(Me=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:Me.description}),o.jsx("td",{className:"px-4 py-2 text-center text-sm text-slate-900 dark:text-slate-100",children:Me.quantity}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:Oe(Me.price)}),o.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:Oe(Me.price*Me.quantity)}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("button",{onClick:()=>q(z.filter(at=>at.id!==Me.id)),className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Xa dch v",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},Me.id)),o.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"text",placeholder:"M t...",value:Z.description,onChange:Me=>se({...Z,description:Me.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"number",value:Z.quantity,onChange:Me=>se({...Z,quantity:Number(Me.target.value)}),className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"number",placeholder:"n gi",value:Z.price||"",onChange:Me=>se({...Z,price:Number(Me.target.value)}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),o.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-400",children:Z.price>0?Oe(Z.price*Z.quantity):"Thnh tin"}),o.jsx("td",{className:"px-4 py-2 text-center"})]})]})]})})]}),o.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thanh ton"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Y,onChange:Me=>{te(Me.target.checked),Me.target.checked||V(0)},disabled:!!(e!=null&&e.depositAmount),className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["t cc"," ",e!=null&&e.depositAmount?`( cc: ${Oe(e.depositAmount)})`:""]})]}),Y&&!(e!=null&&e.depositAmount)&&o.jsx("div",{className:"pl-6",children:o.jsx("input",{type:"number",placeholder:"S tin t cc",value:I||"",onChange:Me=>V(Number(Me.target.value)),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),o.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Phng thc thanh ton:"}),o.jsxs("div",{className:"flex items-center gap-4 pl-2",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:v.paymentMethod==="cash",onChange:Me=>k({...v,paymentMethod:"cash"}),className:"w-4 h-4"}),o.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:v.paymentMethod==="bank",onChange:Me=>k({...v,paymentMethod:"bank"}),className:"w-4 h-4"}),o.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),o.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),v.status==="Tr my"&&o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:H,onChange:Me=>{O(Me.target.checked),Me.target.checked||F(0)},className:"w-4 h-4"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thanh ton khi tr xe"})]}),H&&o.jsxs("div",{className:"pl-6 space-y-2",children:[o.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400",children:"S tin thanh ton thm:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",placeholder:"0",value:B||"",onChange:Me=>F(Number(Me.target.value)),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),o.jsx("button",{onClick:()=>F(0),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"0%"}),o.jsx("button",{onClick:()=>F(Math.round(ze*.5)),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"50%"}),o.jsx("button",{onClick:()=>F(ze),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"100%"})]})]})]})]}),v.status!=="Tr my"&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:'* Thanh ton khi tr xe ch kh dng khi trng thi l "Tr my"'})]}),o.jsxs("div",{className:"space-y-3 bg-slate-50 dark:bg-slate-700/30 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Tng kt"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ph dch v:"}),o.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Oe(v.laborCost||0)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tin ph tng:"}),o.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Oe(Q)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gia cng/t hng:"}),o.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Oe(me)})]}),o.jsx("div",{className:"pt-2 border-t border-slate-300 dark:border-slate-600",children:o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-red-600 font-medium",children:"Gim gi:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",placeholder:"0",value:v.discount||"",onChange:Me=>k({...v,discount:Number(Me.target.value)}),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"}),o.jsxs("select",{className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[o.jsx("option",{children:""}),o.jsx("option",{children:"%"})]})]})]})}),o.jsxs("div",{className:"pt-2 border-t-2 border-slate-400 dark:border-slate-500",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Tng cng:"}),o.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Oe(ke)})]}),(ye>0||ce>0)&&o.jsxs("div",{className:"space-y-1 pt-2 border-t border-slate-300 dark:border-slate-600",children:[ye>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-600 dark:text-green-400",children:" t cc:"}),o.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",Oe(ye)]})]}),ce>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Thanh ton thm:"}),o.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",Oe(ce)]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-300 dark:border-slate-600",children:[o.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:ze>0?"Cn phi thu:":" thanh ton "}),o.jsx("span",{className:`text-lg font-bold ${ze>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Oe(ze)})]})]})]})]})]})})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-end gap-3 bg-slate-50 dark:bg-slate-800/50 rounded-b-xl flex-shrink-0",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg",children:"Hy"}),o.jsx("button",{onClick:Ee,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",children:"Lu Phiu"})]})]}),X&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-md p-6 m-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Thm khch hng"}),o.jsx("button",{onClick:()=>{ae(!1),oe({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tn khch"}),o.jsx("input",{type:"text",placeholder:"Nhp tn khch",value:de.name,onChange:Me=>oe({...de,name:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),o.jsx("input",{type:"tel",placeholder:"VD: 09xxxx",value:de.phone,onChange:Me=>oe({...de,phone:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Xe"}),o.jsx("input",{type:"text",placeholder:"Dng xe",value:de.vehicleModel,onChange:Me=>oe({...de,vehicleModel:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s"}),o.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:de.licensePlate,onChange:Me=>oe({...de,licensePlate:Me.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{ae(!1),oe({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Hy"}),o.jsx("button",{onClick:()=>{if(de.name&&de.phone){const Me=`CUST-${Date.now()}`;l({id:Me,name:de.name,phone:de.phone,vehicleModel:de.vehicleModel,licensePlate:de.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}),k({...v,customerName:de.name,customerPhone:de.phone,vehicleModel:de.vehicleModel,licensePlate:de.licensePlate}),re(de.name),ae(!1),oe({name:"",phone:"",vehicleModel:"",licensePlate:""})}},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",disabled:!de.name||!de.phone,children:"Lu"})]})]})})]})},_p=({label:e,value:t,icon:r,color:a})=>{const n={blue:"bg-blue-500/20 text-blue-600 dark:text-blue-400",orange:"bg-orange-500/20 text-orange-600 dark:text-orange-400",green:"bg-green-500/20 text-green-600 dark:text-green-400",purple:"bg-purple-500/20 text-purple-600 dark:text-purple-400"};return o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg ${n[a]} flex items-center justify-center`,children:r}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e}),o.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:t})]})]})})},Rx=({label:e,active:t,onClick:r})=>o.jsx("button",{onClick:r,className:`px-6 py-3 text-sm font-medium border-b-2 transition ${t?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:e}),rNe=({currentBranchId:e})=>{var Z,se;const{workOrders:t}=si(),r=tw(),[a,n]=j.useState(""),[i,s]=j.useState("all"),[l,u]=j.useState("all"),[d,h]=j.useState("all"),[m,x]=j.useState("quick"),[p,y]=j.useState("7days"),[b,v]=j.useState(()=>{const ee=new Date,Q=String(ee.getMonth()+1).padStart(2,"0");return`${ee.getFullYear()}-${Q}`}),[k,N]=j.useState(""),[_,A]=j.useState(""),[D,M]=j.useState(!1),L=()=>{const ee=new Date,Q=String(ee.getMonth()+1).padStart(2,"0"),me=ee.getFullYear();return`Thng ${Q}/${me}`},[B,F]=j.useState(L()),[H,O]=j.useState(null),[I,V]=j.useState(!1),[Y,te]=j.useState(null);j.useEffect(()=>{(async()=>{try{const{data:Q,error:me}=await Tt.from("store_settings").select("store_name, address, phone, email, logo_url, bank_qr_url, bank_name, bank_account_number, bank_account_holder, bank_branch").order("created_at",{ascending:!1}).limit(1).single();if(me){console.error("Error fetching store settings:",me);return}te(Q)}catch(Q){console.error("Failed to fetch store settings:",Q)}})()},[]);const X=()=>{const ee=new Date,Q=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate());if(m==="quick")switch(p){case"today":return{start:Q,end:new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),23,59,59)};case"yesterday":const me=new Date(Q);return me.setDate(me.getDate()-1),{start:me,end:new Date(me.getFullYear(),me.getMonth(),me.getDate(),23,59,59)};case"3days":const Ae=new Date(Q);return Ae.setDate(Ae.getDate()-2),{start:Ae,end:new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59)};case"7days":const J=new Date(Q);return J.setDate(J.getDate()-6),{start:J,end:new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59)};case"thisWeek":const ke=new Date(Q),ye=ke.getDay(),ce=ke.getDate()-ye+(ye===0?-6:1);return ke.setDate(ce),{start:ke,end:new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59)};case"lastWeek":const qe=new Date(Q),ze=qe.getDay(),mt=qe.getDate()-ze-6;qe.setDate(mt);const Te=new Date(qe);return Te.setDate(Te.getDate()+6),Te.setHours(23,59,59),{start:qe,end:Te};default:return{start:Q,end:new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59)}}else if(m==="month"){const[me,Ae]=b.split("-").map(Number),J=new Date(me,Ae-1,1),ke=new Date(me,Ae,0,23,59,59);return{start:J,end:ke}}else if(m==="custom"&&k&&_){const me=new Date(k),Ae=new Date(_);return Ae.setHours(23,59,59),{start:me,end:Ae}}return{start:new Date(ee.getFullYear(),ee.getMonth(),1),end:new Date(ee.getFullYear(),ee.getMonth()+1,0,23,59,59)}},ae=()=>{if(m==="quick")switch(p){case"today":return"Hm nay";case"yesterday":return"Hm qua";case"3days":return"3 ngy qua";case"7days":return"7 ngy qua";case"thisWeek":return"Tun ny";case"lastWeek":return"Tun trc";default:return"Chn thi gian"}else if(m==="month"){const[ee,Q]=b.split("-");return`Thng ${Q}/${ee}`}else if(m==="custom"){if(k&&_){const ee=new Date(k).toLocaleDateString("vi-VN"),Q=new Date(_).toLocaleDateString("vi-VN");return`${ee} - ${Q}`}return"Ty chnh"}return"Chn thi gian"},de=j.useMemo(()=>{const{start:ee,end:Q}=X();return t.filter(me=>{var Ae,J,ke,ye,ce;if(me.status!=="Tr my"||me.branchId!==e)return!1;if(a){const qe=a.toLowerCase();if(![(Ae=me.id)==null?void 0:Ae.toLowerCase(),(J=me.customerName)==null?void 0:J.toLowerCase(),(ke=me.customerPhone)==null?void 0:ke.toLowerCase(),(ye=me.vehicleModel)==null?void 0:ye.toLowerCase(),(ce=me.licensePlate)==null?void 0:ce.toLowerCase()].some(mt=>mt==null?void 0:mt.includes(qe)))return!1}if(i!=="all"&&me.status!==i||l!=="all"&&me.technicianName!==l||d!=="all"&&(d==="paid"&&me.paymentStatus!=="paid"||d==="unpaid"&&me.paymentStatus!=="unpaid"))return!1;if(me.creationDate){const qe=new Date(me.creationDate);if(qe<ee||qe>Q)return!1}return!0}).sort((me,Ae)=>new Date(Ae.creationDate||0).getTime()-new Date(me.creationDate||0).getTime())},[t,a,i,m,p,b,k,_,l,d,e]),oe=de.reduce((ee,Q)=>ee+(Q.total||0),0),De=()=>{const Q=[["M Phiu","Ngy to","Khch hng","Xe","Bin s","Trng thi","Tng chi ph"].join(","),...de.map(J=>{var ke;return[so(J.id,Y==null?void 0:Y.work_order_prefix)||"",ln(J.creationDate,!0),J.customerName||"",J.vehicleModel||"",J.licensePlate||"",J.status||"",((ke=J.total)==null?void 0:ke.toString())||"0"].join(",")})].join(`
`),me=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Ae=document.createElement("a");if(Ae.download!==void 0){const J=URL.createObjectURL(me);Ae.setAttribute("href",J),Ae.setAttribute("download",`lich-su-sua-chua-${new Date().toISOString().split("T")[0]}.csv`),Ae.style.visibility="hidden",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)}},re=ee=>{O(ee),V(!0)},P=ee=>{r("/service",{state:{editOrder:ee}})},W=()=>{setTimeout(()=>{L2("work-order-receipt")},100)},z=({status:ee})=>{const Q={"Tip nhn":{icon:"",color:"text-blue-600 dark:text-blue-400"},"ang sa":{icon:"",color:"text-orange-600 dark:text-orange-400"}," sa xong":{icon:"",color:"text-purple-600 dark:text-purple-400"},"Tr my":{icon:"",color:"text-green-600 dark:text-green-400"}},me=Q[ee]||Q["Tip nhn"];return o.jsxs("span",{className:`flex items-center gap-1 text-sm ${me.color}`,children:[o.jsx("span",{children:me.icon}),o.jsx("span",{children:ee})]})},q=({status:ee})=>ee==="paid"?o.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"  thanh ton"}):o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:" Cha thanh ton"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng phiu"}),o.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:de.length})]}),o.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(W5,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng doanh thu"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Oe(oe)})]}),o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:o.jsx(g8,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("button",{onClick:De,className:"w-full px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[o.jsx(g8,{className:"w-4 h-4"}),"Xut Excel"]})})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:a,onChange:ee=>n(ee.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400"}),o.jsx(GN,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400","aria-hidden":"true"})]})}),o.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",children:[o.jsx(W5,{className:"w-4 h-4"}),ae()]}),o.jsxs("select",{value:l,onChange:ee=>u(ee.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[o.jsx("option",{value:"all",children:"Tt c KTV"}),o.jsx("option",{value:"KTV 1",children:"KTV 1"}),o.jsx("option",{value:"KTV 2",children:"KTV 2"})]}),o.jsxs("select",{value:d,onChange:ee=>h(ee.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[o.jsx("option",{value:"all",children:"Tt c thanh ton"}),o.jsx("option",{value:"paid",children:" thanh ton"}),o.jsx("option",{value:"unpaid",children:"Cha thanh ton"})]})]})}),D&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-lg shadow-2xl",children:[o.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:o.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Chn thi gian:"})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Theo ngy:"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx("button",{onClick:()=>{x("quick"),y("today")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="today"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Hm nay"}),o.jsx("button",{onClick:()=>{x("quick"),y("yesterday")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="yesterday"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Hm qua"}),o.jsx("button",{onClick:()=>{x("quick"),y("3days")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="3days"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"3 ngy qua"}),o.jsx("button",{onClick:()=>{x("quick"),y("thisWeek")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="thisWeek"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Tun ny"}),o.jsx("button",{onClick:()=>{x("quick"),y("lastWeek")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="lastWeek"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Tun trc"}),o.jsx("button",{onClick:()=>{x("quick"),y("7days")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="quick"&&p==="7days"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:" 7 ngy qua"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Theo thng:"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[0,1,2,3,4,5].map(ee=>{const Q=new Date;Q.setMonth(Q.getMonth()-ee);const me=Q.getFullYear(),Ae=String(Q.getMonth()+1).padStart(2,"0"),J=`${me}-${Ae}`,ke=`Thng ${Ae}/${me}`;return o.jsx("button",{onClick:()=>{x("month"),v(J)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="month"&&b===J?"bg-slate-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ke},J)})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Ty chnh:"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"date",value:k,onChange:ee=>{N(ee.target.value),ee.target.value&&_&&x("custom")},className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100"}),o.jsx("span",{className:"text-slate-500",children:"-"}),o.jsx("input",{type:"date",value:_,onChange:ee=>{A(ee.target.value),k&&ee.target.value&&x("custom")},className:"flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100"})]})]})]}),o.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 px-6 py-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium transition-colors",children:"Hy"}),o.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors",children:"p dng"})]})]})}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-600",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 text-center",children:o.jsx("input",{type:"checkbox",className:"rounded border-slate-400"})}),o.jsx("div",{className:"flex-1 min-w-[180px]",children:o.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase",children:"Tn thit b"})}),o.jsx("div",{className:"flex-1 min-w-[180px]",children:o.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase",children:"Khch hng"})}),o.jsx("div",{className:"flex-1 min-w-[200px]",children:o.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase",children:"Chi tit"})}),o.jsx("div",{className:"w-56",children:o.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase",children:"Hn tr"})}),o.jsx("div",{className:"w-24 text-center",children:o.jsx("span",{className:"text-xs font-semibold text-slate-600 dark:text-slate-300 uppercase",children:"Thao tc"})})]})}),de.length===0?o.jsx("div",{className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."}):o.jsx("div",{className:"divide-y divide-slate-700",children:de.map(ee=>{var J,ke;const Q=((J=ee.partsUsed)==null?void 0:J.reduce((ye,ce)=>ye+ce.quantity*ce.price,0))||0,me=((ke=ee.additionalServices)==null?void 0:ke.reduce((ye,ce)=>ye+(ce.price||0)*(ce.quantity||1),0))||0,Ae=ee.laborCost||0;return o.jsx("div",{className:"px-4 py-4 bg-slate-900 dark:bg-slate-950 hover:bg-slate-800 dark:hover:bg-slate-900 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"w-16 flex flex-col items-center gap-2 pt-1",children:[o.jsx("input",{type:"checkbox",className:"rounded border-slate-600"}),o.jsx("div",{className:"w-10 h-10 bg-slate-800 dark:bg-slate-700 rounded flex items-center justify-center flex-shrink-0",children:o.jsx(W5,{className:"w-5 h-5 text-slate-400"})})]}),o.jsxs("div",{className:"flex-1 min-w-[180px]",children:[o.jsx("div",{className:"font-semibold text-base text-white mb-1",children:ee.vehicleModel||"N/A"}),o.jsxs("div",{className:"text-xs text-slate-400 mb-0.5",children:["Bin s: ",ee.licensePlate||"Cha nhp bin s"]}),o.jsxs("div",{className:"text-xs text-slate-500",children:["Lc: ",ln(ee.creationDate,!0)]})]}),o.jsxs("div",{className:"flex-1 min-w-[180px]",children:[o.jsx("div",{className:"font-semibold text-base text-white mb-1",children:ee.customerName}),o.jsx("div",{className:"text-xs text-slate-400",children:ee.customerPhone}),o.jsx("div",{className:"text-xs text-slate-500 italic mt-1",children:ee.issueDescription||"Khng c ghi ch"})]}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[ee.partsUsed&&ee.partsUsed.length>0?o.jsx("div",{className:"space-y-0.5 mb-2",children:ee.partsUsed.map((ye,ce)=>o.jsxs("div",{className:"text-xs text-slate-300",children:[" ",ye.partName," (",ye.quantity,")"]},ce))}):o.jsx("div",{className:"text-xs text-slate-500 italic mb-2",children:"Cha c ph tng"}),o.jsx("div",{className:"mt-2",children:o.jsx(z,{status:ee.status||"Tip nhn"})})]}),o.jsxs("div",{className:"w-56",children:[o.jsxs("div",{className:"space-y-1 text-xs text-right mb-3",children:[Ae>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Tin cng:"}),o.jsx("span",{className:"text-slate-300",children:Oe(Ae)})]}),Q>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Tin ph tng:"}),o.jsx("span",{className:"text-blue-400 font-medium",children:Oe(Q)})]}),me>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500",children:"Gi cng/t hng:"}),o.jsx("span",{className:"text-slate-300",children:Oe(me)})]}),ee.total>0&&o.jsxs("div",{className:"flex justify-between pt-2 border-t border-slate-700 text-sm",children:[o.jsx("span",{className:"text-slate-300 font-bold",children:"Tng cng:"}),o.jsx("span",{className:"text-blue-400 font-bold text-sm",children:Oe(ee.total)})]}),ee.discount&&ee.discount>0&&o.jsxs("div",{className:"flex justify-between text-right text-xs",children:[o.jsx("span",{className:"text-red-500",children:"Gim gi:"}),o.jsx("span",{className:"text-red-500",children:Oe(ee.discount)})]}),ee.additionalPayment&&ee.additionalPayment>0&&o.jsxs("div",{className:"flex justify-between text-right text-xs text-green-500",children:[o.jsx("span",{children:"Thanh ton trc:"}),o.jsxs("span",{children:["-",Oe(ee.additionalPayment)]})]}),ee.remainingAmount!==void 0&&ee.remainingAmount>0&&o.jsxs("div",{className:"flex justify-between text-right text-xs mt-1",children:[o.jsx("span",{children:"Cn phi thu:"}),o.jsx("span",{className:`font-bold ${ee.remainingAmount>0?"text-red-500":"text-green-500"}`,children:Oe(ee.remainingAmount)})]})]}),o.jsx("div",{className:"mt-2",children:o.jsx(q,{status:ee.paymentStatus})})]}),o.jsxs("div",{className:"w-24 flex flex-col items-center gap-2",children:[o.jsxs("button",{onClick:()=>P(ee),className:"px-4 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white text-sm rounded-md transition-colors min-w-[70px] flex items-center justify-center gap-1",title:"Chnh sa phiu",children:[o.jsx(YJ,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Sa"})]}),o.jsxs("button",{onClick:()=>re(ee),className:"px-4 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-md transition-colors min-w-[70px] flex items-center justify-center gap-1",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Xem"})]}),o.jsx("button",{onClick:()=>re(ee),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 rounded transition-colors",title:"In phiu dch v",children:o.jsx(x1,{className:"w-4 h-4"})})]})]})},ee.id)})})]}),I&&H&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Xem trc phiu in"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:W,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition",children:[o.jsx(x1,{className:"w-4 h-4"}),"In phiu"]}),o.jsx("button",{onClick:()=>{V(!1),O(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-100 dark:bg-slate-900",children:o.jsx("div",{className:"bg-white shadow-lg mx-auto",style:{width:"148mm",minHeight:"210mm",color:"#000"},children:o.jsxs("div",{style:{padding:"10mm"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gap:"3mm",marginBottom:"4mm",alignItems:"start",borderBottom:"2px solid #3b82f6",paddingBottom:"3mm"},children:[o.jsxs("div",{style:{fontSize:"8.5pt",lineHeight:"1.4"},children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"11pt",marginBottom:"1mm",color:"#1e40af"},children:(Y==null?void 0:Y.store_name)||"Nhn Lm SmartCare"}),o.jsxs("div",{style:{color:"#000"},children:[""," ",(Y==null?void 0:Y.address)||"p Ph Li B, X Long Ph Thun, ng Thp"]}),o.jsxs("div",{style:{color:"#000"},children:[" ",(Y==null?void 0:Y.phone)||"0947.747.907"]}),(Y==null?void 0:Y.email)&&o.jsxs("div",{style:{color:"#000"},children:[" ",Y.email]})]}),(Y==null?void 0:Y.logo_url)&&o.jsx("div",{style:{textAlign:"center"},children:o.jsx("img",{src:Y.logo_url,alt:"Logo",style:{height:"15mm",width:"auto",objectFit:"contain"}})}),o.jsx("div",{style:{fontSize:"8pt",lineHeight:"1.4",textAlign:"right"},children:(Y==null?void 0:Y.bank_name)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{fontWeight:"bold",marginBottom:"1mm",color:"#000"},children:[" ",Y.bank_name]}),Y.bank_account_number&&o.jsxs("div",{style:{color:"#000"},children:["STK: ",Y.bank_account_number]}),Y.bank_account_holder&&o.jsx("div",{style:{color:"#000",fontSize:"7.5pt"},children:Y.bank_account_holder}),Y.bank_qr_url&&o.jsx("div",{style:{marginTop:"2mm",display:"inline-block"},children:o.jsx("img",{src:Y.bank_qr_url,alt:"QR Banking",style:{height:"15mm",width:"15mm",objectFit:"contain"}})})]})})]}),o.jsxs("div",{style:{marginBottom:"4mm"},children:[o.jsx("div",{style:{textAlign:"center",marginBottom:"2mm"},children:o.jsx("h1",{style:{fontSize:"16pt",fontWeight:"bold",margin:"0",textTransform:"uppercase",color:"#1e40af"},children:"PHIU DCH V SA CHA"})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"9pt",color:"#666"},children:[o.jsx("div",{children:new Date(H.creationDate).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{style:{fontWeight:"bold"},children:["M:"," ",so(H.id,Y==null?void 0:Y.work_order_prefix)]})]})]}),o.jsxs("div",{style:{border:"1px solid #ddd",padding:"3mm",marginBottom:"3mm",borderRadius:"2mm",backgroundColor:"#f8fafc",color:"#000",fontSize:"9pt"},children:[o.jsxs("div",{style:{display:"flex",gap:"4mm",marginBottom:"1.5mm"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Khch hng:"})," ",H.customerName]}),o.jsxs("div",{style:{flex:"0 0 auto"},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"ST:"})," ",H.customerPhone]})]}),o.jsxs("div",{style:{display:"flex",gap:"4mm"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Loi xe:"})," ",H.vehicleModel]}),o.jsxs("div",{style:{flex:"0 0 auto"},children:[o.jsx("span",{style:{fontWeight:"bold"},children:"Bin s:"})," ",H.licensePlate]})]})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",color:"#000"},children:o.jsxs("div",{style:{display:"flex",gap:"3mm"},children:[o.jsx("div",{style:{fontWeight:"bold",minWidth:"20%",flexShrink:0},children:"M t s c:"}),o.jsx("div",{style:{flex:1,whiteSpace:"pre-wrap"},children:H.issueDescription||"Khng c m t"})]})}),H.partsUsed&&H.partsUsed.length>0&&o.jsxs("div",{style:{marginBottom:"4mm",color:"#000"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 2mm 0",fontSize:"11pt"},children:"Ph tng s dng:"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"#f5f5f5"},children:[o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"left",fontSize:"10pt"},children:"Tn ph tng"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt",width:"15%"},children:"SL"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"n gi"}),o.jsx("th",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",width:"25%"},children:"Thnh tin"})]})}),o.jsx("tbody",{children:H.partsUsed.map((ee,Q)=>o.jsxs("tr",{children:[o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",fontSize:"10pt"},children:ee.partName}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"center",fontSize:"10pt"},children:ee.quantity}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt"},children:Oe(ee.price)}),o.jsx("td",{style:{border:"1px solid #ddd",padding:"2mm",textAlign:"right",fontSize:"10pt",fontWeight:"bold"},children:Oe(ee.price*ee.quantity)})]},Q))})]})]}),o.jsx("div",{style:{border:"1px solid #ddd",padding:"4mm",marginBottom:"4mm",borderRadius:"2mm",backgroundColor:"#f9f9f9",color:"#000"},children:o.jsx("table",{style:{width:"100%",borderSpacing:"0",color:"#000"},children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Tin ph tng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((Z=H.partsUsed)==null?void 0:Z.reduce((ee,Q)=>ee+Q.price*Q.quantity,0))||0)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Ph dch v:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(H.laborCost||0)})]}),o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:"bold",paddingBottom:"2mm",fontSize:"10pt"},children:"Gi cng/t hng:"}),o.jsx("td",{style:{textAlign:"right",paddingBottom:"2mm",fontSize:"10pt"},children:Oe(((se=H.additionalServices)==null?void 0:se.reduce((ee,Q)=>ee+(Q.price||0)*(Q.quantity||1),0))||0)})]}),o.jsxs("tr",{style:{borderTop:"2px solid #333"},children:[o.jsx("td",{style:{fontWeight:"bold",paddingTop:"2mm",fontSize:"12pt"},children:"TNG CNG:"}),o.jsxs("td",{style:{textAlign:"right",paddingTop:"2mm",fontSize:"12pt",fontWeight:"bold",color:"#2563eb"},children:[Oe(H.total)," "]})]})]})})}),o.jsx("div",{style:{marginTop:"8mm",paddingTop:"4mm",borderTop:"1px dashed #999",color:"#000"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10pt"},children:[o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0",color:"#000"},children:"Khch hng"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]}),o.jsxs("div",{style:{textAlign:"center",width:"45%"},children:[o.jsx("p",{style:{fontWeight:"bold",margin:"0 0 10mm 0",color:"#000"},children:"Nhn vin"}),o.jsx("p",{style:{margin:"0",fontSize:"9pt",color:"#666"},children:"(K v ghi r h tn)"})]})]})}),o.jsxs("div",{style:{marginTop:"4mm",padding:"3mm",backgroundColor:"#fff9e6",border:"1px solid #ffd700",borderRadius:"2mm",fontSize:"9pt",textAlign:"center",color:"#000"},children:[o.jsx("p",{style:{margin:"0",fontStyle:"italic",color:"#000"},children:"Cm n qu khch  s dng dch v!"}),o.jsx("p",{style:{margin:"1mm 0 0 0",fontStyle:"italic",color:"#000"},children:"Vui lng gi phiu ny  i chiu khi nhn xe"})]})]})})})]})}),o.jsx("div",{id:"work-order-receipt",className:"hidden"})]})},aNe=e=>{const t=e.loyaltyPoints||0,r=e.totalSpent||0,a=e.visitCount||0,n=e.lastVisit?new Date(e.lastVisit):new Date,i=Math.floor((Date.now()-n.getTime())/(1e3*60*60*24));return t>=5e3||r>=2e7||a>=20?"VIP":t>=2e3||r>=1e7||a>=10?"Loyal":i>180&&a>0?"Lost":i>90&&a>0?"At Risk":a>=2&&a<10?"Potential":"New"},nNe=()=>{const{customers:e,upsertCustomer:t,setCustomers:r}=si(),[a,n]=j.useState(""),[i,s]=j.useState(null),[l,u]=j.useState(!1),[d,h]=j.useState("customers"),[m,x]=j.useState("all");j.useEffect(()=>{let v=!1;const k=e.map(N=>{if(!N.segment){const _=aNe(N);return v=!0,{...N,segment:_}}return N});v&&r(k)},[e.length]);const p=j.useMemo(()=>{const v=a.toLowerCase();let k=e.filter(N=>N.name.toLowerCase().includes(v)||N.phone&&N.phone.includes(v));if(m!=="all"){const _={vip:"VIP",loyal:"Loyal",potential:"Potential","at-risk":"At Risk",lost:"Lost",new:"New"}[m];k=k.filter(A=>A.segment===_)}return k},[e,a,m]),y=v=>{confirm("Xc nhn xo khch hng ny?")&&r(k=>k.filter(N=>N.id!==v))},b=j.useMemo(()=>{const v=e.length,k=e.filter(N=>N.status==="active").length;return{total:v,active:k,newThisMonth:e.filter(N=>{if(!N.created_at)return!1;const _=new Date(N.created_at),A=new Date;return _.getMonth()===A.getMonth()&&_.getFullYear()===A.getFullYear()}).length,revenue:0,vip:e.filter(N=>N.segment==="VIP").length,loyal:e.filter(N=>N.segment==="Loyal").length,potential:e.filter(N=>N.segment==="Potential").length,atRisk:e.filter(N=>N.segment==="At Risk").length,lost:e.filter(N=>N.segment==="Lost").length,new:e.filter(N=>N.segment==="New").length}},[e]);return o.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex items-center px-6",children:[o.jsxs("button",{onClick:()=>h("customers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="customers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsx(Zge,{className:"w-5 h-5"}),o.jsxs("span",{children:["Khch hng (",b.total,")"]})]}),o.jsxs("button",{onClick:()=>h("suppliers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="suppliers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),o.jsx("span",{children:"Nh cung cp (0)"})]})]})}),d==="customers"?o.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.jsx("input",{type:"text",placeholder:"Tm theo tn, ST, bin s xe...",value:a,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsx("span",{children:"Upload DS"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("span",{children:"Nhc BD"})]}),o.jsxs("button",{onClick:()=>s({}),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx(xh,{className:"w-5 h-5"}),o.jsx("span",{children:"Thm KH"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thng k khch hng"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Tng khch hng"}),o.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-3xl font-bold",children:b.total}),o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0 hot ng"})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-1",children:"Khch mi thng ny"}),o.jsx("div",{className:"text-green-900 dark:text-green-100 text-3xl font-bold",children:b.newThisMonth}),o.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:" 0.0% so vi thng trc"})]}),o.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-1",children:"Doanh thu trung bnh"}),o.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-3xl font-bold",children:"0 "}),o.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"/ khch hng"})]}),o.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-1",children:"Cn chm sc"}),o.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-3xl font-bold",children:b.atRisk}),o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0  tim nng"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn khc khch hng"})]}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[o.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs font-medium mb-1",children:"VIP"}),o.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:b.vip}),o.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"0.0%"})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs font-medium mb-1",children:"Loyal"}),o.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:b.loyal}),o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0.0%"})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs font-medium mb-1",children:"Potential"}),o.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:b.potential}),o.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:"0.0%"})]}),o.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs font-medium mb-1",children:"At Risk"}),o.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:b.atRisk}),o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0.0%"})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs font-medium mb-1",children:"Lost"}),o.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:b.lost}),o.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1",children:"0.0%"})]}),o.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 rounded-lg p-4 border-2 border-cyan-200 dark:border-cyan-800",children:[o.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs font-medium mb-1",children:"New"}),o.jsx("div",{className:"text-cyan-900 dark:text-cyan-100 text-2xl font-bold",children:b.new}),o.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs mt-1",children:"0.0%"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn loi khch hng"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="all"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:"Tt c khch hng"}),o.jsxs("button",{onClick:()=>x("vip"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="vip"?"bg-purple-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-purple-500 mr-2"}),"VIP - Khch hng qu"]}),o.jsxs("button",{onClick:()=>x("loyal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="loyal"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),"Trung thnh"]}),o.jsxs("button",{onClick:()=>x("potential"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="potential"?"bg-green-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 mr-2"}),"Tim nng"]}),o.jsxs("button",{onClick:()=>x("at-risk"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="at-risk"?"bg-orange-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-orange-500 mr-2"}),"Cn chm sc"]}),o.jsxs("button",{onClick:()=>x("lost"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="lost"?"bg-red-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 mr-2"})," mt"]}),o.jsxs("button",{onClick:()=>x("new"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="new"?"bg-cyan-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-cyan-500 mr-2"}),"Khch mi"]})]})]}),p.length===0?o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Khng c khch hng no."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(v=>{const k={VIP:{bg:"bg-gradient-to-br from-purple-400 to-purple-600 dark:from-purple-500 dark:to-purple-700",text:"VIP",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3 7 5 5-5 5 19-5L3 7Z"})})},Loyal:{bg:"bg-gradient-to-br from-blue-400 to-blue-600 dark:from-blue-500 dark:to-blue-700",text:"Trung thnh",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75 6.825 20.995l.99-5.766L3.63 11.255l5.807-.844L12 5l2.563 5.411 5.807.844-4.186 3.974.99 5.766L12 17.75Z"})})},Potential:{bg:"bg-gradient-to-br from-green-400 to-green-600 dark:from-green-500 dark:to-green-700",text:"Tim nng",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v5m0 0c1.886-1.257 4.63-1.034 6 1-1.886 1.257-1.886 3.743 0 5-1.37 2.034-4.114 2.257-6 1m0-12c-1.886-1.257-4.63-1.034-6 1 1.886 1.257 1.886 3.743 0 5 1.37 2.034 4.114 2.257 6 1m0 0v5"})})},"At Risk":{bg:"bg-gradient-to-br from-orange-400 to-orange-600 dark:from-orange-500 dark:to-orange-700",text:"Cn chm sc",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})},Lost:{bg:"bg-gradient-to-br from-red-400 to-red-600 dark:from-red-500 dark:to-red-700",text:" mt",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 9-6 6m0-6 6 6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},New:{bg:"bg-gradient-to-br from-cyan-400 to-cyan-600 dark:from-cyan-500 dark:to-cyan-700",text:"Khch mi",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v2m0 4v2m0 4v2m0 4v2M4.93 4.93l1.414 1.414M7.757 12l-1.414 1.414M4.93 19.07l1.414-1.414M19.07 4.93l-1.414 1.414M16.243 12l1.414 1.414M19.07 19.07l-1.414-1.414M2 12h2m4 0h2m4 0h2m4 0h2"})})}},N=v.segment?k[v.segment]:{bg:"bg-gradient-to-br from-slate-400 to-slate-600 dark:from-slate-500 dark:to-slate-700",text:"Khch hng",icon:o.jsx(XN,{className:"w-6 h-6"})},_=v.loyaltyPoints||0,A=Math.min(_/1e4*100,100);return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow",children:[o.jsxs("div",{className:`${N.bg} p-4 text-white relative`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl flex items-center justify-center",children:N.icon}),o.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 bg-white/20 rounded-full backdrop-blur",children:N.text})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>s(v),className:"p-1.5 bg-white/20 hover:bg-white/30 rounded-lg transition-colors backdrop-blur",title:"Chnh sa",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsx("button",{onClick:()=>y(v.id),className:"p-1.5 bg-white/20 hover:bg-red-500 rounded-lg transition-colors backdrop-blur",title:"Xa",children:o.jsx(exe,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-1",children:v.name}),o.jsx("div",{className:"flex items-center gap-2 text-sm opacity-90",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),v.phone||""]})})]})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[v.vehicleModel&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:o.jsx(tR,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:v.vehicleModel}),v.licensePlate&&o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Bin s: ",v.licensePlate]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg p-3 border border-amber-200 dark:border-amber-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-xs font-semibold text-amber-900 dark:text-amber-200",children:"IM TCH LY"})]}),o.jsx("span",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:_.toLocaleString()})]}),o.jsx("div",{className:"mb-1",children:o.jsx("div",{className:"h-2 bg-amber-200 dark:bg-amber-900/50 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-amber-600 transition-all duration-500",style:{width:`${A}%`}})})}),o.jsx("div",{className:"text-[10px] text-amber-700 dark:text-amber-300 text-right",children:"Mc tiu: 10,000 im"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:v.visitCount||0}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ln n"})]}),o.jsxs("div",{className:"text-center border-x border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[((v.totalSpent||0)/1e6).toFixed(1),"M"]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Chi tiu"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[10px] font-semibold text-slate-700 dark:text-slate-300",children:v.lastVisit?`${Math.floor((Date.now()-new Date(v.lastVisit).getTime())/(1e3*60*60*24))} ngy`:""}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gh cui"})]})]})]})]},v.id)})})]}):o.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:["Tng: ",o.jsx("span",{className:"font-bold",children:"0"})," nh cung cp"]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsx("span",{children:"Upload CSV"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx(xh,{className:"w-5 h-5"}),o.jsx("span",{children:"Thm mi"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Cha c nh cung cp."})]})]}),i&&o.jsx(iNe,{customer:i,onSave:t,onClose:()=>s(null)}),l&&o.jsx(sNe,{onClose:()=>u(!1)})]})},iNe=({customer:e,onSave:t,onClose:r})=>{const[a,n]=j.useState(e.name||""),[i,s]=j.useState(e.phone||""),[l,u]=j.useState(e.vehicleModel||""),[d,h]=j.useState(e.licensePlate||""),m=x=>{x.preventDefault(),a.trim()&&(t({id:e.id,name:a.trim(),phone:i.trim(),vehicleModel:l.trim(),licensePlate:d.trim()}),r())};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:e.id?"Sa khch hng":"Thm khch hng"}),o.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tn khch"}),o.jsx("input",{type:"text",placeholder:"Nhp tn khch",required:!0,value:a,onChange:x=>n(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"S in thoi"}),o.jsx("input",{type:"text",placeholder:"VD: 09xxxx",value:i,onChange:x=>s(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Xe"}),o.jsx("input",{type:"text",placeholder:"Dng xe",value:l,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Bin s"}),o.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:d,onChange:x=>h(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[o.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 bg-primary-bg hover:bg-tertiary-bg text-primary-text border border-primary-border rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu"})]})]})]})})},sNe=({onClose:e})=>{const{setCustomers:t}=si(),r=j.useRef(null),[a,n]=j.useState([]),[i,s]=j.useState(""),l=d=>{var x;const h=(x=d.target.files)==null?void 0:x[0];if(!h)return;s("");const m=new FileReader;m.onload=p=>{var A;const y=(A=p.target)==null?void 0:A.result;if(!y)return;const b=y.split(`
`).map(D=>D.trim()).filter(Boolean);if(b.length===0){s("File CSV trng.");return}const v=b[0].toLowerCase(),N=v.includes("name")||v.includes("phone")||v.includes("tn")||v.includes("st")?b.slice(1):b,_=[];for(const D of N){const M=D.split(",").map(L=>L.trim());M.length===0||!M[0]||_.push({name:M[0],phone:M[1]||void 0})}if(_.length===0){s("Khng tm thy d liu hp l trong CSV.");return}n(_)},m.readAsText(h)},u=()=>{if(a.length===0)return;const d=a.map(h=>({id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:h.name,phone:h.phone,created_at:new Date().toISOString()}));t(h=>[...d,...h]),alert(` import ${d.length} khch hng.`),e()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Import khch hng t CSV"}),o.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700",children:o.jsx(Z6,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("p",{className:"text-slate-600",children:["Chn file CSV vi ct u tin l ",o.jsx("strong",{children:"tn khch hng"}),", ct th hai l ",o.jsx("strong",{children:"s in thoi"})," (ty chn)."]}),o.jsx("p",{className:"text-slate-600 text-xs",children:'Dng u tin nu cha "name", "phone", "tn", "st" s t ng b qua (header).'}),o.jsx("input",{ref:r,type:"file",accept:".csv",onChange:l,className:"block w-full text-sm"}),i&&o.jsx("div",{className:"text-red-600 text-xs",children:i}),a.length>0&&o.jsxs("div",{className:"border rounded p-3 bg-slate-50 dark:bg-slate-900 max-h-64 overflow-y-auto",children:[o.jsxs("div",{className:"font-semibold mb-2",children:["Xem trc (",a.length," khch hng):"]}),o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left border-b",children:[o.jsx("th",{className:"p-1",children:"Tn"}),o.jsx("th",{className:"p-1",children:"ST"})]})}),o.jsxs("tbody",{children:[a.slice(0,20).map((d,h)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"p-1",children:d.name}),o.jsx("td",{className:"p-1",children:d.phone||"--"})]},h)),a.length>20&&o.jsx("tr",{children:o.jsxs("td",{colSpan:2,className:"p-1 text-slate-500",children:["... v ",a.length-20," khch hng na"]})})]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded hover:bg-slate-50",children:"Hu"}),o.jsxs("button",{disabled:a.length===0,onClick:u,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",a.length>0&&`(${a.length})`]})]})]})]})})},oNe=()=>{const{customers:e,suppliers:t,currentBranchId:r,setCashTransactions:a,cashTransactions:n,setPaymentSources:i,paymentSources:s}=si(),{data:l=[],isLoading:u}=G3e(),{data:d=[],isLoading:h}=X3e();qA();const m=yH();Y3e(),Q3e();const x=J3e();Z3e();const[p,y]=j.useState("customer"),[b,v]=j.useState(""),[k,N]=j.useState(!1),[_,A]=j.useState(!1),[D,M]=j.useState([]),[L,B]=j.useState([]),[F,H]=j.useState(!1),O=j.useMemo(()=>l.filter(P=>P.branchId===r),[l,r]),I=j.useMemo(()=>d.filter(P=>P.branchId===r),[d,r]),V=j.useMemo(()=>{if(!b)return O;const P=b.toLowerCase();return O.filter(W=>{var z,q;return W.customerName.toLowerCase().includes(P)||((z=W.phone)==null?void 0:z.includes(P))||((q=W.licensePlate)==null?void 0:q.toLowerCase().includes(P))})},[O,b]);j.useEffect(()=>{console.log("[DebtManager] branchCustomerDebts count:",O.length,"branchId:",r)},[O,r]);const Y=j.useMemo(()=>{if(!b)return I;const P=b.toLowerCase();return I.filter(W=>W.supplierName.toLowerCase().includes(P))},[I,b]),te=j.useMemo(()=>O.reduce((P,W)=>P+W.remainingAmount,0),[O]),X=j.useMemo(()=>I.reduce((P,W)=>P+W.remainingAmount,0),[I]),ae=j.useMemo(()=>D.reduce((P,W)=>{const z=O.find(q=>q.customerId===W);return P+((z==null?void 0:z.remainingAmount)||0)},0),[D,O]),de=j.useMemo(()=>L.reduce((P,W)=>{const z=I.find(q=>q.supplierId===W);return P+((z==null?void 0:z.remainingAmount)||0)},0),[L,I]),oe=(P,W)=>{M(W?[...D,P]:D.filter(z=>z!==P))},De=(P,W)=>{B(W?[...L,P]:L.filter(z=>z!==P))},re=()=>{H(!0)};return o.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[o.jsx("div",{className:"bg-primary-bg border-b border-primary-border",children:o.jsx("div",{className:"flex items-center justify-between px-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>y("customer"),className:`px-6 py-4 font-medium text-sm transition-all ${p==="customer"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n khch hng"}),o.jsx("button",{onClick:()=>y("supplier"),className:`px-6 py-4 font-medium text-sm transition-all ${p==="supplier"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n nh cung cp"})]})})}),o.jsx("div",{className:"bg-primary-bg px-6 py-4 border-b border-primary-border",children:u||h?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600"}),o.jsx("span",{className:"ml-3 text-secondary-text",children:"ang ti d liu..."})]}):o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),o.jsx("input",{type:"text",placeholder:p==="customer"?"Tm ST / Tn KH / Tn sn phm / IMEI":"Tm tn / ST nh cung cp",value:b,onChange:P=>v(P.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),o.jsxs("div",{className:"text-secondary-text text-sm",children:["Tng cng n:"," ",o.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:Oe(p==="customer"?te:X)})]}),o.jsxs("button",{onClick:()=>p==="customer"?N(!0):A(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx(xh,{className:"w-5 h-5"}),o.jsx("span",{children:p==="customer"?"Th n":"Chi tr n"})]}),o.jsx("button",{className:"p-2.5 text-secondary-text hover:text-primary-text transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})}),o.jsx("div",{className:"flex-1 overflow-auto",children:p==="customer"?o.jsx("div",{className:"p-6",children:V.length===0?o.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):o.jsx("div",{className:"space-y-3",children:V.map(P=>o.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("input",{type:"checkbox",checked:D.includes(P.customerId),onChange:W=>oe(P.customerId,W.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border text-cyan-600 focus:ring-cyan-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:P.customerName})}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["Phone: ",P.phone||"--"]}),o.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["n Hng: ",P.licensePlate||"--"]}),o.jsxs("div",{className:"text-tertiary-text",children:["Ngy to n:"," ",ln(new Date(P.createdDate))]})]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),o.jsx("div",{className:"text-primary-text text-sm",children:P.description})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),o.jsx("div",{className:"text-primary-text font-semibold",children:Oe(P.totalAmount)})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),o.jsx("div",{className:"text-primary-text font-semibold",children:Oe(P.paidAmount)})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),o.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:Oe(P.remainingAmount)})]})}),o.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},P.customerId))})}):o.jsx("div",{className:"p-6",children:Y.length===0?o.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):o.jsx("div",{className:"space-y-3",children:Y.map(P=>o.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("input",{type:"checkbox",checked:L.includes(P.supplierId),onChange:W=>De(P.supplierId,W.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border bg-primary-bg text-cyan-600 focus:ring-cyan-500 focus:ring-offset-0"}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"flex items-center gap-2 mb-1",children:o.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:P.supplierName})})})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),o.jsx("div",{className:"text-primary-text text-sm",children:P.description})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),o.jsx("div",{className:"text-primary-text font-semibold",children:Oe(P.totalAmount)})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),o.jsx("div",{className:"text-primary-text font-semibold",children:Oe(P.paidAmount)})]})}),o.jsx("div",{className:"text-right ml-8",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),o.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:Oe(P.remainingAmount)})]})}),o.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},P.supplierId))})})}),(p==="customer"&&D.length>0||p==="supplier"&&L.length>0)&&o.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:o.jsxs("button",{onClick:re,className:"flex items-center gap-3 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold shadow-2xl transition-all hover:scale-105",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("span",{children:[" chn"," ",p==="customer"?D.length:L.length," ","n"]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsxs("span",{className:"text-xl font-bold",children:["Tr ht n (",Oe(p==="customer"?ae:de),")"]})]})}),k&&o.jsx(lNe,{customers:e,customerDebts:l,onClose:()=>N(!1),onCollect:P=>{const z={id:`CT-${Date.now()}`,type:"income",date:P.timestamp,amount:P.amount,recipient:P.customerName,notes:`Thu n khch hng - ${P.customerName}`,paymentSourceId:P.paymentMethod,branchId:r,category:"debt_collection"};a([z,...n]),i(s.map(q=>q.id===P.paymentMethod?{...q,balance:{...q.balance,[r]:(q.balance[r]||0)+P.amount}}:q)),N(!1)}}),F&&o.jsx(uNe,{isOpen:F,onClose:()=>{H(!1)},selectedDebts:p==="customer"?O.filter(P=>D.includes(P.customerId)):I.filter(P=>L.includes(P.supplierId)),totalAmount:p==="customer"?ae:de,debtType:p,onConfirm:async(P,W)=>{try{if(p==="customer"){for(const z of D){const q=O.find(Z=>Z.customerId===z);q&&await m.mutateAsync({id:q.id,updates:{paidAmount:q.totalAmount,remainingAmount:0}})}M([])}else{for(const z of L){const q=I.find(Z=>Z.supplierId===z);q&&await x.mutateAsync({id:q.id,updates:{paidAmount:q.totalAmount,remainingAmount:0}})}B([])}H(!1),Xe.success(` thanh ton thnh cng ${Oe(p==="customer"?ae:de)} qua ${P==="cash"?"Tin mt":"Chuyn khon"}`)}catch(z){Xe.error(z.message||"Khng th thanh ton")}}}),_&&o.jsx(cNe,{suppliers:t,supplierDebts:d,onClose:()=>A(!1),onPay:P=>{const z={id:`CT-${Date.now()}`,type:"expense",date:P.timestamp,amount:P.amount,recipient:P.supplierName,notes:`Tr n nh cung cp - ${P.supplierName}`,paymentSourceId:P.paymentMethod,branchId:r,category:"debt_payment"};a([z,...n]),i(s.map(q=>q.id===P.paymentMethod?{...q,balance:{...q.balance,[r]:(q.balance[r]||0)-P.amount}}:q)),A(!1)}})]})},lNe=({customers:e,customerDebts:t,onClose:r,onCollect:a})=>{const[n,i]=j.useState(""),[s,l]=j.useState("0"),[u,d]=j.useState("cash"),[h,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(b=>b.customerId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=b=>{b.preventDefault();const v=e.find(k=>k.id===n);v&&a&&a({customerName:v.name,amount:parseFloat(s),paymentMethod:u,timestamp:h}),r()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[o.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:o.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Thu n khch hng"})}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt khch hng ang n"}),o.jsxs("select",{value:n,onChange:b=>i(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Chn khch hng..."}),t.map(b=>o.jsxs("option",{value:b.customerId,children:[b.customerName," - ",Oe(b.remainingAmount)]},b.customerId))]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),o.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:Oe(parseFloat(s)||0)})]}),o.jsx("input",{type:"number",value:s,onChange:b=>l(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),o.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:Oe(p)})]}),o.jsx("button",{type:"button",onClick:()=>l(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:u==="cash",onChange:b=>d(b.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),o.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:u==="bank",onChange:b=>d(b.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),o.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),o.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),o.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu thu"})]}),o.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:o.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},cNe=({suppliers:e,supplierDebts:t,onClose:r,onPay:a})=>{const[n,i]=j.useState(""),[s,l]=j.useState("0"),[u,d]=j.useState("cash"),[h,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(b=>b.supplierId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=b=>{b.preventDefault();const v=e.find(k=>k.id===n);v&&a&&a({supplierName:v.name,amount:parseFloat(s),paymentMethod:u,timestamp:h}),r()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[o.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:o.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Chi tr n nh cung cp"})}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt nh cung cp ang n"}),o.jsxs("select",{value:n,onChange:b=>i(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Chn nh cung cp..."}),t.map(b=>o.jsxs("option",{value:b.supplierId,children:[b.supplierName," - ",Oe(b.remainingAmount)]},b.supplierId))]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),o.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:Oe(parseFloat(s)||0)})]}),o.jsx("input",{type:"number",value:s,onChange:b=>l(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),o.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:Oe(p)})]}),o.jsx("button",{type:"button",onClick:()=>l(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:u==="cash",onChange:b=>d(b.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),o.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:u==="bank",onChange:b=>d(b.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),o.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu chi"}),o.jsx("input",{type:"text",value:h,onChange:b=>m(b.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),o.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu chi"})]}),o.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:o.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},uNe=({isOpen:e,onClose:t,selectedDebts:r,totalAmount:a,debtType:n,onConfirm:i})=>{const[s,l]=j.useState(null),[u,d]=j.useState(()=>{const m=new Date,x=String(m.getDate()).padStart(2,"0"),p=String(m.getMonth()+1).padStart(2,"0"),y=m.getFullYear(),b=String(m.getHours()).padStart(2,"0"),v=String(m.getMinutes()).padStart(2,"0");return`${x}-${p}-${y} ${b}:${v}`});if(!e)return null;const h=m=>{if(m.preventDefault(),!s){Xe.warning("Vui lng chn hnh thc thanh ton");return}const[x,p]=u.split(" "),[y,b,v]=x.split("-"),[k,N]=p.split(":"),_=new Date(parseInt(v),parseInt(b)-1,parseInt(y),parseInt(k),parseInt(N)).toISOString();i(s,_)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-secondary-bg rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("h2",{className:"text-xl font-semibold text-primary-text",children:["Tr ht n (",n==="customer"?"nhiu n hng":"nhiu nh cung cp",")"]})]}),o.jsx("button",{onClick:t,className:"text-secondary-text hover:text-primary-text transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("form",{onSubmit:h,className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"-"}),o.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"Chi tit"}),o.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"S tin"})]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((m,x)=>{const p="customerName"in m,y=p?m.customerName:m.supplierName,b=m.description;return o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-tertiary-bg rounded",children:[o.jsx("span",{className:"text-sm text-tertiary-text",children:x+1}),o.jsxs("div",{className:"flex-1 mx-3",children:[o.jsx("div",{className:"text-sm font-medium text-primary-text",children:b}),o.jsx("div",{className:"text-xs text-tertiary-text",children:y})]}),o.jsx("span",{className:"text-sm font-semibold text-primary-text",children:Oe(m.remainingAmount)})]},x)})}),o.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-primary-border",children:[o.jsx("span",{className:"font-semibold text-primary-text",children:"TNG"}),o.jsx("span",{className:"text-lg font-bold text-red-500",children:Oe(a)})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:s==="cash",onChange:m=>l(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:s==="bank",onChange:m=>l(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg",children:[o.jsx("input",{type:"text",value:u,onChange:m=>d(m.target.value),className:"flex-1 bg-transparent text-primary-text outline-none"}),o.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),o.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-secondary-border text-secondary-text rounded-lg hover:bg-primary-bg transition-colors font-medium",children:"NG"}),o.jsx("button",{type:"submit",disabled:!s,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600",children:"TO PHIU THU"})]})]})]})})},dNe=e=>xi({queryKey:["cashTxRepo",e],queryFn:async()=>{const t=await yJ(e);if(!t.ok)throw t.error;return t.data}}),wH=()=>{const e=ia();return an({mutationFn:t=>WS(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cashTxRepo"]}),Xe.success(" ghi thu/chi")},onError:t=>Xe.error(ca(t))})},kH=()=>{const e=ia();return an({mutationFn:({id:t,branchId:r,delta:a})=>VS(t,r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["paymentSourcesRepo"]})},onError:t=>Xe.error(ca(t))})},_H=()=>{const{cashTransactions:e,paymentSources:t,currentBranchId:r,setCashTransactions:a,setPaymentSources:n}=si();rc();const i=wH(),s=kH(),[l,u]=j.useState("all"),[d,h]=j.useState("all"),[m,x]=j.useState("month"),[p,y]=j.useState(!1),b=j.useMemo(()=>{let k=e.filter(A=>A.branchId===r);l!=="all"&&(k=k.filter(A=>A.type===l)),d!=="all"&&(k=k.filter(A=>A.paymentSourceId===d));const N=new Date,_=new Date(N.getFullYear(),N.getMonth(),N.getDate());switch(m){case"today":k=k.filter(M=>new Date(M.date)>=_);break;case"week":const A=new Date(_);A.setDate(A.getDate()-7),k=k.filter(M=>new Date(M.date)>=A);break;case"month":const D=new Date(_);D.setMonth(D.getMonth()-1),k=k.filter(M=>new Date(M.date)>=D);break}return k.sort((A,D)=>new Date(D.date).getTime()-new Date(A.date).getTime())},[e,r,l,d,m]),v=j.useMemo(()=>{var M,L;const k=b.filter(B=>B.type==="income").reduce((B,F)=>B+F.amount,0),N=b.filter(B=>B.type==="expense").reduce((B,F)=>B+F.amount,0),_=k-N,A=((M=t.find(B=>B.id==="cash"))==null?void 0:M.balance[r])||0,D=((L=t.find(B=>B.id==="bank"))==null?void 0:L.balance[r])||0;return{income:k,expense:N,balance:_,cashBalance:A,bankBalance:D,totalBalance:A+D}},[b,t,r]);return o.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"S qu"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di thu chi tin mt v chuyn khon"})]}),o.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),o.jsx("span",{children:"Thm giao dch"})]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),o.jsx("span",{children:"Thu"})]}),o.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Oe(v.income)})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),o.jsx("span",{children:"Chi"})]}),o.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:Oe(v.expense)})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Chnh lch"}),o.jsx("div",{className:`text-2xl font-bold ${v.balance>=0?"text-blue-900 dark:text-blue-100":"text-red-600 dark:text-red-400"}`,children:Oe(v.balance)})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"Tin mt"}),o.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:Oe(v.cashBalance)})]}),o.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[o.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-2",children:"Ngn hng"}),o.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:Oe(v.bankBalance)})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Loi:"}),o.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"Tt c"},{value:"income",label:"Thu"},{value:"expense",label:"Chi"}].map(k=>o.jsx("button",{onClick:()=>u(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${l===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ngun tin:"}),o.jsxs("select",{value:d,onChange:k=>h(k.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-sm text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"Tt c"}),o.jsx("option",{value:"cash",children:"Tin mt"}),o.jsx("option",{value:"bank",children:"Ngn hng"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thi gian:"}),o.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Hm nay"},{value:"week",label:"7 ngy"},{value:"month",label:"30 ngy"},{value:"all",label:"Tt c"}].map(k=>o.jsx("button",{onClick:()=>x(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${m===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]})]})}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Loi"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Danh mc"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"i tng"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ni dung"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngun tin"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"S tin"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:b.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c giao dch no"})}):b.map(k=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:ln(new Date(k.date))}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${k.type==="income"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:k.type==="income"?" Thu":" Chi"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:hNe(k.category)}),o.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:k.recipient||"--"}),o.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.notes||"--"}),o.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.paymentSourceId==="cash"?"Tin mt":"Ngn hng"}),o.jsxs("td",{className:`px-4 py-3 text-right text-sm font-semibold ${k.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[k.type==="income"?"+":"-",Oe(k.amount)]}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("button",{className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]},k.id))})]})})]}),p&&o.jsx(fNe,{onClose:()=>y(!1),onSave:async k=>{if(!k.amount||k.amount<=0){Xe.warning("S tin phi > 0");return}try{const N=await i.mutateAsync({type:k.type,amount:k.amount,branchId:r,paymentSourceId:k.paymentSourceId,date:k.date,notes:k.notes,category:k.category,recipient:k.recipient});if(N!=null&&N.ok){a(A=>[N.data,...A]);const _=k.type==="income"?k.amount:-k.amount;await s.mutateAsync({id:k.paymentSourceId,branchId:r,delta:_}),n(A=>A.map(D=>D.id===k.paymentSourceId?{...D,balance:{...D.balance,[r]:(D.balance[r]||0)+_}}:D)),Xe.success(" thm giao dch s qu"),y(!1)}else N!=null&&N.error&&Xe.error(N.error.message||"Ghi giao dch tht bi")}catch(N){Xe.error((N==null?void 0:N.message)||"Li khng xc nh")}}})]})},hNe=e=>e?{sale_income:"Bn hng",service_income:"Dch v",other_income:"Thu khc",inventory_purchase:"Mua hng",salary:"Lng nhn vin",loan_payment:"Tr n vay",debt_collection:"Thu n khch hng",debt_payment:"Tr n nh cung cp",sale_refund:"Hon tr",other_expense:"Chi khc"}[e]||e:"--",fNe=({onClose:e,onSave:t})=>{const[r,a]=j.useState("income"),[n,i]=j.useState("0"),[s,l]=j.useState(""),[u,d]=j.useState("cash"),[h,m]=j.useState(""),[x,p]=j.useState(""),[y,b]=j.useState(new Date().toISOString().split("T")[0]),v=_=>{_.preventDefault(),t({type:r,amount:parseFloat(n),category:s,paymentSourceId:u,recipient:h,notes:x,date:new Date(y).toISOString()})},k=[{value:"sale_income",label:"Tin bn hng"},{value:"service_income",label:"Tin dch v"},{value:"other_income",label:"Thu nhp khc"}],N=[{value:"inventory_purchase",label:"Mua hng"},{value:"salary",label:"Lng nhn vin"},{value:"rent",label:"Tin thu mt bng"},{value:"utilities",label:"in nc"},{value:"sale_refund",label:"Hon tr khch hng"},{value:"other_expense",label:"Chi ph khc"}];return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm giao dch"})}),o.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi giao dch"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"income",checked:r==="income",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Thu tin"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"expense",checked:r==="expense",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chi tin"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin"}),o.jsx("input",{type:"number",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),o.jsxs("select",{value:s,onChange:_=>l(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Chn danh mc"}),(r==="income"?k:N).map(_=>o.jsx("option",{value:_.value,children:_.label},_.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"i tng"}),o.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),placeholder:r==="income"?"Thu tin t ai?":"Chi tin cho ai?",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngun tin"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"cash",checked:u==="cash",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"bank",checked:u==="bank",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Ngn hng"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy giao dch"}),o.jsx("input",{type:"date",value:y,onChange:_=>b(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ni dung"}),o.jsx("textarea",{value:x,onChange:_=>p(_.target.value),rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",placeholder:"Ghi ch v giao dch..."})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu giao dch"})]})]})]})})};async function mNe(){try{const{data:e,error:t}=await Tt.from("loans").select("*").order("created_at",{ascending:!1});if(t)return ot({code:"supabase",message:"Khng th ti danh sch khon vay",cause:t});const r=(e||[]).map(a=>({id:a.id,lenderName:a.lender_name,loanType:a.loan_type,principal:a.principal,interestRate:a.interest_rate,term:a.term,startDate:a.start_date,endDate:a.end_date,remainingAmount:a.remaining_amount,monthlyPayment:a.monthly_payment,status:a.status,purpose:a.purpose,collateral:a.collateral,notes:a.notes,branchId:a.branch_id,created_at:a.created_at}));return Fr(r)}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function pNe(e){try{const t={id:`LOAN-${Date.now()}`,lender_name:e.lenderName,loan_type:e.loanType,principal:e.principal,interest_rate:e.interestRate,term:e.term,start_date:e.startDate,end_date:e.endDate,remaining_amount:e.remainingAmount||e.principal,monthly_payment:e.monthlyPayment,status:e.status||"active",purpose:e.purpose,collateral:e.collateral,notes:e.notes,branch_id:e.branchId||"CN1"},{data:r,error:a}=await Tt.from("loans").insert(t).select().single();return a||!r?ot({code:"supabase",message:(a==null?void 0:a.message)||"Khng th thm khon vay",cause:a||new Error("No data returned")}):Fr({id:r.id,lenderName:r.lender_name,loanType:r.loan_type,principal:r.principal,interestRate:r.interest_rate,term:r.term,startDate:r.start_date,endDate:r.end_date,remainingAmount:r.remaining_amount,monthlyPayment:r.monthly_payment,status:r.status,purpose:r.purpose,collateral:r.collateral,notes:r.notes,branchId:r.branch_id,created_at:r.created_at})}catch(t){return ot({code:"network",message:"Li kt ni khi thm khon vay",cause:t})}}async function gNe(e,t){try{const r={};t.lenderName!==void 0&&(r.lender_name=t.lenderName),t.loanType!==void 0&&(r.loan_type=t.loanType),t.principal!==void 0&&(r.principal=t.principal),t.interestRate!==void 0&&(r.interest_rate=t.interestRate),t.term!==void 0&&(r.term=t.term),t.startDate!==void 0&&(r.start_date=t.startDate),t.endDate!==void 0&&(r.end_date=t.endDate),t.remainingAmount!==void 0&&(r.remaining_amount=t.remainingAmount),t.monthlyPayment!==void 0&&(r.monthly_payment=t.monthlyPayment),t.status!==void 0&&(r.status=t.status),t.purpose!==void 0&&(r.purpose=t.purpose),t.collateral!==void 0&&(r.collateral=t.collateral),t.notes!==void 0&&(r.notes=t.notes),r.updated_at=new Date().toISOString();const{data:a,error:n}=await Tt.from("loans").update(r).eq("id",e).select().single();return n||!a?ot({code:"supabase",message:"Khng th cp nht khon vay",cause:n}):Fr({id:a.id,lenderName:a.lender_name,loanType:a.loan_type,principal:a.principal,interestRate:a.interest_rate,term:a.term,startDate:a.start_date,endDate:a.end_date,remainingAmount:a.remaining_amount,monthlyPayment:a.monthly_payment,status:a.status,purpose:a.purpose,collateral:a.collateral,notes:a.notes,branchId:a.branch_id,created_at:a.created_at})}catch(r){return ot({code:"network",message:"Li kt ni khi cp nht khon vay",cause:r})}}async function xNe(e){try{const{error:t}=await Tt.from("loans").delete().eq("id",e);return t?ot({code:"supabase",message:"Khng th xa khon vay",cause:t}):Fr(void 0)}catch(t){return ot({code:"network",message:"Li kt ni khi xa khon vay",cause:t})}}async function vNe(e){try{let t=Tt.from("loan_payments").select("*").order("payment_date",{ascending:!1});const{data:r,error:a}=await t;if(a)return ot({code:"supabase",message:"Khng th ti lch s tr n",cause:a});const n=(r||[]).map(i=>({id:i.id,loanId:i.loan_id,paymentDate:i.payment_date,principalAmount:i.principal_amount,interestAmount:i.interest_amount,totalAmount:i.total_amount,remainingAmount:i.remaining_amount,paymentMethod:i.payment_method,notes:i.notes,branchId:i.branch_id,cashTransactionId:i.cash_transaction_id}));return Fr(n)}catch(t){return ot({code:"network",message:"Li kt ni ti my ch",cause:t})}}async function bNe(e){try{const t={id:`LPAY-${Date.now()}`,loan_id:e.loanId,payment_date:e.paymentDate,principal_amount:e.principalAmount,interest_amount:e.interestAmount,total_amount:e.totalAmount,remaining_amount:e.remainingAmount,payment_method:e.paymentMethod,notes:e.notes,branch_id:e.branchId||"CN1",cash_transaction_id:e.cashTransactionId},{data:r,error:a}=await Tt.from("loan_payments").insert(t).select().single();return a||!r?ot({code:"supabase",message:(a==null?void 0:a.message)||"Khng th thm thanh ton",cause:a||new Error("No data returned")}):Fr({id:r.id,loanId:r.loan_id,paymentDate:r.payment_date,principalAmount:r.principal_amount,interestAmount:r.interest_amount,totalAmount:r.total_amount,remainingAmount:r.remaining_amount,paymentMethod:r.payment_method,notes:r.notes,branchId:r.branch_id,cashTransactionId:r.cash_transaction_id})}catch(t){return ot({code:"network",message:"Li kt ni khi thm thanh ton",cause:t})}}function yNe(){return xi({queryKey:["loans"],queryFn:mNe,select:e=>{if(!e.ok)throw new Error(ca(e.error));return e.data}})}function wNe(){const e=ia();return an({mutationFn:t=>pNe(t),onSuccess:t=>{if(t.ok)e.invalidateQueries({queryKey:["loans"]});else throw new Error(ca(t.error))}})}function kNe(){const e=ia();return an({mutationFn:({id:t,updates:r})=>gNe(t,r),onSuccess:t=>{if(t.ok)e.invalidateQueries({queryKey:["loans"]});else throw new Error(ca(t.error))}})}function _Ne(){const e=ia();return an({mutationFn:t=>xNe(t),onSuccess:t=>{if(t.ok)e.invalidateQueries({queryKey:["loans"]});else throw new Error(ca(t.error))}})}function SNe(e){return xi({queryKey:["loanPayments",e],queryFn:()=>vNe(e),select:t=>{if(!t.ok)throw new Error(ca(t.error));return t.data}})}function NNe(){const e=ia();return an({mutationFn:t=>bNe(t),onSuccess:t=>{if(t.ok)e.invalidateQueries({queryKey:["loanPayments"]}),e.invalidateQueries({queryKey:["loans"]});else throw new Error(ca(t.error))}})}const SH=()=>{const{currentBranchId:e,setCashTransactions:t,cashTransactions:r,setPaymentSources:a,paymentSources:n}=si(),{data:i=[],isLoading:s}=yNe(),{data:l=[],isLoading:u}=SNe(),d=wNe(),h=kNe();_Ne();const m=NNe(),[x,p]=j.useState(!1),[y,b]=j.useState(!1),[v,k]=j.useState(null),N=j.useMemo(()=>{const A=i.reduce((F,H)=>F+H.principal,0),D=i.reduce((F,H)=>F+H.remainingAmount,0),M=A-D,L=i.filter(F=>F.status==="active").length,B=i.filter(F=>F.status==="overdue").length;return{totalLoans:A,totalRemaining:D,totalPaid:M,activeLoans:L,overdueLoans:B}},[i]),_=j.useMemo(()=>({active:i.filter(A=>A.status==="active"),overdue:i.filter(A=>A.status==="overdue"),paid:i.filter(A=>A.status==="paid")}),[i]);return o.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l vn & vay"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di cc khon vay v lch tr n"})]}),o.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx(xh,{className:"w-5 h-5"}),o.jsx("span",{children:"Thm khon vay"})]})]})}),o.jsx("div",{className:"p-6",children:s||u?o.jsxs("div",{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-600"}),o.jsx("span",{className:"ml-3 text-secondary-text",children:"ang ti d liu..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng vay"}),o.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:Oe(N.totalLoans)})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:"Cn n"}),o.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:Oe(N.totalRemaining)})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:" tr"}),o.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Oe(N.totalPaid)})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"ang vay"}),o.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:N.activeLoans}),o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"khon"})]}),o.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Qu hn"}),o.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:N.overdueLoans}),o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"khon"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay ang hot ng"}),_.active.length===0?o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c khon vay no ang hot ng"}):o.jsx("div",{className:"grid gap-4",children:_.active.map(A=>o.jsx(F_,{loan:A,onPayment:()=>{k(A),b(!0)}},A.id))})]}),_.overdue.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400 mb-4",children:"Cc khon vay qu hn"}),o.jsx("div",{className:"grid gap-4",children:_.overdue.map(A=>o.jsx(F_,{loan:A,onPayment:()=>{k(A),b(!0)},isOverdue:!0},A.id))})]}),_.paid.length>0&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay  thanh ton"}),o.jsx("div",{className:"grid gap-4",children:_.paid.map(A=>o.jsx(F_,{loan:A,isPaid:!0},A.id))})]})]})}),x&&o.jsx(jNe,{onClose:()=>p(!1),onSave:async A=>{try{await d.mutateAsync(A),Xe.success(" thm khon vay thnh cng"),p(!1)}catch(D){Xe.error(D.message||"Khng th thm khon vay")}}}),y&&v&&o.jsx(ANe,{loan:v,onClose:()=>{b(!1),k(null)},onSave:async A=>{try{await h.mutateAsync({id:v.id,updates:{remainingAmount:A.remainingAmount,status:A.remainingAmount===0?"paid":v.status}}),await m.mutateAsync(A),Xe.success(" ghi nhn thanh ton thnh cng");const M={id:`CT-${Date.now()}`,type:"expense",date:A.paymentDate,amount:A.totalAmount,recipient:v.lenderName,notes:`Tr n vay - ${v.lenderName} (Gc: ${Oe(A.principalAmount)}, Li: ${Oe(A.interestAmount)})`,paymentSourceId:A.paymentMethod,branchId:e,category:"loan_payment"};t([M,...r]),a(n.map(L=>L.id===A.paymentMethod?{...L,balance:{...L.balance,[e]:(L.balance[e]||0)-A.totalAmount}}:L)),b(!1),k(null)}catch(D){Xe.error(D.message||"Khng th ghi nhn thanh ton")}}})]})},F_=({loan:e,onPayment:t,isOverdue:r,isPaid:a})=>{const n=(e.principal-e.remainingAmount)/e.principal*100,i=Math.ceil((new Date(e.endDate).getTime()-new Date().getTime())/(1e3*60*60*24));return o.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-lg border-2 p-6 ${r?"border-orange-300 dark:border-orange-700":a?"border-green-300 dark:border-green-700":"border-slate-200 dark:border-slate-700"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:e.lenderName}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.loanType==="bank"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":e.loanType==="personal"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:e.loanType==="bank"?"Ngn hng":e.loanType==="personal"?"C nhn":"Khc"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.purpose})]}),!a&&o.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Tr n"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"S tin vay"}),o.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:Oe(e.principal)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Cn n"}),o.jsx("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:Oe(e.remainingAmount)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Li sut"}),o.jsxs("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[e.interestRate,"%/nm"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Tr hng thng"}),o.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:Oe(e.monthlyPayment)})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-2",children:[o.jsxs("span",{children:[" tr ",n.toFixed(1),"%"]}),o.jsx("span",{children:!a&&(r?"Qu hn":i>0?`Cn ${i} ngy`:"n hn hm nay")})]}),o.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all ${r?"bg-orange-500":a?"bg-green-500":"bg-blue-500"}`,style:{width:`${n}%`}})})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[o.jsxs("span",{children:["Ngy vay: ",ln(new Date(e.startDate))]}),o.jsxs("span",{children:["n hn: ",ln(new Date(e.endDate))]})]})]})},jNe=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState("bank"),[s,l]=j.useState("0"),[u,d]=j.useState("0"),[h,m]=j.useState("12"),[x,p]=j.useState(new Date().toISOString().split("T")[0]),[y,b]=j.useState(""),[v,k]=j.useState(""),N=_=>{_.preventDefault();const A=parseFloat(s),D=parseFloat(u),M=parseInt(h),L=D/100/12,B=A*(L*Math.pow(1+L,M))/(Math.pow(1+L,M)-1),F=new Date(x),H=new Date(F);H.setMonth(H.getMonth()+M);const O={lenderName:r,loanType:n,principal:A,interestRate:D,term:M,startDate:F.toISOString(),endDate:H.toISOString(),remainingAmount:A,monthlyPayment:isNaN(B)?0:B,status:"active",purpose:y,collateral:v};t(O)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm khon vay mi"})}),o.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng/Ngi cho vay *"}),o.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi vay *"}),o.jsxs("select",{value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[o.jsx("option",{value:"bank",children:"Ngn hng"}),o.jsx("option",{value:"personal",children:"C nhn"}),o.jsx("option",{value:"other",children:"Khc"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin vay *"}),o.jsx("input",{type:"number",value:s,onChange:_=>l(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Li sut (%/nm) *"}),o.jsx("input",{type:"number",step:"0.1",value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"K hn (thng) *"}),o.jsx("input",{type:"number",value:h,onChange:_=>m(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vay *"}),o.jsx("input",{type:"date",value:x,onChange:_=>p(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mc ch vay"}),o.jsx("input",{type:"text",value:y,onChange:_=>b(_.target.value),placeholder:"V d: M rng ca hng, mua thit b...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ti sn th chp"}),o.jsx("input",{type:"text",value:v,onChange:_=>k(_.target.value),placeholder:"V d: S  nh, giy t xe...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm khon vay"})]})]})]})})},ANe=({loan:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(e.monthlyPayment.toString()),[i,s]=j.useState("0"),[l,u]=j.useState("bank"),[d,h]=j.useState(new Date().toISOString().split("T")[0]),[m,x]=j.useState(""),p=parseFloat(a)+parseFloat(i),y=e.remainingAmount-parseFloat(a),b=v=>{v.preventDefault();const k={id:`LOANPAY-${Date.now()}`,loanId:e.id,paymentDate:new Date(d).toISOString(),principalAmount:parseFloat(a),interestAmount:parseFloat(i),totalAmount:p,remainingAmount:Math.max(0,y),paymentMethod:l,notes:m,branchId:e.branchId};r(k)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tr n - ",e.lenderName]}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Cn n: ",Oe(e.remainingAmount)]})]}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin gc *"}),o.jsx("input",{type:"number",value:a,onChange:v=>n(v.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin li"}),o.jsx("input",{type:"number",value:i,onChange:v=>s(v.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tng tin tr:"}),o.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:Oe(p)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cn li sau khi tr:"}),o.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:Oe(Math.max(0,y))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"cash",checked:l==="cash",onChange:v=>u(v.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"bank",checked:l==="bank",onChange:v=>u(v.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chuyn khon"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy tr"}),o.jsx("input",{type:"date",value:d,onChange:v=>h(v.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch"}),o.jsx("textarea",{value:m,onChange:v=>x(v.target.value),rows:2,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Xc nhn tr n"})]})]})]})})},TNe=()=>{const[e,t]=j.useState("cashbook");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900 rounded-lg shadow-lg border border-primary-border p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold text-primary-text mb-2",children:[o.jsx(QJ,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}),"Qun l Ti chnh"]}),o.jsx("p",{className:"text-secondary-text",children:"Qun l s qu, khon vay v cc giao dch ti chnh"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>t("cashbook"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="cashbook"?"bg-blue-600 text-white shadow-blue-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx(Jx,{className:"w-4 h-4"})," S qu"]}),o.jsxs("button",{onClick:()=>t("loans"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="loans"?"bg-cyan-600 text-white shadow-cyan-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[o.jsx(eR,{className:"w-4 h-4"})," Khon vay"]})]})]})}),o.jsxs("div",{children:[e==="cashbook"&&o.jsx(_H,{}),e==="loans"&&o.jsx(SH,{})]})]})},NH=()=>{const{employees:e,payrollRecords:t,upsertEmployee:r,upsertPayrollRecord:a,currentBranchId:n}=si(),{mutateAsync:i}=wH(),{mutateAsync:s}=kH(),[l,u]=j.useState(new Date().toISOString().slice(0,7)),[d,h]=j.useState("employees"),[m,x]=j.useState(!1),[p,y]=j.useState(!1),b=j.useMemo(()=>t.filter(k=>k.month===l),[t,l]),v=j.useMemo(()=>{const k=e.filter(M=>M.status==="active").length,N=b.reduce((M,L)=>M+L.baseSalary,0),_=b.reduce((M,L)=>M+L.netSalary,0),A=b.filter(M=>M.paymentStatus==="paid").length,D=b.filter(M=>M.paymentStatus==="pending").length;return{totalEmployees:k,totalBaseSalary:N,totalNetSalary:_,paidCount:A,pendingCount:D}},[e,b]);return o.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[o.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l lng"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Qun l nhn vin v tnh lng"})]}),o.jsxs("button",{onClick:()=>d==="employees"?x(!0):y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[o.jsx(xh,{className:"w-5 h-5"}),o.jsx("span",{children:d==="employees"?"Thm nhn vin":"Tnh lng thng"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>h("employees"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="employees"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Danh sch nhn vin (",e.filter(k=>k.status==="active").length,")"]}),o.jsx("button",{onClick:()=>h("payroll"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="payroll"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:"Bng lng"})]})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:d==="employees"?o.jsx(ENe,{employees:e,onEdit:k=>console.log("Edit",k)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn thng"}),o.jsx("input",{type:"month",value:l,onChange:k=>u(k.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]})}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng lng c bn"}),o.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:Oe(v.totalBaseSalary)})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:"Tng lng thc nhn"}),o.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Oe(v.totalNetSalary)})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border border-amber-200 dark:border-amber-800",children:[o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:" tr lng"}),o.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:v.paidCount}),o.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"nhn vin"})]}),o.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Cha tr"}),o.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:v.pendingCount}),o.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"nhn vin"})]})]})]}),o.jsx(CNe,{payroll:b,onMarkAsPaid:async(k,N)=>{const _=t.find(A=>A.id===k);_&&(a({..._,paymentStatus:"paid",paymentDate:new Date().toISOString(),paymentMethod:N}),await i({type:"expense",amount:_.netSalary,branchId:n,paymentSourceId:N,category:"salary",payrollRecordId:_.id,recipient:_.employeeName,notes:`Tr lng thng ${l} - ${_.employeeName}`,date:new Date().toISOString()}),await s({id:N,branchId:n,delta:-_.netSalary}))}})]})}),m&&o.jsx(ONe,{onClose:()=>x(!1),onSave:k=>{r(k),x(!1)}}),p&&o.jsx(PNe,{employees:e.filter(k=>k.status==="active"),month:l,onClose:()=>y(!1),onSave:k=>{k.forEach(N=>a(N)),y(!1)}})]})},ENe=({employees:e,onEdit:t})=>e.length===0?o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c nhn vin no"})}):o.jsx("div",{className:"grid gap-4",children:e.map(r=>o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:r.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:r.status==="active"?"ang lm":"Ngh vic"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Chc v:"," "]}),o.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.position})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Lng:"," "]}),o.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:Oe(r.baseSalary)})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ST:"," "]}),o.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.phone||"--"})]})]})]}),o.jsx("button",{onClick:()=>t(r),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg text-sm font-medium transition-colors",children:"Sa"})]})},r.id))}),CNe=({payroll:e,onMarkAsPaid:t})=>{const[r,a]=j.useState(!1),[n,i]=j.useState(null);return e.length===0?o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c bng lng cho thng ny"})}):o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"BHXH"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thu"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(s=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:s.employeeName}),o.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:Oe(s.baseSalary)}),o.jsxs("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400",children:["+",Oe(s.bonus)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400",children:["-",Oe(s.deduction)]}),o.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:Oe(s.socialInsurance)}),o.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:Oe(s.personalIncomeTax)}),o.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:Oe(s.netSalary)}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}`,children:s.paymentStatus==="paid"?" tr":"Cha tr"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:s.paymentStatus==="pending"&&t&&o.jsx("button",{onClick:()=>{i(s),a(!0)},className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-md text-xs font-medium transition-colors",children:" tr lng"})})]},s.id))})]}),r&&n&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Xc nhn tr lng"})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Nhn vin"}),o.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n.employeeName}),o.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:Oe(n.netSalary)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>{t&&t(n.id,"cash"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]}),o.jsxs("button",{onClick:()=>{t&&t(n.id,"bank"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:o.jsx("button",{onClick:()=>{a(!1),i(null)},className:"w-full px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"})})]})})]})},ONe=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState(""),[s,l]=j.useState(""),[u,d]=j.useState("0"),[h,m]=j.useState(new Date().toISOString().split("T")[0]),x=p=>{p.preventDefault();const y={name:r,phone:n,position:s,baseSalary:parseFloat(u),startDate:new Date(h).toISOString(),status:"active"};t(y)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm nhn vin mi"})}),o.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"H v tn *"}),o.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),o.jsx("input",{type:"tel",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chc v *"}),o.jsx("input",{type:"text",value:s,onChange:p=>l(p.target.value),placeholder:"V d: K thut vin, Nhn vin bn hng...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Lng c bn *"}),o.jsx("input",{type:"number",value:u,onChange:p=>d(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vo lm *"}),o.jsx("input",{type:"date",value:h,onChange:p=>m(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm nhn vin"})]})]})]})})},PNe=({employees:e,month:t,onClose:r,onSave:a})=>{const[n,i]=j.useState(e.map(y=>({employeeId:y.id,employeeName:y.name,baseSalary:y.baseSalary,bonus:0,deduction:0}))),s=(y,b)=>{i(v=>v.map(k=>k.employeeId===y?{...k,bonus:parseFloat(b)||0}:k))},l=(y,b)=>{i(v=>v.map(k=>k.employeeId===y?{...k,deduction:parseFloat(b)||0}:k))},u=(y,b,v)=>y+b-v,d=y=>{y.preventDefault();const b=n.map(v=>({id:`PAY-${t}-${v.employeeId}`,employeeId:v.employeeId,employeeName:v.employeeName,month:t,baseSalary:v.baseSalary,allowances:0,bonus:v.bonus,deduction:v.deduction,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:u(v.baseSalary,v.bonus,v.deduction),paymentStatus:"pending",paymentDate:void 0,notes:"",branchId:"main",created_at:new Date().toISOString()}));a(b)},h=n.reduce((y,b)=>y+b.baseSalary,0),m=n.reduce((y,b)=>y+b.bonus,0),x=n.reduce((y,b)=>y+b.deduction,0),p=n.reduce((y,b)=>y+u(b.baseSalary,b.bonus,b.deduction),0);return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-5xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tnh lng thng ",t]}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.length," nhn vin"]})]}),o.jsxs("form",{onSubmit:d,className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(y=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:y.employeeName}),o.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:Oe(y.baseSalary)}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",value:y.bonus,onChange:b=>s(y.employeeId,b.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",value:y.deduction,onChange:b=>l(y.employeeId,b.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),o.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:Oe(u(y.baseSalary,y.bonus,y.deduction))})]},y.employeeId))}),o.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-700 border-t-2 border-slate-300 dark:border-slate-600",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-bold",children:"TNG CNG"}),o.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white font-bold",children:Oe(h)}),o.jsx("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400 font-bold",children:Oe(m)}),o.jsx("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400 font-bold",children:Oe(x)}),o.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold text-lg",children:Oe(p)})]})})]})})}),o.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"To bng lng"})]})]})]})})},DNe=(e,t,r)=>{const a=Kr.book_new(),n=e.reduce((p,y)=>p+y.total,0),i=e.reduce((p,y)=>p+y.items.reduce((b,v)=>b+(v.costPrice||0)*v.quantity,0),0),s=n-i,l=n>0?s/n*100:0,u=[["BO CO DOANH THU"],[`T ${ln(t)} n ${ln(r)}`],[],["Ch tiu","Gi tr"],["Tng doanh thu",Oe(n)],["Tng chi ph",Oe(i)],["Li nhun",Oe(s)],["Bin li nhun",`${l.toFixed(2)}%`]],d=Kr.aoa_to_sheet(u);Kr.book_append_sheet(a,d,"Tng quan");const h=[["M n","Ngy","Khch hng","ST","Sn phm","S lng","n gi","Thnh tin","Gim gi","Tng","Phng thc"]];e.forEach(p=>{p.items.forEach((y,b)=>{h.push([b===0?Rp(p.id):"",b===0?ln(p.date):"",b===0?p.customer.name:"",b===0&&p.customer.phone||"",y.partName,y.quantity,y.sellingPrice,y.sellingPrice*y.quantity,b===0?p.discount:"",b===0?p.total:"",b===0?p.paymentMethod==="cash"?"Tin mt":"Ngn hng":""])})});const m=Kr.aoa_to_sheet(h);Kr.book_append_sheet(a,m,"Chi tit bn hng");const x=`BaoCaoDoanhThu_${t}_${r}.xlsx`;ym(a,x)},LNe=(e,t,r)=>{const a=Kr.book_new(),n=e.filter(b=>b.type==="income").reduce((b,v)=>b+v.amount,0),i=e.filter(b=>b.type==="expense").reduce((b,v)=>b+v.amount,0),s=n-i,l=[["BO CO THU CHI"],[`T ${ln(t)} n ${ln(r)}`],[],["Ch tiu","Gi tr"],["Tng thu",Oe(n)],["Tng chi",Oe(i)],["Thu chi rng",Oe(s)]],u=Kr.aoa_to_sheet(l);Kr.book_append_sheet(a,u,"Tng quan");const d=[["Ngy","Loi","Danh mc","S tin","i tng","Ngun thanh ton","Ghi ch"]];e.forEach(b=>{d.push([ln(b.date),b.type==="income"?"Thu":"Chi",b.category||"",b.amount,b.recipient||"",b.paymentSourceId,b.notes])});const h=Kr.aoa_to_sheet(d);Kr.book_append_sheet(a,h,"Chi tit giao dch");const m={};e.forEach(b=>{const v=b.category||"Khc";m[v]||(m[v]={income:0,expense:0}),b.type==="income"?m[v].income+=b.amount:m[v].expense+=b.amount});const x=[["Danh mc","Thu","Chi","Chnh lch"]];Object.entries(m).forEach(([b,v])=>{x.push([b,v.income,v.expense,v.income-v.expense])});const p=Kr.aoa_to_sheet(x);Kr.book_append_sheet(a,p,"Theo danh mc");const y=`BaoCaoThuChi_${t}_${r}.xlsx`;ym(a,y)},MNe=(e,t,r,a)=>{const n=Kr.book_new(),i=e.reduce((p,y)=>{var b;return p+(y.stock[t]||0)*(((b=y.wholesalePrice)==null?void 0:b[t])||0)},0),s=e.filter(p=>(p.stock[t]||0)<10).length,l=[["BO CO TN KHO"],[`Ngy: ${ln(a)}`],[],["Ch tiu","Gi tr"],["Tng gi tr tn kho",Oe(i)],["S loi sn phm",e.length],["Sn phm tn kho thp",s]],u=Kr.aoa_to_sheet(l);Kr.book_append_sheet(n,u,"Tng quan");const d=[["M SKU","Tn sn phm","Danh mc","Tn kho","Gi nhp","Gi bn","Gi tr tn","Trng thi"]];e.forEach(p=>{var _;const y=p.stock[t]||0,b=((_=p.wholesalePrice)==null?void 0:_[t])||0,v=p.retailPrice[t]||0,k=y*b,N=y<10?"Thp":y<50?"Trung bnh":"";d.push([p.sku,p.name,p.category||"",y,b,v,k,N])});const h=Kr.aoa_to_sheet(d);Kr.book_append_sheet(n,h,"Chi tit tn kho");const m=e.filter(p=>(p.stock[t]||0)<10);if(m.length>0){const p=[["M SKU","Tn sn phm","Tn kho","Ghi ch"]];m.forEach(b=>{p.push([b.sku,b.name,b.stock[t]||0,"Cn nhp thm hng"])});const y=Kr.aoa_to_sheet(p);Kr.book_append_sheet(n,y,"Cnh bo tn kho")}const x=`BaoCaoTonKho_${a}.xlsx`;ym(n,x)},INe=(e,t,r)=>{const a=Kr.book_new(),n=e.reduce((v,k)=>v+k.baseSalary,0),i=e.reduce((v,k)=>v+k.netSalary,0),s=e.filter(v=>v.paymentStatus==="paid").length,l=e.filter(v=>v.paymentStatus==="pending").length,u=[["BO CO LNG"],[`T ${t} n ${r}`],[],["Ch tiu","Gi tr"],["Tng lng c bn",Oe(n)],["Tng lng thc nhn",Oe(i)],["S bng lng  tr",s],["S bng lng cha tr",l]],d=Kr.aoa_to_sheet(u);Kr.book_append_sheet(a,d,"Tng quan");const h=[["Nhn vin","Thng","Lng c bn","Ph cp","Thng","Khu tr","BHXH","BHYT","BHTN","Thu TNCN","Thc nhn","Trng thi","Ngy tr"]];e.forEach(v=>{h.push([v.employeeName,v.month,v.baseSalary,v.allowances,v.bonus,v.deduction,v.socialInsurance,v.healthInsurance,v.unemploymentInsurance,v.personalIncomeTax,v.netSalary,v.paymentStatus==="paid"?" tr":"Cha tr",v.paymentDate?ln(v.paymentDate):""])});const m=Kr.aoa_to_sheet(h);Kr.book_append_sheet(a,m,"Chi tit lng");const x={};e.forEach(v=>{x[v.employeeName]||(x[v.employeeName]={totalBase:0,totalNet:0,months:0}),x[v.employeeName].totalBase+=v.baseSalary,x[v.employeeName].totalNet+=v.netSalary,x[v.employeeName].months+=1});const p=[["Nhn vin","S thng","Tng lng c bn","Tng thc nhn","TB/thng"]];Object.entries(x).forEach(([v,k])=>{p.push([v,k.months,k.totalBase,k.totalNet,Math.round(k.totalNet/k.months)])});const y=Kr.aoa_to_sheet(p);Kr.book_append_sheet(a,y,"Theo nhn vin");const b=`BaoCaoLuong_${t}_${r}.xlsx`;ym(a,b)},RNe=(e,t,r,a,n)=>{const i=Kr.book_new(),s=[["BO CO CNG N"],[`T ${ln(a)} n ${ln(n)}`],[],["Loi","S lng"],["Khch hng",e.length],["Nh cung cp",t.length]],l=Kr.aoa_to_sheet(s);Kr.book_append_sheet(i,l,"Tng quan");const u=[["Tn khch hng","ST","Xe","Bin s","Phn khc"]];e.forEach(p=>{u.push([p.name,p.phone||"",p.vehicleModel||"",p.licensePlate||"",p.segment||""])});const d=Kr.aoa_to_sheet(u);Kr.book_append_sheet(i,d,"Khch hng");const h=[["Tn nh cung cp","ST","Email","a ch"]];t.forEach(p=>{h.push([p.name,p.phone||"",p.email||"",p.address||""])});const m=Kr.aoa_to_sheet(h);Kr.book_append_sheet(i,m,"Nh cung cp");const x=`BaoCaoCongNo_${a}_${n}.xlsx`;ym(i,x)},FNe=()=>{const{payrollRecords:e,customers:t,suppliers:r,currentBranchId:a,employees:n}=si(),{data:i=[],isLoading:s}=Yge(),{data:l=[],isLoading:u}=Qw(),[d,h]=j.useState("revenue"),[m,x]=j.useState("month"),[p,y]=j.useState(""),[b,v]=j.useState(""),{start:k,end:N}=j.useMemo(()=>{const O=new Date;let I=new Date,V=new Date;if(m==="custom"&&p&&b)return{start:new Date(p),end:new Date(b)};switch(m){case"today":I=new Date(O.setHours(0,0,0,0)),V=new Date(O.setHours(23,59,59,999));break;case"week":I=new Date(O.setDate(O.getDate()-7));break;case"month":I=new Date(O.setMonth(O.getMonth()-1));break;case"quarter":I=new Date(O.setMonth(O.getMonth()-3));break;case"year":I=new Date(O.setFullYear(O.getFullYear()-1));break}return{start:I,end:V}},[m,p,b]),_=j.useMemo(()=>{const O=i.filter(te=>{const X=new Date(te.date);return X>=k&&X<=N}),I=O.reduce((te,X)=>te+X.total,0),V=O.reduce((te,X)=>{const ae=X.items.reduce((de,oe)=>de+(oe.costPrice||0)*oe.quantity,0);return te+ae},0),Y=I-V;return{sales:O,totalRevenue:I,totalCost:V,totalProfit:Y,profitMargin:I>0?(Y/I*100).toFixed(1):0,orderCount:O.length}},[i,k,N]),{data:A=[],isLoading:D}=dNe({branchId:a,startDate:k.toISOString(),endDate:N.toISOString()}),M=j.useMemo(()=>{const O=A.filter(te=>{const X=new Date(te.date);return X>=k&&X<=N}),I=O.filter(te=>te.type==="income").reduce((te,X)=>te+X.amount,0),V=O.filter(te=>te.type==="expense").reduce((te,X)=>te+X.amount,0),Y={};return O.forEach(te=>{const X=te.category||"other";Y[X]||(Y[X]={income:0,expense:0}),te.type==="income"?Y[X].income+=te.amount:Y[X].expense+=te.amount}),{transactions:O,totalIncome:I,totalExpense:V,netCashFlow:I-V,byCategory:Y}},[A,k,N]),L=j.useMemo(()=>{const O=l.map(Y=>({...Y,stock:Y.stock[a]||0,price:Y.retailPrice[a]||0,value:(Y.stock[a]||0)*(Y.retailPrice[a]||0)})),I=O.reduce((Y,te)=>Y+te.value,0),V=O.filter(Y=>Y.stock<10);return{parts:O,totalValue:I,lowStockCount:V.length,lowStockItems:V}},[l,a]),B=j.useMemo(()=>{const O=e.filter(te=>{const X=new Date(te.month);return X>=k&&X<=N}),I=O.reduce((te,X)=>te+X.netSalary,0),V=O.filter(te=>te.paymentStatus==="paid").reduce((te,X)=>te+X.netSalary,0),Y=I-V;return{records:O,totalSalary:I,paidSalary:V,unpaidSalary:Y,employeeCount:new Set(O.map(te=>te.employeeId)).size}},[e,k,N]),F=j.useMemo(()=>{const O=t.map(te=>{const ae=i.filter(de=>(de.customer.name===te.name||de.customer.phone===te.phone)&&de.paymentStatus!=="paid").reduce((de,oe)=>de+oe.total,0);return{name:te.name,debt:ae}}),I=r.map(te=>({name:te.name,debt:0})),V=O.reduce((te,X)=>te+X.debt,0),Y=I.reduce((te,X)=>te+X.debt,0);return{customerDebts:O.filter(te=>te.debt>0),supplierDebts:I.filter(te=>te.debt>0),totalCustomerDebt:V,totalSupplierDebt:Y,netDebt:V-Y}},[t,r]),H=()=>{const O=k.toISOString().split("T")[0],I=N.toISOString().split("T")[0];try{switch(d){case"revenue":DNe(_.sales,O,I);break;case"cashflow":LNe(M.transactions,O,I);break;case"inventory":MNe(l,a,O,I);break;case"payroll":const V=k.toISOString().slice(0,7),Y=N.toISOString().slice(0,7);INe(B.records,V,Y);break;case"debt":RNe(t,r,_.sales,O,I);break}Xe.success("Xut Excel thnh cng! File  c ti xung.")}catch(V){console.error("Export error:",V),Xe.error("C li khi xut Excel. Vui lng th li.")}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[[{key:"revenue",label:"Doanh thu",icon:o.jsx(vf,{className:"w-4 h-4"})},{key:"cashflow",label:"Thu chi",icon:o.jsx(Jx,{className:"w-4 h-4"})},{key:"inventory",label:"Tn kho",icon:o.jsx(fl,{className:"w-4 h-4"})},{key:"payroll",label:"Lng",icon:o.jsx(qy,{className:"w-4 h-4"})},{key:"debt",label:"Cng n",icon:o.jsx(WN,{className:"w-4 h-4"})}].map(O=>o.jsx("button",{onClick:()=>h(O.key),className:`px-6 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${d===O.key?"bg-blue-600 text-white shadow-lg":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.icon,O.label]})},O.key)),o.jsx("div",{className:"h-8 w-px bg-slate-300 dark:bg-slate-600 mx-2"}),["today","week","month","quarter","year","custom"].map(O=>o.jsx("button",{onClick:()=>x(O),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m===O?"bg-blue-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:O==="today"?"Hm nay":O==="week"?"7 ngy":O==="month"?"Thng":O==="quarter"?"Qu":O==="year"?"Nm":"Ty chnh"},O)),m==="custom"&&o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"date",value:p,onChange:O=>y(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"}),o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:""}),o.jsx("input",{type:"date",value:b,onChange:O=>v(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]}),o.jsx("div",{className:"ml-auto flex gap-2",children:o.jsxs("button",{onClick:H,className:"px-5 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 flex items-center gap-2",children:[o.jsx(RJ,{className:"w-4 h-4"})," Xut Excel"]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[d==="revenue"&&o.jsxs("div",{className:"space-y-6",children:[s&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti doanh thu..."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Tng doanh thu"]}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Oe(_.totalRevenue).replace("","")}),o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:[o.jsx(Jx,{className:"w-4 h-4"})," Tng chi ph"]}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Oe(_.totalCost).replace("","")}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:[o.jsx(Hy,{className:"w-4 h-4"})," Li nhun"]}),o.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Oe(_.totalProfit).replace("","")}),o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:[o.jsx(TJ,{className:"w-4 h-4"})," T sut li nhun"]}),o.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:_.profitMargin}),o.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"%"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Chi tit n hng (",_.orderCount," n)"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ngy"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Khch hng"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tng tin"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Trng thi"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_.sales.map(O=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:ln(O.date)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:O.customer.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-slate-900 dark:text-white",children:Oe(O.total)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:O.paymentStatus==="paid"?" thanh ton":"Cha thanh ton"})})]},O.id))})]})})]})]}),d==="cashflow"&&o.jsxs("div",{className:"space-y-6",children:[D&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti s qu..."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jx,{className:"w-4 h-4"})," Tng thu"]})}),o.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Oe(M.totalIncome).replace("","")}),o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[o.jsxs("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2 inline-flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"}),o.jsx("path",{d:"M6 12h.01M18 12h.01"})]}),"Tng chi"]}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Oe(M.totalExpense).replace("","")}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),o.jsxs("div",{className:`bg-gradient-to-br rounded-lg p-6 border ${M.netCashFlow>=0?"from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800":"from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-orange-200 dark:border-orange-800"}`,children:[o.jsx("div",{className:`text-sm font-medium mb-2 ${M.netCashFlow>=0?"text-blue-700 dark:text-blue-400":"text-orange-700 dark:text-orange-400"}`,children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(vf,{className:"w-4 h-4"})," Dng tin rng"]})}),o.jsx("div",{className:`text-3xl font-bold ${M.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:Oe(M.netCashFlow).replace("","")}),o.jsx("div",{className:`text-xs mt-1 ${M.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:""})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thu chi theo danh mc"}),o.jsx("div",{className:"space-y-3",children:Object.entries(M.byCategory).map(([O,I])=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-lg hover:shadow-md transition-shadow",children:[o.jsx("span",{className:"font-semibold text-slate-900 dark:text-white capitalize",children:O}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Thu"}),o.jsx("div",{className:"text-green-600 dark:text-green-400 font-bold",children:Oe(I.income)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Chi"}),o.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold",children:Oe(I.expense)})]})]})]},O))})]})]}),d==="inventory"&&o.jsxs("div",{className:"space-y-6",children:[u&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti tn kho..."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(fl,{className:"w-4 h-4"})," Tng gi tr tn kho"]})}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Oe(L.totalValue).replace("","")}),o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[o.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(nZ,{className:"w-4 h-4"})," Tng sn phm"]})}),o.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:L.parts.length}),o.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"sn phm"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Sn phm sp ht"]})}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:L.lowStockCount}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"sn phm"})]})]}),L.lowStockCount>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Cnh bo hng sp ht"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Sn phm"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tn kho"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"n gi"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Gi tr"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:L.lowStockItems.map(O=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:O.name}),o.jsx("td",{className:"px-4 py-2 text-sm text-right text-red-600 dark:text-red-400 font-medium",children:O.stock}),o.jsx("td",{className:"px-4 py-2 text-sm text-right text-slate-900 dark:text-white",children:Oe(O.price)}),o.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:Oe(O.value)})]},O.id))})]})})]})]}),d==="payroll"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(vf,{className:"w-4 h-4"})," Tng lng"]})}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Oe(B.totalSalary).replace("","")}),o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(rR,{className:"w-4 h-4"}),"  thanh ton"]})}),o.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Oe(B.paidSalary).replace("","")}),o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:" Cha thanh ton"}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Oe(B.unpaidSalary).replace("","")}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[o.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(qy,{className:"w-4 h-4"})," S nhn vin"]})}),o.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:B.employeeCount}),o.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"nhn vin"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Chi tit lng"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thng"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nhn vin"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Lng thc nhn"}),o.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-slate-700 dark:text-slate-300",children:"Trng thi"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:B.records.map(O=>{const I=n.find(V=>V.id===O.employeeId);return o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:O.month}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:(I==null?void 0:I.name)||"N/A"}),o.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:Oe(O.netSalary)}),o.jsx("td",{className:"px-4 py-2 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:O.paymentStatus==="paid"?" tr":"Cha tr"})})]},O.id)})})]})})]})]}),d==="debt"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"N khch hng"}),o.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:F.customerDebts.length}),o.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[o.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:"N nh cung cp"}),o.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:F.supplierDebts.length}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[o.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:"Cng n rng"}),o.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"0"}),o.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(v1,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Cng n khch hng"]}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.customerDebts.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-3",children:""}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):F.customerDebts.map((O,I)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),o.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:Oe(O.debt)})]},I))})]}),o.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-red-600 dark:text-red-400",children:""}),"Cng n nh cung cp"]}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.supplierDebts.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-3",children:""}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):F.supplierDebts.map((O,I)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),o.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:Oe(O.debt)})]},I))})]})]})]})]})]})},ck="employees";async function BNe(){try{const{data:e,error:t}=await Tt.from(ck).select("*").order("created_at",{ascending:!1});if(t)return ot({code:"supabase",message:"Khng th ti danh sch nhn vin",cause:t});const r=(e||[]).map(a=>({id:a.id,name:a.name,phone:a.phone,email:a.email,position:a.position,department:a.department,baseSalary:a.base_salary,allowances:a.allowances,startDate:a.start_date,status:a.status,bankAccount:a.bank_account,bankName:a.bank_name,taxCode:a.tax_code,branchId:a.branch_id,created_at:a.created_at,updated_at:a.updated_at}));return Fr(r)}catch(e){return ot({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function UNe(e){try{console.log("Creating employee with data:",e);const{data:t,error:r}=await Tt.rpc("mc_current_branch");console.log("Branch data:",t,"Branch error:",r);const a=t||"CN1",n={id:`EMP-${Date.now()}`,name:e.name,phone:e.phone,email:e.email,position:e.position,department:e.department,base_salary:e.baseSalary,allowances:e.allowances||0,start_date:e.startDate,status:e.status||"active",bank_account:e.bankAccount,bank_name:e.bankName,tax_code:e.taxCode,branch_id:a};console.log("Inserting employee:",n);const{data:i,error:s}=await Tt.from(ck).insert(n).select().single();if(console.log("Insert result - data:",i,"error:",s),s||!i)return console.error("Insert failed - error:",s,"data:",i),ot({code:"supabase",message:(s==null?void 0:s.message)||"Khng th thm nhn vin",cause:s||new Error("No data returned from insert")});const l={id:i.id,name:i.name,phone:i.phone,email:i.email,position:i.position,department:i.department,baseSalary:i.base_salary,allowances:i.allowances,startDate:i.start_date,status:i.status,bankAccount:i.bank_account,bankName:i.bank_name,taxCode:i.tax_code,branchId:i.branch_id,created_at:i.created_at,updated_at:i.updated_at};return Fr(l)}catch(t){return ot({code:"network",message:"Li kt ni khi thm nhn vin",cause:t})}}async function zNe(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.phone!==void 0&&(r.phone=t.phone),t.email!==void 0&&(r.email=t.email),t.position!==void 0&&(r.position=t.position),t.department!==void 0&&(r.department=t.department),t.baseSalary!==void 0&&(r.base_salary=t.baseSalary),t.allowances!==void 0&&(r.allowances=t.allowances),t.startDate!==void 0&&(r.start_date=t.startDate),t.status!==void 0&&(r.status=t.status),t.bankAccount!==void 0&&(r.bank_account=t.bankAccount),t.bankName!==void 0&&(r.bank_name=t.bankName),t.taxCode!==void 0&&(r.tax_code=t.taxCode),r.updated_at=new Date().toISOString();const{data:a,error:n}=await Tt.from(ck).update(r).eq("id",e).select().single();if(n||!a)return ot({code:"supabase",message:"Khng th cp nht nhn vin",cause:n});const i={id:a.id,name:a.name,phone:a.phone,email:a.email,position:a.position,department:a.department,baseSalary:a.base_salary,allowances:a.allowances,startDate:a.start_date,status:a.status,bankAccount:a.bank_account,bankName:a.bank_name,taxCode:a.tax_code,branchId:a.branch_id,created_at:a.created_at,updated_at:a.updated_at};return Fr(i)}catch(r){return ot({code:"network",message:"Li kt ni khi cp nht nhn vin",cause:r})}}async function qNe(e){try{const{error:t}=await Tt.from(ck).delete().eq("id",e);return t?ot({code:"supabase",message:"Khng th xa nhn vin",cause:t}):Fr(void 0)}catch(t){return ot({code:"network",message:"Li kt ni khi xa nhn vin",cause:t})}}function $Ne(){return xi({queryKey:["employees"],queryFn:async()=>{const e=await BNe();if(!e.ok)throw new Error(ca(e.error));return e.data}})}function HNe(){const e=ia();return an({mutationFn:async t=>{console.log("Mutation called with employee:",t);const r=await UNe(t);if(console.log("Repository result:",r),!r.ok){console.error("Repository failed:",r.error);const a=r.error?ca(r.error):"Khng th thm nhn vin. Vui lng th li.";throw new Error(a)}return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),Xe.success("Thm nhn vin thnh cng!")},onError:t=>{const r=(t==null?void 0:t.message)||"C li xy ra khi thm nhn vin";Xe.error(r),console.error("Create employee error:",t)}})}function WNe(){const e=ia();return an({mutationFn:async({id:t,updates:r})=>{const a=await zNe(t,r);if(!a.ok)throw new Error(ca(a.error));return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),Xe.success("Cp nht nhn vin thnh cng!")},onError:t=>{Xe.error(`Li: ${t.message}`)}})}function VNe(){const e=ia();return an({mutationFn:async t=>{const r=await qNe(t);if(!r.ok)throw new Error(ca(r.error));return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["employees"]}),Xe.success("Xa nhn vin thnh cng!")},onError:t=>{Xe.error(`Li: ${t.message}`)}})}const KNe=()=>{const{employees:e,setEmployees:t}=si(),{data:r,isLoading:a}=$Ne(),{mutateAsync:n}=HNe(),{mutateAsync:i}=WNe(),{mutateAsync:s}=VNe(),l=r||e;j.useEffect(()=>{r&&t(r)},[r,t]);const[u,d]=j.useState("list"),[h,m]=j.useState(!1),[x,p]=j.useState(null),[y,b]=j.useState(""),[v,k]=j.useState({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),N=j.useMemo(()=>l.filter(B=>{var F;return B.name.toLowerCase().includes(y.toLowerCase())||((F=B.phone)==null?void 0:F.toLowerCase().includes(y.toLowerCase()))||B.position.toLowerCase().includes(y.toLowerCase())}),[l,y]),_=async B=>{if(B.preventDefault(),!v.name||!v.position||!v.baseSalary){Xe.error("Vui lng in y  thng tin bt buc!");return}try{x?await i({id:x.id,updates:v}):await n(v),A()}catch{}},A=()=>{k({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),p(null),m(!1)},D=B=>{p(B),k(B),m(!0)},M=async B=>{if(confirm(`Bn c chc mun xa nhn vin "${B.name}" khng?`))try{await s(B.id)}catch{}},L=j.useMemo(()=>{const B=l.filter(H=>H.status==="active").length,F=l.filter(H=>H.status==="active").reduce((H,O)=>H+O.baseSalary+(O.allowances||0),0);return{active:B,totalSalary:F,total:l.length}},[l]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(v1,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Qun l nhn vin"]}),o.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[o.jsx(Sy,{className:"w-5 h-5"})," Thm nhn vin"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng nhn vin"}),o.jsx(v1,{className:"w-8 h-8"})]}),o.jsx("div",{className:"text-3xl font-bold",children:L.total}),o.jsxs("div",{className:"text-white/70 text-sm mt-1",children:[L.active," ang lm vic"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-white/80 text-sm font-medium",children:"ang hot ng"}),o.jsx(oZ,{className:"w-8 h-8"})]}),o.jsx("div",{className:"text-3xl font-bold",children:L.active}),o.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Nhn vin active"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng lng thng"}),o.jsx(vf,{className:"w-8 h-8"})]}),o.jsx("div",{className:"text-2xl font-bold",children:Oe(L.totalSalary)}),o.jsx("div",{className:"text-white/70 text-sm mt-1",children:"c tnh"})]})]}),o.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:[{key:"list",label:"Danh sch",icon:o.jsx(WN,{className:"w-4 h-4"})},{key:"attendance",label:"Chm cng",icon:o.jsx(p8,{className:"w-4 h-4"})},{key:"payroll",label:"Qun l lng",icon:o.jsx(vf,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:o.jsx(x8,{className:"w-4 h-4"})}].map(B=>o.jsx("button",{onClick:()=>d(B.key),className:`px-6 py-3 font-medium transition-all ${u===B.key?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[B.icon,B.label]})},B.key))}),u==="list"&&o.jsx("div",{className:"flex gap-4",children:o.jsx("input",{type:"text",placeholder:"Tm kim nhn vin (tn, ST, chc v)...",value:y,onChange:B=>b(B.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u==="list"&&o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Chc v"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Phng ban"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ph cp"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy vo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng tm thy nhn vin no"})}):N.map(B=>o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:B.name}),B.phone&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(XJ,{className:"w-3 h-3"})," ",B.phone]})}),B.email&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(VJ,{className:"w-3 h-3"})," ",B.email]})})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:B.position}),o.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:B.department||"-"}),o.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:Oe(B.baseSalary)}),o.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:Oe(B.allowances||0)}),o.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:ln(B.startDate)}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${B.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":B.status==="inactive"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:B.status==="active"?"Hot ng":B.status==="inactive"?"Tm ngh":"Ngh vic"})}),o.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[o.jsxs("button",{onClick:()=>D(B),className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium text-sm",children:[o.jsx(b8,{className:"w-4 h-4"})," Sa"]}),o.jsxs("button",{onClick:()=>M(B),className:"inline-flex items-center gap-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium text-sm",children:[o.jsx(sR,{className:"w-4 h-4"})," Xa"]})]})]},B.id))})]})})}),u==="attendance"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[o.jsx(p8,{className:"w-16 h-16 mb-4 text-slate-400"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Chc nng chm cng"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng qun l chm cng ang c pht trin..."})]}),u==="payroll"&&o.jsx(NH,{}),u==="history"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[o.jsx(x8,{className:"w-16 h-16 mb-4 text-slate-400"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Lch s lm vic"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng xem lch s lm vic ang c pht trin..."})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:x?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(b8,{className:"w-5 h-5"})," Sa nhn vin"]}):o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Sy,{className:"w-5 h-5"})," Thm nhn vin mi"]})}),o.jsx("button",{onClick:A,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 text-2xl",children:""})]}),o.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["H tn ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:v.name,onChange:B=>k({...v,name:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),o.jsx("input",{type:"tel",value:v.phone,onChange:B=>k({...v,phone:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:v.email,onChange:B=>k({...v,email:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Chc v ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:v.position,onChange:B=>k({...v,position:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phng ban"}),o.jsx("input",{type:"text",value:v.department,onChange:B=>k({...v,department:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Lng c bn ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",value:v.baseSalary,onChange:B=>k({...v,baseSalary:Number(B.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph cp"}),o.jsx("input",{type:"number",value:v.allowances,onChange:B=>k({...v,allowances:Number(B.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Ngy vo lm ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:v.startDate,onChange:B=>k({...v,startDate:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),o.jsxs("select",{value:v.status,onChange:B=>k({...v,status:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Hot ng"}),o.jsx("option",{value:"inactive",children:"Tm ngh"}),o.jsx("option",{value:"terminated",children:"Ngh vic"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S ti khon"}),o.jsx("input",{type:"text",value:v.bankAccount,onChange:B=>k({...v,bankAccount:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ngn hng"}),o.jsx("input",{type:"text",value:v.bankName,onChange:B=>k({...v,bankName:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M s thu"}),o.jsx("input",{type:"text",value:v.taxCode,onChange:B=>k({...v,taxCode:B.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all inline-flex items-center justify-center gap-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(GS,{className:"w-5 h-5"})," Lu thay i"]}):o.jsxs(o.Fragment,{children:[o.jsx(Sy,{className:"w-5 h-5"})," Thm nhn vin"]})}),o.jsxs("button",{type:"button",onClick:A,className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors inline-flex items-center gap-2",children:[o.jsx(cR,{className:"w-5 h-5"})," Hy"]})]})]})]})})]})},GNe=()=>{const{parts:e}=si(),t=xH();return $N?{data:e,isLoading:!1,isError:!1,refetch:async()=>{}}:t},YNe=()=>{const{currentBranchId:e,inventoryTransactions:t}=si(),{data:r=[]}=GNe(),a=j.useMemo(()=>{const h=new Map;return r.forEach(m=>{const x=m.category||"Khng phn loi",p=m.stock[e]||0,y=m.retailPrice[e]||0,b=p*y,v=h.get(x);v?(v.value+=b,v.count+=1,v.stock+=p):h.set(x,{value:b,count:1,stock:p})}),Array.from(h.entries()).map(([m,x])=>({name:m,value:Math.round(x.value),count:x.count,stock:x.stock})).sort((m,x)=>x.value-m.value)},[r,e]),n=j.useMemo(()=>r.filter(h=>{const m=h.stock[e]||0;return m>0&&m<=10}).sort((h,m)=>{const x=h.stock[e]||0,p=m.stock[e]||0;return x-p}).slice(0,10),[r,e]),i=j.useMemo(()=>r.filter(h=>(h.stock[e]||0)===0).length,[r,e]),s=j.useMemo(()=>r.map(h=>{const m=h.stock[e]||0,x=h.retailPrice[e]||0;return{...h,totalValue:m*x}}).filter(h=>h.totalValue>0).sort((h,m)=>m.totalValue-h.totalValue).slice(0,10),[r,e]),l=j.useMemo(()=>r.reduce((h,m)=>{const x=m.stock[e]||0,p=m.retailPrice[e]||0;return h+x*p},0),[r,e]),u=j.useMemo(()=>{const h=new Date;h.setDate(h.getDate()-30);const m=new Map;return t.filter(x=>new Date(x.date)>=h).forEach(x=>{const p=x.date.slice(0,10),y=m.get(p)||{in:0,out:0};x.type==="Nhp kho"?y.in+=x.quantity:y.out+=x.quantity,m.set(p,y)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),"Nhp kho":p.in,"Xut kho":p.out})).slice(-14)},[t]),d=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[o.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Tng gi tr tn kho"}),o.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:Oe(l)})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[o.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Tng sn phm"}),o.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:r.length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[o.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sp ht hng"}),o.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:n.length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[o.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Ht hng"}),o.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:i})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Gi tr theo danh mc"}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(rq,{children:[o.jsx(U6,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:h=>`${h.name}: ${(h.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((h,m)=>o.jsx(Rg,{fill:d[m%d.length]},`cell-${m}`))}),o.jsx(Au,{formatter:h=>Oe(h),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Nhp/Xut kho (14 ngy gn nht)"}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(Q6,{data:u,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"date",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),o.jsx(Xf,{}),o.jsx(fh,{type:"monotone",dataKey:"Nhp kho",stroke:"#10b981",strokeWidth:2}),o.jsx(fh,{type:"monotone",dataKey:"Xut kho",stroke:"#ef4444",strokeWidth:2})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm gi tr cao"}),o.jsx("div",{className:"space-y-3",children:s.map((h,m)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-sm font-bold text-blue-600 dark:text-blue-400",children:m+1}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:h.name}),o.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Tn: ",h.stock[e]||0]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Oe(h.totalValue)}),o.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[Oe(h.retailPrice[e]||0),"/sp"]})]})]},h.id))})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"inline-flex",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})}),"Cnh bo tn kho thp"]}),o.jsxs("div",{className:"space-y-3",children:[n.map(h=>{const m=h.stock[e]||0,x=m<=3?"critical":m<=5?"warning":"low";return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${x==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":x==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800"}`,children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:h.name}),o.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["SKU: ",h.sku]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x==="critical"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":x==="warning"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:[m," cn li"]})})]},h.id)}),n.length===0&&o.jsxs("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400 flex items-center justify-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Tt c sn phm u cn  hng"]})]})]})]})]})},XNe=()=>{const{sales:e,parts:t,currentBranchId:r}=si(),[a,n]=j.useState("30days"),i=j.useMemo(()=>{if(a==="all")return e;const m=a==="7days"?7:a==="30days"?30:90,x=new Date;return x.setDate(x.getDate()-m),e.filter(p=>new Date(p.date)>=x)},[e,a]),s=j.useMemo(()=>{const m=i.reduce((b,v)=>b+v.total,0),x=i.length,p=i.reduce((b,v)=>b+v.items.reduce((k,N)=>k+N.quantity,0),0),y=x>0?m/x:0;return{totalRevenue:m,totalOrders:x,totalItems:p,avgOrderValue:y}},[i]),l=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=x.date.slice(0,10);m.set(p,(m.get(p)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:Math.round(p)})).sort((x,p)=>x.date.localeCompare(p.date)).slice(-30)},[i]),u=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{x.items.forEach(p=>{const y=m.get(p.partId),b=t.find(k=>k.id===p.partId),v=(b==null?void 0:b.name)||"Sn phm khng xc nh";y?(y.quantity+=p.quantity,y.revenue+=p.sellingPrice*p.quantity):m.set(p.partId,{quantity:p.quantity,revenue:p.sellingPrice*p.quantity,partName:v})})}),Array.from(m.entries()).map(([x,p])=>({id:x,name:p.partName,quantity:p.quantity,revenue:Math.round(p.revenue)})).sort((x,p)=>p.revenue-x.revenue).slice(0,10)},[i,t]),d=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{m.set(x.paymentMethod,(m.get(x.paymentMethod)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({method:x,revenue:Math.round(p)})).sort((x,p)=>p.revenue-x.revenue)},[i]),h=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=new Date(x.date).getHours();m.set(p,(m.get(p)||0)+1)}),Array.from({length:24},(x,p)=>({hour:`${p}h`,orders:m.get(p)||0}))},[i]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(m=>o.jsx("button",{onClick:()=>n(m.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===m.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:m.label},m.value))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[o.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Doanh thu"}),o.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:Oe(s.totalRevenue)})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[o.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"n hng"}),o.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:s.totalOrders})]}),o.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[o.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sn phm bn"}),o.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:s.totalItems})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[o.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr TB/n"}),o.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:Oe(s.avgOrderValue)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Xu hng doanh thu"}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(Ege,{data:l,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"date",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{formatter:m=>Oe(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),o.jsx(zz,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phng thc thanh ton"}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(H3,{data:d,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"method",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{formatter:m=>Oe(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),o.jsx(If,{dataKey:"revenue",fill:"#10b981",radius:[8,8,0,0]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phn b theo gi"}),o.jsx(Nu,{width:"100%",height:300,children:o.jsxs(Q6,{data:h,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"hour",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),o.jsx(fh,{type:"monotone",dataKey:"orders",stroke:"#f59e0b",strokeWidth:2})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm bn chy"}),o.jsxs("div",{className:"space-y-3",children:[u.map((m,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-sm font-bold text-emerald-600 dark:text-emerald-400",children:x+1}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:m.name}),o.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[" bn: ",m.quantity]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Oe(m.revenue)})})]},m.id)),u.length===0&&o.jsx("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"Cha c d liu bn hng"})]})]})]})]})},QNe=()=>{const{sales:e,parts:t,inventoryTransactions:r,customerDebts:a,supplierDebts:n,currentBranchId:i}=si(),[s,l]=j.useState("30days"),u=()=>{if(s==="all")return new Date(0);const N=s==="7days"?7:s==="30days"?30:90,_=new Date;return _.setDate(_.getDate()-N),_},d=j.useMemo(()=>{const N=u();return e.filter(_=>new Date(_.date)>=N).reduce((_,A)=>_+A.total,0)},[e,s]),h=j.useMemo(()=>{const N=u();return r.filter(_=>_.type==="Nhp kho"&&new Date(_.date)>=N).reduce((_,A)=>{var L;const D=t.find(B=>B.id===A.partId),M=((L=D==null?void 0:D.wholesalePrice)==null?void 0:L[i])||0;return _+M*A.quantity},0)},[r,t,i,s]),m=d-h,x=d>0?m/d*100:0,p=j.useMemo(()=>{const N=u(),_=new Map;return e.filter(A=>new Date(A.date)>=N).forEach(A=>{const D=A.date.slice(0,10),M=_.get(D)||{income:0,expense:0};M.income+=A.total,_.set(D,M)}),r.filter(A=>A.type==="Nhp kho"&&new Date(A.date)>=N).forEach(A=>{var F;const D=A.date.slice(0,10),M=t.find(H=>H.id===A.partId),L=((F=M==null?void 0:M.wholesalePrice)==null?void 0:F[i])||0,B=_.get(D)||{income:0,expense:0};B.expense+=L*A.quantity,_.set(D,B)}),Array.from(_.entries()).map(([A,D])=>({date:new Date(A).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),income:Math.round(D.income),expense:Math.round(D.expense),profit:Math.round(D.income-D.expense)})).sort((A,D)=>A.date.localeCompare(D.date)).slice(-30)},[e,r,t,i,s]),y=j.useMemo(()=>{const N=a.reduce((A,D)=>A+D.remainingAmount,0),_=a.filter(A=>A.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:a.length}},[a]),b=j.useMemo(()=>{const N=n.reduce((A,D)=>A+D.remainingAmount,0),_=n.filter(A=>A.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:n.length}},[n]),v=j.useMemo(()=>[...a].filter(N=>N.remainingAmount>0).sort((N,_)=>_.remainingAmount-N.remainingAmount).slice(0,5),[a]),k=j.useMemo(()=>t.reduce((N,_)=>{const A=_.stock[i]||0,D=_.retailPrice[i]||0;return N+A*D},0),[t,i]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(N=>o.jsx("button",{onClick:()=>l(N.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===N.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:N.label},N.value))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[o.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Thu nhp"}),o.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:Oe(d)})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[o.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Chi ph"}),o.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:Oe(h)})]}),o.jsxs("div",{className:`bg-gradient-to-br p-6 rounded-lg border ${m>=0?"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700":"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-700"}`,children:[o.jsx("div",{className:`text-sm font-medium mb-2 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:"Li nhun"}),o.jsx("div",{className:`text-3xl font-bold ${m>=0?"text-blue-900 dark:text-blue-100":"text-red-900 dark:text-red-100"}`,children:Oe(m)}),o.jsxs("div",{className:`text-xs mt-1 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:["Bin li nhun: ",x.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[o.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr tn kho"}),o.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:Oe(k)})]})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thu - Chi - Li nhun"}),o.jsx(Nu,{width:"100%",height:350,children:o.jsxs(Oge,{data:p,children:[o.jsx(Rd,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Bd,{dataKey:"date",stroke:"#94a3b8"}),o.jsx(Tu,{stroke:"#94a3b8"}),o.jsx(Au,{formatter:N=>Oe(N),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),o.jsx(Xf,{}),o.jsx(If,{dataKey:"income",fill:"#10b981",name:"Thu nhp"}),o.jsx(If,{dataKey:"expense",fill:"#ef4444",name:"Chi ph"}),o.jsx(fh,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:3,name:"Li nhun"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n khch hng"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Tng cng n"}),o.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:Oe(y.totalDebt)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Qu hn"}),o.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:y.overdueCount})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Top 5 khch n nhiu nht"}),o.jsxs("div",{className:"space-y-2",children:[v.map(N=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:N.customerName}),o.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Ngy to:"," ",new Date(N.createdDate).toLocaleDateString("vi-VN")]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"font-semibold text-amber-600 dark:text-amber-400",children:Oe(N.remainingAmount)})})]},N.id)),v.length===0&&o.jsxs("div",{className:"text-center py-4 text-slate-600 dark:text-slate-400 inline-flex items-center justify-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Khng c cng n"]})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n nh cung cp"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Tng cng n"}),o.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:Oe(b.totalDebt)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Qu hn"}),o.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:b.overdueCount})]})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[o.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2 inline-flex items-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:[o.jsx("path",{d:"M11 2a1 1 0 011 1v1.07A7.002 7.002 0 0119 11a6.97 6.97 0 01-2.05 4.95A3.5 3.5 0 0014 19.5V20a1 1 0 11-2 0v-.5a3.5 3.5 0 00-2.95-3.45A6.97 6.97 0 017 11a7.002 7.002 0 016-6.93V3a1 1 0 011-1z"}),o.jsx("path",{d:"M13 22a1 1 0 11-2 0 1 1 0 012 0z"})]}),"Mo qun l ti chnh"]}),o.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[o.jsx("li",{children:" Theo di bin li nhun hng thng"}),o.jsx("li",{children:" Gi tn kho  mc hp l"}),o.jsx("li",{children:" Thu hi cng n ng hn"}),o.jsx("li",{children:" m phn iu khon vi nh cung cp"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Khch hng n"}),o.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:y.count})]}),o.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"NCC cn tr"}),o.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:b.count})]})]})]})]})]})]})};function Fa(e){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}var $c=Uint8Array,hl=Uint16Array,$A=Int32Array,HA=new $c([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WA=new $c([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),UL=new $c([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jH=function(e,t){for(var r=new hl(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new $A(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},AH=jH(HA,2),JNe=AH.b,oN=AH.r;JNe[28]=258,oN[258]=28;var ZNe=jH(WA,0),zL=ZNe.r,lN=new hl(32768);for(var xn=0;xn<32768;++xn){var V0=(xn&43690)>>1|(xn&21845)<<1;V0=(V0&52428)>>2|(V0&13107)<<2,V0=(V0&61680)>>4|(V0&3855)<<4,lN[xn]=((V0&65280)>>8|(V0&255)<<8)>>1}var l1=(function(e,t,r){for(var a=e.length,n=0,i=new hl(t);n<a;++n)e[n]&&++i[e[n]-1];var s=new hl(t);for(n=1;n<t;++n)s[n]=s[n-1]+i[n-1]<<1;var l;if(r){l=new hl(1<<t);var u=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],h=t-e[n],m=s[e[n]-1]++<<h,x=m|(1<<h)-1;m<=x;++m)l[lN[m]>>u]=d}else for(l=new hl(a),n=0;n<a;++n)e[n]&&(l[n]=lN[s[e[n]-1]++]>>15-e[n]);return l}),lm=new $c(288);for(var xn=0;xn<144;++xn)lm[xn]=8;for(var xn=144;xn<256;++xn)lm[xn]=9;for(var xn=256;xn<280;++xn)lm[xn]=7;for(var xn=280;xn<288;++xn)lm[xn]=8;var G2=new $c(32);for(var xn=0;xn<32;++xn)G2[xn]=5;var eje=l1(lm,9,0),tje=l1(G2,5,0),TH=function(e){return(e+7)/8|0},rje=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new $c(e.subarray(t,r))},vd=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},Fx=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},B_=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,i=r.slice();if(!n)return{t:CH,l:0};if(n==1){var s=new $c(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(D,M){return D.f-M.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],d=0,h=1,m=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};h!=n-1;)l=r[r[d].f<r[m].f?d++:m++],u=r[d!=h&&r[d].f<r[m].f?d++:m++],r[h++]={s:-1,f:l.f+u.f,l,r:u};for(var x=i[0].s,a=1;a<n;++a)i[a].s>x&&(x=i[a].s);var p=new hl(x+1),y=cN(r[h-1],p,0);if(y>t){var a=0,b=0,v=y-t,k=1<<v;for(i.sort(function(M,L){return p[L.s]-p[M.s]||M.f-L.f});a<n;++a){var N=i[a].s;if(p[N]>t)b+=k-(1<<y-p[N]),p[N]=t;else break}for(b>>=v;b>0;){var _=i[a].s;p[_]<t?b-=1<<t-p[_]++-1:++a}for(;a>=0&&b;--a){var A=i[a].s;p[A]==t&&(--p[A],++b)}y=t}return{t:new $c(p),l:y}},cN=function(e,t,r){return e.s==-1?Math.max(cN(e.l,t,r+1),cN(e.r,t,r+1)):t[e.s]=r},qL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new hl(++t),a=0,n=e[0],i=1,s=function(u){r[a++]=u},l=1;l<=t;++l)if(e[l]==n&&l!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(n),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(n);i=1,n=e[l]}return{c:r.subarray(0,a),n:t}},Bx=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},EH=function(e,t,r){var a=r.length,n=TH(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=r[i];return(n+4+a)*8},$L=function(e,t,r,a,n,i,s,l,u,d,h){vd(t,h++,r),++n[256];for(var m=B_(n,15),x=m.t,p=m.l,y=B_(i,15),b=y.t,v=y.l,k=qL(x),N=k.c,_=k.n,A=qL(b),D=A.c,M=A.n,L=new hl(19),B=0;B<N.length;++B)++L[N[B]&31];for(var B=0;B<D.length;++B)++L[D[B]&31];for(var F=B_(L,7),H=F.t,O=F.l,I=19;I>4&&!H[UL[I-1]];--I);var V=d+5<<3,Y=Bx(n,lm)+Bx(i,G2)+s,te=Bx(n,x)+Bx(i,b)+s+14+3*I+Bx(L,H)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&V<=Y&&V<=te)return EH(t,h,e.subarray(u,u+d));var X,ae,de,oe;if(vd(t,h,1+(te<Y)),h+=2,te<Y){X=l1(x,p,0),ae=x,de=l1(b,v,0),oe=b;var De=l1(H,O,0);vd(t,h,_-257),vd(t,h+5,M-1),vd(t,h+10,I-4),h+=14;for(var B=0;B<I;++B)vd(t,h+3*B,H[UL[B]]);h+=3*I;for(var re=[N,D],P=0;P<2;++P)for(var W=re[P],B=0;B<W.length;++B){var z=W[B]&31;vd(t,h,De[z]),h+=H[z],z>15&&(vd(t,h,W[B]>>5&127),h+=W[B]>>12)}}else X=eje,ae=lm,de=tje,oe=G2;for(var B=0;B<l;++B){var q=a[B];if(q>255){var z=q>>18&31;Fx(t,h,X[z+257]),h+=ae[z+257],z>7&&(vd(t,h,q>>23&31),h+=HA[z]);var Z=q&31;Fx(t,h,de[Z]),h+=oe[Z],Z>3&&(Fx(t,h,q>>5&8191),h+=WA[Z])}else Fx(t,h,X[q]),h+=ae[q]}return Fx(t,h,X[256]),h+ae[256]},aje=new $A([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CH=new $c(0),nje=function(e,t,r,a,n,i){var s=i.z||e.length,l=new $c(a+s+5*(1+Math.ceil(s/7e3))+n),u=l.subarray(a,l.length-n),d=i.l,h=(i.r||0)&7;if(t){h&&(u[0]=i.r>>3);for(var m=aje[t-1],x=m>>13,p=m&8191,y=(1<<r)-1,b=i.p||new hl(32768),v=i.h||new hl(y+1),k=Math.ceil(r/3),N=2*k,_=function(ye){return(e[ye]^e[ye+1]<<k^e[ye+2]<<N)&y},A=new $A(25e3),D=new hl(288),M=new hl(32),L=0,B=0,F=i.i||0,H=0,O=i.w||0,I=0;F+2<s;++F){var V=_(F),Y=F&32767,te=v[V];if(b[Y]=te,v[V]=Y,O<=F){var X=s-F;if((L>7e3||H>24576)&&(X>423||!d)){h=$L(e,u,0,A,D,M,B,H,I,F-I,h),H=L=B=0,I=F;for(var ae=0;ae<286;++ae)D[ae]=0;for(var ae=0;ae<30;++ae)M[ae]=0}var de=2,oe=0,De=p,re=Y-te&32767;if(X>2&&V==_(F-re))for(var P=Math.min(x,X)-1,W=Math.min(32767,F),z=Math.min(258,X);re<=W&&--De&&Y!=te;){if(e[F+de]==e[F+de-re]){for(var q=0;q<z&&e[F+q]==e[F+q-re];++q);if(q>de){if(de=q,oe=re,q>P)break;for(var Z=Math.min(re,q-2),se=0,ae=0;ae<Z;++ae){var ee=F-re+ae&32767,Q=b[ee],me=ee-Q&32767;me>se&&(se=me,te=ee)}}}Y=te,te=b[Y],re+=Y-te&32767}if(oe){A[H++]=268435456|oN[de]<<18|zL[oe];var Ae=oN[de]&31,J=zL[oe]&31;B+=HA[Ae]+WA[J],++D[257+Ae],++M[J],O=F+de,++L}else A[H++]=e[F],++D[e[F]]}}for(F=Math.max(F,O);F<s;++F)A[H++]=e[F],++D[e[F]];h=$L(e,u,d,A,D,M,B,H,I,F-I,h),d||(i.r=h&7|u[h/8|0]<<3,h-=7,i.h=v,i.p=b,i.i=F,i.w=O)}else{for(var F=i.w||0;F<s+d;F+=65535){var ke=F+65535;ke>=s&&(u[h/8|0]=d,ke=s),h=EH(u,h+1,e.subarray(F,ke))}i.i=s}return rje(l,0,a+TH(h)+n)},OH=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)n+=a+=r[s];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ije=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new $c(i.length+e.length);s.set(i),s.set(e,i.length),e=s,n.w=i.length}return nje(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},PH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},sje=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=OH();n.p(t.dictionary),PH(e,2,n.d())}};function uN(e,t){t||(t={});var r=OH();r.p(e);var a=ije(e,t,t.dictionary?6:2,4);return sje(a,t),PH(a,a.length-4,r.d()),a}var oje=typeof TextDecoder<"u"&&new TextDecoder,lje=0;try{oje.decode(CH,{stream:!0}),lje=1}catch{}function cje(e){if(Array.isArray(e))return e}function uje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,s,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(h){d=!0,n=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw n}}return l}}function HL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function dje(e,t){if(e){if(typeof e=="string")return HL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HL(e,t):void 0}}function hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WL(e,t){return cje(e)||uje(e,t)||dje(e,t)||hje()}function VL(e,t="utf8"){return new TextDecoder(t).decode(e)}const fje=new TextEncoder;function mje(e){return fje.encode(e)}const pje=1024*8,gje=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),U_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class VA{constructor(t=pje,r={}){va(this,"buffer");va(this,"byteLength");va(this,"byteOffset");va(this,"length");va(this,"offset");va(this,"lastWrittenByte");va(this,"littleEndian");va(this,"_data");va(this,"_mark");va(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,i=t.byteLength-n;let s=n;(ArrayBuffer.isView(t)||t instanceof VA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=U_[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===gje&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+a));l.reverse();const u=new U_[r](l.buffer);return this.offset+=a,u.reverse(),u}const s=new U_[r](i);return this.offset+=a,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return VL(this.readBytes(t))}decodeText(t=1,r="utf8"){return VL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(mje(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qg(e){let t=e.length;for(;--t>=0;)e[t]=0}const xje=3,vje=258,DH=29,bje=256,yje=bje+1+DH,LH=30,wje=512,kje=new Array((yje+2)*2);qg(kje);const _je=new Array(LH*2);qg(_je);const Sje=new Array(wje);qg(Sje);const Nje=new Array(vje-xje+1);qg(Nje);const jje=new Array(DH);qg(jje);const Aje=new Array(LH);qg(Aje);const Tje=(e,t,r,a)=>{let n=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+t[a++]|0,i=i+n|0;while(--s);n%=65521,i%=65521}return n|i<<16|0};var dN=Tje;const Eje=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Cje=new Uint32Array(Eje()),Oje=(e,t,r,a)=>{const n=Cje,i=a+r;e^=-1;for(let s=a;s<i;s++)e=e>>>8^n[(e^t[s])&255];return e^-1};var gu=Oje,hN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MH={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Pje=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Dje=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)Pje(r,a)&&(e[a]=r[a])}}return e},Lje=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let s=e[a];r.set(s,n),n+=s.length}return r},IH={assign:Dje,flattenChunks:Lje};let RH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{RH=!1}const W1=new Uint8Array(256);for(let e=0;e<256;e++)W1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;W1[254]=W1[254]=1;var Mje=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,n,i,s=e.length,l=0;for(n=0;n<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,n=0;i<l;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Ije=(e,t)=>{if(t<65534&&e.subarray&&RH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var Rje=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(r*2);for(n=0,a=0;a<r;){let s=e[a++];if(s<128){i[n++]=s;continue}let l=W1[s];if(l>4){i[n++]=65533,a+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&a<r;)s=s<<6|e[a++]&63,l--;if(l>1){i[n++]=65533;continue}s<65536?i[n++]=s:(s-=65536,i[n++]=55296|s>>10&1023,i[n++]=56320|s&1023)}return Ije(i,n)},Fje=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+W1[e[r]]>t?r:t},fN={string2buf:Mje,buf2string:Rje,utf8border:Fje};function Bje(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Uje=Bje;const hy=16209,zje=16191;var qje=function(t,r){let a,n,i,s,l,u,d,h,m,x,p,y,b,v,k,N,_,A,D,M,L,B,F,H;const O=t.state;a=t.next_in,F=t.input,n=a+(t.avail_in-5),i=t.next_out,H=t.output,s=i-(r-t.avail_out),l=i+(t.avail_out-257),u=O.dmax,d=O.wsize,h=O.whave,m=O.wnext,x=O.window,p=O.hold,y=O.bits,b=O.lencode,v=O.distcode,k=(1<<O.lenbits)-1,N=(1<<O.distbits)-1;e:do{y<15&&(p+=F[a++]<<y,y+=8,p+=F[a++]<<y,y+=8),_=b[p&k];t:for(;;){if(A=_>>>24,p>>>=A,y-=A,A=_>>>16&255,A===0)H[i++]=_&65535;else if(A&16){D=_&65535,A&=15,A&&(y<A&&(p+=F[a++]<<y,y+=8),D+=p&(1<<A)-1,p>>>=A,y-=A),y<15&&(p+=F[a++]<<y,y+=8,p+=F[a++]<<y,y+=8),_=v[p&N];r:for(;;){if(A=_>>>24,p>>>=A,y-=A,A=_>>>16&255,A&16){if(M=_&65535,A&=15,y<A&&(p+=F[a++]<<y,y+=8,y<A&&(p+=F[a++]<<y,y+=8)),M+=p&(1<<A)-1,M>u){t.msg="invalid distance too far back",O.mode=hy;break e}if(p>>>=A,y-=A,A=i-s,M>A){if(A=M-A,A>h&&O.sane){t.msg="invalid distance too far back",O.mode=hy;break e}if(L=0,B=x,m===0){if(L+=d-A,A<D){D-=A;do H[i++]=x[L++];while(--A);L=i-M,B=H}}else if(m<A){if(L+=d+m-A,A-=m,A<D){D-=A;do H[i++]=x[L++];while(--A);if(L=0,m<D){A=m,D-=A;do H[i++]=x[L++];while(--A);L=i-M,B=H}}}else if(L+=m-A,A<D){D-=A;do H[i++]=x[L++];while(--A);L=i-M,B=H}for(;D>2;)H[i++]=B[L++],H[i++]=B[L++],H[i++]=B[L++],D-=3;D&&(H[i++]=B[L++],D>1&&(H[i++]=B[L++]))}else{L=i-M;do H[i++]=H[L++],H[i++]=H[L++],H[i++]=H[L++],D-=3;while(D>2);D&&(H[i++]=H[L++],D>1&&(H[i++]=H[L++]))}}else if((A&64)===0){_=v[(_&65535)+(p&(1<<A)-1)];continue r}else{t.msg="invalid distance code",O.mode=hy;break e}break}}else if((A&64)===0){_=b[(_&65535)+(p&(1<<A)-1)];continue t}else if(A&32){O.mode=zje;break e}else{t.msg="invalid literal/length code",O.mode=hy;break e}break}}while(a<n&&i<l);D=y>>3,a-=D,y-=D<<3,p&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<l?257+(l-i):257-(i-l),O.hold=p,O.bits=y};const Sp=15,KL=852,GL=592,YL=0,z_=1,XL=2,$je=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hje=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Wje=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vje=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Kje=(e,t,r,a,n,i,s,l)=>{const u=l.bits;let d=0,h=0,m=0,x=0,p=0,y=0,b=0,v=0,k=0,N=0,_,A,D,M,L,B=null,F;const H=new Uint16Array(Sp+1),O=new Uint16Array(Sp+1);let I=null,V,Y,te;for(d=0;d<=Sp;d++)H[d]=0;for(h=0;h<a;h++)H[t[r+h]]++;for(p=u,x=Sp;x>=1&&H[x]===0;x--);if(p>x&&(p=x),x===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<x&&H[m]===0;m++);for(p<m&&(p=m),v=1,d=1;d<=Sp;d++)if(v<<=1,v-=H[d],v<0)return-1;if(v>0&&(e===YL||x!==1))return-1;for(O[1]=0,d=1;d<Sp;d++)O[d+1]=O[d]+H[d];for(h=0;h<a;h++)t[r+h]!==0&&(s[O[t[r+h]]++]=h);if(e===YL?(B=I=s,F=20):e===z_?(B=$je,I=Hje,F=257):(B=Wje,I=Vje,F=0),N=0,h=0,d=m,L=i,y=p,b=0,D=-1,k=1<<p,M=k-1,e===z_&&k>KL||e===XL&&k>GL)return 1;for(;;){V=d-b,s[h]+1<F?(Y=0,te=s[h]):s[h]>=F?(Y=I[s[h]-F],te=B[s[h]-F]):(Y=96,te=0),_=1<<d-b,A=1<<y,m=A;do A-=_,n[L+(N>>b)+A]=V<<24|Y<<16|te|0;while(A!==0);for(_=1<<d-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,h++,--H[d]===0){if(d===x)break;d=t[r+s[h]]}if(d>p&&(N&M)!==D){for(b===0&&(b=p),L+=m,y=d-b,v=1<<y;y+b<x&&(v-=H[y+b],!(v<=0));)y++,v<<=1;if(k+=1<<y,e===z_&&k>KL||e===XL&&k>GL)return 1;D=N&M,n[D]=p<<24|y<<16|L-i|0}}return N!==0&&(n[L+N]=d-b<<24|64<<16|0),l.bits=p,0};var c1=Kje;const Gje=0,FH=1,BH=2,{Z_FINISH:QL,Z_BLOCK:Yje,Z_TREES:fy,Z_OK:cm,Z_STREAM_END:Xje,Z_NEED_DICT:Qje,Z_STREAM_ERROR:tc,Z_DATA_ERROR:UH,Z_MEM_ERROR:zH,Z_BUF_ERROR:Jje,Z_DEFLATED:JL}=MH,uk=16180,ZL=16181,eM=16182,tM=16183,rM=16184,aM=16185,nM=16186,iM=16187,sM=16188,oM=16189,Y2=16190,bd=16191,q_=16192,lM=16193,$_=16194,cM=16195,uM=16196,dM=16197,hM=16198,my=16199,py=16200,fM=16201,mM=16202,pM=16203,gM=16204,xM=16205,H_=16206,vM=16207,bM=16208,An=16209,qH=16210,$H=16211,Zje=852,e6e=592,t6e=15,r6e=t6e,yM=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function a6e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<uk||t.mode>$H?1:0},HH=e=>{if(wm(e))return tc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=uk,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Zje),t.distcode=t.distdyn=new Int32Array(e6e),t.sane=1,t.back=-1,cm},WH=e=>{if(wm(e))return tc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,HH(e)},VH=(e,t)=>{let r;if(wm(e))return tc;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?tc:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,WH(e))},KH=(e,t)=>{if(!e)return tc;const r=new a6e;e.state=r,r.strm=e,r.window=null,r.mode=uk;const a=VH(e,t);return a!==cm&&(e.state=null),a},n6e=e=>KH(e,r6e);let wM=!0,W_,V_;const i6e=e=>{if(wM){W_=new Int32Array(512),V_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c1(FH,e.lens,0,288,W_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c1(BH,e.lens,0,32,V_,0,e.work,{bits:5}),wM=!1}e.lencode=W_,e.lenbits=9,e.distcode=V_,e.distbits=5},GH=(e,t,r,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(r-a,r-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},s6e=(e,t)=>{let r,a,n,i,s,l,u,d,h,m,x,p,y,b,v=0,k,N,_,A,D,M,L,B;const F=new Uint8Array(4);let H,O;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wm(e)||!e.output||!e.input&&e.avail_in!==0)return tc;r=e.state,r.mode===bd&&(r.mode=q_),s=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=r.hold,h=r.bits,m=l,x=u,B=cm;e:for(;;)switch(r.mode){case uk:if(r.wrap===0){r.mode=q_;break}for(;h<16;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=d&255,F[1]=d>>>8&255,r.check=gu(r.check,F,2,0),d=0,h=0,r.mode=ZL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=An;break}if((d&15)!==JL){e.msg="unknown compression method",r.mode=An;break}if(d>>>=4,h-=4,L=(d&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=An;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?oM:bd,d=0,h=0;break;case ZL:for(;h<16;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(r.flags=d,(r.flags&255)!==JL){e.msg="unknown compression method",r.mode=An;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=An;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=gu(r.check,F,2,0)),d=0,h=0,r.mode=eM;case eM:for(;h<32;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,r.check=gu(r.check,F,4,0)),d=0,h=0,r.mode=tM;case tM:for(;h<16;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=gu(r.check,F,2,0)),d=0,h=0,r.mode=rM;case rM:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=gu(r.check,F,2,0)),d=0,h=0}else r.head&&(r.head.extra=null);r.mode=aM;case aM:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+p),L)),r.flags&512&&r.wrap&4&&(r.check=gu(r.check,a,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=nM;case nM:if(r.flags&2048){if(l===0)break e;p=0;do L=a[i+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=gu(r.check,a,p,i)),l-=p,i+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=iM;case iM:if(r.flags&4096){if(l===0)break e;p=0;do L=a[i+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=gu(r.check,a,p,i)),l-=p,i+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=sM;case sM:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=An;break}d=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=bd;break;case oM:for(;h<32;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}e.adler=r.check=yM(d),d=0,h=0,r.mode=Y2;case Y2:if(r.havedict===0)return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,Qje;e.adler=r.check=1,r.mode=bd;case bd:if(t===Yje||t===fy)break e;case q_:if(r.last){d>>>=h&7,h-=h&7,r.mode=H_;break}for(;h<3;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}switch(r.last=d&1,d>>>=1,h-=1,d&3){case 0:r.mode=lM;break;case 1:if(i6e(r),r.mode=my,t===fy){d>>>=2,h-=2;break e}break;case 2:r.mode=uM;break;case 3:e.msg="invalid block type",r.mode=An}d>>>=2,h-=2;break;case lM:for(d>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=An;break}if(r.length=d&65535,d=0,h=0,r.mode=$_,t===fy)break e;case $_:r.mode=cM;case cM:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;n.set(a.subarray(i,i+p),s),l-=p,i+=p,u-=p,s+=p,r.length-=p;break}r.mode=bd;break;case uM:for(;h<14;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(r.nlen=(d&31)+257,d>>>=5,h-=5,r.ndist=(d&31)+1,d>>>=5,h-=5,r.ncode=(d&15)+4,d>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=An;break}r.have=0,r.mode=dM;case dM:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.lens[I[r.have++]]=d&7,d>>>=3,h-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},B=c1(Gje,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,B){e.msg="invalid code lengths set",r.mode=An;break}r.have=0,r.mode=hM;case hM:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],k=v>>>24,N=v>>>16&255,_=v&65535,!(k<=h);){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(_<16)d>>>=k,h-=k,r.lens[r.have++]=_;else{if(_===16){for(O=k+2;h<O;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(d>>>=k,h-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=An;break}L=r.lens[r.have-1],p=3+(d&3),d>>>=2,h-=2}else if(_===17){for(O=k+3;h<O;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,L=0,p=3+(d&7),d>>>=3,h-=3}else{for(O=k+7;h<O;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,L=0,p=11+(d&127),d>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=An;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===An)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=An;break}if(r.lenbits=9,H={bits:r.lenbits},B=c1(FH,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,B){e.msg="invalid literal/lengths set",r.mode=An;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},B=c1(BH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,B){e.msg="invalid distances set",r.mode=An;break}if(r.mode=my,t===fy)break e;case my:r.mode=py;case py:if(l>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,qje(e,x),s=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=r.hold,h=r.bits,r.mode===bd&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],k=v>>>24,N=v>>>16&255,_=v&65535,!(k<=h);){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(N&&(N&240)===0){for(A=k,D=N,M=_;v=r.lencode[M+((d&(1<<A+D)-1)>>A)],k=v>>>24,N=v>>>16&255,_=v&65535,!(A+k<=h);){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}d>>>=A,h-=A,r.back+=A}if(d>>>=k,h-=k,r.back+=k,r.length=_,N===0){r.mode=xM;break}if(N&32){r.back=-1,r.mode=bd;break}if(N&64){e.msg="invalid literal/length code",r.mode=An;break}r.extra=N&15,r.mode=fM;case fM:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=mM;case mM:for(;v=r.distcode[d&(1<<r.distbits)-1],k=v>>>24,N=v>>>16&255,_=v&65535,!(k<=h);){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if((N&240)===0){for(A=k,D=N,M=_;v=r.distcode[M+((d&(1<<A+D)-1)>>A)],k=v>>>24,N=v>>>16&255,_=v&65535,!(A+k<=h);){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}d>>>=A,h-=A,r.back+=A}if(d>>>=k,h-=k,r.back+=k,N&64){e.msg="invalid distance code",r.mode=An;break}r.offset=_,r.extra=N&15,r.mode=pM;case pM:if(r.extra){for(O=r.extra;h<O;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=An;break}r.mode=gM;case gM:if(u===0)break e;if(p=x-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=An;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),b=r.window}else b=n,y=s-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do n[s++]=b[y++];while(--p);r.length===0&&(r.mode=py);break;case xM:if(u===0)break e;n[s++]=r.length,u--,r.mode=py;break;case H_:if(r.wrap){for(;h<32;){if(l===0)break e;l--,d|=a[i++]<<h,h+=8}if(x-=u,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?gu(r.check,n,x,s-x):dN(r.check,n,x,s-x)),x=u,r.wrap&4&&(r.flags?d:yM(d))!==r.check){e.msg="incorrect data check",r.mode=An;break}d=0,h=0}r.mode=vM;case vM:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,d+=a[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=An;break}d=0,h=0}r.mode=bM;case bM:B=Xje;break e;case An:B=UH;break e;case qH:return zH;case $H:default:return tc}return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=h,(r.wsize||x!==e.avail_out&&r.mode<An&&(r.mode<H_||t!==QL))&&GH(e,e.output,e.next_out,x-e.avail_out),m-=e.avail_in,x-=e.avail_out,e.total_in+=m,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?gu(r.check,n,x,e.next_out-x):dN(r.check,n,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===bd?128:0)+(r.mode===my||r.mode===$_?256:0),(m===0&&x===0||t===QL)&&B===cm&&(B=Jje),B},o6e=e=>{if(wm(e))return tc;let t=e.state;return t.window&&(t.window=null),e.state=null,cm},l6e=(e,t)=>{if(wm(e))return tc;const r=e.state;return(r.wrap&2)===0?tc:(r.head=t,t.done=!1,cm)},c6e=(e,t)=>{const r=t.length;let a,n,i;return wm(e)||(a=e.state,a.wrap!==0&&a.mode!==Y2)?tc:a.mode===Y2&&(n=1,n=dN(n,t,r,0),n!==a.check)?UH:(i=GH(e,t,r,r),i?(a.mode=qH,zH):(a.havedict=1,cm))};var u6e=WH,d6e=VH,h6e=HH,f6e=n6e,m6e=KH,p6e=s6e,g6e=o6e,x6e=l6e,v6e=c6e,b6e="pako inflate (from Nodeca project)",kd={inflateReset:u6e,inflateReset2:d6e,inflateResetKeep:h6e,inflateInit:f6e,inflateInit2:m6e,inflate:p6e,inflateEnd:g6e,inflateGetHeader:x6e,inflateSetDictionary:v6e,inflateInfo:b6e};function y6e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var w6e=y6e;const YH=Object.prototype.toString,{Z_NO_FLUSH:k6e,Z_FINISH:_6e,Z_OK:V1,Z_STREAM_END:K_,Z_NEED_DICT:G_,Z_STREAM_ERROR:S6e,Z_DATA_ERROR:kM,Z_MEM_ERROR:N6e}=MH;function Lv(e){this.options=IH.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uje,this.strm.avail_out=0;let r=kd.inflateInit2(this.strm,t.windowBits);if(r!==V1)throw new Error(hN[r]);if(this.header=new w6e,kd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=fN.string2buf(t.dictionary):YH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=kd.inflateSetDictionary(this.strm,t.dictionary),r!==V1)))throw new Error(hN[r])}Lv.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,s,l;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?_6e:k6e,YH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=kd.inflate(r,s),i===G_&&n&&(i=kd.inflateSetDictionary(r,n),i===V1?i=kd.inflate(r,s):i===kM&&(i=G_));r.avail_in>0&&i===K_&&r.state.wrap>0&&e[r.next_in]!==0;)kd.inflateReset(r),i=kd.inflate(r,s);switch(i){case S6e:case kM:case G_:case N6e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===K_))if(this.options.to==="string"){let u=fN.utf8border(r.output,r.next_out),d=r.next_out-u,h=fN.buf2string(r.output,u);r.next_out=d,r.avail_out=a-d,d&&r.output.set(r.output.subarray(u,u+d),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===V1&&l===0)){if(i===K_)return i=kd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Lv.prototype.onData=function(e){this.chunks.push(e)};Lv.prototype.onEnd=function(e){e===V1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=IH.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function j6e(e,t){const r=new Lv(t);if(r.push(e),r.err)throw r.msg||hN[r.err];return r.result}var A6e=Lv,T6e=j6e,E6e={Inflate:A6e,inflate:T6e};const{Inflate:C6e,inflate:O6e}=E6e;var _M=C6e,P6e=O6e;const XH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;XH[e]=t}const SM=4294967295;function D6e(e,t,r){let a=e;for(let n=0;n<r;n++)a=XH[(a^t[n])&255]^a>>>8;return a}function L6e(e,t){return(D6e(SM,e,t)^SM)>>>0}function NM(e,t,r){const a=e.readUint32(),n=L6e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function QH(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function JH(e,t,r,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-a]&255}function ZH(e,t,r,a){let n=0;if(r.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+r[n]&255}function eW(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+r[i]>>1)&255}}function tW(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+M6e(t[i-n],r[i],r[i-n])&255}}function M6e(e,t,r){const a=e+t-r,n=Math.abs(a-e),i=Math.abs(a-t),s=Math.abs(a-r);return n<=i&&n<=s?e:i<=s?t:r}function I6e(e,t,r,a,n,i){switch(e){case 0:QH(t,r,n);break;case 1:JH(t,r,n,i);break;case 2:ZH(t,r,a,n);break;case 3:eW(t,r,a,n,i);break;case 4:tW(t,r,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const R6e=new Uint16Array([255]),F6e=new Uint8Array(R6e.buffer),B6e=F6e[0]===255;function U6e(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*n,u=new Uint8Array(a*r*l);let d=0;for(let h=0;h<7;h++){const m=s[h],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((a-m.y)/m.yStep);if(x<=0||p<=0)continue;const y=x*l,b=new Uint8Array(y);for(let v=0;v<p;v++){const k=t[d++],N=t.subarray(d,d+y);d+=y;const _=new Uint8Array(y);I6e(k,N,_,b,y,l),b.set(_);for(let A=0;A<x;A++){const D=m.x+A*m.xStep,M=m.y+v*m.yStep;if(!(D>=r||M>=a))for(let L=0;L<l;L++)u[(M*r+D)*l+L]=_[A*l+L]}}}if(i===16){const h=new Uint16Array(u.buffer);if(B6e)for(let m=0;m<h.length;m++)h[m]=z6e(h[m]);return h}else return u}function z6e(e){return(e&255)<<8|e>>8&255}const q6e=new Uint16Array([255]),$6e=new Uint8Array(q6e.buffer),H6e=$6e[0]===255,W6e=new Uint8Array(0);function jM(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=Math.ceil(i/8)*n,l=Math.ceil(i/8*n*r),u=new Uint8Array(a*l);let d=W6e,h=0,m,x;for(let p=0;p<a;p++){switch(m=t.subarray(h+1,h+1+l),x=u.subarray(p*l,(p+1)*l),t[h]){case 0:QH(m,x,l);break;case 1:JH(m,x,l,s);break;case 2:ZH(m,x,d,l);break;case 3:eW(m,x,d,l,s);break;case 4:tW(m,x,d,l,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=x,h+=l+1}if(i===16){const p=new Uint16Array(u.buffer);if(H6e)for(let y=0;y<p.length;y++)p[y]=V6e(p[y]);return p}else return u}function V6e(e){return(e&255)<<8|e>>8&255}const Ty=Uint8Array.of(137,80,78,71,13,10,26,10);function AM(e){if(!K6e(e.readBytes(Ty.length)))throw new Error("wrong PNG signature")}function K6e(e){if(e.length<Ty.length)return!1;for(let t=0;t<Ty.length;t++)if(e[t]!==Ty[t])return!1;return!0}const G6e="tEXt",Y6e=0,rW=new TextDecoder("latin1");function X6e(e){if(J6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Q6e=/^[\u0000-\u00FF]*$/;function J6e(e){if(!Q6e.test(e))throw new Error("invalid latin1 text")}function Z6e(e,t,r){const a=aW(t);e[a]=eAe(t,r-a.length-1)}function aW(e){for(e.mark();e.readByte()!==Y6e;);const t=e.offset;e.reset();const r=rW.decode(e.readBytes(t-e.offset-1));return e.skip(1),X6e(r),r}function eAe(e,t){return rW.decode(e.readBytes(t))}const Zo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Y_={UNKNOWN:-1,DEFLATE:0},TM={UNKNOWN:-1,ADAPTIVE:0},X_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gy={NONE:0,BACKGROUND:1,PREVIOUS:2},Q_={SOURCE:0,OVER:1};class tAe extends VA{constructor(r,a={}){super(r);va(this,"_checkCrc");va(this,"_inflator");va(this,"_png");va(this,"_apng");va(this,"_end");va(this,"_hasPalette");va(this,"_palette");va(this,"_hasTransparency");va(this,"_transparency");va(this,"_compressionMethod");va(this,"_filterMethod");va(this,"_interlaceMethod");va(this,"_colorType");va(this,"_isAnimated");va(this,"_numberOfFrames");va(this,"_numberOfPlays");va(this,"_frames");va(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new _M,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Y_.UNKNOWN,this._filterMethod=TM.UNKNOWN,this._interlaceMethod=X_.UNKNOWN,this._colorType=Zo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(AM(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(AM(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case G6e:Z6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?NM(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?NM(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=rAe(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case Zo.GREYSCALE:n=1;break;case Zo.TRUECOLOUR:n=3;break;case Zo.INDEXED_COLOUR:n=1;break;case Zo.GREYSCALE_ALPHA:n=2;break;case Zo.TRUECOLOUR_ALPHA:n=4;break;case Zo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Y_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<a;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Zo.GREYSCALE:case Zo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Zo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Zo.UNKNOWN:case Zo.GREYSCALE_ALPHA:case Zo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=aW(this),n=this.readUint8();if(n!==Y_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:P6e(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=jM({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(n,i,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case gy.NONE:break;case gy.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*r.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)n.data[l+u]=0}break;case gy.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,i=(s,l)=>{const u=((s+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(s*a.width+l)*this._png.channels;return{index:u,frameIndex:d}};switch(a.blendOp){case Q_.SOURCE:for(let s=0;s<a.height;s++)for(let l=0;l<a.width;l++){const{index:u,frameIndex:d}=i(s,l);for(let h=0;h<this._png.channels;h++)r.data[u+h]=a.data[d+h]}break;case Q_.OVER:for(let s=0;s<a.height;s++)for(let l=0;l<a.width;l++){const{index:u,frameIndex:d}=i(s,l);for(let h=0;h<this._png.channels;h++){const m=a.data[d+this._png.channels-1]/n,x=h%(this._png.channels-1)===0?1:a.data[d+h],p=Math.floor(m*x+(1-m)*r.data[u+h]);r.data[u+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==TM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===X_.NO_INTERLACE)this._png.data=jM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===X_.ADAM7)this._png.data=U6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gy.NONE,blendOp:Q_.SOURCE,data:r}),this._inflator=new _M,this._writingDataChunks=!1}}function rAe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var EM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(EM||(EM={}));function aAe(e,t){return new tAe(e,t).decode()}var Pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function J_(){Pr.console&&typeof Pr.console.log=="function"&&Pr.console.log.apply(Pr.console,arguments)}var tn={log:J_,warn:function(e){Pr.console&&(typeof Pr.console.warn=="function"?Pr.console.warn.apply(Pr.console,arguments):J_.call(null,arguments))},error:function(e){Pr.console&&(typeof Pr.console.error=="function"?Pr.console.error.apply(Pr.console,arguments):J_(e))}};function Z_(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){df(a.response,t,r)},a.onerror=function(){tn.error("could not download file")},a.send()}function CM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var df=Pr.saveAs||((typeof window>"u"?"undefined":Fa(window))!=="object"||window!==Pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Pr.URL||Pr.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?CM(n.href)?Z_(e,t,r):xy(n,n.target="_blank"):xy(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){xy(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(CM(e))Z_(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){xy(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Fa(i)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Z_(e,t,r);var n=e.type==="application/octet-stream",i=/constructor/i.test(Pr.HTMLElement)||Pr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&i)&&(typeof FileReader>"u"?"undefined":Fa(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(e)}else{var u=Pr.URL||Pr.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nW(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,s=n.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}var Ey=Pr.atob.bind(Pr),OM=Pr.btoa.bind(Pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function eS(e,t){var r=e[0],a=e[1],n=e[2],i=e[3];r=Ds(r,a,n,i,t[0],7,-680876936),i=Ds(i,r,a,n,t[1],12,-389564586),n=Ds(n,i,r,a,t[2],17,606105819),a=Ds(a,n,i,r,t[3],22,-1044525330),r=Ds(r,a,n,i,t[4],7,-176418897),i=Ds(i,r,a,n,t[5],12,1200080426),n=Ds(n,i,r,a,t[6],17,-1473231341),a=Ds(a,n,i,r,t[7],22,-45705983),r=Ds(r,a,n,i,t[8],7,1770035416),i=Ds(i,r,a,n,t[9],12,-1958414417),n=Ds(n,i,r,a,t[10],17,-42063),a=Ds(a,n,i,r,t[11],22,-1990404162),r=Ds(r,a,n,i,t[12],7,1804603682),i=Ds(i,r,a,n,t[13],12,-40341101),n=Ds(n,i,r,a,t[14],17,-1502002290),r=Ls(r,a=Ds(a,n,i,r,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Ls(i,r,a,n,t[6],9,-1069501632),n=Ls(n,i,r,a,t[11],14,643717713),a=Ls(a,n,i,r,t[0],20,-373897302),r=Ls(r,a,n,i,t[5],5,-701558691),i=Ls(i,r,a,n,t[10],9,38016083),n=Ls(n,i,r,a,t[15],14,-660478335),a=Ls(a,n,i,r,t[4],20,-405537848),r=Ls(r,a,n,i,t[9],5,568446438),i=Ls(i,r,a,n,t[14],9,-1019803690),n=Ls(n,i,r,a,t[3],14,-187363961),a=Ls(a,n,i,r,t[8],20,1163531501),r=Ls(r,a,n,i,t[13],5,-1444681467),i=Ls(i,r,a,n,t[2],9,-51403784),n=Ls(n,i,r,a,t[7],14,1735328473),r=Ms(r,a=Ls(a,n,i,r,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Ms(i,r,a,n,t[8],11,-2022574463),n=Ms(n,i,r,a,t[11],16,1839030562),a=Ms(a,n,i,r,t[14],23,-35309556),r=Ms(r,a,n,i,t[1],4,-1530992060),i=Ms(i,r,a,n,t[4],11,1272893353),n=Ms(n,i,r,a,t[7],16,-155497632),a=Ms(a,n,i,r,t[10],23,-1094730640),r=Ms(r,a,n,i,t[13],4,681279174),i=Ms(i,r,a,n,t[0],11,-358537222),n=Ms(n,i,r,a,t[3],16,-722521979),a=Ms(a,n,i,r,t[6],23,76029189),r=Ms(r,a,n,i,t[9],4,-640364487),i=Ms(i,r,a,n,t[12],11,-421815835),n=Ms(n,i,r,a,t[15],16,530742520),r=Is(r,a=Ms(a,n,i,r,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Is(i,r,a,n,t[7],10,1126891415),n=Is(n,i,r,a,t[14],15,-1416354905),a=Is(a,n,i,r,t[5],21,-57434055),r=Is(r,a,n,i,t[12],6,1700485571),i=Is(i,r,a,n,t[3],10,-1894986606),n=Is(n,i,r,a,t[10],15,-1051523),a=Is(a,n,i,r,t[1],21,-2054922799),r=Is(r,a,n,i,t[8],6,1873313359),i=Is(i,r,a,n,t[15],10,-30611744),n=Is(n,i,r,a,t[6],15,-1560198380),a=Is(a,n,i,r,t[13],21,1309151649),r=Is(r,a,n,i,t[4],6,-145523070),i=Is(i,r,a,n,t[11],10,-1120210379),n=Is(n,i,r,a,t[2],15,718787259),a=Is(a,n,i,r,t[9],21,-343485551),e[0]=uh(r,e[0]),e[1]=uh(a,e[1]),e[2]=uh(n,e[2]),e[3]=uh(i,e[3])}function dk(e,t,r,a,n,i){return t=uh(uh(t,e),uh(a,i)),uh(t<<n|t>>>32-n,r)}function Ds(e,t,r,a,n,i,s){return dk(t&r|~t&a,e,t,n,i,s)}function Ls(e,t,r,a,n,i,s){return dk(t&a|r&~a,e,t,n,i,s)}function Ms(e,t,r,a,n,i,s){return dk(t^r^a,e,t,n,i,s)}function Is(e,t,r,a,n,i,s){return dk(r^(t|~a),e,t,n,i,s)}function iW(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)eS(a,nAe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(eS(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,eS(a,n),a}function nAe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var PM="0123456789abcdef".split("");function iAe(e){for(var t="",r=0;r<4;r++)t+=PM[e>>8*r+4&15]+PM[e>>8*r&15];return t}function sAe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function mN(e){return iW(e).map(sAe).join("")}var oAe=(function(e){for(var t=0;t<e.length;t++)e[t]=iAe(e[t]);return e.join("")})(iW("hello"))!="5d41402abc4b2a76b9719d911017c592";function uh(e,t){if(oAe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pN(e,t){var r,a,n,i;if(e!==r){for(var s=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var h=l[u];d=(d+h+s.charCodeAt(u))%256,l[u]=l[d],l[d]=h}r=e,a=l}else l=a;var m=t.length,x=0,p=0,y="";for(u=0;u<m;u++)p=(p+(h=l[x=(x+1)%256]))%256,l[x]=l[p],l[p]=h,s=l[(l[x]+l[p])%256],y+=String.fromCharCode(t.charCodeAt(u)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var DM={print:4,modify:8,copy:16,"annot-forms":32};function Cp(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(l){if(DM.perm!==void 0)throw new Error("Invalid permission: "+l);n+=DM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^n)),this.encryptionKey=mN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=pN(this.encryptionKey,this.padding)}function Op(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function LM(e){if(Fa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,a)}catch(l){Pr.console&&tn.error("jsPDF PubSub Error",l.message,l)}s[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function X2(e){if(!(this instanceof X2))return new X2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function sW(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function pf(e,t,r,a,n){if(!(this instanceof pf))return new pf(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,sW.call(this,a,n)}function Lp(e,t,r,a,n){if(!(this instanceof Lp))return new Lp(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,sW.call(this,a,n)}function or(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],s=[],l=1,u=16,d="S",h=null;Fa(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),a=a||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=LM;var y="1.3",b=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(R){y=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var k=p.__private__.getPageFormat=function(R){return v[R]};n=n||"a4";var N="compat",_="advanced",A=N;function D(){this.saveGraphicsState(),ce(new Pt(ht,0,0,-ht,0,hc()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),d="n",A=_}function M(){this.restoreGraphicsState(),d="S",A=N}var L=p.__private__.combineFontStyleAndFontWeight=function(R,ne){if(R=="bold"&&ne=="normal"||R=="bold"&&ne==400||R=="normal"&&ne=="italic"||R=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(R=ne==400||ne==="normal"?R==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||R!=="normal"?(ne==700?"bold":ne)+""+R:"bold"),R};p.advancedAPI=function(R){var ne=A===N;return ne&&D.call(this),typeof R!="function"||(R(this),ne&&M.call(this)),this},p.compatAPI=function(R){var ne=A===_;return ne&&M.call(this),typeof R!="function"||(R(this),ne&&D.call(this)),this},p.isAdvancedAPI=function(){return A===_};var B,F=function(R){if(A!==_)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=p.roundToPrecision=p.__private__.roundToPrecision=function(R,ne){var je=t||ne;if(isNaN(R)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(je).replace(/0+$/,"")};B=p.hpf=p.__private__.hpf=typeof u=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,u)}:u==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,16)};var O=p.f2=p.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return H(R,2)},I=p.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return H(R,3)},V=p.scale=p.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return A===N?R*ht:A===_?R:void 0},Y=function(R){return V((function(ne){return A===N?hc()-ne:A===_?ne:void 0})(R))};p.__private__.setPrecision=p.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var te,X="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return X},de=p.__private__.setFileId=function(R){return X=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(In=new Cp(h.userPermissions,h.userPassword,h.ownerPassword,X)),X};p.setFileId=function(R){return de(R),this},p.getFileId=function(){return ae()};var oe=p.__private__.convertDateToPDFDate=function(R){var ne=R.getTimezoneOffset(),je=ne<0?"+":"-",Ie=Math.floor(Math.abs(ne/60)),$e=Math.abs(ne%60),pt=[je,z(Ie),"'",z($e),"'"].join("");return["D:",R.getFullYear(),z(R.getMonth()+1),z(R.getDate()),z(R.getHours()),z(R.getMinutes()),z(R.getSeconds()),pt].join("")},De=p.__private__.convertPDFDateToDate=function(R){var ne=parseInt(R.substr(2,4),10),je=parseInt(R.substr(6,2),10)-1,Ie=parseInt(R.substr(8,2),10),$e=parseInt(R.substr(10,2),10),pt=parseInt(R.substr(12,2),10),Nt=parseInt(R.substr(14,2),10);return new Date(ne,je,Ie,$e,pt,Nt,0)},re=p.__private__.setCreationDate=function(R){var ne;if(R===void 0&&(R=new Date),R instanceof Date)ne=oe(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=R}return te=ne},P=p.__private__.getCreationDate=function(R){var ne=te;return R==="jsDate"&&(ne=De(te)),ne};p.setCreationDate=function(R){return re(R),this},p.getCreationDate=function(R){return P(R)};var W,z=p.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},q=p.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},Z=0,se=[],ee=[],Q=0,me=[],Ae=[],J=!1,ke=ee;p.__private__.setCustomOutputDestination=function(R){J=!0,ke=R};var ye=function(R){J||(ke=R)};p.__private__.resetCustomOutputDestination=function(){J=!1,ke=ee};var ce=p.__private__.out=function(R){return R=R.toString(),Q+=R.length+1,ke.push(R),ke},qe=p.__private__.write=function(R){return ce(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(R){for(var ne=R.length,je=new ArrayBuffer(ne),Ie=new Uint8Array(je);ne--;)Ie[ne]=R.charCodeAt(ne);return je},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return mt};var Te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(R){return Te=A===_?R/ht:R,this};var Ee,Be=p.__private__.getFontSize=p.getFontSize=function(){return A===N?Te:Te*ht},ut=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(R){return ut=R,this},p.__private__.getR2L=p.getR2L=function(){return ut};var bt,Me=p.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Ee=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Ee=R}else Ee=parseInt(R,10)};p.__private__.getZoomMode=function(){return Ee};var at,yt=p.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');bt=R};p.__private__.getPageMode=function(){return bt};var lr=p.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');at=R};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(R,ne,je){return Me(R),lr(ne),yt(je),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(R){if(Object.keys(Rt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[R]},p.__private__.getDocumentProperties=function(){return Rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(R){for(var ne in Rt)Rt.hasOwnProperty(ne)&&R[ne]&&(Rt[ne]=R[ne]);return this},p.__private__.setDocumentProperty=function(R,ne){if(Object.keys(Rt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[R]=ne};var kt,ht,_t,hr,Ut,At={},Lt={},_r=[],Gt={},Ar={},rr={},Yr={},Dt=null,cr=0,zt=[],Dr=new LM(p),hs=e.hotfixes||[],wn={},ma={},bi=[],Pt=function R(ne,je,Ie,$e,pt,Nt){if(!(this instanceof R))return new R(ne,je,Ie,$e,pt,Nt);isNaN(ne)&&(ne=1),isNaN(je)&&(je=0),isNaN(Ie)&&(Ie=0),isNaN($e)&&($e=1),isNaN(pt)&&(pt=0),isNaN(Nt)&&(Nt=0),this._matrix=[ne,je,Ie,$e,pt,Nt]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(R)},Pt.prototype.multiply=function(R){var ne=R.sx*this.sx+R.shy*this.shx,je=R.sx*this.shy+R.shy*this.sy,Ie=R.shx*this.sx+R.sy*this.shx,$e=R.shx*this.shy+R.sy*this.sy,pt=R.tx*this.sx+R.ty*this.shx+this.tx,Nt=R.tx*this.shy+R.ty*this.sy+this.ty;return new Pt(ne,je,Ie,$e,pt,Nt)},Pt.prototype.decompose=function(){var R=this.sx,ne=this.shy,je=this.shx,Ie=this.sy,$e=this.tx,pt=this.ty,Nt=Math.sqrt(R*R+ne*ne),Qt=(R/=Nt)*je+(ne/=Nt)*Ie;je-=R*Qt,Ie-=ne*Qt;var ir=Math.sqrt(je*je+Ie*Ie);return Qt/=ir,R*(Ie/=ir)<ne*(je/=ir)&&(R=-R,ne=-ne,Qt=-Qt,Nt=-Nt),{scale:new Pt(Nt,0,0,ir,0,0),translate:new Pt(1,0,0,1,$e,pt),rotate:new Pt(R,ne,-ne,R,0,0),skew:new Pt(1,0,Qt,1,0,0)}},Pt.prototype.toString=function(R){return this.join(" ")},Pt.prototype.inversed=function(){var R=this.sx,ne=this.shy,je=this.shx,Ie=this.sy,$e=this.tx,pt=this.ty,Nt=1/(R*Ie-ne*je),Qt=Ie*Nt,ir=-ne*Nt,Sr=-je*Nt,Lr=R*Nt;return new Pt(Qt,ir,Sr,Lr,-Qt*$e-Sr*pt,-ir*$e-Lr*pt)},Pt.prototype.applyToPoint=function(R){var ne=R.x*this.sx+R.y*this.shx+this.tx,je=R.x*this.shy+R.y*this.sy+this.ty;return new wl(ne,je)},Pt.prototype.applyToRectangle=function(R){var ne=this.applyToPoint(R),je=this.applyToPoint(new wl(R.x+R.w,R.y+R.h));return new cc(ne.x,ne.y,je.x-ne.x,je.y-ne.y)},Pt.prototype.clone=function(){var R=this.sx,ne=this.shy,je=this.shx,Ie=this.sy,$e=this.tx,pt=this.ty;return new Pt(R,ne,je,Ie,$e,pt)},p.Matrix=Pt;var Gs=p.matrixMult=function(R,ne){return ne.multiply(R)},fs=new Pt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=fs;var Ln=function(R,ne){if(!Ar[R]){var je=(ne instanceof pf?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);ne.id=je,Ar[R]=je,Gt[je]=ne,Dr.publish("addPattern",ne)}};p.ShadingPattern=pf,p.TilingPattern=Lp,p.addShadingPattern=function(R,ne){return F("addShadingPattern()"),Ln(R,ne),this},p.beginTilingPattern=function(R){F("beginTilingPattern()"),Yu(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},p.endTilingPattern=function(R,ne){F("endTilingPattern()"),ne.stream=Ae[W].join(`
`),Ln(R,ne),Dr.publish("endTilingPattern",ne),bi.pop().restore()};var yi,ra=p.__private__.newObject=function(){var R=Xa();return le(R,!0),R},Xa=p.__private__.newObjectDeferred=function(){return Z++,se[Z]=function(){return Q},Z},le=function(R,ne){return ne=typeof ne=="boolean"&&ne,se[R]=Q,ne&&ce(R+" 0 obj"),R},Se=p.__private__.newAdditionalObject=function(){var R={objId:Xa(),content:""};return me.push(R),R},ge=Xa(),xe=Xa(),be=p.__private__.decodeColorString=function(R){var ne=R.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var je=parseFloat(ne[0]);ne=[je,je,je,"r"]}for(var Ie="#",$e=0;$e<3;$e++)Ie+=("0"+Math.floor(255*parseFloat(ne[$e])).toString(16)).slice(-2);return Ie},_e=p.__private__.encodeColorString=function(R){var ne;typeof R=="string"&&(R={ch1:R});var je=R.ch1,Ie=R.ch2,$e=R.ch3,pt=R.ch4,Nt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Qt=new nW(je);if(Qt.ok)je=Qt.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var ir=parseInt(je.substr(1),16);je=ir>>16&255,Ie=ir>>8&255,$e=255&ir}if(Ie===void 0||pt===void 0&&je===Ie&&Ie===$e)ne=typeof je=="string"?je+" "+Nt[0]:R.precision===2?O(je/255)+" "+Nt[0]:I(je/255)+" "+Nt[0];else if(pt===void 0||Fa(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return["1.","1.","1.",Nt[1]].join(" ");ne=typeof je=="string"?[je,Ie,$e,Nt[1]].join(" "):R.precision===2?[O(je/255),O(Ie/255),O($e/255),Nt[1]].join(" "):[I(je/255),I(Ie/255),I($e/255),Nt[1]].join(" ")}else ne=typeof je=="string"?[je,Ie,$e,pt,Nt[2]].join(" "):R.precision===2?[O(je),O(Ie),O($e),O(pt),Nt[2]].join(" "):[I(je),I(Ie),I($e),I(pt),Nt[2]].join(" ");return ne},Ve=p.__private__.getFilters=function(){return s},it=p.__private__.putStream=function(R){var ne=(R=R||{}).data||"",je=R.filters||Ve(),Ie=R.alreadyAppliedFilters||[],$e=R.addLength1||!1,pt=ne.length,Nt=R.objectId,Qt=function(oi){return oi};if(h!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Qt=In.encryptor(Nt,0));var ir={};je===!0&&(je=["FlateEncode"]);var Sr=R.additionalKeyValues||[],Lr=(ir=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(ne,je):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(ir.data.length!==0&&(Sr.push({key:"Length",value:ir.data.length}),$e===!0&&Sr.push({key:"Length1",value:pt})),Lr.length!=0)if(Lr.split("/").length-1==1)Sr.push({key:"Filter",value:Lr});else{Sr.push({key:"Filter",value:"["+Lr+"]"});for(var pa=0;pa<Sr.length;pa+=1)if(Sr[pa].key==="DecodeParms"){for(var un=[],Rn=0;Rn<ir.reverseChain.split("/").length-1;Rn+=1)un.push("null");un.push(Sr[pa].value),Sr[pa].value="["+un.join(" ")+"]"}}ce("<<");for(var Ua=0;Ua<Sr.length;Ua++)ce("/"+Sr[Ua].key+" "+Sr[Ua].value);ce(">>"),ir.data.length!==0&&(ce("stream"),ce(Qt(ir.data)),ce("endstream"))},Ge=p.__private__.putPage=function(R){var ne=R.number,je=R.data,Ie=R.objId,$e=R.contentsObjId;le(Ie,!0),ce("<</Type /Page"),ce("/Parent "+R.rootDictionaryObjId+" 0 R"),ce("/Resources "+R.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(B(R.mediaBox.bottomLeftX))+" "+parseFloat(B(R.mediaBox.bottomLeftY))+" "+B(R.mediaBox.topRightX)+" "+B(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ce("/CropBox ["+B(R.cropBox.bottomLeftX)+" "+B(R.cropBox.bottomLeftY)+" "+B(R.cropBox.topRightX)+" "+B(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ce("/BleedBox ["+B(R.bleedBox.bottomLeftX)+" "+B(R.bleedBox.bottomLeftY)+" "+B(R.bleedBox.topRightX)+" "+B(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ce("/TrimBox ["+B(R.trimBox.bottomLeftX)+" "+B(R.trimBox.bottomLeftY)+" "+B(R.trimBox.topRightX)+" "+B(R.trimBox.topRightY)+"]"),R.artBox!==null&&ce("/ArtBox ["+B(R.artBox.bottomLeftX)+" "+B(R.artBox.bottomLeftY)+" "+B(R.artBox.topRightX)+" "+B(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ce("/UserUnit "+R.userUnit),Dr.publish("putPage",{objId:Ie,pageContext:zt[ne],pageNumber:ne,page:je}),ce("/Contents "+$e+" 0 R"),ce(">>"),ce("endobj");var pt=je.join(`
`);return A===_&&(pt+=`
Q`),le($e,!0),it({data:pt,filters:Ve(),objectId:$e}),ce("endobj"),Ie},Ye=p.__private__.putPages=function(){var R,ne,je=[];for(R=1;R<=cr;R++)zt[R].objId=Xa(),zt[R].contentsObjId=Xa();for(R=1;R<=cr;R++)je.push(Ge({number:R,data:Ae[R],objId:zt[R].objId,contentsObjId:zt[R].contentsObjId,mediaBox:zt[R].mediaBox,cropBox:zt[R].cropBox,bleedBox:zt[R].bleedBox,trimBox:zt[R].trimBox,artBox:zt[R].artBox,userUnit:zt[R].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:xe}));le(ge,!0),ce("<</Type /Pages");var Ie="/Kids [";for(ne=0;ne<cr;ne++)Ie+=je[ne]+" 0 R ";ce(Ie+"]"),ce("/Count "+cr),ce(">>"),ce("endobj"),Dr.publish("postPutPages")},Qe=function(R){Dr.publish("putFont",{font:R,out:ce,newObject:ra,putStream:it}),R.isAlreadyPutted!==!0&&(R.objectNumber=ra(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+Op(R.postScriptName)),ce("/Subtype /Type1"),typeof R.encoding=="string"&&ce("/Encoding /"+R.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},xt=function(R){R.objectNumber=ra();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[B(R.x),B(R.y),B(R.x+R.width),B(R.y+R.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var je=R.pages[1].join(`
`);it({data:je,additionalKeyValues:ne,objectId:R.objectNumber}),ce("endobj")},Ot=function(R,ne){ne||(ne=21);var je=ra(),Ie=(function(Nt,Qt){var ir,Sr=[],Lr=1/(Qt-1);for(ir=0;ir<1;ir+=Lr)Sr.push(ir);if(Sr.push(1),Nt[0].offset!=0){var pa={offset:0,color:Nt[0].color};Nt.unshift(pa)}if(Nt[Nt.length-1].offset!=1){var un={offset:1,color:Nt[Nt.length-1].color};Nt.push(un)}for(var Rn="",Ua=0,oi=0;oi<Sr.length;oi++){for(ir=Sr[oi];ir>Nt[Ua+1].offset;)Ua++;var Vn=Nt[Ua].offset,Di=(ir-Vn)/(Nt[Ua+1].offset-Vn),vo=Nt[Ua].color,As=Nt[Ua+1].color;Rn+=q(Math.round((1-Di)*vo[0]+Di*As[0]).toString(16))+q(Math.round((1-Di)*vo[1]+Di*As[1]).toString(16))+q(Math.round((1-Di)*vo[2]+Di*As[2]).toString(16))}return Rn.trim()})(R.colors,ne),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+ne+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:Ie,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ce("endobj"),R.objectNumber=ra(),ce("<< /ShadingType "+R.type),ce("/ColorSpace /DeviceRGB");var pt="/Coords ["+B(parseFloat(R.coords[0]))+" "+B(parseFloat(R.coords[1]))+" ";R.type===2?pt+=B(parseFloat(R.coords[2]))+" "+B(parseFloat(R.coords[3])):pt+=B(parseFloat(R.coords[2]))+" "+B(parseFloat(R.coords[3]))+" "+B(parseFloat(R.coords[4]))+" "+B(parseFloat(R.coords[5])),ce(pt+="]"),R.matrix&&ce("/Matrix ["+R.matrix.toString()+"]"),ce("/Function "+je+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Ft=function(R,ne){var je=Xa(),Ie=ra();ne.push({resourcesOid:je,objectOid:Ie}),R.objectNumber=Ie;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+R.boundingBox.map(B).join(" ")+"]"}),$e.push({key:"XStep",value:B(R.xStep)}),$e.push({key:"YStep",value:B(R.yStep)}),$e.push({key:"Resources",value:je+" 0 R"}),R.matrix&&$e.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),it({data:R.stream,additionalKeyValues:$e,objectId:R.objectNumber}),ce("endobj")},Ct=function(R){for(var ne in R.objectNumber=ra(),ce("<<"),R)switch(ne){case"opacity":ce("/ca "+O(R[ne]));break;case"stroke-opacity":ce("/CA "+O(R[ne]))}ce(">>"),ce("endobj")},Ce=function(R){le(R.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in ce("/Font <<"),At)At.hasOwnProperty(ne)&&(m===!1||m===!0&&x.hasOwnProperty(ne))&&ce("/"+ne+" "+At[ne].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(Gt).length>0){for(var ne in ce("/Shading <<"),Gt)Gt.hasOwnProperty(ne)&&Gt[ne]instanceof pf&&Gt[ne].objectNumber>=0&&ce("/"+ne+" "+Gt[ne].objectNumber+" 0 R");Dr.publish("putShadingPatternDict"),ce(">>")}})(),(function(ne){if(Object.keys(Gt).length>0){for(var je in ce("/Pattern <<"),Gt)Gt.hasOwnProperty(je)&&Gt[je]instanceof p.TilingPattern&&Gt[je].objectNumber>=0&&Gt[je].objectNumber<ne&&ce("/"+je+" "+Gt[je].objectNumber+" 0 R");Dr.publish("putTilingPatternDict"),ce(">>")}})(R.objectOid),(function(){if(Object.keys(rr).length>0){var ne;for(ne in ce("/ExtGState <<"),rr)rr.hasOwnProperty(ne)&&rr[ne].objectNumber>=0&&ce("/"+ne+" "+rr[ne].objectNumber+" 0 R");Dr.publish("putGStateDict"),ce(">>")}})(),(function(){for(var ne in ce("/XObject <<"),wn)wn.hasOwnProperty(ne)&&wn[ne].objectNumber>=0&&ce("/"+ne+" "+wn[ne].objectNumber+" 0 R");Dr.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},nt=function(R){Lt[R.fontName]=Lt[R.fontName]||{},Lt[R.fontName][R.fontStyle]=R.id},$t=function(R,ne,je,Ie,$e){var pt={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:R,fontName:ne,fontStyle:je,encoding:Ie,isStandardFont:$e||!1,metadata:{}};return Dr.publish("addFont",{font:pt,instance:this}),At[pt.id]=pt,nt(pt),pt.id},Ht=p.__private__.pdfEscape=p.pdfEscape=function(R,ne){return(function(je,Ie){var $e,pt,Nt,Qt,ir,Sr,Lr,pa,un;if(Nt=(Ie=Ie||{}).sourceEncoding||"Unicode",ir=Ie.outputEncoding,(Ie.autoencode||ir)&&At[kt].metadata&&At[kt].metadata[Nt]&&At[kt].metadata[Nt].encoding&&(Qt=At[kt].metadata[Nt].encoding,!ir&&At[kt].encoding&&(ir=At[kt].encoding),!ir&&Qt.codePages&&(ir=Qt.codePages[0]),typeof ir=="string"&&(ir=Qt[ir]),ir)){for(Lr=!1,Sr=[],$e=0,pt=je.length;$e<pt;$e++)(pa=ir[je.charCodeAt($e)])?Sr.push(String.fromCharCode(pa)):Sr.push(je[$e]),Sr[$e].charCodeAt(0)>>8&&(Lr=!0);je=Sr.join("")}for($e=je.length;Lr===void 0&&$e!==0;)je.charCodeAt($e-1)>>8&&(Lr=!0),$e--;if(!Lr)return je;for(Sr=Ie.noBOM?[]:[254,255],$e=0,pt=je.length;$e<pt;$e++){if((un=(pa=je.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(un),Sr.push(pa-(un<<8))}return String.fromCharCode.apply(void 0,Sr)})(R,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zr=p.__private__.beginPage=function(R){Ae[++cr]=[],zt[cr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},nn(cr),ye(Ae[W])},Qa=function(R,ne){var je,Ie,$e;switch(r=ne||r,typeof R=="string"&&(je=k(R.toLowerCase()),Array.isArray(je)&&(Ie=je[0],$e=je[1])),Array.isArray(R)&&(Ie=R[0]*ht,$e=R[1]*ht),isNaN(Ie)&&(Ie=n[0],$e=n[1]),(Ie>14400||$e>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),$e=Math.min(14400,$e)),n=[Ie,$e],r.substr(0,1)){case"l":$e>Ie&&(n=[$e,Ie]);break;case"p":Ie>$e&&(n=[$e,Ie])}zr(n),Yc(Wu),ce(Qs),h0!==0&&ce(h0+" J"),wi!==0&&ce(wi+" j"),Dr.publish("addPage",{pageNumber:cr})},cn=function(R){R>0&&R<=cr&&(Ae.splice(R,1),zt.splice(R,1),cr--,W>cr&&(W=cr),this.setPage(W))},nn=function(R){R>0&&R<=cr&&(W=R)},Ea=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ae.length-1},qo=function(R,ne,je){var Ie,$e=void 0;return je=je||{},R=R!==void 0?R:At[kt].fontName,ne=ne!==void 0?ne:At[kt].fontStyle,Ie=R.toLowerCase(),Lt[Ie]!==void 0&&Lt[Ie][ne]!==void 0?$e=Lt[Ie][ne]:Lt[R]!==void 0&&Lt[R][ne]!==void 0?$e=Lt[R][ne]:je.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+R+"', '"+ne+"'. Refer to getFontList() for available fonts."),$e||je.noFallback||($e=Lt.times[ne])==null&&($e=Lt.times.normal),$e},Mn=p.__private__.putInfo=function(){var R=ra(),ne=function(Ie){return Ie};for(var je in h!==null&&(ne=In.encryptor(R,0)),ce("<<"),ce("/Producer ("+Ht(ne("jsPDF "+or.version))+")"),Rt)Rt.hasOwnProperty(je)&&Rt[je]&&ce("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Ht(ne(Rt[je]))+")");ce("/CreationDate ("+Ht(ne(te))+")"),ce(">>"),ce("endobj")},u0=p.__private__.putCatalog=function(R){var ne=(R=R||{}).rootDictionaryObjId||ge;switch(ra(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+ne+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Ee;je.substr(je.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+O(Ee)+"]")}switch(at||(at="continuous"),at){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}bt&&ce("/PageMode /"+bt),Dr.publish("putCatalog"),ce(">>"),ce("endobj")},Ca=p.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(Z+1)),ce("/Root "+Z+" 0 R"),ce("/Info "+(Z-1)+" 0 R"),h!==null&&ce("/Encrypt "+In.oid+" 0 R"),ce("/ID [ <"+X+"> <"+X+"> ]"),ce(">>")},ms=p.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},Oh=p.__private__.putXRef=function(){var R="0000000000";ce("xref"),ce("0 "+(Z+1)),ce("0000000000 65535 f ");for(var ne=1;ne<=Z;ne++)typeof se[ne]=="function"?ce((R+se[ne]()).slice(-10)+" 00000 n "):se[ne]!==void 0?ce((R+se[ne]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},ic=p.__private__.buildDocument=function(){var R;Z=0,Q=0,ee=[],se=[],me=[],ge=Xa(),xe=Xa(),ye(ee),Dr.publish("buildDocument"),ms(),Ye(),(function(){Dr.publish("putAdditionalObjects");for(var je=0;je<me.length;je++){var Ie=me[je];le(Ie.objId,!0),ce(Ie.content),ce("endobj")}Dr.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var je in At)At.hasOwnProperty(je)&&(m===!1||m===!0&&x.hasOwnProperty(je))&&Qe(At[je])})(),(function(){var je;for(je in rr)rr.hasOwnProperty(je)&&Ct(rr[je])})(),(function(){for(var je in wn)wn.hasOwnProperty(je)&&xt(wn[je])})(),(function(je){var Ie;for(Ie in Gt)Gt.hasOwnProperty(Ie)&&(Gt[Ie]instanceof pf?Ot(Gt[Ie]):Gt[Ie]instanceof Lp&&Ft(Gt[Ie],je))})(R),Dr.publish("putResources"),R.forEach(Ce),Ce({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),Dr.publish("postPutResources"),h!==null&&(In.oid=ra(),ce("<<"),ce("/Filter /Standard"),ce("/V "+In.v),ce("/R "+In.r),ce("/U <"+In.toHexString(In.U)+">"),ce("/O <"+In.toHexString(In.O)+">"),ce("/P "+In.P),ce(">>"),ce("endobj")),Mn(),u0();var ne=Q;return Oh(),Ca(),ce("startxref"),ce(""+ne),ce("%%EOF"),ye(Ae[W]),ee.join(`
`)},sc=p.__private__.getBlob=function(R){return new Blob([ze(R)],{type:"application/pdf"})},xo=p.output=p.__private__.output=(yi=function(R,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",R){case void 0:return ic();case"save":p.save(ne.filename);break;case"arraybuffer":return ze(ic());case"blob":return sc(ic());case"bloburi":case"bloburl":if(Pr.URL!==void 0&&typeof Pr.URL.createObjectURL=="function")return Pr.URL&&Pr.URL.createObjectURL(sc(ic()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Ie=ic();try{je=OM(Ie)}catch{je=OM(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+ne.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&($e=ne.pdfObjectUrl,pt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Qt=Pr.open();return Qt!==null&&Qt.document.write(Nt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Sr=Pr.open();if(Sr!==null){Sr.document.write(ir);var Lr=this;Sr.document.documentElement.querySelector("#pdfViewer").onload=function(){Sr.document.title=ne.filename,Sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lr.output("bloburl"))}}return Sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',un=Pr.open();if(un!==null&&(un.document.write(pa),un.document.title=ne.filename),un||typeof safari>"u")return un;break;case"datauri":case"dataurl":return Pr.document.location.href=this.output("datauristring",ne);default:return null}},yi.foo=function(){try{return yi.apply(this,arguments)}catch(je){var R=je.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var ne="Error in function "+R.split(`
`)[0].split("<")[0]+": "+je.message;if(!Pr.console)throw new Error(ne);Pr.console.error(ne,je),Pr.alert&&alert(ne)}},yi.foo.bar=yi,yi.foo),bl=function(R){return Array.isArray(hs)===!0&&hs.indexOf(R)>-1};switch(a){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=bl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ht=a}var In=null;re(),de();var Qi=p.__private__.getPageInfo=p.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:zt[R].objId,pageNumber:R,pageContext:zt[R]}},Ph=p.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in zt)if(zt[ne].objId===R)break;return Qi(ne)},_m=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:zt[W].objId,pageNumber:W,pageContext:zt[W]}};p.addPage=function(){return Qa.apply(this,arguments),this},p.setPage=function(){return nn.apply(this,arguments),ye.call(this,Ae[W]),this},p.insertPage=function(R){return this.addPage(),this.movePage(W,R),this},p.movePage=function(R,ne){var je,Ie;if(R>ne){je=Ae[R],Ie=zt[R];for(var $e=R;$e>ne;$e--)Ae[$e]=Ae[$e-1],zt[$e]=zt[$e-1];Ae[ne]=je,zt[ne]=Ie,this.setPage(ne)}else if(R<ne){je=Ae[R],Ie=zt[R];for(var pt=R;pt<ne;pt++)Ae[pt]=Ae[pt+1],zt[pt]=zt[pt+1];Ae[ne]=je,zt[ne]=Ie,this.setPage(ne)}return this},p.deletePage=function(){return cn.apply(this,arguments),this},p.__private__.text=p.text=function(R,ne,je,Ie,$e){var pt,Nt,Qt,ir,Sr,Lr,pa,un,Rn,Ua=(Ie=Ie||{}).scope||this;if(typeof R=="number"&&typeof ne=="number"&&(typeof je=="string"||Array.isArray(je))){var oi=je;je=ne,ne=R,R=oi}if(arguments[3]instanceof Pt==0?(Qt=arguments[4],ir=arguments[5],Fa(pa=arguments[3])==="object"&&pa!==null||(typeof Qt=="string"&&(ir=Qt,Qt=null),typeof pa=="string"&&(ir=pa,pa=null),typeof pa=="number"&&(Qt=pa,pa=null),Ie={flags:pa,angle:Qt,align:ir})):(F("The transform parameter of text() with a Matrix value"),Rn=$e),isNaN(ne)||isNaN(je)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return Ua;var Vn,Di="",vo=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:oc,As=Ua.internal.scaleFactor;function Om(ga){return ga=ga.split("	").join(Array(Ie.TabLen||9).join(" ")),Ht(ga,pa)}function m0(ga){for(var sa,za=ga.concat(),Bn=[],Cl=za.length;Cl--;)typeof(sa=za.shift())=="string"?Bn.push(sa):Array.isArray(ga)&&(sa.length===1||sa[1]===void 0&&sa[2]===void 0)?Bn.push(sa[0]):Bn.push([sa[0],sa[1],sa[2]]);return Bn}function Qu(ga,sa){var za;if(typeof ga=="string")za=sa(ga)[0];else if(Array.isArray(ga)){for(var Bn,Cl,Go=ga.concat(),ed=[],$h=Go.length;$h--;)typeof(Bn=Go.shift())=="string"?ed.push(sa(Bn)[0]):Array.isArray(Bn)&&typeof Bn[0]=="string"&&(Cl=sa(Bn[0],Bn[1],Bn[2]),ed.push([Cl[0],Cl[1],Cl[2]]));za=ed}return za}var _l=!1,Wo=!0;if(typeof R=="string")_l=!0;else if(Array.isArray(R)){var Ju=R.concat();Nt=[];for(var Qc,Li=Ju.length;Li--;)(typeof(Qc=Ju.shift())!="string"||Array.isArray(Qc)&&typeof Qc[0]!="string")&&(Wo=!1);_l=Wo}if(_l===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Jc=Te/Ua.internal.scaleFactor,Zc=Jc*(vo-1);switch(Ie.baseline){case"bottom":je-=Zc;break;case"top":je+=Jc-Zc;break;case"hanging":je+=Jc-2*Zc;break;case"middle":je+=Jc/2-Zc}if((Lr=Ie.maxWidth||0)>0&&(typeof R=="string"?R=Ua.splitTextToSize(R,Lr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(ga,sa){return ga.concat(Ua.splitTextToSize(sa,Lr))},[]))),pt={text:R,x:ne,y:je,options:Ie,mutex:{pdfEscape:Ht,activeFontKey:kt,fonts:At,activeFontSize:Te}},Dr.publish("preProcessText",pt),R=pt.text,Qt=(Ie=pt.options).angle,Rn instanceof Pt==0&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,Ie.rotationDirection===0&&(Qt=-Qt),A===_&&(Qt=-Qt);var p0=Math.cos(Qt),Sl=Math.sin(Qt);Rn=new Pt(p0,Sl,-Sl,p0,0,0)}else Qt&&Qt instanceof Pt&&(Rn=Qt);A!==_||Rn||(Rn=fs),(Sr=Ie.charSpace||lc)!==void 0&&(Di+=B(V(Sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=Ie.horizontalScale)!==void 0&&(Di+=B(100*un)+` Tz
`),Ie.lang;var kn=-1,fc=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,g0=Ua.internal.getCurrentPageInfo().pageContext;switch(fc){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var zh=g0.usedRenderingMode!==void 0?g0.usedRenderingMode:-1;kn!==-1?Di+=kn+` Tr
`:zh!==-1&&(Di+=`0 Tr
`),kn!==-1&&(g0.usedRenderingMode=kn),ir=Ie.align||"left";var Zs,Vo=Te*vo,mc=Ua.internal.pageSize.getWidth(),qh=At[kt];Sr=Ie.charSpace||lc,Lr=Ie.maxWidth||0,pa=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Ko=[],eu=function(ga){return Ua.getStringUnitWidth(ga,{font:qh,charSpace:Sr,fontSize:Te,doKerning:!1})*Te/As};if(Object.prototype.toString.call(R)==="[object Array]"){var Ts;Nt=m0(R),ir!=="left"&&(Zs=Nt.map(eu));var gs,Nl=0;if(ir==="right"){ne-=Zs[0],R=[],Li=Nt.length;for(var jl=0;jl<Li;jl++)jl===0?(gs=Xs(ne),Ts=Pi(je)):(gs=V(Nl-Zs[jl]),Ts=-Vo),R.push([Nt[jl],gs,Ts]),Nl=Zs[jl]}else if(ir==="center"){ne-=Zs[0]/2,R=[],Li=Nt.length;for(var pc=0;pc<Li;pc++)pc===0?(gs=Xs(ne),Ts=Pi(je)):(gs=V((Nl-Zs[pc])/2),Ts=-Vo),R.push([Nt[pc],gs,Ts]),Nl=Zs[pc]}else if(ir==="left"){R=[],Li=Nt.length;for(var x0=0;x0<Li;x0++)R.push(Nt[x0])}else if(ir==="justify"&&qh.encoding==="Identity-H"){R=[],Li=Nt.length,Lr=Lr!==0?Lr:mc;for(var v0=0,Fn=0;Fn<Li;Fn++)if(Ts=Fn===0?Pi(je):-Vo,gs=Fn===0?Xs(ne):v0,Fn<Li-1){var Pm=V((Lr-Zs[Fn])/(Nt[Fn].split(" ").length-1)),Al=Nt[Fn].split(" ");R.push([Al[0]+" ",gs,Ts]),v0=0;for(var Tl=1;Tl<Al.length;Tl++){var Mi=(eu(Al[Tl-1]+" "+Al[Tl])-eu(Al[Tl]))*As+Pm;Tl==Al.length-1?R.push([Al[Tl],Mi,0]):R.push([Al[Tl]+" ",Mi,0]),v0-=Mi}}else R.push([Nt[Fn],gs,Ts]);R.push(["",v0,0])}else{if(ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Li=Nt.length,Lr=Lr!==0?Lr:mc,Fn=0;Fn<Li;Fn++){Ts=Fn===0?Pi(je):-Vo,gs=Fn===0?Xs(ne):0;var gc=Nt[Fn].split(" ").length-1,b0=gc>0?(Lr-Zs[Fn])/gc:0;Fn<Li-1?Ko.push(B(V(b0))):Ko.push(0),R.push([Nt[Fn],gs,Ts])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:ut)===!0&&(R=Qu(R,function(ga,sa,za){return[ga.split("").reverse().join(""),sa,za]})),pt={text:R,x:ne,y:je,options:Ie,mutex:{pdfEscape:Ht,activeFontKey:kt,fonts:At,activeFontSize:Te}},Dr.publish("postProcessText",pt),R=pt.text,Vn=pt.mutex.isHex||!1;var y0=At[kt].encoding;y0!=="WinAnsiEncoding"&&y0!=="StandardEncoding"||(R=Qu(R,function(ga,sa,za){return[Om(ga),sa,za]})),Nt=m0(R),R=[];for(var xc,vc,El,Zu=Array.isArray(Nt[0])?1:0,eo="",bc=function(ga,sa,za){var Bn="";return za instanceof Pt?(za=typeof Ie.angle=="number"?Gs(za,new Pt(1,0,0,1,ga,sa)):Gs(new Pt(1,0,0,1,ga,sa),za),A===_&&(za=Gs(new Pt(1,0,0,-1,0,0),za)),Bn=za.join(" ")+` Tm
`):Bn=B(ga)+" "+B(sa)+` Td
`,Bn},Ji=0;Ji<Nt.length;Ji++){switch(eo="",Zu){case 1:El=(Vn?"<":"(")+Nt[Ji][0]+(Vn?">":")"),xc=parseFloat(Nt[Ji][1]),vc=parseFloat(Nt[Ji][2]);break;case 0:El=(Vn?"<":"(")+Nt[Ji]+(Vn?">":")"),xc=Xs(ne),vc=Pi(je)}Ko!==void 0&&Ko[Ji]!==void 0&&(eo=Ko[Ji]+` Tw
`),Ji===0?R.push(eo+bc(xc,vc,Rn)+El):Zu===0?R.push(eo+El):Zu===1&&R.push(eo+bc(xc,vc,Rn)+El)}R=Zu===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var bo=`BT
/`;return bo+=kt+" "+Te+` Tf
`,bo+=B(Te*vo)+` TL
`,bo+=yl+`
`,bo+=Di,bo+=R,ce(bo+="ET"),x[kt]=!0,Ua};var Dh=p.__private__.clip=p.clip=function(R){return ce(R==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Dh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ce("n"),this};var ps=p.__private__.isValidStyle=function(R){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(R){return ps(R)&&(d=R),this};var Lh=p.__private__.getStyle=p.getStyle=function(R){var ne=d;switch(R){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=R}return ne},Mh=p.close=function(){return ce("h"),this};p.stroke=function(){return ce("S"),this},p.fill=function(R){return Ys("f",R),this},p.fillEvenOdd=function(R){return Ys("f*",R),this},p.fillStroke=function(R){return Ys("B",R),this},p.fillStrokeEvenOdd=function(R){return Ys("B*",R),this};var Ys=function(R,ne){Fa(ne)==="object"?Nm(ne,R):ce(R)},Ih=function(R){R===null||A===_&&R===void 0||(R=Lh(R),ce(R))};function Sm(R,ne,je,Ie,$e){var pt=new Lp(ne||this.boundingBox,je||this.xStep,Ie||this.yStep,this.gState,$e||this.matrix);pt.stream=this.stream;var Nt=R+"$$"+this.cloneIndex+++"$$";return Ln(Nt,pt),pt}var Nm=function(R,ne){var je=Ar[R.key],Ie=Gt[je];if(Ie instanceof pf)ce("q"),ce(Rh(ne)),Ie.gState&&p.setGState(Ie.gState),ce(R.matrix.toString()+" cm"),ce("/"+je+" sh"),ce("Q");else if(Ie instanceof Lp){var $e=new Pt(1,0,0,-1,0,hc());R.matrix&&($e=$e.multiply(R.matrix||fs),je=Sm.call(Ie,R.key,R.boundingBox,R.xStep,R.yStep,$e).id),ce("q"),ce("/Pattern cs"),ce("/"+je+" scn"),Ie.gState&&p.setGState(Ie.gState),ce(ne),ce("Q")}},Rh=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Fh=p.moveTo=function(R,ne){return ce(B(V(R))+" "+B(Y(ne))+" m"),this},Hu=p.lineTo=function(R,ne){return ce(B(V(R))+" "+B(Y(ne))+" l"),this},$o=p.curveTo=function(R,ne,je,Ie,$e,pt){return ce([B(V(R)),B(Y(ne)),B(V(je)),B(Y(Ie)),B(V($e)),B(Y(pt)),"c"].join(" ")),this};p.__private__.line=p.line=function(R,ne,je,Ie,$e){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(Ie)||!ps($e))throw new Error("Invalid arguments passed to jsPDF.line");return A===N?this.lines([[je-R,Ie-ne]],R,ne,[1,1],$e||"S"):this.lines([[je-R,Ie-ne]],R,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(R,ne,je,Ie,$e,pt){var Nt,Qt,ir,Sr,Lr,pa,un,Rn,Ua,oi,Vn,Di;if(typeof R=="number"&&(Di=je,je=ne,ne=R,R=Di),Ie=Ie||[1,1],pt=pt||!1,isNaN(ne)||isNaN(je)||!Array.isArray(R)||!Array.isArray(Ie)||!ps($e)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fh(ne,je),Nt=Ie[0],Qt=Ie[1],Sr=R.length,oi=ne,Vn=je,ir=0;ir<Sr;ir++)(Lr=R[ir]).length===2?(oi=Lr[0]*Nt+oi,Vn=Lr[1]*Qt+Vn,Hu(oi,Vn)):(pa=Lr[0]*Nt+oi,un=Lr[1]*Qt+Vn,Rn=Lr[2]*Nt+oi,Ua=Lr[3]*Qt+Vn,oi=Lr[4]*Nt+oi,Vn=Lr[5]*Qt+Vn,$o(pa,un,Rn,Ua,oi,Vn));return pt&&Mh(),Ih($e),this},p.path=function(R){for(var ne=0;ne<R.length;ne++){var je=R[ne],Ie=je.c;switch(je.op){case"m":Fh(Ie[0],Ie[1]);break;case"l":Hu(Ie[0],Ie[1]);break;case"c":$o.apply(this,Ie);break;case"h":Mh()}}return this},p.__private__.rect=p.rect=function(R,ne,je,Ie,$e){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(Ie)||!ps($e))throw new Error("Invalid arguments passed to jsPDF.rect");return A===N&&(Ie=-Ie),ce([B(V(R)),B(Y(ne)),B(V(je)),B(V(Ie)),"re"].join(" ")),Ih($e),this},p.__private__.triangle=p.triangle=function(R,ne,je,Ie,$e,pt,Nt){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(Ie)||isNaN($e)||isNaN(pt)||!ps(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-R,Ie-ne],[$e-je,pt-Ie],[R-$e,ne-pt]],R,ne,[1,1],Nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(R,ne,je,Ie,$e,pt,Nt){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(Ie)||isNaN($e)||isNaN(pt)||!ps(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*je),pt=Math.min(pt,.5*Ie),this.lines([[je-2*$e,0],[$e*Qt,0,$e,pt-pt*Qt,$e,pt],[0,Ie-2*pt],[0,pt*Qt,-$e*Qt,pt,-$e,pt],[2*$e-je,0],[-$e*Qt,0,-$e,-pt*Qt,-$e,-pt],[0,2*pt-Ie],[0,-pt*Qt,$e*Qt,-pt,$e,-pt]],R+$e,ne,[1,1],Nt,!0),this},p.__private__.ellipse=p.ellipse=function(R,ne,je,Ie,$e){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(Ie)||!ps($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*je,Nt=4/3*(Math.SQRT2-1)*Ie;return Fh(R+je,ne),$o(R+je,ne-Nt,R+pt,ne-Ie,R,ne-Ie),$o(R-pt,ne-Ie,R-je,ne-Nt,R-je,ne),$o(R-je,ne+Nt,R-pt,ne+Ie,R,ne+Ie),$o(R+pt,ne+Ie,R+je,ne+Nt,R+je,ne),Ih($e),this},p.__private__.circle=p.circle=function(R,ne,je,Ie){if(isNaN(R)||isNaN(ne)||isNaN(je)||!ps(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ne,je,je,Ie)},p.setFont=function(R,ne,je){return je&&(ne=L(ne,je)),kt=qo(R,ne,{disableWarning:!1}),this};var Ho=p.__private__.getFont=p.getFont=function(){return At[qo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var R,ne,je={};for(R in Lt)if(Lt.hasOwnProperty(R))for(ne in je[R]=[],Lt[R])Lt[R].hasOwnProperty(ne)&&je[R].push(ne);return je},p.addFont=function(R,ne,je,Ie,$e){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(je=L(je,Ie)),$t.call(this,R,ne,je,$e=$e||"Identity-H")};var oc,Wu=e.lineWidth||.200025,yr=p.__private__.getLineWidth=p.getLineWidth=function(){return Wu},Yc=p.__private__.setLineWidth=p.setLineWidth=function(R){return Wu=R,ce(B(V(R))+" w"),this};p.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(R,ne){if(R=R||[],ne=ne||0,isNaN(ne)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(je){return B(V(je))}).join(" "),ne=B(V(ne)),ce("["+R+"] "+ne+" d"),this};var jm=p.__private__.getLineHeight=p.getLineHeight=function(){return Te*oc};p.__private__.getLineHeight=p.getLineHeight=function(){return Te*oc};var Bh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(oc=R),this},Am=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return oc};Bh(e.lineHeight);var Xs=p.__private__.getHorizontalCoordinate=function(R){return V(R)},Pi=p.__private__.getVerticalCoordinate=function(R){return A===_?R:zt[W].mediaBox.topRightY-zt[W].mediaBox.bottomLeftY-V(R)},Uh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(R){return B(Xs(R))},Vu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(R){return B(Pi(R))},Qs=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return be(Qs)},p.__private__.setStrokeColor=p.setDrawColor=function(R,ne,je,Ie){return Qs=_e({ch1:R,ch2:ne,ch3:je,ch4:Ie,pdfColorType:"draw",precision:2}),ce(Qs),this};var Ku=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return be(Ku)},p.__private__.setFillColor=p.setFillColor=function(R,ne,je,Ie){return Ku=_e({ch1:R,ch2:ne,ch3:je,ch4:Ie,pdfColorType:"fill",precision:2}),ce(Ku),this};var yl=e.textColor||"0 g",Gu=p.__private__.getTextColor=p.getTextColor=function(){return be(yl)};p.__private__.setTextColor=p.setTextColor=function(R,ne,je,Ie){return yl=_e({ch1:R,ch2:ne,ch3:je,ch4:Ie,pdfColorType:"text",precision:3}),this};var lc=e.charSpace,d0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(lc||0)};p.__private__.setCharSpace=p.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lc=R,this};var h0=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(R){var ne=p.CapJoinStyles[R];if(ne===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return h0=ne,ce(ne+" J"),this};var wi=0;p.__private__.setLineJoin=p.setLineJoin=function(R){var ne=p.CapJoinStyles[R];if(ne===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wi=ne,ce(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(B(V(R))+" M"),this},p.GState=X2,p.setGState=function(R){(R=typeof R=="string"?rr[Yr[R]]:Js(null,R)).equals(Dt)||(ce("/"+R.id+" gs"),Dt=R)};var Js=function(R,ne){if(!R||!Yr[R]){var je=!1;for(var Ie in rr)if(rr.hasOwnProperty(Ie)&&rr[Ie].equals(ne)){je=!0;break}if(je)ne=rr[Ie];else{var $e="GS"+(Object.keys(rr).length+1).toString(10);rr[$e]=ne,ne.id=$e}return R&&(Yr[R]=ne.id),Dr.publish("addGState",ne),ne}};p.addGState=function(R,ne){return Js(R,ne),this},p.saveGraphicsState=function(){return ce("q"),_r.push({key:kt,size:Te,color:yl}),this},p.restoreGraphicsState=function(){ce("Q");var R=_r.pop();return kt=R.key,Te=R.size,yl=R.color,Dt=null,this},p.setCurrentTransformationMatrix=function(R){return ce(R.toString()+" cm"),this},p.comment=function(R){return ce("#"+R),this};var wl=function(R,ne){var je=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(pt){isNaN(pt)||(je=parseFloat(pt))}});var Ie=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(pt){isNaN(pt)||(Ie=parseFloat(pt))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(pt){$e=pt.toString()}}),this},cc=function(R,ne,je,Ie){wl.call(this,R,ne),this.type="rect";var $e=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(Nt){isNaN(Nt)||($e=parseFloat(Nt))}});var pt=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(Nt){isNaN(Nt)||(pt=parseFloat(Nt))}}),this},f0=function(){this.page=cr,this.currentPage=W,this.pages=Ae.slice(0),this.pagesContext=zt.slice(0),this.x=_t,this.y=hr,this.matrix=Ut,this.width=Xc(W),this.height=kl(W),this.outputDestination=ke,this.id="",this.objectNumber=-1};f0.prototype.restore=function(){cr=this.page,W=this.currentPage,zt=this.pagesContext,Ae=this.pages,_t=this.x,hr=this.y,Ut=this.matrix,Xu(W,this.width),dc(W,this.height),ke=this.outputDestination};var Yu=function(R,ne,je,Ie,$e){bi.push(new f0),cr=W=0,Ae=[],_t=R,hr=ne,Ut=$e,zr([je,Ie])};for(var uc in p.beginFormObject=function(R,ne,je,Ie,$e){return Yu(R,ne,je,Ie,$e),this},p.endFormObject=function(R){return(function(ne){if(ma[ne])bi.pop().restore();else{var je=new f0,Ie="Xo"+(Object.keys(wn).length+1).toString(10);je.id=Ie,ma[ne]=Ie,wn[Ie]=je,Dr.publish("addFormObject",je),bi.pop().restore()}})(R),this},p.doFormObject=function(R,ne){var je=wn[ma[R]];return ce("q"),ce(ne.toString()+" cm"),ce("/"+je.id+" Do"),ce("Q"),this},p.getFormObject=function(R){var ne=wn[ma[R]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(R,ne){return R=R||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(df(sc(ic()),R),typeof df.unload=="function"&&Pr.setTimeout&&setTimeout(df.unload,911),this):new Promise(function(je,Ie){try{var $e=df(sc(ic()),R);typeof df.unload=="function"&&Pr.setTimeout&&setTimeout(df.unload,911),je($e)}catch(pt){Ie(pt.message)}})},or.API)or.API.hasOwnProperty(uc)&&(uc==="events"&&or.API.events.length?(function(R,ne){var je,Ie,$e;for($e=ne.length-1;$e!==-1;$e--)je=ne[$e][0],Ie=ne[$e][1],R.subscribe.apply(R,[je].concat(typeof Ie=="function"?[Ie]:Ie))})(Dr,or.API.events):p[uc]=or.API[uc]);function Xc(R){return zt[R].mediaBox.topRightX-zt[R].mediaBox.bottomLeftX}function Xu(R,ne){zt[R].mediaBox.topRightX=ne+zt[R].mediaBox.bottomLeftX}function kl(R){return zt[R].mediaBox.topRightY-zt[R].mediaBox.bottomLeftY}function dc(R,ne){zt[R].mediaBox.topRightY=ne+zt[R].mediaBox.bottomLeftY}var Tm=p.getPageWidth=function(R){return Xc(R=R||W)/ht},Em=p.setPageWidth=function(R,ne){Xu(R,ne*ht)},hc=p.getPageHeight=function(R){return kl(R=R||W)/ht},Cm=p.setPageHeight=function(R,ne){dc(R,ne*ht)};return p.internal={pdfEscape:Ht,getStyle:Lh,getFont:Ho,getFontSize:Be,getCharSpace:d0,getTextColor:Gu,getLineHeight:jm,getLineHeightFactor:Am,getLineWidth:yr,write:qe,getHorizontalCoordinate:Xs,getVerticalCoordinate:Pi,getCoordinateString:Uh,getVerticalCoordinateString:Vu,collections:{},newObject:ra,newAdditionalObject:Se,newObjectDeferred:Xa,newObjectDeferredBegin:le,getFilters:Ve,putStream:it,events:Dr,scaleFactor:ht,pageSize:{getWidth:function(){return Tm(W)},setWidth:function(R){Em(W,R)},getHeight:function(){return hc(W)},setHeight:function(R){Cm(W,R)}},encryptionOptions:h,encryption:In,getEncryptor:function(R){return h!==null?In.encryptor(R,0):function(ne){return ne}},output:xo,getNumberOfPages:Ea,pages:Ae,out:ce,f2:O,f3:I,getPageInfo:Qi,getPageInfoByObjId:Ph,getCurrentPageInfo:_m,getPDFVersion:b,Point:wl,Rectangle:cc,Matrix:Pt,hasHotfix:bl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tm(W)},set:function(R){Em(W,R)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return hc(W)},set:function(R){Cm(W,R)},enumerable:!0,configurable:!0}),(function(R){for(var ne=0,je=mt.length;ne<je;ne++){var Ie=$t.call(this,R[ne][0],R[ne][1],R[ne][2],mt[ne][3],!0);m===!1&&(x[Ie]=!0);var $e=R[ne][0].split("-");nt({id:Ie,fontName:$e[0],fontStyle:$e[1]||""})}Dr.publish("addFonts",{fonts:At,dictionary:Lt})}).call(p,mt),kt="F1",Qa(n,r),Dr.publish("initialized"),p}Cp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Cp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Cp.prototype.processOwnerPassword=function(e,t){return pN(mN(t).substr(0,5),e)},Cp.prototype.encryptor=function(e,t){var r=mN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return pN(r,a)}},X2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Fa(e)!==Fa(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},or.API={events:[]},or.version="3.0.3";var ti=or.API,KA=1,km=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Np=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rr=function(e){return e.toFixed(2)},K0=function(e){return e.toFixed(5)};ti.__acroform__={};var zo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},MM=function(e){return e*KA},yu=function(e){var t=new lW,r=er.internal.getHeight(e)||0,a=er.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rr(a)),Number(Rr(r))],t},lAe=ti.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},cAe=ti.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},uAe=ti.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fi=ti.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uAe(e,t-1)},mi=ti.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lAe(e,t-1)},pi=ti.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cAe(e,t-1)},dAe=ti.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=r(n)||0,u.lowerLeft_Y=a(i+l)||0,u.upperRight_X=r(n+s)||0,u.upperRight_Y=a(i)||0,[Number(Rr(u.lowerLeft_X)),Number(Rr(u.lowerLeft_Y)),Number(Rr(u.upperRight_X)),Number(Rr(u.upperRight_Y))]},hAe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=gN(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Rr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=yu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},gN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(O){return O.split(`
`)}):n.map(function(O){return[O]});var i=r,s=er.internal.getHeight(e)||0;s=s<0?-s:s;var l=er.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(O,I,V){if(O+1<n.length){var Y=I+" "+n[O+1][0];return vy(Y,e,V).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,h,m=vy("3",e,i).height,x=e.multiline?s-i:(s-m)/2,p=x+=2,y=0,b=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+vy(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var k="",N=0,_=0;_<n.length;_++)if(n.hasOwnProperty(_)){var A=!1;if(n[_].length!==1&&v!==n[_].length-1){if((m+2)*(N+2)+2>s)continue e;k+=n[_][v],A=!0,b=_,_--}else{k=(k+=n[_][v]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var D=parseInt(_),M=u(D,k,i),L=_>=n.length-1;if(M&&!L){k+=" ",v=0;continue}if(M||L){if(L)b=D;else if(e.multiline&&(m+2)*(N+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(N+2)+2>s)continue e;b=D}}for(var B="",F=y;F<=b;F++){var H=n[F];if(e.multiline){if(F===b){B+=H[v]+" ",v=(v+1)%H.length;continue}if(F===y){B+=H[H.length-1]+" ";continue}}B+=H[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,h=vy(B,e,i).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;default:d=2}t+=Rr(d)+" "+Rr(p)+` Td
`,t+="("+km(B)+`) Tj
`,t+=-Rr(d)+` 0 Td
`,p=-(i+2),h=0,y=A?b:b+1,N++,k=""}break}return a.text=t,a.fontSize=i,a},vy=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},fAe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mAe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},pAe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Kc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fAe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");KA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new cW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&mAe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var s in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(s)){var l=a[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=dAe(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=er.createDefaultAppearanceStream(l),Fa(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=hAe(l);u.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var p=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(n,l)),m+="/"+s+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(n,l)),m+="/"+s+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:l.objId}),n.internal.out("endobj")}i&&(function(b,v){for(var k in b)if(b.hasOwnProperty(k)){var N=k,_=b[k];v.internal.newObjectDeferredBegin(_.objId,!0),Fa(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete b[N]}})(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},oW=ti.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(s){return s};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Fa(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+km(a(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tS=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+km(a(e))+")"},Ou=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ou.prototype.toString=function(){return this.objId+" 0 R"},Ou.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ou.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:oW(n,this.objId,this.scope)}):n instanceof Ou?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var lW=function(){Ou.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};zo(lW,Ou);var cW=function(){Ou.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+km(r(e))+")"}},set:function(r){e=r}})};zo(cW,Ou);var Kc=function e(){Ou.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fi(t,3)},set:function(k){k?this.F=mi(t,3):this.F=pi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(k){a=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(k){a[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(k){a[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(k){a[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(k){a[3]=k}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Q2)return;i="FieldObject"+e.FieldNum++}var k=function(N){return N};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+km(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(k){s=k}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/KA:d},set:function(k){d=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Q2||this instanceof zf))return tS(m,this.objId,this.scope)},set:function(k){k=k.toString(),m=k}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof os==0?tS(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof os==0?k.substr(0,1)==="("?Np(k.substr(1,k.length-2)):Np(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Np(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof os==1?"/"+k:k}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof os==0?tS(p,this.objId,this.scope):p},set:function(k){k=k.toString(),p=this instanceof os==0?k.substr(0,1)==="("?Np(k.substr(1,k.length-2)):Np(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Np(p.substr(1,p.length-1)):p},set:function(k){k=k.toString(),p=this instanceof os==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(k){k=!!k,b=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,1)},set:function(k){k?this.Ff=mi(this.Ff,1):this.Ff=pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,2)},set:function(k){k?this.Ff=mi(this.Ff,2):this.Ff=pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,3)},set:function(k){k?this.Ff=mi(this.Ff,3):this.Ff=pi(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');v=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(v){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};zo(Kc,Ou);var Wp=function(){Kc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oW(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=(function(i,s,l){l||(l=1);for(var u,d=[];u=s.exec(i);)d.push(u[l]);return d})(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,18)},set:function(r){r?this.Ff=mi(this.Ff,18):this.Ff=pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mi(this.Ff,19):this.Ff=pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,20)},set:function(r){r?(this.Ff=mi(this.Ff,20),t.sort()):this.Ff=pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,22)},set:function(r){r?this.Ff=mi(this.Ff,22):this.Ff=pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(r){r?this.Ff=mi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,27)},set:function(r){r?this.Ff=mi(this.Ff,27):this.Ff=pi(this.Ff,27)}}),this.hasAppearanceStream=!1};zo(Wp,Kc);var Vp=function(){Wp.call(this),this.fontName="helvetica",this.combo=!1};zo(Vp,Wp);var Kp=function(){Vp.call(this),this.combo=!0};zo(Kp,Vp);var Cy=function(){Kp.call(this),this.edit=!0};zo(Cy,Kp);var os=function(){Kc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,15)},set:function(r){r?this.Ff=mi(this.Ff,15):this.Ff=pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,16)},set:function(r){r?this.Ff=mi(this.Ff,16):this.Ff=pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,17)},set:function(r){r?this.Ff=mi(this.Ff,17):this.Ff=pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(r){r?this.Ff=mi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+km(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Fa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};zo(os,Kc);var Oy=function(){os.call(this),this.pushButton=!0};zo(Oy,os);var Gp=function(){os.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zo(Gp,os);var Q2=function(){var e,t;Kc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),a)s.push("/"+i+" ("+km(n(a[i]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Fa(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=er.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zo(Q2,Kc),Gp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gp.prototype.createOption=function(e){var t=new Q2;return t.Parent=this,t.optionName=e,this.Kids.push(t),gAe.call(this.scope,t),t};var Py=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=er.CheckBox.createAppearanceStream()};zo(Py,os);var zf=function(){Kc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,13)},set:function(t){t?this.Ff=mi(this.Ff,13):this.Ff=pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,21)},set:function(t){t?this.Ff=mi(this.Ff,21):this.Ff=pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,23)},set:function(t){t?this.Ff=mi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,24)},set:function(t){t?this.Ff=mi(this.Ff,24):this.Ff=pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,25)},set:function(t){t?this.Ff=mi(this.Ff,25):this.Ff=pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,26)},set:function(t){t?this.Ff=mi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zo(zf,Kc);var Dy=function(){zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fi(this.Ff,14)},set:function(e){e?this.Ff=mi(this.Ff,14):this.Ff=pi(this.Ff,14)}}),this.password=!0};zo(Dy,zf);var er={CheckBox:{createAppearanceStream:function(){return{N:{On:er.CheckBox.YesNormal},D:{On:er.CheckBox.YesPushDown,Off:er.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=gN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rr(er.internal.getWidth(e))+" "+Rr(er.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Rr(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=er.internal.getHeight(e),s=er.internal.getWidth(e),l=gN(e,e.caption);return n.push("1 g"),n.push("0 0 "+Rr(s)+" "+Rr(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Rr(s-1)+" "+Rr(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Rr(l.fontSize)+" Tf "+a),n.push(l.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(er.internal.getWidth(e))+" "+Rr(er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:er.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=er.RadioButton.Circle.YesNormal,t.D[e]=er.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=er.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+K0(er.internal.getWidth(e)/2)+" "+K0(er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*er.internal.Bezier_C).toFixed(5)),s=Number((a*er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+K0(er.internal.getWidth(e)/2)+" "+K0(er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+K0(er.internal.getWidth(e)/2)+" "+K0(er.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=er.internal.getWidth(e)<=er.internal.getHeight(e)?er.internal.getWidth(e)/4:er.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+K0(er.internal.getWidth(e)/2)+" "+K0(er.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:er.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=er.RadioButton.Cross.YesNormal,t.D[e]=er.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=er.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rr(er.internal.getWidth(e)-2)+" "+Rr(er.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rr(a.x1.x)+" "+Rr(a.x1.y)+" m"),r.push(Rr(a.x2.x)+" "+Rr(a.x2.y)+" l"),r.push(Rr(a.x4.x)+" "+Rr(a.x4.y)+" m"),r.push(Rr(a.x3.x)+" "+Rr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=er.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Rr(er.internal.getWidth(e))+" "+Rr(er.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Rr(er.internal.getWidth(e)-2)+" "+Rr(er.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Rr(r.x1.x)+" "+Rr(r.x1.y)+" m"),a.push(Rr(r.x2.x)+" "+Rr(r.x2.y)+" l"),a.push(Rr(r.x4.x)+" "+Rr(r.x4.y)+" m"),a.push(Rr(r.x3.x)+" "+Rr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(er.internal.getWidth(e))+" "+Rr(er.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};er.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=er.internal.getWidth(e),r=er.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},er.internal.getWidth=function(e){var t=0;return Fa(e)==="object"&&(t=MM(e.Rect[2])),t},er.internal.getHeight=function(e){var t=0;return Fa(e)==="object"&&(t=MM(e.Rect[3])),t};var gAe=ti.addField=function(e){if(pAe(this,e),!(e instanceof Kc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ti.AcroFormChoiceField=Wp,ti.AcroFormListBox=Vp,ti.AcroFormComboBox=Kp,ti.AcroFormEditBox=Cy,ti.AcroFormButton=os,ti.AcroFormPushButton=Oy,ti.AcroFormRadioButton=Gp,ti.AcroFormCheckBox=Py,ti.AcroFormTextField=zf,ti.AcroFormPasswordField=Dy,ti.AcroFormAppearance=er,ti.AcroForm={ChoiceField:Wp,ListBox:Vp,ComboBox:Kp,EditBox:Cy,Button:os,PushButton:Oy,RadioButton:Gp,CheckBox:Py,TextField:zf,PasswordField:Dy,Appearance:er},or.AcroForm={ChoiceField:Wp,ListBox:Vp,ComboBox:Kp,EditBox:Cy,Button:os,PushButton:Oy,RadioButton:Gp,CheckBox:Py,TextField:zf,PasswordField:Dy,Appearance:er};or.AcroForm;function uW(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,I){var V,Y,te,X,ae,de=r;if((I=I||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(M(O))for(ae in a)for(te=a[ae],V=0;V<te.length;V+=1){for(X=!0,Y=0;Y<te[V].length;Y+=1)if(te[V][Y]!==void 0&&te[V][Y]!==O[Y]){X=!1;break}if(X===!0){de=ae;break}}else for(ae in a)for(te=a[ae],V=0;V<te.length;V+=1){for(X=!0,Y=0;Y<te[V].length;Y+=1)if(te[V][Y]!==void 0&&te[V][Y]!==O.charCodeAt(Y)){X=!1;break}if(X===!0){de=ae;break}}return de===r&&I!==r&&(de=I),de},i=function O(I){for(var V=this.internal.write,Y=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:I.width}),X.push({key:"Height",value:I.height}),I.colorSpace===k.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===k.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ae="",de=0,oe=I.transparency.length;de<oe;de++)ae+=I.transparency[de]+" "+I.transparency[de]+" ";X.push({key:"Mask",value:"["+ae+"]"})}I.sMask!==void 0&&X.push({key:"SMask",value:I.objectId+1+" 0 R"});var De=I.filter!==void 0?["/"+I.filter]:void 0;if(Y({data:I.data,additionalKeyValues:X,alreadyAppliedFilters:De,objectId:I.objectId}),V("endobj"),"sMask"in I&&I.sMask!==void 0){var re,P=(re=I.sMaskBitsPerComponent)!==null&&re!==void 0?re:I.bitsPerComponent,W={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:I.sMask};"filter"in I&&(W.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(I.width),W.filter=I.filter),O.call(this,W)}if(I.colorSpace===k.INDEXED){var z=this.internal.newObject();Y({data:B(new Uint8Array(I.palette)),objectId:z}),V("endobj")}},s=function(){var O=this.internal.collections[t+"images"];for(var I in O)i.call(this,O[I])},l=function(){var O,I=this.internal.collections[t+"images"],V=this.internal.write;for(var Y in I)V("/I"+(O=I[Y]).index,O.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var O=this.internal.collections[t+"images"];return u.call(this),O},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(O){return typeof e["process"+O.toUpperCase()]=="function"},x=function(O){return Fa(O)==="object"&&O.nodeType===1},p=function(O,I){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var V=""+O.getAttribute("src");if(V.indexOf("data:image/")===0)return Ey(unescape(V).split("base64,").pop());var Y=e.loadFile(V,!0);if(Y!==void 0)return Y}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var te;switch(I){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return Ey(O.toDataURL(te,1).split("base64,").pop())}},y=function(O){var I=this.internal.collections[t+"images"];if(I){for(var V in I)if(O===I[V].alias)return I[V]}},b=function(O,I,V){return O||I||(O=-96,I=-96),O<0&&(O=-1*V.width*72/O/this.internal.scaleFactor),I<0&&(I=-1*V.height*72/I/this.internal.scaleFactor),O===0&&(O=I*V.width/V.height),I===0&&(I=O*V.height/V.width),[O,I]},v=function(O,I,V,Y,te,X){var ae=b.call(this,V,Y,te),de=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,De=d.call(this);if(V=ae[0],Y=ae[1],De[te.index]=te,X){X*=Math.PI/180;var re=Math.cos(X),P=Math.sin(X),W=function(q){return q.toFixed(4)},z=[W(re),W(P),W(-1*P),W(re),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,de(O),oe(I+Y),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([de(V),"0","0",de(Y),"0","0","cm"].join(" "))):this.internal.write([de(V),"0","0",de(Y),de(O),oe(I+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(O){var I,V,Y=0;if(typeof O=="string")for(V=O.length,I=0;I<V;I++)Y=(Y<<5)-Y+O.charCodeAt(I),Y|=0;else if(M(O))for(V=O.byteLength/2,I=0;I<V;I++)Y=(Y<<5)-Y+O[I],Y|=0;return Y},A=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var I=!0;return O.length===0&&(I=!1),O.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(I=!1),I},D=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var I=O.indexOf(",");return I<0?null:O.substring(0,I).trim().endsWith("base64")?O.substring(I+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(O){for(var I=O.length,V=new Uint8Array(I),Y=0;Y<I;Y++)V[Y]=O.charCodeAt(Y);return V},B=e.__addimage__.arrayBufferToBinaryString=function(O){for(var I="",V=M(O)?O:new Uint8Array(O),Y=0;Y<V.length;Y+=8192)I+=String.fromCharCode.apply(null,V.subarray(Y,Y+8192));return I};e.addImage=function(){var O,I,V,Y,te,X,ae,de,oe;if(typeof arguments[1]=="number"?(I=r,V=arguments[1],Y=arguments[2],te=arguments[3],X=arguments[4],ae=arguments[5],de=arguments[6],oe=arguments[7]):(I=arguments[1],V=arguments[2],Y=arguments[3],te=arguments[4],X=arguments[5],ae=arguments[6],de=arguments[7],oe=arguments[8]),Fa(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var De=O;O=De.imageData,I=De.format||I||r,V=De.x||V||0,Y=De.y||Y||0,te=De.w||De.width||te,X=De.h||De.height||X,ae=De.alias||ae,de=De.compression||de,oe=De.rotation||De.angle||oe}var re=this.internal.getFilters();if(de===void 0&&re.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(V)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=F.call(this,O,I,ae,de);return v.call(this,V,Y,te,X,P,oe),this};var F=function(O,I,V,Y){var te,X,ae;if(typeof O=="string"&&n(O)===r){O=unescape(O);var de=H(O,!1);(de!==""||(de=e.loadFile(O,!0))!==void 0)&&(O=de)}if(x(O)&&(O=p(O,I)),I=n(O,I),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ae=V)==null||ae.length===0)&&(V=(function(oe){return typeof oe=="string"||M(oe)?_(oe):M(oe.data)?_(oe.data):null})(O)),(te=y.call(this,V))||(O instanceof Uint8Array||I==="RGBA"||(X=O,O=L(O)),te=this["process"+I.toUpperCase()](O,h.call(this),V,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in e.image_compression?oe:N.NONE})(Y),X)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},H=e.__addimage__.convertBase64ToBinaryString=function(O,I){I=typeof I!="boolean"||I;var V,Y="";if(typeof O=="string"){var te;V=(te=D(O))!==null&&te!==void 0?te:O;try{Y=Ey(V)}catch(X){if(I)throw A(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(O){var I,V,Y="";if(x(O)&&(O=p(O)),typeof O=="string"&&n(O)===r&&((Y=H(O,!1))===""&&(Y=e.loadFile(O)||""),O=Y),V=n(O),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(O instanceof Uint8Array||(O=L(O)),!(I=this["process"+V.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=V,I}})(or.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};or.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((a=d[m]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){a=d[x];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(b.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+p(k(a.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(k(N))+") >>",b.content=i;var _=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+_,a.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(b.objId,"0 R",v.objId,"0 R");break;case"freetext":n="/Rect ["+s(a.bounds.x)+" "+l(a.bounds.y)+" "+s(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var A=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var D=this.annotations._nameMap[a.options.name];a.options.pageNumber=D.page,a.options.top=D.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var M=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+M+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,i,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:d(a),w:u(r+n),h:d(a+i)},options:s,type:"link"})},e.textWithLink=function(r,a,n,i){var s,l,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;s=Math.ceil(d*h)}else l=u,s=d;return this.text(r,a,n,i),n+=.2*d,i.align==="center"&&(a-=u/2),i.align==="right"&&(a-=u),this.link(a,n-d,l,s,i),u},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(or.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&n.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(b){var v=0,k=r,N="",_=0;for(v=0;v<b.length;v+=1)k[b.charCodeAt(v)]!==void 0?(_++,typeof(k=k[b.charCodeAt(v)])=="number"&&(N+=String.fromCharCode(k),k=r,_=0),v===b.length-1&&(k=r,N+=b.charAt(v-(_-1)),v-=_-1,_=0)):(k=r,N+=b.charAt(v-_),v-=_,_=0);return N};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&a[b.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(b,v,k){return s(b)?i(b)===!1?-1:!d(b)||!s(v)&&!s(k)||!s(k)&&l(v)||l(b)&&!s(v)||l(b)&&u(v)||l(b)&&l(v)?0:h(b)&&s(v)&&!l(v)&&s(k)&&d(k)?3:l(b)||!s(k)?1:2:-1},p=function(b){var v=0,k=0,N=0,_="",A="",D="",M=(b=b||"").split("\\s+"),L=[];for(v=0;v<M.length;v+=1){for(L.push(""),k=0;k<M[v].length;k+=1)_=M[v][k],A=M[v][k-1],D=M[v][k+1],s(_)?(N=x(_,A,D),L[v]+=N!==-1?String.fromCharCode(t[_.charCodeAt(0)][N]):_):L[v]+=_;L[v]=m(L[v])}return L.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var b,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(v)){var N=0;for(k=[],N=0;N<v.length;N+=1)Array.isArray(v[N])?k.push([p(v[N][0]),v[N][1],v[N][2]]):k.push([p(v[N])]);b=k}else b=p(v);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",y])})(or.API),or.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(or.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(b){x=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){a.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,p=0,y=0,b=0,v=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=d.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(_,A){return _.concat(v.splitTextToSize(A,k))},[])):u=Array.isArray(u)?u:[u];for(var N=0;N<u.length;N++)p<(b=this.getStringUnitWidth(u[N],{font:m})*h)&&(p=b);return p!==0&&(y=u.length),{w:p/=x,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,p&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,h,m,x){if(a.call(this),!h)throw new Error("No data for PDF table.");var p,y,b,v,k=[],N=[],_=[],A={},D={},M=[],L=[],B=(x=x||{}).autoSize||!1,F=x.printHeaders!==!1,H=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},t),I=typeof x.padding=="number"?x.padding:3,V=x.headerBackgroundColor||"#c8c8c8",Y=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=Y,this.setFontSize(H),m==null)N=k=Object.keys(h[0]),_=k.map(function(){return"left"});else if(Array.isArray(m)&&Fa(m[0])==="object")for(k=m.map(function(De){return De.name}),N=m.map(function(De){return De.prompt||De.name||""}),_=m.map(function(De){return De.align||"left"}),p=0;p<m.length;p+=1)D[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=k=m,_=k.map(function(){return"left"}));if(B||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<k.length;p+=1){for(A[v=k[p]]=h.map(function(De){return De[v]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[v],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)M.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[v]=Math.max.apply(null,M)+I+I,M=[]}if(F){var te={};for(p=0;p<k.length;p+=1)te[k[p]]={},te[k[p]].text=N[p],te[k[p]].align=_[p];var X=l.call(this,te,D);L=k.map(function(De){return new i(u,d,D[De],X,te[De].text,void 0,te[De].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ae=m.reduce(function(De,re){return De[re.name]=re.align,De},{});for(p=0;p<h.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:h[p]},this);var de=l.call(this,h[p],D);for(b=0;b<k.length;b+=1){var oe=h[p][k[b]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:b,data:oe},this),s.call(this,new i(u,d,D[k[b]],de,oe,p+2,ae[k[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(p){var y=u[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+h+h},this).reduce(function(p,y){return Math.max(p,y)},0)};e.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(or.API);var dW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xN=uW(hW),fW=[100,200,300,400,500,600,700,800,900],xAe=uW(fW);function rS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return dW[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof xN[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function IM(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var vAe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},RM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BM(e){return e.trimLeft()}function bAe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function yAe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var by,UM,zM,jp,yy,qM,$M,HM,aS=["times"];function WM(e,t,r,a,n){var i=4,s=KM;switch(n){case or.API.image_compression.FAST:i=1,s=VM;break;case or.API.image_compression.MEDIUM:i=6,s=GM;break;case or.API.image_compression.SLOW:i=9,s=YM}e=(function(u,d,h,m){for(var x,p=u.length/d,y=new Uint8Array(u.length+p),b=[wAe,VM,KM,GM,YM],v=0;v<p;v+=1){var k=v*d,N=u.subarray(k,k+d);if(m)y.set(m(N,h,x),k+v);else{for(var _=b.length,A=[],D=0;D<_;D+=1)A[D]=b[D](N,h,x);var M=_Ae(A.concat());y.set(A[M],k+v)}x=N}return y})(e,t,Math.ceil(r*a/8),s);var l=uN(e,{level:i});return or.API.__addimage__.arrayBufferToBinaryString(l)}function wAe(e){var t=Array.apply([],e);return t.unshift(0),t}function VM(e,t){var r=e.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function KM(e,t,r){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var s=r&&r[i]||0;n[i+1]=e[i]-s+256&255}return n}function GM(e,t,r){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var s=e[i-t]||0,l=r&&r[i]||0;n[i+1]=e[i]+256-(s+l>>>1)&255}return n}function YM(e,t,r){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var s=kAe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);n[i+1]=e[i]-s+256&255}return n}function kAe(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),n=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=n&&a<=i?e:n<=i?t:r}function _Ae(e){var t=e.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function nS(e,t,r){var a=t*r,n=Math.floor(a/8),i=16-(a-8*n+r),s=(1<<r)-1;return mW(e,n)>>i&s}function XM(e,t,r,a){var n=r*a,i=Math.floor(n/8),s=16-(n-8*i+a),l=(1<<a)-1,u=(t&l)<<s;(function(d,h,m){if(h+1<d.byteLength)d.setUint16(h,m,!1);else{var x=m>>8&255;d.setUint8(h,x)}})(e,i,mW(e,i)&~(l<<s)&65535|u)}function mW(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function SAe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,s=1<<1+(7&n);e[t++],e[t++];var l=null,u=null;i&&(l=t,u=s,t+=3*s);var d=!0,h=[],m=0,x=null,p=0,y=null;for(this.width=r,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];m=e[t++]|e[t++]<<8,x=e[t++],1&b||(x=null),p=b>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,A=e[t++],D=A>>6&1,M=1<<1+(7&A),L=l,B=u,F=!1;A>>7&&(F=!0,L=t,B=M,t+=3*M);var H=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}h.push({x:v,y:k,width:N,height:_,has_local_palette:F,palette_offset:L,palette_size:B,data_offset:H,data_length:t-H,transparent_index:x,interlaced:!!D,delay:m,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=h.length)throw new Error("Frame index out of range.");return h[I]},this.decodeAndBlitFrameBGRA=function(I,V){var Y=this.frameInfo(I),te=Y.width*Y.height,X=new Uint8Array(te);QM(e,Y.data_offset,X,te);var ae=Y.palette_offset,de=Y.transparent_index;de===null&&(de=256);var oe=Y.width,De=r-oe,re=oe,P=4*(Y.y*r+Y.x),W=4*((Y.y+Y.height)*r+Y.x),z=P,q=4*De;Y.interlaced===!0&&(q+=4*r*7);for(var Z=8,se=0,ee=X.length;se<ee;++se){var Q=X[se];if(re===0&&(re=oe,(z+=q)>=W&&(q=4*De+4*r*(Z-1),z=P+(oe+De)*(Z<<1),Z>>=1)),Q===de)z+=4;else{var me=e[ae+3*Q],Ae=e[ae+3*Q+1],J=e[ae+3*Q+2];V[z++]=J,V[z++]=Ae,V[z++]=me,V[z++]=255}--re}},this.decodeAndBlitFrameRGBA=function(I,V){var Y=this.frameInfo(I),te=Y.width*Y.height,X=new Uint8Array(te);QM(e,Y.data_offset,X,te);var ae=Y.palette_offset,de=Y.transparent_index;de===null&&(de=256);var oe=Y.width,De=r-oe,re=oe,P=4*(Y.y*r+Y.x),W=4*((Y.y+Y.height)*r+Y.x),z=P,q=4*De;Y.interlaced===!0&&(q+=4*r*7);for(var Z=8,se=0,ee=X.length;se<ee;++se){var Q=X[se];if(re===0&&(re=oe,(z+=q)>=W&&(q=4*De+4*r*(Z-1),z=P+(oe+De)*(Z<<1),Z>>=1)),Q===de)z+=4;else{var me=e[ae+3*Q],Ae=e[ae+3*Q+1],J=e[ae+3*Q+2];V[z++]=me,V[z++]=Ae,V[z++]=J,V[z++]=255}--re}}}function QM(e,t,r,a){for(var n=e[t++],i=1<<n,s=i+1,l=s+1,u=n+1,d=(1<<u)-1,h=0,m=0,x=0,p=e[t++],y=new Int32Array(4096),b=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<u)break;var v=m&d;if(m>>=u,h-=u,v!==i){if(v===s)break;for(var k=v<l?v:b,N=0,_=k;_>i;)_=y[_]>>8,++N;var A=_;if(x+N+(k!==v?1:0)>a)return void tn.log("Warning, gif stream longer than expected.");r[x++]=A;var D=x+=N;for(k!==v&&(r[x++]=A),_=k;N--;)_=y[_],r[--D]=255&_,_>>=8;b!==null&&l<4096&&(y[l++]=b<<8|A,l>=d+1&&u<12&&(++u,d=d<<1|1)),b=v}else l=s+1,d=(1<<(u=n+1))-1,b=null}return x!==a&&tn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function iS(e){var t,r,a,n,i,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),y=new Array(64),b=[],v=0,k=7,N=new Array(64),_=new Array(64),A=new Array(64),D=new Array(256),M=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(P,W){for(var z=0,q=0,Z=new Array,se=1;se<=16;se++){for(var ee=1;ee<=P[se];ee++)Z[W[q]]=[],Z[W[q]][0]=z,Z[W[q]][1]=se,q++,z++;z*=2}return Z}function ae(P){for(var W=P[0],z=P[1]-1;z>=0;)W&1<<z&&(v|=1<<k),z--,--k<0&&(v==255?(de(255),de(0)):de(v),k=7,v=0)}function de(P){b.push(P)}function oe(P){de(P>>8&255),de(255&P)}function De(P,W,z,q,Z){for(var se,ee=Z[0],Q=Z[240],me=(function(Te,Ee){var Be,ut,bt,Me,at,yt,lr,Rt,kt,ht,_t=0;for(kt=0;kt<8;++kt){Be=Te[_t],ut=Te[_t+1],bt=Te[_t+2],Me=Te[_t+3],at=Te[_t+4],yt=Te[_t+5],lr=Te[_t+6];var hr=Be+(Rt=Te[_t+7]),Ut=Be-Rt,At=ut+lr,Lt=ut-lr,_r=bt+yt,Gt=bt-yt,Ar=Me+at,rr=Me-at,Yr=hr+Ar,Dt=hr-Ar,cr=At+_r,zt=At-_r;Te[_t]=Yr+cr,Te[_t+4]=Yr-cr;var Dr=.707106781*(zt+Dt);Te[_t+2]=Dt+Dr,Te[_t+6]=Dt-Dr;var hs=.382683433*((Yr=rr+Gt)-(zt=Lt+Ut)),wn=.5411961*Yr+hs,ma=1.306562965*zt+hs,bi=.707106781*(cr=Gt+Lt),Pt=Ut+bi,Gs=Ut-bi;Te[_t+5]=Gs+wn,Te[_t+3]=Gs-wn,Te[_t+1]=Pt+ma,Te[_t+7]=Pt-ma,_t+=8}for(_t=0,kt=0;kt<8;++kt){Be=Te[_t],ut=Te[_t+8],bt=Te[_t+16],Me=Te[_t+24],at=Te[_t+32],yt=Te[_t+40],lr=Te[_t+48];var fs=Be+(Rt=Te[_t+56]),Ln=Be-Rt,yi=ut+lr,ra=ut-lr,Xa=bt+yt,le=bt-yt,Se=Me+at,ge=Me-at,xe=fs+Se,be=fs-Se,_e=yi+Xa,Ve=yi-Xa;Te[_t]=xe+_e,Te[_t+32]=xe-_e;var it=.707106781*(Ve+be);Te[_t+16]=be+it,Te[_t+48]=be-it;var Ge=.382683433*((xe=ge+le)-(Ve=ra+Ln)),Ye=.5411961*xe+Ge,Qe=1.306562965*Ve+Ge,xt=.707106781*(_e=le+ra),Ot=Ln+xt,Ft=Ln-xt;Te[_t+40]=Ft+Ye,Te[_t+24]=Ft-Ye,Te[_t+8]=Ot+Qe,Te[_t+56]=Ot-Qe,_t++}for(kt=0;kt<64;++kt)ht=Te[kt]*Ee[kt],p[kt]=ht>0?ht+.5|0:ht-.5|0;return p})(P,W),Ae=0;Ae<64;++Ae)y[L[Ae]]=me[Ae];var J=y[0]-z;z=y[0],J==0?ae(q[0]):(ae(q[x[se=32767+J]]),ae(m[se]));for(var ke=63;ke>0&&y[ke]==0;)ke--;if(ke==0)return ae(ee),z;for(var ye,ce=1;ce<=ke;){for(var qe=ce;y[ce]==0&&ce<=ke;)++ce;var ze=ce-qe;if(ze>=16){ye=ze>>4;for(var mt=1;mt<=ye;++mt)ae(Q);ze&=15}se=32767+y[ce],ae(Z[(ze<<4)+x[se]]),ae(m[se]),ce++}return ke!=63&&ae(ee),z}function re(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(W){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var Z=s((z[q]*W+50)/100);Z=Math.min(Math.max(Z,1),255),l[L[q]]=Z}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var Q=s((se[ee]*W+50)/100);Q=Math.min(Math.max(Q,1),255),u[L[ee]]=Q}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,J=0;J<8;J++)for(var ke=0;ke<8;ke++)d[Ae]=1/(l[L[Ae]]*me[J]*me[ke]*8),h[Ae]=1/(u[L[Ae]]*me[J]*me[ke]*8),Ae++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,W){W&&re(W),b=new Array,v=0,k=7,oe(65496),oe(65504),oe(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),oe(1),oe(1),de(0),de(0),(function(){oe(65499),oe(132),de(0);for(var ut=0;ut<64;ut++)de(l[ut]);de(1);for(var bt=0;bt<64;bt++)de(u[bt])})(),(function(ut,bt){oe(65472),oe(17),de(8),oe(bt),oe(ut),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(P.width,P.height),(function(){oe(65476),oe(418),de(0);for(var ut=0;ut<16;ut++)de(B[ut+1]);for(var bt=0;bt<=11;bt++)de(F[bt]);de(16);for(var Me=0;Me<16;Me++)de(H[Me+1]);for(var at=0;at<=161;at++)de(O[at]);de(1);for(var yt=0;yt<16;yt++)de(I[yt+1]);for(var lr=0;lr<=11;lr++)de(V[lr]);de(17);for(var Rt=0;Rt<16;Rt++)de(Y[Rt+1]);for(var kt=0;kt<=161;kt++)de(te[kt])})(),oe(65498),oe(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var z=0,q=0,Z=0;v=0,k=7,this.encode.displayName="_encode_";for(var se,ee,Q,me,Ae,J,ke,ye,ce,qe=P.data,ze=P.width,mt=P.height,Te=4*ze,Ee=0;Ee<mt;){for(se=0;se<Te;){for(Ae=Te*Ee+se,ke=-1,ye=0,ce=0;ce<64;ce++)J=Ae+(ye=ce>>3)*Te+(ke=4*(7&ce)),Ee+ye>=mt&&(J-=Te*(Ee+1+ye-mt)),se+ke>=Te&&(J-=se+ke-Te+4),ee=qe[J++],Q=qe[J++],me=qe[J++],N[ce]=(M[ee]+M[Q+256|0]+M[me+512|0]>>16)-128,_[ce]=(M[ee+768|0]+M[Q+1024|0]+M[me+1280|0]>>16)-128,A[ce]=(M[ee+1280|0]+M[Q+1536|0]+M[me+1792|0]>>16)-128;z=De(N,d,z,t,a),q=De(_,h,q,r,n),Z=De(A,h,Z,r,n),se+=32}Ee+=8}if(k>=0){var Be=[];Be[1]=k+1,Be[0]=(1<<k+1)-1,ae(Be)}return oe(65497),new Uint8Array(b)},e=e||50,(function(){for(var P=String.fromCharCode,W=0;W<256;W++)D[W]=P(W)})(),t=X(B,F),r=X(I,V),a=X(H,O),n=X(Y,te),(function(){for(var P=1,W=2,z=1;z<=15;z++){for(var q=P;q<W;q++)x[32767+q]=z,m[32767+q]=[],m[32767+q][1]=z,m[32767+q][0]=q;for(var Z=-(W-1);Z<=-P;Z++)x[32767+Z]=z,m[32767+Z]=[],m[32767+Z][1]=z,m[32767+Z][0]=W-1+Z;P<<=1,W<<=1}})(),(function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P})(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ec(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JM(e){function t(F){if(!F)throw Error("assert :P")}function r(F,H,O){for(var I=0;4>I;I++)if(F[H+I]!=O.charCodeAt(I))return!0;return!1}function a(F,H,O,I,V){for(var Y=0;Y<V;Y++)F[H+Y]=O[I+Y]}function n(F,H,O,I){for(var V=0;V<I;V++)F[H+V]=O}function i(F){return new Int32Array(F)}function s(F,H){for(var O=[],I=0;I<F;I++)O.push(new H);return O}function l(F,H){var O=[];return(function I(V,Y,te){for(var X=te[Y],ae=0;ae<X&&(V.push(te.length>Y+1?[]:new H),!(te.length<Y+1));ae++)I(V[ae],Y+1,te)})(O,0,F),O}var u=function(){var F=this;function H(S,E){for(var U=1<<E-1>>>0;S&U;)U>>>=1;return U?(S&U-1)+U:S}function O(S,E,U,K,ie){t(!(K%U));do S[E+(K-=U)]=ie;while(0<K)}function I(S,E,U,K,ie){if(t(2328>=ie),512>=ie)var ue=i(512);else if((ue=i(ie))==null)return 0;return(function(he,pe,ve,Ne,Re,Je){var we,Ue,We=pe,ct=1<<ve,Ke=i(16),lt=i(16);for(t(Re!=0),t(Ne!=null),t(he!=null),t(0<ve),Ue=0;Ue<Re;++Ue){if(15<Ne[Ue])return 0;++Ke[Ne[Ue]]}if(Ke[0]==Re)return 0;for(lt[1]=0,we=1;15>we;++we){if(Ke[we]>1<<we)return 0;lt[we+1]=lt[we]+Ke[we]}for(Ue=0;Ue<Re;++Ue)we=Ne[Ue],0<Ne[Ue]&&(Je[lt[we]++]=Ue);if(lt[15]==1)return(Ne=new V).g=0,Ne.value=Je[0],O(he,We,1,ct,Ne),ct;var gt,Et=-1,St=ct-1,Zt=0,Wt=1,Or=1,Yt=1<<ve;for(Ue=0,we=1,Re=2;we<=ve;++we,Re<<=1){if(Wt+=Or<<=1,0>(Or-=Ke[we]))return 0;for(;0<Ke[we];--Ke[we])(Ne=new V).g=we,Ne.value=Je[Ue++],O(he,We+Zt,Re,Yt,Ne),Zt=H(Zt,we)}for(we=ve+1,Re=2;15>=we;++we,Re<<=1){if(Wt+=Or<<=1,0>(Or-=Ke[we]))return 0;for(;0<Ke[we];--Ke[we]){if(Ne=new V,(Zt&St)!=Et){for(We+=Yt,gt=1<<(Et=we)-ve;15>Et&&!(0>=(gt-=Ke[Et]));)++Et,gt<<=1;ct+=Yt=1<<(gt=Et-ve),he[pe+(Et=Zt&St)].g=gt+ve,he[pe+Et].value=We-pe-Et}Ne.g=we-ve,Ne.value=Je[Ue++],O(he,We+(Zt>>ve),Re,Yt,Ne),Zt=H(Zt,we)}}return Wt!=2*lt[15]-1?0:ct})(S,E,U,K,ie,ue)}function V(){this.value=this.g=0}function Y(){this.value=this.g=0}function te(){this.G=s(5,V),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(eu,Y)}function X(S,E,U,K){t(S!=null),t(E!=null),t(2147483648>K),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=U,S.Jd=E,S.Yc=U+K,S.Zc=4<=K?U+K-4+1:U,ee(S)}function ae(S,E){for(var U=0;0<E--;)U|=me(S,128)<<E;return U}function de(S,E){var U=ae(S,E);return Q(S)?-U:U}function oe(S,E,U,K){var ie,ue=0;for(t(S!=null),t(E!=null),t(4294967288>K),S.Sb=K,S.Ra=0,S.u=0,S.h=0,4<K&&(K=4),ie=0;ie<K;++ie)ue+=E[U+ie]<<8*ie;S.Ra=ue,S.bb=K,S.oa=E,S.pa=U}function De(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Nl-8>>>0,++S.bb,S.u-=8;q(S)&&(S.h=1,S.u=0)}function re(S,E){if(t(0<=E),!S.h&&E<=gs){var U=z(S)&Ts[E];return S.u+=E,De(S),U}return S.h=1,S.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(S){return S.Ra>>>(S.u&Nl-1)>>>0}function q(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Nl}function Z(S,E){S.u=E,S.h=q(S)}function se(S){S.u>=jl&&(t(S.u>=jl),De(S))}function ee(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Q(S){return ae(S,1)}function me(S,E){var U=S.Ca;0>S.b&&ee(S);var K=S.b,ie=U*E>>>8,ue=(S.I>>>K>ie)+0;for(ue?(U-=ie,S.I-=ie+1<<K>>>0):U=ie+1,K=U,ie=0;256<=K;)ie+=8,K>>=8;return K=7^ie+pc[K],S.b-=K,S.Ca=(U<<K)-1,ue}function Ae(S,E,U){S[E+0]=U>>24&255,S[E+1]=U>>16&255,S[E+2]=U>>8&255,S[E+3]=255&U}function J(S,E){return S[E+0]|S[E+1]<<8}function ke(S,E){return J(S,E)|S[E+2]<<16}function ye(S,E){return J(S,E)|J(S,E+2)<<16}function ce(S,E){var U=1<<E;return t(S!=null),t(0<E),S.X=i(U),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function qe(S,E){t(S!=null),t(E!=null),t(S.Xa==E.Xa),a(E.X,0,S.X,0,1<<E.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function mt(S,E,U,K){t(U!=null),t(K!=null);var ie=U[0],ue=K[0];return ie==0&&(ie=(S*ue+E/2)/E),ue==0&&(ue=(E*ie+S/2)/S),0>=ie||0>=ue?0:(U[0]=ie,K[0]=ue,1)}function Te(S,E){return S+(1<<E)-1>>>E}function Ee(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function Be(S,E){F[E]=function(U,K,ie,ue,he,pe,ve){var Ne;for(Ne=0;Ne<he;++Ne){var Re=F[S](pe[ve+Ne-1],ie,ue+Ne);pe[ve+Ne]=Ee(U[K+Ne],Re)}}}function ut(){this.ud=this.hd=this.jd=0}function bt(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function Me(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function at(S,E){return Me(S+(S-E+.5>>1))}function yt(S,E,U){return Math.abs(E-U)-Math.abs(S-U)}function lr(S,E,U,K,ie,ue,he){for(K=ue[he-1],U=0;U<ie;++U)ue[he+U]=K=Ee(S[E+U],K)}function Rt(S,E,U,K,ie){var ue;for(ue=0;ue<U;++ue){var he=S[E+ue],pe=he>>8&255,ve=16711935&(ve=(ve=16711935&he)+((pe<<16)+pe));K[ie+ue]=(4278255360&he)+ve>>>0}}function kt(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function ht(S,E,U,K,ie,ue){var he;for(he=0;he<K;++he){var pe=E[U+he],ve=pe>>>8,Ne=pe,Re=255&(Re=(Re=pe>>>16)+((S.jd<<24>>24)*(ve<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(S.hd<<24>>24)*(ve<<24>>24)>>>5)+((S.ud<<24>>24)*(Re<<24>>24)>>>5)),ie[ue+he]=(4278255360&pe)+(Re<<16)+Ne}}function _t(S,E,U,K,ie){F[E]=function(ue,he,pe,ve,Ne,Re,Je,we,Ue){for(ve=Je;ve<we;++ve)for(Je=0;Je<Ue;++Je)Ne[Re++]=ie(pe[K(ue[he++])])},F[S]=function(ue,he,pe,ve,Ne,Re,Je){var we=8>>ue.b,Ue=ue.Ea,We=ue.K[0],ct=ue.w;if(8>we)for(ue=(1<<ue.b)-1,ct=(1<<we)-1;he<pe;++he){var Ke,lt=0;for(Ke=0;Ke<Ue;++Ke)Ke&ue||(lt=K(ve[Ne++])),Re[Je++]=ie(We[lt&ct]),lt>>=we}else F["VP8LMapColor"+U](ve,Ne,We,ct,Re,Je,he,pe,Ue)}}function hr(S,E,U,K,ie){for(U=E+U;E<U;){var ue=S[E++];K[ie++]=ue>>16&255,K[ie++]=ue>>8&255,K[ie++]=255&ue}}function Ut(S,E,U,K,ie){for(U=E+U;E<U;){var ue=S[E++];K[ie++]=ue>>16&255,K[ie++]=ue>>8&255,K[ie++]=255&ue,K[ie++]=ue>>24&255}}function At(S,E,U,K,ie){for(U=E+U;E<U;){var ue=(he=S[E++])>>16&240|he>>12&15,he=240&he|he>>28&15;K[ie++]=ue,K[ie++]=he}}function Lt(S,E,U,K,ie){for(U=E+U;E<U;){var ue=(he=S[E++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;K[ie++]=ue,K[ie++]=he}}function _r(S,E,U,K,ie){for(U=E+U;E<U;){var ue=S[E++];K[ie++]=255&ue,K[ie++]=ue>>8&255,K[ie++]=ue>>16&255}}function Gt(S,E,U,K,ie,ue){if(ue==0)for(U=E+U;E<U;)Ae(K,((ue=S[E++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ie+=32;else a(K,ie,S,E,U)}function Ar(S,E){F[E][0]=F[S+"0"],F[E][1]=F[S+"1"],F[E][2]=F[S+"2"],F[E][3]=F[S+"3"],F[E][4]=F[S+"4"],F[E][5]=F[S+"5"],F[E][6]=F[S+"6"],F[E][7]=F[S+"7"],F[E][8]=F[S+"8"],F[E][9]=F[S+"9"],F[E][10]=F[S+"10"],F[E][11]=F[S+"11"],F[E][12]=F[S+"12"],F[E][13]=F[S+"13"],F[E][14]=F[S+"0"],F[E][15]=F[S+"0"]}function rr(S){return S==Yh||S==Rm||S==k0||S==Fm}function Yr(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yr,this.f.kb=new Dt,this.sd=null}function zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hs(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function wn(S,E){var U=S.T,K=E.ba.f.RGBA,ie=K.eb,ue=K.fb+S.ka*K.A,he=Fi[E.ba.S],pe=S.y,ve=S.O,Ne=S.f,Re=S.N,Je=S.ea,we=S.W,Ue=E.cc,We=E.dc,ct=E.Mc,Ke=E.Nc,lt=S.ka,gt=S.ka+S.T,Et=S.U,St=Et+1>>1;for(lt==0?he(pe,ve,null,null,Ne,Re,Je,we,Ne,Re,Je,we,ie,ue,null,null,Et):(he(E.ec,E.fc,pe,ve,Ue,We,ct,Ke,Ne,Re,Je,we,ie,ue-K.A,ie,ue,Et),++U);lt+2<gt;lt+=2)Ue=Ne,We=Re,ct=Je,Ke=we,Re+=S.Rc,we+=S.Rc,ue+=2*K.A,he(pe,(ve+=2*S.fa)-S.fa,pe,ve,Ue,We,ct,Ke,Ne,Re,Je,we,ie,ue-K.A,ie,ue,Et);return ve+=S.fa,S.j+gt<S.o?(a(E.ec,E.fc,pe,ve,Et),a(E.cc,E.dc,Ne,Re,St),a(E.Mc,E.Nc,Je,we,St),U--):1&gt||he(pe,ve,null,null,Ne,Re,Je,we,Ne,Re,Je,we,ie,ue+K.A,null,null,Et),U}function ma(S,E,U){var K=S.F,ie=[S.J];if(K!=null){var ue=S.U,he=E.ba.S,pe=he==Gh||he==k0;E=E.ba.f.RGBA;var ve=[0],Ne=S.ka;ve[0]=S.T,S.Kb&&(Ne==0?--ve[0]:(--Ne,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(ve[0]=S.o-S.j-Ne));var Re=E.eb;Ne=E.fb+Ne*E.A,S=Hh(K,ie[0],S.width,ue,ve,Re,Ne+(pe?0:3),E.A),t(U==ve),S&&rr(he)&&td(Re,Ne,pe,ue,ve,E.A)}return 0}function bi(S){var E=S.ma,U=E.ba.S,K=11>U,ie=U==es||U==wo||U==Gh||U==w0||U==12||rr(U);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!mc(E.Oa,S,ie?11:12))return 0;if(ie&&rr(U)&&Om(),S.da)alert("todo:use_scaling");else{if(K){if(E.Ib=hs,S.Kb){if(U=S.U+1>>1,E.memory=i(S.U+2*U),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+U,E.Ib=wn,Om()}}else alert("todo:EmitYUV");ie&&(E.Jb=ma,K&&vo())}if(K&&!ou){for(S=0;256>S;++S)Bi[S]=89858*(S-128)+N0>>Ao,pk[S]=-22014*(S-128)+N0,Uv[S]=-45773*(S-128),$m[S]=113618*(S-128)+N0>>Ao;for(S=id;S<su;++S)E=76283*(S-16)+N0>>Ao,gk[S-id]=kn(E,255),xk[S-id]=kn(E+8>>4,15);ou=1}return 1}function Pt(S){var E=S.ma,U=S.U,K=S.T;return t(!(1&S.ka)),0>=U||0>=K?0:(U=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,U),E.Dc+=U,1)}function Gs(S){S.ma.memory=null}function fs(S,E,U,K){return re(S,8)!=47?0:(E[0]=re(S,14)+1,U[0]=re(S,14)+1,K[0]=re(S,1),re(S,3)!=0?0:!S.h)}function Ln(S,E){if(4>S)return S+1;var U=S-2>>1;return(2+(1&S)<<U)+re(E,U)+1}function yi(S,E){return 120<E?E-120:1<=(U=((U=_o[E-1])>>4)*S+(8-(15&U)))?U:1;var U}function ra(S,E,U){var K=z(U),ie=S[E+=255&K].g-8;return 0<ie&&(Z(U,U.u+8),K=z(U),E+=S[E].value,E+=K&(1<<ie)-1),Z(U,U.u+S[E].g),S[E].value}function Xa(S,E,U){return U.g+=S.g,U.value+=S.value<<E>>>0,t(8>=U.g),S.g}function le(S,E,U){var K=S.xc;return t((E=K==0?0:S.vc[S.md*(U>>K)+(E>>K)])<S.Wb),S.Ya[E]}function Se(S,E,U,K){var ie=S.ab,ue=S.c*E,he=S.C;E=he+E;var pe=U,ve=K;for(K=S.Ta,U=S.Ua;0<ie--;){var Ne=S.gc[ie],Re=he,Je=E,we=pe,Ue=ve,We=(ve=K,pe=U,Ne.Ea);switch(t(Re<Je),t(Je<=Ne.nc),Ne.hc){case 2:Fn(we,Ue,(Je-Re)*We,ve,pe);break;case 0:var ct=Re,Ke=Je,lt=ve,gt=pe,Et=(Yt=Ne).Ea;ct==0&&(x0(we,Ue,null,null,1,lt,gt),lr(we,Ue+1,0,0,Et-1,lt,gt+1),Ue+=Et,gt+=Et,++ct);for(var St=1<<Yt.b,Zt=St-1,Wt=Te(Et,Yt.b),Or=Yt.K,Yt=Yt.w+(ct>>Yt.b)*Wt;ct<Ke;){var Xr=Or,Za=Yt,Mr=1;for(v0(we,Ue,lt,gt-Et,1,lt,gt);Mr<Et;){var Vt=(Mr&~Zt)+St;Vt>Et&&(Vt=Et),(0,gc[Xr[Za++]>>8&15])(we,Ue+ +Mr,lt,gt+Mr-Et,Vt-Mr,lt,gt+Mr),Mr=Vt}Ue+=Et,gt+=Et,++ct&Zt||(Yt+=Wt)}Je!=Ne.nc&&a(ve,pe-We,ve,pe+(Je-Re-1)*We,We);break;case 1:for(We=we,Ke=Ue,Et=(we=Ne.Ea)-(gt=we&~(lt=(Ue=1<<Ne.b)-1)),ct=Te(we,Ne.b),St=Ne.K,Ne=Ne.w+(Re>>Ne.b)*ct;Re<Je;){for(Zt=St,Wt=Ne,Or=new ut,Yt=Ke+gt,Xr=Ke+we;Ke<Yt;)kt(Zt[Wt++],Or),b0(Or,We,Ke,Ue,ve,pe),Ke+=Ue,pe+=Ue;Ke<Xr&&(kt(Zt[Wt++],Or),b0(Or,We,Ke,Et,ve,pe),Ke+=Et,pe+=Et),++Re&lt||(Ne+=ct)}break;case 3:if(we==ve&&Ue==pe&&0<Ne.b){for(Ke=ve,we=We=pe+(Je-Re)*We-(gt=(Je-Re)*Te(Ne.Ea,Ne.b)),Ue=ve,lt=pe,ct=[],gt=(Et=gt)-1;0<=gt;--gt)ct[gt]=Ue[lt+gt];for(gt=Et-1;0<=gt;--gt)Ke[we+gt]=ct[gt];Pm(Ne,Re,Je,ve,We,ve,pe)}else Pm(Ne,Re,Je,we,Ue,ve,pe)}pe=K,ve=U}ve!=U&&a(K,U,pe,ve,ue)}function ge(S,E){var U=S.V,K=S.Ba+S.c*S.C,ie=E-S.C;if(t(E<=S.l.o),t(16>=ie),0<ie){var ue=S.l,he=S.Ta,pe=S.Ua,ve=ue.width;if(Se(S,ie,U,K),ie=pe=[pe],t((U=S.C)<(K=E)),t(ue.v<ue.va),K>ue.o&&(K=ue.o),U<ue.j){var Ne=ue.j-U;U=ue.j,ie[0]+=Ne*ve}if(U>=K?U=0:(ie[0]+=4*ue.v,ue.ka=U-ue.j,ue.U=ue.va-ue.v,ue.T=K-U,U=1),U){if(pe=pe[0],11>(U=S.ca).S){var Re=U.f.RGBA,Je=(K=U.S,ie=ue.U,ue=ue.T,Ne=Re.eb,Re.A),we=ue;for(Re=Re.fb+S.Ma*Re.A;0<we--;){var Ue=he,We=pe,ct=ie,Ke=Ne,lt=Re;switch(K){case Mm:y0(Ue,We,ct,Ke,lt);break;case es:xc(Ue,We,ct,Ke,lt);break;case Yh:xc(Ue,We,ct,Ke,lt),td(Ke,lt,0,ct,1,0);break;case Im:Zu(Ue,We,ct,Ke,lt);break;case wo:Gt(Ue,We,ct,Ke,lt,1);break;case Rm:Gt(Ue,We,ct,Ke,lt,1),td(Ke,lt,0,ct,1,0);break;case Gh:Gt(Ue,We,ct,Ke,lt,0);break;case k0:Gt(Ue,We,ct,Ke,lt,0),td(Ke,lt,1,ct,1,0);break;case w0:vc(Ue,We,ct,Ke,lt);break;case Fm:vc(Ue,We,ct,Ke,lt),yo(Ke,lt,ct,1,0);break;case tu:El(Ue,We,ct,Ke,lt);break;default:t(0)}pe+=ve,Re+=Je}S.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=U.height)}}S.C=E,t(S.C<=S.i)}function xe(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var U=S.Ya[E].G,K=S.Ya[E].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function be(S,E,U,K,ie,ue){if(S.Z!=0){var he=S.qd,pe=S.rd;for(t(wc[S.Z]!=null);E<U;++E)wc[S.Z](he,pe,K,ie,K,ie,ue),he=K,pe=ie,ie+=ue;S.qd=he,S.rd=pe}}function _e(S,E){var U=S.l.ma,K=U.Z==0||U.Z==1?S.l.j:S.C;if(K=S.C<K?K:S.C,t(E<=S.l.o),E>K){var ie=S.l.width,ue=U.ca,he=U.tb+ie*K,pe=S.V,ve=S.Ba+S.c*K,Ne=S.gc;t(S.ab==1),t(Ne[0].hc==3),Tl(Ne[0],K,E,pe,ve,ue,he),be(U,K,E,ue,he,ie)}S.C=S.Ma=E}function Ve(S,E,U,K,ie,ue,he){var pe=S.$/K,ve=S.$%K,Ne=S.m,Re=S.s,Je=U+S.$,we=Je;ie=U+K*ie;var Ue=U+K*ue,We=280+Re.ua,ct=S.Pb?pe:16777216,Ke=0<Re.ua?Re.Wa:null,lt=Re.wc,gt=Je<Ue?le(Re,ve,pe):null;t(S.C<ue),t(Ue<=ie);var Et=!1;e:for(;;){for(;Et||Je<Ue;){var St=0;if(pe>=ct){var Zt=Je-U;t((ct=S).Pb),ct.wd=ct.m,ct.xd=Zt,0<ct.s.ua&&qe(ct.s.Wa,ct.s.vb),ct=pe+ru}if(ve&lt||(gt=le(Re,ve,pe)),t(gt!=null),gt.Qb&&(E[Je]=gt.qb,Et=!0),!Et)if(se(Ne),gt.jc){St=Ne,Zt=E;var Wt=Je,Or=gt.pd[z(St)&eu-1];t(gt.jc),256>Or.g?(Z(St,St.u+Or.g),Zt[Wt]=Or.value,St=0):(Z(St,St.u+Or.g-256),t(256<=Or.value),St=Or.value),St==0&&(Et=!0)}else St=ra(gt.G[0],gt.H[0],Ne);if(Ne.h)break;if(Et||256>St){if(!Et)if(gt.nd)E[Je]=(gt.qb|St<<8)>>>0;else{if(se(Ne),Et=ra(gt.G[1],gt.H[1],Ne),se(Ne),Zt=ra(gt.G[2],gt.H[2],Ne),Wt=ra(gt.G[3],gt.H[3],Ne),Ne.h)break;E[Je]=(Wt<<24|Et<<16|St<<8|Zt)>>>0}if(Et=!1,++Je,++ve>=K&&(ve=0,++pe,he!=null&&pe<=ue&&!(pe%16)&&he(S,pe),Ke!=null))for(;we<Je;)St=E[we++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St}else if(280>St){if(St=Ln(St-256,Ne),Zt=ra(gt.G[4],gt.H[4],Ne),se(Ne),Zt=yi(K,Zt=Ln(Zt,Ne)),Ne.h)break;if(Je-U<Zt||ie-Je<St)break e;for(Wt=0;Wt<St;++Wt)E[Je+Wt]=E[Je+Wt-Zt];for(Je+=St,ve+=St;ve>=K;)ve-=K,++pe,he!=null&&pe<=ue&&!(pe%16)&&he(S,pe);if(t(Je<=ie),ve&lt&&(gt=le(Re,ve,pe)),Ke!=null)for(;we<Je;)St=E[we++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St}else{if(!(St<We))break e;for(Et=St-280,t(Ke!=null);we<Je;)St=E[we++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St;St=Je,t(!(Et>>>(Zt=Ke).Xa)),E[St]=Zt.X[Et],Et=!0}Et||t(Ne.h==q(Ne))}if(S.Pb&&Ne.h&&Je<ie)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&qe(S.s.vb,S.s.Wa);else{if(Ne.h)break e;he!=null&&he(S,pe>ue?ue:pe),S.a=0,S.$=Je-U}return 1}return S.a=3,0}function it(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,t(S!=null)}function Ge(){var S=new ir;return S==null?null:(S.a=0,S.xb=Kg,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),Fn=Rt,b0=ht,y0=hr,xc=Ut,vc=At,El=Lt,Zu=_r,F.VP8LMapColor32b=Al,F.VP8LMapColor8b=Mi,S)}function Ye(S,E,U,K,ie){var ue=1,he=[S],pe=[E],ve=K.m,Ne=K.s,Re=null,Je=0;e:for(;;){if(U)for(;ue&&re(ve,1);){var we=he,Ue=pe,We=K,ct=1,Ke=We.m,lt=We.gc[We.ab],gt=re(Ke,2);if(We.Oc&1<<gt)ue=0;else{switch(We.Oc|=1<<gt,lt.hc=gt,lt.Ea=we[0],lt.nc=Ue[0],lt.K=[null],++We.ab,t(4>=We.ab),gt){case 0:case 1:lt.b=re(Ke,3)+2,ct=Ye(Te(lt.Ea,lt.b),Te(lt.nc,lt.b),0,We,lt.K),lt.K=lt.K[0];break;case 3:var Et,St=re(Ke,8)+1,Zt=16<St?0:4<St?1:2<St?2:3;if(we[0]=Te(lt.Ea,Zt),lt.b=Zt,Et=ct=Ye(St,1,0,We,lt.K)){var Wt,Or=St,Yt=lt,Xr=1<<(8>>Yt.b),Za=i(Xr);if(Za==null)Et=0;else{var Mr=Yt.K[0],Vt=Yt.w;for(Za[0]=Yt.K[0][0],Wt=1;Wt<1*Or;++Wt)Za[Wt]=Ee(Mr[Vt+Wt],Za[Wt-1]);for(;Wt<4*Xr;++Wt)Za[Wt]=0;Yt.K[0]=null,Yt.K[0]=Za,Et=1}}ct=Et;break;case 2:break;default:t(0)}ue=ct}}if(he=he[0],pe=pe[0],ue&&re(ve,1)&&!(ue=1<=(Je=re(ve,4))&&11>=Je)){K.a=3;break e}var Bt;if(Bt=ue)t:{var dn,wr,Br,ja=K,li=he,Ui=pe,qa=Je,Kn=U,ts=ja.m,Gn=ja.s,Wr=[null],ua=1,hn=0,xa=So[qa];r:for(;;){if(Kn&&re(ts,1)){var ci=re(ts,3)+2,fn=Te(li,ci),da=Te(Ui,ci),zn=fn*da;if(!Ye(fn,da,0,ja,Wr))break r;for(Wr=Wr[0],Gn.xc=ci,dn=0;dn<zn;++dn){var Aa=Wr[dn]>>8&65535;Wr[dn]=Aa,Aa>=ua&&(ua=Aa+1)}}if(ts.h)break r;for(wr=0;5>wr;++wr){var Yn=ad[wr];!wr&&0<qa&&(Yn+=1<<qa),hn<Yn&&(hn=Yn)}var Xn=s(ua*xa,V),Pa=ua,oa=s(Pa,te);if(oa==null)var rs=null;else t(65536>=Pa),rs=oa;var Sn=i(hn);if(rs==null||Sn==null||Xn==null){ja.a=1;break r}var fr=Xn;for(dn=Br=0;dn<ua;++dn){var xr=rs[dn],ha=xr.G,Es=xr.H,To=0,vs=1,Qn=0;for(wr=0;5>wr;++wr){Yn=ad[wr],ha[wr]=fr,Es[wr]=Br,!wr&&0<qa&&(Yn+=1<<qa);n:{var lu,cu=Yn,Wm=ja,$a=Sn,Yg=fr,Xg=Br,Vm=0,kc=Wm.m,vk=re(kc,1);if(n($a,0,0,cu),vk){var Qg=re(kc,1)+1,Jg=re(kc,1),Km=re(kc,Jg==0?1:8);$a[Km]=1,Qg==2&&($a[Km=re(kc,8)]=1);var ki=1}else{var Nn=i(19),Zh=re(kc,4)+4;if(19<Zh){Wm.a=3;var uu=0;break n}for(lu=0;lu<Zh;++lu)Nn[Xh[lu]]=re(kc,3);var A0=void 0,sd=void 0,Pl=Wm,Gm=Nn,T0=cu,Ym=$a,Xm=0,_c=Pl.m,Zg=8,ex=s(128,V);a:for(;I(ex,0,7,Gm,19);){if(re(_c,1)){var zv=2+2*re(_c,3);if((A0=2+re(_c,zv))>T0)break a}else A0=T0;for(sd=0;sd<T0&&A0--;){se(_c);var tx=ex[0+(127&z(_c))];Z(_c,_c.u+tx.g);var du=tx.value;if(16>du)Ym[sd++]=du,du!=0&&(Zg=du);else{var qv=du==16,$v=du-16,Hv=_0[$v],rx=re(_c,ko[$v])+Hv;if(sd+rx>T0)break a;for(var Wv=qv?Zg:0;0<rx--;)Ym[sd++]=Wv}}Xm=1;break a}Xm||(Pl.a=3),ki=Xm}(ki=ki&&!kc.h)&&(Vm=I(Yg,Xg,8,$a,cu)),ki&&Vm!=0?uu=Vm:(Wm.a=3,uu=0)}if(uu==0)break r;if(vs&&Bm[wr]==1&&(vs=fr[Br].g==0),To+=fr[Br].g,Br+=uu,3>=wr){var od,Qm=Sn[0];for(od=1;od<Yn;++od)Sn[od]>Qm&&(Qm=Sn[od]);Qn+=Qm}}if(xr.nd=vs,xr.Qb=0,vs&&(xr.qb=(ha[3][Es[3]+0].value<<24|ha[1][Es[1]+0].value<<16|ha[2][Es[2]+0].value)>>>0,To==0&&256>ha[0][Es[0]+0].value&&(xr.Qb=1,xr.qb+=ha[0][Es[0]+0].value<<8)),xr.jc=!xr.Qb&&6>Qn,xr.jc){var ef,Dl=xr;for(ef=0;ef<eu;++ef){var Sc=ef,Nc=Dl.pd[Sc],Jm=Dl.G[0][Dl.H[0]+Sc];256<=Jm.value?(Nc.g=Jm.g+256,Nc.value=Jm.value):(Nc.g=0,Nc.value=0,Sc>>=Xa(Jm,8,Nc),Sc>>=Xa(Dl.G[1][Dl.H[1]+Sc],16,Nc),Sc>>=Xa(Dl.G[2][Dl.H[2]+Sc],0,Nc),Xa(Dl.G[3][Dl.H[3]+Sc],24,Nc))}}}Gn.vc=Wr,Gn.Wb=ua,Gn.Ya=rs,Gn.yc=Xn,Bt=1;break t}Bt=0}if(!(ue=Bt)){K.a=3;break e}if(0<Je){if(Ne.ua=1<<Je,!ce(Ne.Wa,Je)){K.a=1,ue=0;break e}}else Ne.ua=0;var Zm=K,ld=he,Vv=pe,E0=Zm.s,C0=E0.xc;if(Zm.c=ld,Zm.i=Vv,E0.md=Te(ld,C0),E0.wc=C0==0?-1:(1<<C0)-1,U){K.xb=au;break e}if((Re=i(he*pe))==null){K.a=1,ue=0;break e}ue=(ue=Ve(K,Re,0,he,pe,pe,null))&&!ve.h;break e}return ue?(ie!=null?ie[0]=Re:(t(Re==null),t(U)),K.$=0,U||it(Ne)):it(Ne),ue}function Qe(S,E){var U=S.c*S.i,K=U+E+16*E;return t(S.c<=E),S.V=i(K),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+U+E,1)}function xt(S,E){var U=S.C,K=E-U,ie=S.V,ue=S.Ba+S.c*U;for(t(E<=S.l.o);0<K;){var he=16<K?16:K,pe=S.l.ma,ve=S.l.width,Ne=ve*he,Re=pe.ca,Je=pe.tb+ve*U,we=S.Ta,Ue=S.Ua;Se(S,he,ie,ue),to(we,Ue,Re,Je,Ne),be(pe,U,U+he,Re,Je,ve),K-=he,ie+=he*S.c,U+=he}t(U==E),S.C=S.Ma=E}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ce(){this.Yb=(function(){var S=[];return(function E(U,K,ie){for(var ue=ie[K],he=0;he<ue&&(U.push(ie.length>K+1?[]:0),!(ie.length<K+1));he++)E(U[he],K+1,ie)})(S,0,[3,11]),S})()}function nt(){this.jb=i(3),this.Wc=l([4,8],Ce),this.Xc=l([4,17],Ce)}function $t(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ht(){this.ld=this.La=this.dd=this.tc=0}function zr(){this.Na=this.la=0}function Qa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ht),this.Y=0,this.ya=Array(new cn),this.aa=0,this.l=new Mn}function Ea(){this.y=i(16),this.f=i(8),this.ea=i(8)}function qo(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Ot,this.Kc=new Ft,this.ed=new $t,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new nn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Qa),this.Pa=new nt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ea),this.Hd=0,this.rb=Array(new zr),this.sb=0,this.wa=Array(new Ht),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cn),this.L=this.aa=0,this.gd=l([4,2],Ht),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function u0(){var S=new qo;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ro||(ro=ic)),S}function Ca(S,E,U){return S.a==0&&(S.a=E,S.sc=U,S.cb=0),0}function ms(S,E,U){return 3<=U&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function Oh(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return Ca(S,2,"null VP8Io passed to VP8GetHeaders()");var U=E.data,K=E.w,ie=E.ha;if(4>ie)return Ca(S,7,"Truncated header.");var ue=U[K+0]|U[K+1]<<8|U[K+2]<<16,he=S.Od;if(he.Rb=!(1&ue),he.td=ue>>1&7,he.yd=ue>>4&1,he.ub=ue>>5,3<he.td)return Ca(S,3,"Incorrect keyframe parameters.");if(!he.yd)return Ca(S,4,"Frame not displayable.");K+=3,ie-=3;var pe=S.Kc;if(he.Rb){if(7>ie)return Ca(S,7,"cannot parse picture header");if(!ms(U,K,ie))return Ca(S,3,"Bad code word");pe.c=16383&(U[K+4]<<8|U[K+3]),pe.Td=U[K+4]>>6,pe.i=16383&(U[K+6]<<8|U[K+5]),pe.Ud=U[K+6]>>6,K+=7,ie-=7,S.za=pe.c+15>>4,S.Ub=pe.i+15>>4,E.width=pe.c,E.height=pe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,n((ue=S.Pa).jb,0,255,ue.jb.length),t((ue=S.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,n(ue.Zb,0,0,ue.Zb.length),n(ue.Lb,0,0,ue.Lb)}if(he.ub>ie)return Ca(S,7,"bad partition length");X(ue=S.m,U,K,he.ub),K+=he.ub,ie-=he.ub,he.Rb&&(pe.Ld=Q(ue),pe.Kd=Q(ue)),pe=S.Qa;var ve,Ne=S.Pa;if(t(ue!=null),t(pe!=null),pe.Cb=Q(ue),pe.Cb){if(pe.Bb=Q(ue),Q(ue)){for(pe.Fb=Q(ue),ve=0;4>ve;++ve)pe.Zb[ve]=Q(ue)?de(ue,7):0;for(ve=0;4>ve;++ve)pe.Lb[ve]=Q(ue)?de(ue,6):0}if(pe.Bb)for(ve=0;3>ve;++ve)Ne.jb[ve]=Q(ue)?ae(ue,8):255}else pe.Bb=0;if(ue.Ka)return Ca(S,3,"cannot parse segment header");if((pe=S.ed).zd=Q(ue),pe.Tb=ae(ue,6),pe.wb=ae(ue,3),pe.Pc=Q(ue),pe.Pc&&Q(ue)){for(Ne=0;4>Ne;++Ne)Q(ue)&&(pe.vd[Ne]=de(ue,6));for(Ne=0;4>Ne;++Ne)Q(ue)&&(pe.od[Ne]=de(ue,6))}if(S.L=pe.Tb==0?0:pe.zd?1:2,ue.Ka)return Ca(S,3,"cannot parse filter header");var Re=ie;if(ie=ve=K,K=ve+Re,pe=Re,S.Xb=(1<<ae(S.m,2))-1,Re<3*(Ne=S.Xb))U=7;else{for(ve+=3*Ne,pe-=3*Ne,Re=0;Re<Ne;++Re){var Je=U[ie+0]|U[ie+1]<<8|U[ie+2]<<16;Je>pe&&(Je=pe),X(S.Jc[+Re],U,ve,Je),ve+=Je,pe-=Je,ie+=3}X(S.Jc[+Ne],U,ve,pe),U=ve<K?0:5}if(U!=0)return Ca(S,U,"cannot parse partitions");for(U=ae(ve=S.m,7),ie=Q(ve)?de(ve,4):0,K=Q(ve)?de(ve,4):0,pe=Q(ve)?de(ve,4):0,Ne=Q(ve)?de(ve,4):0,ve=Q(ve)?de(ve,4):0,Re=S.Qa,Je=0;4>Je;++Je){if(Re.Cb){var we=Re.Zb[Je];Re.Fb||(we+=U)}else{if(0<Je){S.pb[Je]=S.pb[0];continue}we=U}var Ue=S.pb[Je];Ue.Sc[0]=No[kn(we+ie,127)],Ue.Sc[1]=jo[kn(we+0,127)],Ue.Eb[0]=2*No[kn(we+K,127)],Ue.Eb[1]=101581*jo[kn(we+pe,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=No[kn(we+Ne,117)],Ue.Qc[1]=jo[kn(we+ve,127)],Ue.lc=we+ve}if(!he.Rb)return Ca(S,4,"Not a key frame.");for(Q(ue),he=S.Pa,U=0;4>U;++U){for(ie=0;8>ie;++ie)for(K=0;3>K;++K)for(pe=0;11>pe;++pe)Ne=me(ue,Ja[U][ie][K][pe])?ae(ue,8):Bv[U][ie][K][pe],he.Wc[U][ie].Yb[K][pe]=Ne;for(ie=0;17>ie;++ie)he.Xc[U][ie]=he.Wc[U][Jr[ie]]}return S.kc=Q(ue),S.kc&&(S.Bd=ae(ue,8)),S.cb=1}function ic(S,E,U,K,ie,ue,he){var pe=E[ie].Yb[U];for(U=0;16>ie;++ie){if(!me(S,pe[U+0]))return ie;for(;!me(S,pe[U+1]);)if(pe=E[++ie].Yb[0],U=0,ie==16)return 16;var ve=E[ie+1].Yb;if(me(S,pe[U+2])){var Ne=S,Re=0;if(me(Ne,(we=pe)[(Je=U)+3]))if(me(Ne,we[Je+6])){for(pe=0,Je=2*(Re=me(Ne,we[Je+8]))+(we=me(Ne,we[Je+9+Re])),Re=0,we=Fv[Je];we[pe];++pe)Re+=Re+me(Ne,we[pe]);Re+=3+(8<<Je)}else me(Ne,we[Je+7])?(Re=7+2*me(Ne,165),Re+=me(Ne,145)):Re=5+me(Ne,159);else Re=me(Ne,we[Je+4])?3+me(Ne,we[Je+5]):2;pe=ve[2]}else Re=1,pe=ve[1];ve=he+Vg[ie],0>(Ne=S).b&&ee(Ne);var Je,we=Ne.b,Ue=(Je=Ne.Ca>>1)-(Ne.I>>we)>>31;--Ne.b,Ne.Ca+=Ue,Ne.Ca|=1,Ne.I-=(Je+1&Ue)<<we,ue[ve]=((Re^Ue)-Ue)*K[(0<ie)+0]}return 16}function sc(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,n(S.zc,0,0,S.zc.length),S.ja=0}function xo(S,E,U,K,ie){ie=S[E+U+32*K]+(ie>>3),S[E+U+32*K]=-256&ie?0>ie?0:255:ie}function bl(S,E,U,K,ie,ue){xo(S,E,0,U,K+ie),xo(S,E,1,U,K+ue),xo(S,E,2,U,K-ue),xo(S,E,3,U,K-ie)}function In(S){return(20091*S>>16)+S}function Qi(S,E,U,K){var ie,ue=0,he=i(16);for(ie=0;4>ie;++ie){var pe=S[E+0]+S[E+8],ve=S[E+0]-S[E+8],Ne=(35468*S[E+4]>>16)-In(S[E+12]),Re=In(S[E+4])+(35468*S[E+12]>>16);he[ue+0]=pe+Re,he[ue+1]=ve+Ne,he[ue+2]=ve-Ne,he[ue+3]=pe-Re,ue+=4,E++}for(ie=ue=0;4>ie;++ie)pe=(S=he[ue+0]+4)+he[ue+8],ve=S-he[ue+8],Ne=(35468*he[ue+4]>>16)-In(he[ue+12]),xo(U,K,0,0,pe+(Re=In(he[ue+4])+(35468*he[ue+12]>>16))),xo(U,K,1,0,ve+Ne),xo(U,K,2,0,ve-Ne),xo(U,K,3,0,pe-Re),ue++,K+=32}function Ph(S,E,U,K){var ie=S[E+0]+4,ue=35468*S[E+4]>>16,he=In(S[E+4]),pe=35468*S[E+1]>>16;bl(U,K,0,ie+he,S=In(S[E+1]),pe),bl(U,K,1,ie+ue,S,pe),bl(U,K,2,ie-ue,S,pe),bl(U,K,3,ie-he,S,pe)}function _m(S,E,U,K,ie){Qi(S,E,U,K),ie&&Qi(S,E+16,U,K+4)}function Dh(S,E,U,K){bc(S,E+0,U,K,1),bc(S,E+32,U,K+128,1)}function ps(S,E,U,K){var ie;for(S=S[E+0]+4,ie=0;4>ie;++ie)for(E=0;4>E;++E)xo(U,K,E,ie,S)}function Lh(S,E,U,K){S[E+0]&&ga(S,E+0,U,K),S[E+16]&&ga(S,E+16,U,K+4),S[E+32]&&ga(S,E+32,U,K+128),S[E+48]&&ga(S,E+48,U,K+128+4)}function Mh(S,E,U,K){var ie,ue=i(16);for(ie=0;4>ie;++ie){var he=S[E+0+ie]+S[E+12+ie],pe=S[E+4+ie]+S[E+8+ie],ve=S[E+4+ie]-S[E+8+ie],Ne=S[E+0+ie]-S[E+12+ie];ue[0+ie]=he+pe,ue[8+ie]=he-pe,ue[4+ie]=Ne+ve,ue[12+ie]=Ne-ve}for(ie=0;4>ie;++ie)he=(S=ue[0+4*ie]+3)+ue[3+4*ie],pe=ue[1+4*ie]+ue[2+4*ie],ve=ue[1+4*ie]-ue[2+4*ie],Ne=S-ue[3+4*ie],U[K+0]=he+pe>>3,U[K+16]=Ne+ve>>3,U[K+32]=he-pe>>3,U[K+48]=Ne-ve>>3,K+=64}function Ys(S,E,U){var K,ie=E-32,ue=Zi,he=255-S[ie-1];for(K=0;K<U;++K){var pe,ve=ue,Ne=he+S[E-1];for(pe=0;pe<U;++pe)S[E+pe]=ve[Ne+S[ie+pe]];E+=32}}function Ih(S,E){Ys(S,E,4)}function Sm(S,E){Ys(S,E,8)}function Nm(S,E){Ys(S,E,16)}function Rh(S,E){var U;for(U=0;16>U;++U)a(S,E+32*U,S,E-32,16)}function Fh(S,E){var U;for(U=16;0<U;--U)n(S,E,S[E-1],16),E+=32}function Hu(S,E,U){var K;for(K=0;16>K;++K)n(E,U+32*K,S,16)}function $o(S,E){var U,K=16;for(U=0;16>U;++U)K+=S[E-1+32*U]+S[E+U-32];Hu(K>>5,S,E)}function Ho(S,E){var U,K=8;for(U=0;16>U;++U)K+=S[E-1+32*U];Hu(K>>4,S,E)}function oc(S,E){var U,K=8;for(U=0;16>U;++U)K+=S[E+U-32];Hu(K>>4,S,E)}function Wu(S,E){Hu(128,S,E)}function yr(S,E,U){return S+2*E+U+2>>2}function Yc(S,E){var U,K=E-32;for(K=new Uint8Array([yr(S[K-1],S[K+0],S[K+1]),yr(S[K+0],S[K+1],S[K+2]),yr(S[K+1],S[K+2],S[K+3]),yr(S[K+2],S[K+3],S[K+4])]),U=0;4>U;++U)a(S,E+32*U,K,0,K.length)}function jm(S,E){var U=S[E-1],K=S[E-1+32],ie=S[E-1+64],ue=S[E-1+96];Ae(S,E+0,16843009*yr(S[E-1-32],U,K)),Ae(S,E+32,16843009*yr(U,K,ie)),Ae(S,E+64,16843009*yr(K,ie,ue)),Ae(S,E+96,16843009*yr(ie,ue,ue))}function Bh(S,E){var U,K=4;for(U=0;4>U;++U)K+=S[E+U-32]+S[E-1+32*U];for(K>>=3,U=0;4>U;++U)n(S,E+32*U,K,4)}function Am(S,E){var U=S[E-1+0],K=S[E-1+32],ie=S[E-1+64],ue=S[E-1-32],he=S[E+0-32],pe=S[E+1-32],ve=S[E+2-32],Ne=S[E+3-32];S[E+0+96]=yr(K,ie,S[E-1+96]),S[E+1+96]=S[E+0+64]=yr(U,K,ie),S[E+2+96]=S[E+1+64]=S[E+0+32]=yr(ue,U,K),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=yr(he,ue,U),S[E+3+64]=S[E+2+32]=S[E+1+0]=yr(pe,he,ue),S[E+3+32]=S[E+2+0]=yr(ve,pe,he),S[E+3+0]=yr(Ne,ve,pe)}function Xs(S,E){var U=S[E+1-32],K=S[E+2-32],ie=S[E+3-32],ue=S[E+4-32],he=S[E+5-32],pe=S[E+6-32],ve=S[E+7-32];S[E+0+0]=yr(S[E+0-32],U,K),S[E+1+0]=S[E+0+32]=yr(U,K,ie),S[E+2+0]=S[E+1+32]=S[E+0+64]=yr(K,ie,ue),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=yr(ie,ue,he),S[E+3+32]=S[E+2+64]=S[E+1+96]=yr(ue,he,pe),S[E+3+64]=S[E+2+96]=yr(he,pe,ve),S[E+3+96]=yr(pe,ve,ve)}function Pi(S,E){var U=S[E-1+0],K=S[E-1+32],ie=S[E-1+64],ue=S[E-1-32],he=S[E+0-32],pe=S[E+1-32],ve=S[E+2-32],Ne=S[E+3-32];S[E+0+0]=S[E+1+64]=ue+he+1>>1,S[E+1+0]=S[E+2+64]=he+pe+1>>1,S[E+2+0]=S[E+3+64]=pe+ve+1>>1,S[E+3+0]=ve+Ne+1>>1,S[E+0+96]=yr(ie,K,U),S[E+0+64]=yr(K,U,ue),S[E+0+32]=S[E+1+96]=yr(U,ue,he),S[E+1+32]=S[E+2+96]=yr(ue,he,pe),S[E+2+32]=S[E+3+96]=yr(he,pe,ve),S[E+3+32]=yr(pe,ve,Ne)}function Uh(S,E){var U=S[E+0-32],K=S[E+1-32],ie=S[E+2-32],ue=S[E+3-32],he=S[E+4-32],pe=S[E+5-32],ve=S[E+6-32],Ne=S[E+7-32];S[E+0+0]=U+K+1>>1,S[E+1+0]=S[E+0+64]=K+ie+1>>1,S[E+2+0]=S[E+1+64]=ie+ue+1>>1,S[E+3+0]=S[E+2+64]=ue+he+1>>1,S[E+0+32]=yr(U,K,ie),S[E+1+32]=S[E+0+96]=yr(K,ie,ue),S[E+2+32]=S[E+1+96]=yr(ie,ue,he),S[E+3+32]=S[E+2+96]=yr(ue,he,pe),S[E+3+64]=yr(he,pe,ve),S[E+3+96]=yr(pe,ve,Ne)}function Vu(S,E){var U=S[E-1+0],K=S[E-1+32],ie=S[E-1+64],ue=S[E-1+96];S[E+0+0]=U+K+1>>1,S[E+2+0]=S[E+0+32]=K+ie+1>>1,S[E+2+32]=S[E+0+64]=ie+ue+1>>1,S[E+1+0]=yr(U,K,ie),S[E+3+0]=S[E+1+32]=yr(K,ie,ue),S[E+3+32]=S[E+1+64]=yr(ie,ue,ue),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=ue}function Qs(S,E){var U=S[E-1+0],K=S[E-1+32],ie=S[E-1+64],ue=S[E-1+96],he=S[E-1-32],pe=S[E+0-32],ve=S[E+1-32],Ne=S[E+2-32];S[E+0+0]=S[E+2+32]=U+he+1>>1,S[E+0+32]=S[E+2+64]=K+U+1>>1,S[E+0+64]=S[E+2+96]=ie+K+1>>1,S[E+0+96]=ue+ie+1>>1,S[E+3+0]=yr(pe,ve,Ne),S[E+2+0]=yr(he,pe,ve),S[E+1+0]=S[E+3+32]=yr(U,he,pe),S[E+1+32]=S[E+3+64]=yr(K,U,he),S[E+1+64]=S[E+3+96]=yr(ie,K,U),S[E+1+96]=yr(ue,ie,K)}function Ku(S,E){var U;for(U=0;8>U;++U)a(S,E+32*U,S,E-32,8)}function yl(S,E){var U;for(U=0;8>U;++U)n(S,E,S[E-1],8),E+=32}function Gu(S,E,U){var K;for(K=0;8>K;++K)n(E,U+32*K,S,8)}function lc(S,E){var U,K=8;for(U=0;8>U;++U)K+=S[E+U-32]+S[E-1+32*U];Gu(K>>4,S,E)}function d0(S,E){var U,K=4;for(U=0;8>U;++U)K+=S[E+U-32];Gu(K>>3,S,E)}function h0(S,E){var U,K=4;for(U=0;8>U;++U)K+=S[E-1+32*U];Gu(K>>3,S,E)}function wi(S,E){Gu(128,S,E)}function Js(S,E,U){var K=S[E-U],ie=S[E+0],ue=3*(ie-K)+yc[1020+S[E-2*U]-S[E+U]],he=Kh[112+(ue+4>>3)];S[E-U]=Zi[255+K+Kh[112+(ue+3>>3)]],S[E+0]=Zi[255+ie-he]}function wl(S,E,U,K){var ie=S[E+0],ue=S[E+U];return Ii[255+S[E-2*U]-S[E-U]]>K||Ii[255+ue-ie]>K}function cc(S,E,U,K){return 4*Ii[255+S[E-U]-S[E+0]]+Ii[255+S[E-2*U]-S[E+U]]<=K}function f0(S,E,U,K,ie){var ue=S[E-3*U],he=S[E-2*U],pe=S[E-U],ve=S[E+0],Ne=S[E+U],Re=S[E+2*U],Je=S[E+3*U];return 4*Ii[255+pe-ve]+Ii[255+he-Ne]>K?0:Ii[255+S[E-4*U]-ue]<=ie&&Ii[255+ue-he]<=ie&&Ii[255+he-pe]<=ie&&Ii[255+Je-Re]<=ie&&Ii[255+Re-Ne]<=ie&&Ii[255+Ne-ve]<=ie}function Yu(S,E,U,K){var ie=2*K+1;for(K=0;16>K;++K)cc(S,E+K,U,ie)&&Js(S,E+K,U)}function uc(S,E,U,K){var ie=2*K+1;for(K=0;16>K;++K)cc(S,E+K*U,1,ie)&&Js(S,E+K*U,1)}function Xc(S,E,U,K){var ie;for(ie=3;0<ie;--ie)Yu(S,E+=4*U,U,K)}function Xu(S,E,U,K){var ie;for(ie=3;0<ie;--ie)uc(S,E+=4,U,K)}function kl(S,E,U,K,ie,ue,he,pe){for(ue=2*ue+1;0<ie--;){if(f0(S,E,U,ue,he))if(wl(S,E,U,pe))Js(S,E,U);else{var ve=S,Ne=E,Re=U,Je=ve[Ne-2*Re],we=ve[Ne-Re],Ue=ve[Ne+0],We=ve[Ne+Re],ct=ve[Ne+2*Re],Ke=27*(gt=yc[1020+3*(Ue-we)+yc[1020+Je-We]])+63>>7,lt=18*gt+63>>7,gt=9*gt+63>>7;ve[Ne-3*Re]=Zi[255+ve[Ne-3*Re]+gt],ve[Ne-2*Re]=Zi[255+Je+lt],ve[Ne-Re]=Zi[255+we+Ke],ve[Ne+0]=Zi[255+Ue-Ke],ve[Ne+Re]=Zi[255+We-lt],ve[Ne+2*Re]=Zi[255+ct-gt]}E+=K}}function dc(S,E,U,K,ie,ue,he,pe){for(ue=2*ue+1;0<ie--;){if(f0(S,E,U,ue,he))if(wl(S,E,U,pe))Js(S,E,U);else{var ve=S,Ne=E,Re=U,Je=ve[Ne-Re],we=ve[Ne+0],Ue=ve[Ne+Re],We=Kh[112+(4+(ct=3*(we-Je))>>3)],ct=Kh[112+(ct+3>>3)],Ke=We+1>>1;ve[Ne-2*Re]=Zi[255+ve[Ne-2*Re]+Ke],ve[Ne-Re]=Zi[255+Je+ct],ve[Ne+0]=Zi[255+we-We],ve[Ne+Re]=Zi[255+Ue-Ke]}E+=K}}function Tm(S,E,U,K,ie,ue){kl(S,E,U,1,16,K,ie,ue)}function Em(S,E,U,K,ie,ue){kl(S,E,1,U,16,K,ie,ue)}function hc(S,E,U,K,ie,ue){var he;for(he=3;0<he;--he)dc(S,E+=4*U,U,1,16,K,ie,ue)}function Cm(S,E,U,K,ie,ue){var he;for(he=3;0<he;--he)dc(S,E+=4,1,U,16,K,ie,ue)}function R(S,E,U,K,ie,ue,he,pe){kl(S,E,ie,1,8,ue,he,pe),kl(U,K,ie,1,8,ue,he,pe)}function ne(S,E,U,K,ie,ue,he,pe){kl(S,E,1,ie,8,ue,he,pe),kl(U,K,1,ie,8,ue,he,pe)}function je(S,E,U,K,ie,ue,he,pe){dc(S,E+4*ie,ie,1,8,ue,he,pe),dc(U,K+4*ie,ie,1,8,ue,he,pe)}function Ie(S,E,U,K,ie,ue,he,pe){dc(S,E+4,1,ie,8,ue,he,pe),dc(U,K+4,1,ie,8,ue,he,pe)}function $e(){this.ba=new cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new V}function ir(){this.xb=this.a=0,this.l=new Mn,this.ca=new cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=s(4,Nt),this.Oc=0}function Sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lr(S,E,U,K,ie,ue,he){for(S=S==null?0:S[E+0],E=0;E<he;++E)ie[ue+E]=S+U[K+E]&255,S=ie[ue+E]}function pa(S,E,U,K,ie,ue,he){var pe;if(S==null)Lr(null,null,U,K,ie,ue,he);else for(pe=0;pe<he;++pe)ie[ue+pe]=S[E+pe]+U[K+pe]&255}function un(S,E,U,K,ie,ue,he){if(S==null)Lr(null,null,U,K,ie,ue,he);else{var pe,ve=S[E+0],Ne=ve,Re=ve;for(pe=0;pe<he;++pe)Ne=Re+(ve=S[E+pe])-Ne,Re=U[K+pe]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=ve,ie[ue+pe]=Re}}function Rn(S,E,U,K){var ie=E.width,ue=E.o;if(t(S!=null&&E!=null),0>U||0>=K||U+K>ue)return null;if(!S.Cc){if(S.ga==null){var he;if(S.ga=new Sr,(he=S.ga==null)||(he=E.width*E.o,t(S.Gb.length==0),S.Gb=i(he),S.Uc=0,S.Gb==null?he=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,he=1),he=!he),!he){he=S.ga;var pe=S.Fa,ve=S.P,Ne=S.qc,Re=S.mb,Je=S.nb,we=ve+1,Ue=Ne-1,We=he.l;if(t(pe!=null&&Re!=null&&E!=null),wc[0]=null,wc[1]=Lr,wc[2]=pa,wc[3]=un,he.ca=Re,he.tb=Je,he.c=E.width,he.i=E.height,t(0<he.c&&0<he.i),1>=Ne)E=0;else if(he.$a=3&pe[ve+0],he.Z=pe[ve+0]>>2&3,he.Lc=pe[ve+0]>>4&3,ve=pe[ve+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||ve)E=0;else if(We.put=Pt,We.ac=bi,We.bc=Gs,We.ma=he,We.width=E.width,We.height=E.height,We.Da=E.Da,We.v=E.v,We.va=E.va,We.j=E.j,We.o=E.o,he.$a)e:{t(he.$a==1),E=Ge();t:for(;;){if(E==null){E=0;break e}if(t(he!=null),he.mc=E,E.c=he.c,E.i=he.i,E.l=he.l,E.l.ma=he,E.l.width=he.c,E.l.height=he.i,E.a=0,oe(E.m,pe,we,Ue),!Ye(he.c,he.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&xe(E.s)?(he.ic=1,pe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(pe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(he.ic=0,E=Qe(E,he.c)),!E))break t;E=1;break e}he.mc=null,E=0}else E=Ue>=he.c*he.i;he=!E}if(he)return null;S.ga.Lc!=1?S.Ga=0:K=ue-U}t(S.ga!=null),t(U+K<=ue);e:{if(E=(pe=S.ga).c,ue=pe.l.o,pe.$a==0){if(we=S.rc,Ue=S.Vc,We=S.Fa,ve=S.P+1+U*E,Ne=S.mb,Re=S.nb+U*E,t(ve<=S.P+S.qc),pe.Z!=0)for(t(wc[pe.Z]!=null),he=0;he<K;++he)wc[pe.Z](we,Ue,We,ve,Ne,Re,E),we=Ne,Ue=Re,Re+=E,ve+=E;else for(he=0;he<K;++he)a(Ne,Re,We,ve,E),we=Ne,Ue=Re,Re+=E,ve+=E;S.rc=we,S.Vc=Ue}else{if(t(pe.mc!=null),E=U+K,t((he=pe.mc)!=null),t(E<=he.i),he.C>=E)E=1;else if(pe.ic||vo(),pe.ic){pe=he.V,we=he.Ba,Ue=he.c;var ct=he.i,Ke=(We=1,ve=he.$/Ue,Ne=he.$%Ue,Re=he.m,Je=he.s,he.$),lt=Ue*ct,gt=Ue*E,Et=Je.wc,St=Ke<gt?le(Je,Ne,ve):null;t(Ke<=lt),t(E<=ct),t(xe(Je));t:for(;;){for(;!Re.h&&Ke<gt;){if(Ne&Et||(St=le(Je,Ne,ve)),t(St!=null),se(Re),256>(ct=ra(St.G[0],St.H[0],Re)))pe[we+Ke]=ct,++Ke,++Ne>=Ue&&(Ne=0,++ve<=E&&!(ve%16)&&_e(he,ve));else{if(!(280>ct)){We=0;break t}ct=Ln(ct-256,Re);var Zt,Wt=ra(St.G[4],St.H[4],Re);if(se(Re),!(Ke>=(Wt=yi(Ue,Wt=Ln(Wt,Re)))&&lt-Ke>=ct)){We=0;break t}for(Zt=0;Zt<ct;++Zt)pe[we+Ke+Zt]=pe[we+Ke+Zt-Wt];for(Ke+=ct,Ne+=ct;Ne>=Ue;)Ne-=Ue,++ve<=E&&!(ve%16)&&_e(he,ve);Ke<gt&&Ne&Et&&(St=le(Je,Ne,ve))}t(Re.h==q(Re))}_e(he,ve>E?E:ve);break t}!We||Re.h&&Ke<lt?(We=0,he.a=Re.h?5:3):he.$=Ke,E=We}else E=Ve(he,he.V,he.Ba,he.c,he.i,E,xt);if(!E){K=0;break e}}U+K>=ue&&(S.Cc=1),K=1}if(!K)return null;if(S.Cc&&((K=S.ga)!=null&&(K.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+U*ie}function Ua(S,E,U,K,ie,ue){for(;0<ie--;){var he,pe=S,ve=E+(U?1:0),Ne=S,Re=E+(U?0:3);for(he=0;he<K;++he){var Je=Ne[Re+4*he];Je!=255&&(Je*=32897,pe[ve+4*he+0]=pe[ve+4*he+0]*Je>>23,pe[ve+4*he+1]=pe[ve+4*he+1]*Je>>23,pe[ve+4*he+2]=pe[ve+4*he+2]*Je>>23)}E+=ue}}function oi(S,E,U,K,ie){for(;0<K--;){var ue;for(ue=0;ue<U;++ue){var he=S[E+2*ue+0],pe=15&(Ne=S[E+2*ue+1]),ve=4369*pe,Ne=(240&Ne|Ne>>4)*ve>>16;S[E+2*ue+0]=(240&he|he>>4)*ve>>16&240|(15&he|he<<4)*ve>>16>>4&15,S[E+2*ue+1]=240&Ne|pe}E+=ie}}function Vn(S,E,U,K,ie,ue,he,pe){var ve,Ne,Re=255;for(Ne=0;Ne<ie;++Ne){for(ve=0;ve<K;++ve){var Je=S[E+ve];ue[he+4*ve]=Je,Re&=Je}E+=U,he+=pe}return Re!=255}function Di(S,E,U,K,ie){var ue;for(ue=0;ue<ie;++ue)U[K+ue]=S[E+ue]>>8}function vo(){td=Ua,yo=oi,Hh=Vn,to=Di}function As(S,E,U){F[S]=function(K,ie,ue,he,pe,ve,Ne,Re,Je,we,Ue,We,ct,Ke,lt,gt,Et){var St,Zt=Et-1>>1,Wt=pe[ve+0]|Ne[Re+0]<<16,Or=Je[we+0]|Ue[We+0]<<16;t(K!=null);var Yt=3*Wt+Or+131074>>2;for(E(K[ie+0],255&Yt,Yt>>16,ct,Ke),ue!=null&&(Yt=3*Or+Wt+131074>>2,E(ue[he+0],255&Yt,Yt>>16,lt,gt)),St=1;St<=Zt;++St){var Xr=pe[ve+St]|Ne[Re+St]<<16,Za=Je[we+St]|Ue[We+St]<<16,Mr=Wt+Xr+Or+Za+524296,Vt=Mr+2*(Xr+Or)>>3;Yt=Vt+Wt>>1,Wt=(Mr=Mr+2*(Wt+Za)>>3)+Xr>>1,E(K[ie+2*St-1],255&Yt,Yt>>16,ct,Ke+(2*St-1)*U),E(K[ie+2*St-0],255&Wt,Wt>>16,ct,Ke+(2*St-0)*U),ue!=null&&(Yt=Mr+Or>>1,Wt=Vt+Za>>1,E(ue[he+2*St-1],255&Yt,Yt>>16,lt,gt+(2*St-1)*U),E(ue[he+2*St+0],255&Wt,Wt>>16,lt,gt+(2*St+0)*U)),Wt=Xr,Or=Za}1&Et||(Yt=3*Wt+Or+131074>>2,E(K[ie+Et-1],255&Yt,Yt>>16,ct,Ke+(Et-1)*U),ue!=null&&(Yt=3*Or+Wt+131074>>2,E(ue[he+Et-1],255&Yt,Yt>>16,lt,gt+(Et-1)*U)))}}function Om(){Fi[Mm]=nd,Fi[es]=S0,Fi[Im]=Gg,Fi[wo]=zm,Fi[Gh]=nu,Fi[w0]=Ol,Fi[tu]=iu,Fi[Yh]=S0,Fi[Rm]=zm,Fi[k0]=nu,Fi[Fm]=Ol}function m0(S){return S&-16384?0>S?0:255:S>>qm}function Qu(S,E){return m0((19077*S>>8)+(26149*E>>8)-14234)}function _l(S,E,U){return m0((19077*S>>8)-(6419*E>>8)-(13320*U>>8)+8708)}function Wo(S,E){return m0((19077*S>>8)+(33050*E>>8)-17685)}function Ju(S,E,U,K,ie){K[ie+0]=Qu(S,U),K[ie+1]=_l(S,E,U),K[ie+2]=Wo(S,E)}function Qc(S,E,U,K,ie){K[ie+0]=Wo(S,E),K[ie+1]=_l(S,E,U),K[ie+2]=Qu(S,U)}function Li(S,E,U,K,ie){var ue=_l(S,E,U);E=ue<<3&224|Wo(S,E)>>3,K[ie+0]=248&Qu(S,U)|ue>>5,K[ie+1]=E}function Jc(S,E,U,K,ie){var ue=240&Wo(S,E)|15;K[ie+0]=240&Qu(S,U)|_l(S,E,U)>>4,K[ie+1]=ue}function Zc(S,E,U,K,ie){K[ie+0]=255,Ju(S,E,U,K,ie+1)}function p0(S,E,U,K,ie){Qc(S,E,U,K,ie),K[ie+3]=255}function Sl(S,E,U,K,ie){Ju(S,E,U,K,ie),K[ie+3]=255}function kn(S,E){return 0>S?0:S>E?E:S}function fc(S,E,U){F[S]=function(K,ie,ue,he,pe,ve,Ne,Re,Je){for(var we=Re+(-2&Je)*U;Re!=we;)E(K[ie+0],ue[he+0],pe[ve+0],Ne,Re),E(K[ie+1],ue[he+0],pe[ve+0],Ne,Re+U),ie+=2,++he,++ve,Re+=2*U;1&Je&&E(K[ie+0],ue[he+0],pe[ve+0],Ne,Re)}}function g0(S,E,U){return U==0?S==0?E==0?6:5:E==0?4:0:U}function zh(S,E,U,K,ie){switch(S>>>30){case 3:bc(E,U,K,ie,0);break;case 2:Ji(E,U,K,ie);break;case 1:ga(E,U,K,ie)}}function Zs(S,E){var U,K,ie=E.M,ue=E.Nb,he=S.oc,pe=S.pc+40,ve=S.oc,Ne=S.pc+584,Re=S.oc,Je=S.pc+600;for(U=0;16>U;++U)he[pe+32*U-1]=129;for(U=0;8>U;++U)ve[Ne+32*U-1]=129,Re[Je+32*U-1]=129;for(0<ie?he[pe-1-32]=ve[Ne-1-32]=Re[Je-1-32]=129:(n(he,pe-32-1,127,21),n(ve,Ne-32-1,127,9),n(Re,Je-32-1,127,9)),K=0;K<S.za;++K){var we=E.ya[E.aa+K];if(0<K){for(U=-1;16>U;++U)a(he,pe+32*U-4,he,pe+32*U+12,4);for(U=-1;8>U;++U)a(ve,Ne+32*U-4,ve,Ne+32*U+4,4),a(Re,Je+32*U-4,Re,Je+32*U+4,4)}var Ue=S.Gd,We=S.Hd+K,ct=we.ad,Ke=we.Hc;if(0<ie&&(a(he,pe-32,Ue[We].y,0,16),a(ve,Ne-32,Ue[We].f,0,8),a(Re,Je-32,Ue[We].ea,0,8)),we.Za){var lt=he,gt=pe-32+16;for(0<ie&&(K>=S.za-1?n(lt,gt,Ue[We].y[15],4):a(lt,gt,Ue[We+1].y,0,4)),U=0;4>U;U++)lt[gt+128+U]=lt[gt+256+U]=lt[gt+384+U]=lt[gt+0+U];for(U=0;16>U;++U,Ke<<=2)lt=he,gt=pe+Un[U],_n[we.Ob[U]](lt,gt),zh(Ke,ct,16*+U,lt,gt)}else if(lt=g0(K,ie,we.Ob[0]),xs[lt](he,pe),Ke!=0)for(U=0;16>U;++U,Ke<<=2)zh(Ke,ct,16*+U,he,pe+Un[U]);for(U=we.Gc,lt=g0(K,ie,we.Dd),Yo[lt](ve,Ne),Yo[lt](Re,Je),Ke=ct,lt=ve,gt=Ne,255&(we=0|U)&&(170&we?bo(Ke,256,lt,gt):sa(Ke,256,lt,gt)),we=Re,Ke=Je,255&(U>>=8)&&(170&U?bo(ct,320,we,Ke):sa(ct,320,we,Ke)),ie<S.Ub-1&&(a(Ue[We].y,0,he,pe+480,16),a(Ue[We].f,0,ve,Ne+224,8),a(Ue[We].ea,0,Re,Je+224,8)),U=8*ue*S.B,Ue=S.sa,We=S.ta+16*K+16*ue*S.R,ct=S.qa,we=S.ra+8*K+U,Ke=S.Ha,lt=S.Ia+8*K+U,U=0;16>U;++U)a(Ue,We+U*S.R,he,pe+32*U,16);for(U=0;8>U;++U)a(ct,we+U*S.B,ve,Ne+32*U,8),a(Ke,lt+U*S.B,Re,Je+32*U,8)}}function Vo(S,E,U,K,ie,ue,he,pe,ve){var Ne=[0],Re=[0],Je=0,we=ve!=null?ve.kd:0,Ue=ve??new pt;if(S==null||12>U)return 7;Ue.data=S,Ue.w=E,Ue.ha=U,E=[E],U=[U],Ue.gb=[Ue.gb];e:{var We=E,ct=U,Ke=Ue.gb;if(t(S!=null),t(ct!=null),t(Ke!=null),Ke[0]=0,12<=ct[0]&&!r(S,We[0],"RIFF")){if(r(S,We[0]+8,"WEBP")){Ke=3;break e}var lt=ye(S,We[0]+4);if(12>lt||4294967286<lt){Ke=3;break e}if(we&&lt>ct[0]-8){Ke=7;break e}Ke[0]=lt,We[0]+=12,ct[0]-=12}Ke=0}if(Ke!=0)return Ke;for(lt=0<Ue.gb[0],U=U[0];;){e:{var gt=S;ct=E,Ke=U;var Et=Ne,St=Re,Zt=We=[0];if((Yt=Je=[Je])[0]=0,8>Ke[0])Ke=7;else{if(!r(gt,ct[0],"VP8X")){if(ye(gt,ct[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Wt=ye(gt,ct[0]+8),Or=1+ke(gt,ct[0]+12);if(2147483648<=Or*(gt=1+ke(gt,ct[0]+15))){Ke=3;break e}Zt!=null&&(Zt[0]=Wt),Et!=null&&(Et[0]=Or),St!=null&&(St[0]=gt),ct[0]+=18,Ke[0]-=18,Yt[0]=1}Ke=0}}if(Je=Je[0],We=We[0],Ke!=0)return Ke;if(ct=!!(2&We),!lt&&Je)return 3;if(ue!=null&&(ue[0]=!!(16&We)),he!=null&&(he[0]=ct),pe!=null&&(pe[0]=0),he=Ne[0],We=Re[0],Je&&ct&&ve==null){Ke=0;break}if(4>U){Ke=7;break}if(lt&&Je||!lt&&!Je&&!r(S,E[0],"ALPH")){U=[U],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Wt=S,Ke=E,lt=U;var Yt=Ue.gb;Et=Ue.na,St=Ue.P,Zt=Ue.Sa,Or=22,t(Wt!=null),t(lt!=null),gt=Ke[0];var Xr=lt[0];for(t(Et!=null),t(Zt!=null),Et[0]=null,St[0]=null,Zt[0]=0;;){if(Ke[0]=gt,lt[0]=Xr,8>Xr){Ke=7;break e}var Za=ye(Wt,gt+4);if(4294967286<Za){Ke=3;break e}var Mr=8+Za+1&-2;if(Or+=Mr,0<Yt&&Or>Yt){Ke=3;break e}if(!r(Wt,gt,"VP8 ")||!r(Wt,gt,"VP8L")){Ke=0;break e}if(Xr[0]<Mr){Ke=7;break e}r(Wt,gt,"ALPH")||(Et[0]=Wt,St[0]=gt+8,Zt[0]=Za),gt+=Mr,Xr-=Mr}}if(U=U[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],Ke!=0)break}U=[U],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Yt=S,Ke=E,lt=U,Et=Ue.gb[0],St=Ue.Ja,Zt=Ue.xa,Wt=Ke[0],gt=!r(Yt,Wt,"VP8 "),Or=!r(Yt,Wt,"VP8L"),t(Yt!=null),t(lt!=null),t(St!=null),t(Zt!=null),8>lt[0])Ke=7;else{if(gt||Or){if(Yt=ye(Yt,Wt+4),12<=Et&&Yt>Et-12){Ke=3;break e}if(we&&Yt>lt[0]-8){Ke=7;break e}St[0]=Yt,Ke[0]+=8,lt[0]-=8,Zt[0]=Or}else Zt[0]=5<=lt[0]&&Yt[Wt+0]==47&&!(Yt[Wt+4]>>5),St[0]=lt[0];Ke=0}if(U=U[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],E=E[0],Ke!=0)break;if(4294967286<Ue.Ja)return 3;if(pe==null||ct||(pe[0]=Ue.xa?2:1),he=[he],We=[We],Ue.xa){if(5>U){Ke=7;break}pe=he,we=We,ct=ue,S==null||5>U?S=0:5<=U&&S[E+0]==47&&!(S[E+4]>>5)?(lt=[0],Yt=[0],Et=[0],oe(St=new W,S,E,U),fs(St,lt,Yt,Et)?(pe!=null&&(pe[0]=lt[0]),we!=null&&(we[0]=Yt[0]),ct!=null&&(ct[0]=Et[0]),S=1):S=0):S=0}else{if(10>U){Ke=7;break}pe=We,S==null||10>U||!ms(S,E+3,U-3)?S=0:(we=S[E+0]|S[E+1]<<8|S[E+2]<<16,ct=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Ue.Ja||!ct||!S?S=0:(he&&(he[0]=ct),pe&&(pe[0]=S),S=1))}if(!S||(he=he[0],We=We[0],Je&&(Ne[0]!=he||Re[0]!=We)))return 3;ve!=null&&(ve[0]=Ue,ve.offset=E-ve.w,t(4294967286>E-ve.w),t(ve.offset==ve.ha-U));break}return Ke==0||Ke==7&&Je&&ve==null?(ue!=null&&(ue[0]|=Ue.na!=null&&0<Ue.na.length),K!=null&&(K[0]=he),ie!=null&&(ie[0]=We),0):Ke}function mc(S,E,U){var K=E.width,ie=E.height,ue=0,he=0,pe=K,ve=ie;if(E.Da=S!=null&&0<S.Da,E.Da&&(pe=S.cd,ve=S.bd,ue=S.v,he=S.j,11>U||(ue&=-2,he&=-2),0>ue||0>he||0>=pe||0>=ve||ue+pe>K||he+ve>ie))return 0;if(E.v=ue,E.j=he,E.va=ue+pe,E.o=he+ve,E.U=pe,E.T=ve,E.da=S!=null&&0<S.da,E.da){if(!mt(pe,ve,U=[S.ib],ue=[S.hb]))return 0;E.ib=U[0],E.hb=ue[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*K/4&&E.hb<3*ie/4,E.Kb=0),1}function qh(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function Ko(S,E,U,K){if(K==null||0>=S||0>=E)return 2;if(U!=null){if(U.Da){var ie=U.cd,ue=U.bd,he=-2&U.v,pe=-2&U.j;if(0>he||0>pe||0>=ie||0>=ue||he+ie>S||pe+ue>E)return 2;S=ie,E=ue}if(U.da){if(!mt(S,E,ie=[U.ib],ue=[U.hb]))return 2;S=ie[0],E=ue[0]}}K.width=S,K.height=E;e:{var ve=K.width,Ne=K.height;if(S=K.S,0>=ve||0>=Ne||!(S>=Mm&&13>S))S=2;else{if(0>=K.Rd&&K.sd==null){he=ue=ie=E=0;var Re=(pe=ve*Hm[S])*Ne;if(11>S||(ue=(Ne+1)/2*(E=(ve+1)/2),S==12&&(he=(ie=ve)*Ne)),(Ne=i(Re+2*ue+he))==null){S=1;break e}K.sd=Ne,11>S?((ve=K.f.RGBA).eb=Ne,ve.fb=0,ve.A=pe,ve.size=Re):((ve=K.f.kb).y=Ne,ve.O=0,ve.fa=pe,ve.Fd=Re,ve.f=Ne,ve.N=0+Re,ve.Ab=E,ve.Cd=ue,ve.ea=Ne,ve.W=0+Re+ue,ve.Db=E,ve.Ed=ue,S==12&&(ve.F=Ne,ve.J=0+Re+2*ue),ve.Tc=he,ve.lb=ie)}if(E=1,ie=K.S,ue=K.width,he=K.height,ie>=Mm&&13>ie)if(11>ie)S=K.f.RGBA,E&=(pe=Math.abs(S.A))*(he-1)+ue<=S.size,E&=pe>=ue*Hm[ie],E&=S.eb!=null;else{S=K.f.kb,pe=(ue+1)/2,Re=(he+1)/2,ve=Math.abs(S.fa),Ne=Math.abs(S.Ab);var Je=Math.abs(S.Db),we=Math.abs(S.lb),Ue=we*(he-1)+ue;E&=ve*(he-1)+ue<=S.Fd,E&=Ne*(Re-1)+pe<=S.Cd,E=(E&=Je*(Re-1)+pe<=S.Ed)&ve>=ue&Ne>=pe&Je>=pe,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,ie==12&&(E&=we>=ue,E&=Ue<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||U!=null&&U.fd&&(S=qh(K)),S}var eu=64,Ts=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gs=24,Nl=32,jl=8,pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(S){return S},F.Predictor2=function(S,E,U){return E[U+0]},F.Predictor3=function(S,E,U){return E[U+1]},F.Predictor4=function(S,E,U){return E[U-1]},F.Predictor5=function(S,E,U){return bt(bt(S,E[U+1]),E[U+0])},F.Predictor6=function(S,E,U){return bt(S,E[U-1])},F.Predictor7=function(S,E,U){return bt(S,E[U+0])},F.Predictor8=function(S,E,U){return bt(E[U-1],E[U+0])},F.Predictor9=function(S,E,U){return bt(E[U+0],E[U+1])},F.Predictor10=function(S,E,U){return bt(bt(S,E[U-1]),bt(E[U+0],E[U+1]))},F.Predictor11=function(S,E,U){var K=E[U+0];return 0>=yt(K>>24&255,S>>24&255,(E=E[U-1])>>24&255)+yt(K>>16&255,S>>16&255,E>>16&255)+yt(K>>8&255,S>>8&255,E>>8&255)+yt(255&K,255&S,255&E)?K:S},F.Predictor12=function(S,E,U){var K=E[U+0];return(Me((S>>24&255)+(K>>24&255)-((E=E[U-1])>>24&255))<<24|Me((S>>16&255)+(K>>16&255)-(E>>16&255))<<16|Me((S>>8&255)+(K>>8&255)-(E>>8&255))<<8|Me((255&S)+(255&K)-(255&E)))>>>0},F.Predictor13=function(S,E,U){var K=E[U-1];return(at((S=bt(S,E[U+0]))>>24&255,K>>24&255)<<24|at(S>>16&255,K>>16&255)<<16|at(S>>8&255,K>>8&255)<<8|at(255&S,255&K))>>>0};var x0=F.PredictorAdd0;F.PredictorAdd1=lr,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var v0=F.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Fn,Pm=F.ColorIndexInverseTransform,Al=F.MapARGB,Tl=F.VP8LColorIndexInverseTransformAlpha,Mi=F.MapAlpha,gc=F.VP8LPredictorsAdd=[];gc.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var b0,y0,xc,vc,El,Zu,eo,bc,Ji,bo,ga,sa,za,Bn,Cl,Go,ed,$h,$g,Mv,Iv,Rv,Hg,Wg,td,yo,Hh,to,rd=i(511),Dm=i(2041),Wh=i(225),Vh=i(767),Lm=0,yc=Dm,Kh=Wh,Zi=Vh,Ii=rd,Mm=0,es=1,Im=2,wo=3,Gh=4,w0=5,tu=6,Yh=7,Rm=8,k0=9,Fm=10,ko=[2,3,7],_0=[3,3,11],ad=[280,256,256,256,40],Bm=[0,1,1,1,0],Xh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_o=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],So=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ru=8,No=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ro=null,Fv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Um=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ri=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ja=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xs=[],_n=[],Yo=[],au=1,Kg=2,wc=[],Fi=[];As("UpsampleRgbLinePair",Ju,3),As("UpsampleBgrLinePair",Qc,3),As("UpsampleRgbaLinePair",Sl,4),As("UpsampleBgraLinePair",p0,4),As("UpsampleArgbLinePair",Zc,4),As("UpsampleRgba4444LinePair",Jc,2),As("UpsampleRgb565LinePair",Li,2);var nd=F.UpsampleRgbLinePair,Gg=F.UpsampleBgrLinePair,S0=F.UpsampleRgbaLinePair,zm=F.UpsampleBgraLinePair,nu=F.UpsampleArgbLinePair,Ol=F.UpsampleRgba4444LinePair,iu=F.UpsampleRgb565LinePair,Ao=16,N0=1<<Ao-1,id=-227,su=482,qm=6,ou=0,Bi=i(256),$m=i(256),Uv=i(256),pk=i(256),gk=i(su-id),xk=i(su-id);fc("YuvToRgbRow",Ju,3),fc("YuvToBgrRow",Qc,3),fc("YuvToRgbaRow",Sl,4),fc("YuvToBgraRow",p0,4),fc("YuvToArgbRow",Zc,4),fc("YuvToRgba4444Row",Jc,2),fc("YuvToRgb565Row",Li,2);var Un=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],j0=[0,2,8],Qh=[8,7,6,4,4,2,2,2,1,1,1,1],Jh=1;this.WebPDecodeRGBA=function(S,E,U,K,ie){var ue=es,he=new $e,pe=new cr;he.ba=pe,pe.S=ue,pe.width=[pe.width],pe.height=[pe.height];var ve=pe.width,Ne=pe.height,Re=new zt;if(Re==null||S==null)var Je=2;else t(Re!=null),Je=Vo(S,E,U,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(Je!=0?ve=0:(ve!=null&&(ve[0]=Re.width[0]),Ne!=null&&(Ne[0]=Re.height[0]),ve=1),ve){pe.width=pe.width[0],pe.height=pe.height[0],K!=null&&(K[0]=pe.width),ie!=null&&(ie[0]=pe.height);e:{if(K=new Mn,(ie=new pt).data=S,ie.w=E,ie.ha=U,ie.kd=1,E=[0],t(ie!=null),((S=Vo(ie.data,ie.w,ie.ha,null,null,null,E,null,ie))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(t(he!=null),K.data=ie.data,K.w=ie.w+ie.offset,K.ha=ie.ha-ie.offset,K.put=Pt,K.ac=bi,K.bc=Gs,K.ma=he,ie.xa){if((S=Ge())==null){he=1;break e}if((function(we,Ue){var We=[0],ct=[0],Ke=[0];t:for(;;){if(we==null)return 0;if(Ue==null)return we.a=2,0;if(we.l=Ue,we.a=0,oe(we.m,Ue.data,Ue.w,Ue.ha),!fs(we.m,We,ct,Ke)){we.a=3;break t}if(we.xb=Kg,Ue.width=We[0],Ue.height=ct[0],!Ye(We[0],ct[0],1,we,null))break t;return 1}return t(we.a!=0),0})(S,K)){if(K=(E=Ko(K.width,K.height,he.Oa,he.ba))==0){t:{K=S;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((U=K.l)!=null),t((ie=U.ma)!=null),K.xb!=0){if(K.ca=ie.ba,K.tb=ie.tb,t(K.ca!=null),!mc(ie.Oa,U,wo)){K.a=2;break r}if(!Qe(K,U.width)||U.da)break r;if((U.da||rr(K.ca.S))&&vo(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&vo()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ce(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ve(K,K.V,K.Ba,K.c,K.i,U.o,ge))break r;ie.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(E=S.a)}else E=S.a}else{if((S=new u0)==null){he=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,Oh(S,K)){if((E=Ko(K.width,K.height,he.Oa,he.ba))==0){if(S.Aa=0,U=he.Oa,t((ie=S)!=null),U!=null){if(0<(ve=0>(ve=U.Md)?0:100<ve?255:255*ve/100)){for(Ne=Re=0;4>Ne;++Ne)12>(Je=ie.pb[Ne]).lc&&(Je.ia=ve*Qh[0>Je.lc?0:Je.lc]>>3),Re|=Je.ia;Re&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=U.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(we,Ue){if(we==null)return 0;if(Ue==null)return Ca(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!Oh(we,Ue))return 0;if(t(we.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(we.L=0);var We=j0[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Ue.v-We>>4,we.zb=Ue.j-We>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Ue.o+15+We>>4,we.Hb=Ue.va+15+We>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var ct=we.ed;for(We=0;4>We;++We){var Ke;if(we.Qa.Cb){var lt=we.Qa.Lb[We];we.Qa.Fb||(lt+=ct.Tb)}else lt=ct.Tb;for(Ke=0;1>=Ke;++Ke){var gt=we.gd[We][Ke],Et=lt;if(ct.Pc&&(Et+=ct.vd[0],Ke&&(Et+=ct.od[0])),0<(Et=0>Et?0:63<Et?63:Et)){var St=Et;0<ct.wb&&(St=4<ct.wb?St>>2:St>>1)>9-ct.wb&&(St=9-ct.wb),1>St&&(St=1),gt.dd=St,gt.tc=2*Et+St,gt.ld=40<=Et?2:15<=Et?1:0}else gt.tc=0;gt.La=Ke}}}We=0}else Ca(we,6,"Frame setup failed"),We=we.a;if(We=We==0){if(We){we.$c=0,0<we.Aa||(we.Ic=Jh);t:{We=we.Ic,ct=4*(St=we.za);var Zt=32*St,Wt=St+1,Or=0<we.L?St*(0<we.Aa?2:1):0,Yt=(we.Aa==2?2:1)*St;if((gt=ct+832+(Ke=3*(16*We+j0[we.L])/2*Zt)+(lt=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=gt)We=0;else{if(gt>we.Vb){if(we.Vb=0,we.Ec=i(gt),we.Fc=0,we.Ec==null){We=Ca(we,1,"no memory during frame initialization.");break t}we.Vb=gt}gt=we.Ec,Et=we.Fc,we.Ac=gt,we.Bc=Et,Et+=ct,we.Gd=s(Zt,Ea),we.Hd=0,we.rb=s(Wt+1,zr),we.sb=1,we.wa=Or?s(Or,Ht):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=St),t(!0),we.oc=gt,we.pc=Et,Et+=832,we.ya=s(Yt,cn),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=St),we.R=16*St,we.B=8*St,St=(Zt=j0[we.L])*we.R,Zt=Zt/2*we.B,we.sa=gt,we.ta=Et+St,we.qa=we.sa,we.ra=we.ta+16*We*we.R+Zt,we.Ha=we.qa,we.Ia=we.ra+8*We*we.B+Zt,we.$c=0,Et+=Ke,we.mb=lt?gt:null,we.nb=lt?Et:null,t(Et+lt<=we.Fc+we.Vb),sc(we),n(we.Ac,we.Bc,0,ct),We=1}}if(We){if(Ue.ka=0,Ue.y=we.sa,Ue.O=we.ta,Ue.f=we.qa,Ue.N=we.ra,Ue.ea=we.Ha,Ue.Vd=we.Ia,Ue.fa=we.R,Ue.Rc=we.B,Ue.F=null,Ue.J=0,!Lm){for(We=-255;255>=We;++We)rd[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)Dm[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)Wh[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)Vh[255+We]=0>We?0:255<We?255:We;Lm=1}eo=Mh,bc=_m,bo=Dh,ga=ps,sa=Lh,Ji=Ph,za=Tm,Bn=Em,Cl=R,Go=ne,ed=hc,$h=Cm,$g=je,Mv=Ie,Iv=Yu,Rv=uc,Hg=Xc,Wg=Xu,_n[0]=Bh,_n[1]=Ih,_n[2]=Yc,_n[3]=jm,_n[4]=Am,_n[5]=Pi,_n[6]=Xs,_n[7]=Uh,_n[8]=Qs,_n[9]=Vu,xs[0]=$o,xs[1]=Nm,xs[2]=Rh,xs[3]=Fh,xs[4]=Ho,xs[5]=oc,xs[6]=Wu,Yo[0]=lc,Yo[1]=Sm,Yo[2]=Ku,Yo[3]=yl,Yo[4]=h0,Yo[5]=d0,Yo[6]=wi,We=1}else We=0}We&&(We=(function(Xr,Za){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Mr,Vt=Xr.Jc[Xr.M&Xr.Xb],Bt=Xr.m,dn=Xr;for(Mr=0;Mr<dn.za;++Mr){var wr=Bt,Br=dn,ja=Br.Ac,li=Br.Bc+4*Mr,Ui=Br.zc,qa=Br.ya[Br.aa+Mr];if(Br.Qa.Bb?qa.$b=me(wr,Br.Pa.jb[0])?2+me(wr,Br.Pa.jb[2]):me(wr,Br.Pa.jb[1]):qa.$b=0,Br.kc&&(qa.Ad=me(wr,Br.Bd)),qa.Za=!me(wr,145)+0,qa.Za){var Kn=qa.Ob,ts=0;for(Br=0;4>Br;++Br){var Gn,Wr=Ui[0+Br];for(Gn=0;4>Gn;++Gn){Wr=Ri[ja[li+Gn]][Wr];for(var ua=Um[me(wr,Wr[0])];0<ua;)ua=Um[2*ua+me(wr,Wr[ua])];Wr=-ua,ja[li+Gn]=Wr}a(Kn,ts,ja,li,4),ts+=4,Ui[0+Br]=Wr}}else Wr=me(wr,156)?me(wr,128)?1:3:me(wr,163)?2:0,qa.Ob[0]=Wr,n(ja,li,Wr,4),n(Ui,0,Wr,4);qa.Dd=me(wr,142)?me(wr,114)?me(wr,183)?1:3:2:0}if(dn.m.Ka)return Ca(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(dn=Vt,wr=(Bt=Xr).rb[Bt.sb-1],ja=Bt.rb[Bt.sb+Bt.ja],Mr=Bt.ya[Bt.aa+Bt.ja],li=Bt.kc?Mr.Ad:0)wr.la=ja.la=0,Mr.Za||(wr.Na=ja.Na=0),Mr.Hc=0,Mr.Gc=0,Mr.ia=0;else{var hn,xa;if(wr=ja,ja=dn,li=Bt.Pa.Xc,Ui=Bt.ya[Bt.aa+Bt.ja],qa=Bt.pb[Ui.$b],Br=Ui.ad,Kn=0,ts=Bt.rb[Bt.sb-1],Wr=Gn=0,n(Br,Kn,0,384),Ui.Za)var ci=0,fn=li[3];else{ua=i(16);var da=wr.Na+ts.Na;if(da=ro(ja,li[1],da,qa.Eb,0,ua,0),wr.Na=ts.Na=(0<da)+0,1<da)eo(ua,0,Br,Kn);else{var zn=ua[0]+3>>3;for(ua=0;256>ua;ua+=16)Br[Kn+ua]=zn}ci=1,fn=li[0]}var Aa=15&wr.la,Yn=15&ts.la;for(ua=0;4>ua;++ua){var Xn=1&Yn;for(zn=xa=0;4>zn;++zn)Aa=Aa>>1|(Xn=(da=ro(ja,fn,da=Xn+(1&Aa),qa.Sc,ci,Br,Kn))>ci)<<7,xa=xa<<2|(3<da?3:1<da?2:Br[Kn+0]!=0),Kn+=16;Aa>>=4,Yn=Yn>>1|Xn<<7,Gn=(Gn<<8|xa)>>>0}for(fn=Aa,ci=Yn>>4,hn=0;4>hn;hn+=2){for(xa=0,Aa=wr.la>>4+hn,Yn=ts.la>>4+hn,ua=0;2>ua;++ua){for(Xn=1&Yn,zn=0;2>zn;++zn)da=Xn+(1&Aa),Aa=Aa>>1|(Xn=0<(da=ro(ja,li[2],da,qa.Qc,0,Br,Kn)))<<3,xa=xa<<2|(3<da?3:1<da?2:Br[Kn+0]!=0),Kn+=16;Aa>>=2,Yn=Yn>>1|Xn<<5}Wr|=xa<<4*hn,fn|=Aa<<4<<hn,ci|=(240&Yn)<<hn}wr.la=fn,ts.la=ci,Ui.Hc=Gn,Ui.Gc=Wr,Ui.ia=43690&Wr?0:qa.ia,li=!(Gn|Wr)}if(0<Bt.L&&(Bt.wa[Bt.Y+Bt.ja]=Bt.gd[Mr.$b][Mr.Za],Bt.wa[Bt.Y+Bt.ja].La|=!li),dn.Ka)return Ca(Xr,7,"Premature end-of-file encountered.")}if(sc(Xr),Bt=Za,dn=1,Mr=(Vt=Xr).D,wr=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Mr.M=Vt.M,Mr.uc=wr,Zs(Vt,Mr),dn=1,Mr=(xa=Vt.D).Nb,wr=(Wr=j0[Vt.L])*Vt.R,ja=Wr/2*Vt.B,ua=16*Mr*Vt.R,zn=8*Mr*Vt.B,li=Vt.sa,Ui=Vt.ta-wr+ua,qa=Vt.qa,Br=Vt.ra-ja+zn,Kn=Vt.Ha,ts=Vt.Ia-ja+zn,Yn=(Aa=xa.M)==0,Gn=Aa>=Vt.Va-1,Vt.Aa==2&&Zs(Vt,xa),xa.uc)for(Xn=(da=Vt).D.M,t(da.D.uc),xa=da.yb;xa<da.Hb;++xa){ci=xa,fn=Xn;var Pa=(oa=(Qn=da).D).Nb;hn=Qn.R;var oa=oa.wa[oa.Y+ci],rs=Qn.sa,Sn=Qn.ta+16*Pa*hn+16*ci,fr=oa.dd,xr=oa.tc;if(xr!=0)if(t(3<=xr),Qn.L==1)0<ci&&Rv(rs,Sn,hn,xr+4),oa.La&&Wg(rs,Sn,hn,xr),0<fn&&Iv(rs,Sn,hn,xr+4),oa.La&&Hg(rs,Sn,hn,xr);else{var ha=Qn.B,Es=Qn.qa,To=Qn.ra+8*Pa*ha+8*ci,vs=Qn.Ha,Qn=Qn.Ia+8*Pa*ha+8*ci;Pa=oa.ld,0<ci&&(Bn(rs,Sn,hn,xr+4,fr,Pa),Go(Es,To,vs,Qn,ha,xr+4,fr,Pa)),oa.La&&($h(rs,Sn,hn,xr,fr,Pa),Mv(Es,To,vs,Qn,ha,xr,fr,Pa)),0<fn&&(za(rs,Sn,hn,xr+4,fr,Pa),Cl(Es,To,vs,Qn,ha,xr+4,fr,Pa)),oa.La&&(ed(rs,Sn,hn,xr,fr,Pa),$g(Es,To,vs,Qn,ha,xr,fr,Pa))}}if(Vt.ia&&alert("todo:DitherRow"),Bt.put!=null){if(xa=16*Aa,Aa=16*(Aa+1),Yn?(Bt.y=Vt.sa,Bt.O=Vt.ta+ua,Bt.f=Vt.qa,Bt.N=Vt.ra+zn,Bt.ea=Vt.Ha,Bt.W=Vt.Ia+zn):(xa-=Wr,Bt.y=li,Bt.O=Ui,Bt.f=qa,Bt.N=Br,Bt.ea=Kn,Bt.W=ts),Gn||(Aa-=Wr),Aa>Bt.o&&(Aa=Bt.o),Bt.F=null,Bt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&xa<Aa&&(Bt.J=Rn(Vt,Bt,xa,Aa-xa),Bt.F=Vt.mb,Bt.F==null&&Bt.F.length==0)){dn=Ca(Vt,3,"Could not decode alpha data.");break t}xa<Bt.j&&(Wr=Bt.j-xa,xa=Bt.j,t(!(1&Wr)),Bt.O+=Vt.R*Wr,Bt.N+=Vt.B*(Wr>>1),Bt.W+=Vt.B*(Wr>>1),Bt.F!=null&&(Bt.J+=Bt.width*Wr)),xa<Aa&&(Bt.O+=Bt.v,Bt.N+=Bt.v>>1,Bt.W+=Bt.v>>1,Bt.F!=null&&(Bt.J+=Bt.v),Bt.ka=xa-Bt.j,Bt.U=Bt.va-Bt.v,Bt.T=Aa-xa,dn=Bt.put(Bt))}Mr+1!=Vt.Ic||Gn||(a(Vt.sa,Vt.ta-wr,li,Ui+16*Vt.R,wr),a(Vt.qa,Vt.ra-ja,qa,Br+8*Vt.B,ja),a(Vt.Ha,Vt.Ia-ja,Kn,ts+8*Vt.B,ja))}if(!dn)return Ca(Xr,6,"Output aborted.")}return 1})(we,Ue)),Ue.bc!=null&&Ue.bc(Ue),We&=1}return We?(we.cb=0,We):0})(S,K)||(E=S.a)}}else E=S.a}E==0&&he.Oa!=null&&he.Oa.fd&&(E=qh(he.ba))}he=E}ue=he!=0?null:11>ue?pe.f.RGBA.eb:pe.f.kb.y}else ue=null;return ue};var Hm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,H){for(var O="",I=0;I<4;I++)O+=String.fromCharCode(F[H++]);return O}function h(F,H){return F[H+0]|F[H+1]<<8}function m(F,H){return(F[H+0]|F[H+1]<<8|F[H+2]<<16)>>>0}function x(F,H){return(F[H+0]|F[H+1]<<8|F[H+2]<<16|F[H+3]<<24)>>>0}new u;var p=[0],y=[0],b=[],v=new u,k=e,N=(function(F,H){var O={},I=0,V=!1,Y=0,te=0;if(O.frames=[],!(function(P,W){for(var z=0;z<4;z++)if(P[W+z]!="RIFF".charCodeAt(z))return!0;return!1})(F,H)){for(x(F,H+=4),H+=8;H<F.length;){var X=d(F,H),ae=x(F,H+=4);H+=4;var de=ae+(1&ae);switch(X){case"VP8 ":case"VP8L":O.frames[I]===void 0&&(O.frames[I]={}),(re=O.frames[I]).src_off=V?te:H-8,re.src_size=Y+ae+8,I++,V&&(V=!1,Y=0,te=0);break;case"VP8X":(re=O.header={}).feature_flags=F[H];var oe=H+4;re.canvas_width=1+m(F,oe),oe+=3,re.canvas_height=1+m(F,oe),oe+=3;break;case"ALPH":V=!0,Y=de+8,te=H-8;break;case"ANIM":(re=O.header).bgcolor=x(F,H),oe=H+4,re.loop_count=h(F,oe),oe+=2;break;case"ANMF":var De,re;(re=O.frames[I]={}).offset_x=2*m(F,H),H+=3,re.offset_y=2*m(F,H),H+=3,re.width=1+m(F,H),H+=3,re.height=1+m(F,H),H+=3,re.duration=m(F,H),H+=3,De=F[H++],re.dispose=1&De,re.blend=De>>1&1}X!="ANMF"&&(H+=de)}return O}})(k,0);N.response=k,N.rgbaoutput=!0,N.dataurl=!1;var _=N.header?N.header:null,A=N.frames?N.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],y=[_.canvas_width];for(var D=0;D<A.length&&A[D].blend!=0;D++);}var M=A[0],L=v.WebPDecodeRGBA(k,M.src_off,M.src_size,y,p);M.rgba=L,M.imgwidth=y[0],M.imgheight=p[0];for(var B=0;B<y[0]*p[0]*4;B++)b[B]=L[B];return this.width=y,this.height=p,this.data=b,this}(function(e){var t,r,a,n,i,s,l,u,d,h=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new h}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=P;Object.defineProperty(this,"pdf",{get:function(){return W}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ye){z=!!ye}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(ye){q=!!ye}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ye){isNaN(ye)||(Z=ye)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var ce;typeof ye=="number"?ce=[ye,ye,ye,ye]:((ce=new Array(4))[0]=ye[0],ce[1]=ye.length>=2?ye[1]:ce[0],ce[2]=ye.length>=3?ye[2]:ce[0],ce[3]=ye.length>=4?ye[3]:ce[1]),d.margin=ce}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(ye){ee=ye}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(ye){Q=ye}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(ye){me=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof h&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(ye){Ae=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ce;ce=x(ye),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ce=x(ye);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var J=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(ye){J=null,ke=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ce;if(this.ctx.font=ye,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var qe=ce[1];ce[2];var ze=ce[3],mt=ce[4];ce[5];var Te=ce[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(mt)[2];mt=Math.floor(Ee==="px"?parseFloat(mt)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(mt)*this.pdf.getFontSize():parseFloat(mt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(mt);var Be=(function(ht){var _t,hr,Ut=[],At=ht.trim();if(At==="")return aS;if(At in RM)return[RM[At]];for(;At!=="";){switch(hr=null,_t=(At=BM(At)).charAt(0)){case'"':case"'":hr=bAe(At.substring(1),_t);break;default:hr=yAe(At)}if(hr===null||(Ut.push(hr[0]),(At=BM(hr[1]))!==""&&At.charAt(0)!==","))return aS;At=At.replace(/^,/,"")}return Ut})(Te);if(this.fontFaces){var ut=(function(ht,_t){if(J===null){var hr=(function(Ut){var At=[];return Object.keys(Ut).forEach(function(Lt){Ut[Lt].forEach(function(_r){var Gt=null;switch(_r){case"bold":Gt={family:Lt,weight:"bold"};break;case"italic":Gt={family:Lt,style:"italic"};break;case"bolditalic":Gt={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Lt}}Gt!==null&&(Gt.ref={name:Lt,style:_r},At.push(Gt))})}),At})(ht.getFontList());J=(function(Ut){for(var At={},Lt=0;Lt<Ut.length;++Lt){var _r=rS(Ut[Lt]),Gt=_r.family,Ar=_r.stretch,rr=_r.style,Yr=_r.weight;At[Gt]=At[Gt]||{},At[Gt][Ar]=At[Gt][Ar]||{},At[Gt][Ar][rr]=At[Gt][Ar][rr]||{},At[Gt][Ar][rr][Yr]=_r}return At})(hr.concat(_t))}return J})(this.pdf,this.fontFaces),bt=Be.map(function(ht){return{family:ht,stretch:"normal",weight:ze,style:qe}}),Me=(function(ht,_t,hr){for(var Ut=(hr=hr||{}).defaultFontFamily||"times",At=Object.assign({},vAe,hr.genericFontFamilies||{}),Lt=null,_r=null,Gt=0;Gt<_t.length;++Gt)if(At[(Lt=rS(_t[Gt])).family]&&(Lt.family=At[Lt.family]),ht.hasOwnProperty(Lt.family)){_r=ht[Lt.family];break}if(!(_r=_r||ht[Ut]))throw new Error("Could not find a font-family for the rule '"+FM(Lt)+"' and default family '"+Ut+"'.");if(_r=(function(Ar,rr){if(rr[Ar])return rr[Ar];var Yr=xN[Ar],Dt=Yr<=xN.normal?-1:1,cr=IM(rr,hW,Yr,Dt);if(!cr)throw new Error("Could not find a matching font-stretch value for "+Ar);return cr})(Lt.stretch,_r),_r=(function(Ar,rr){if(rr[Ar])return rr[Ar];for(var Yr=dW[Ar],Dt=0;Dt<Yr.length;++Dt)if(rr[Yr[Dt]])return rr[Yr[Dt]];throw new Error("Could not find a matching font-style for "+Ar)})(Lt.style,_r),!(_r=(function(Ar,rr){if(rr[Ar])return rr[Ar];if(Ar===400&&rr[500])return rr[500];if(Ar===500&&rr[400])return rr[400];var Yr=xAe[Ar],Dt=IM(rr,fW,Yr,Ar<400?-1:1);if(!Dt)throw new Error("Could not find a matching font-weight for value "+Ar);return Dt})(Lt.weight,_r)))throw new Error("Failed to resolve a font for the rule '"+FM(Lt)+"'.");return _r})(ut,bt);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var at="";(ze==="bold"||parseInt(ze,10)>=700||qe==="bold")&&(at="bold"),qe==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var yt="",lr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<Be.length;Rt++){if(this.pdf.internal.getFont(Be[Rt],at,{noFallback:!0,disableWarning:!0})!==void 0){yt=Be[Rt];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Be[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=Be[Rt],at="bold";else if(this.pdf.internal.getFont(Be[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=Be[Rt],at="normal";break}}if(yt===""){for(var kt=0;kt<Be.length;kt++)if(lr[Be[kt]]){yt=lr[Be[kt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){A.call(this,"fill",!1)},m.prototype.stroke=function(){A.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,W){if(isNaN(P)||isNaN(W))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(P,W));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(P,W)},m.prototype.closePath=function(){var P=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Fa(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){P=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},m.prototype.lineTo=function(P,W){if(isNaN(P)||isNaN(W))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(P,W));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,W,z,q){if(isNaN(z)||isNaN(q)||isNaN(P)||isNaN(W))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(z,q)),se=this.ctx.transform.applyToPoint(new s(P,W));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},m.prototype.bezierCurveTo=function(P,W,z,q,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new s(Z,se)),Q=this.ctx.transform.applyToPoint(new s(P,W)),me=this.ctx.transform.applyToPoint(new s(z,q));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:me.x,y2:me.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},m.prototype.arc=function(P,W,z,q,Z,se){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q)||isNaN(Z))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new s(P,W));P=ee.x,W=ee.y;var Q=this.ctx.transform.applyToPoint(new s(0,z)),me=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(Q.x-me.x,2)+Math.pow(Q.y-me.y,2))}Math.abs(Z-q)>=2*Math.PI&&(q=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:W,radius:z,startAngle:q,endAngle:Z,counterclockwise:se})},m.prototype.arcTo=function(P,W,z,q,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,W,z,q){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,W),this.lineTo(P+z,W),this.lineTo(P+z,W+q),this.lineTo(P,W+q),this.lineTo(P,W),this.lineTo(P+z,W),this.lineTo(P,W)},m.prototype.fillRect=function(P,W,z,q){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,W,z,q),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(P,W,z,q){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,W,z,q),this.stroke())},m.prototype.clearRect=function(P,W,z,q){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,W,z,q))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(P){var W,z,q,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))W=0,z=0,q=0,Z=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(se!==null)W=parseInt(se[1]),z=parseInt(se[2]),q=parseInt(se[3]),Z=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)W=parseInt(se[1]),z=parseInt(se[2]),q=parseInt(se[3]),Z=parseFloat(se[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var ee=new nW(P);P=ee.ok?ee.toHex():"#000000"}P.length===4?(W=P.substring(1,2),W+=W,z=P.substring(2,3),z+=z,q=P.substring(3,4),q+=q):(W=P.substring(1,3),z=P.substring(3,5),q=P.substring(5,7)),W=parseInt(W,16),z=parseInt(z,16),q=parseInt(q,16)}}return{r:W,g:z,b:q,a:Z,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,W,z,q){if(isNaN(W)||isNaN(z)||typeof P!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!p.call(this)){var Z=de(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:P,x:W,y:z,scale:se,angle:Z,align:this.textAlign,maxWidth:q})}},m.prototype.strokeText=function(P,W,z,q){if(isNaN(W)||isNaN(z)||typeof P!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){q=isNaN(q)?void 0:q;var Z=de(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:P,x:W,y:z,scale:se,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:q})}},m.prototype.measureText=function(P){if(typeof P!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,z=this.pdf.internal.scaleFactor,q=W.internal.getFontSize(),Z=W.getStringUnitWidth(P)*q/W.internal.scaleFactor;return new function(se){var ee=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:Z*=Math.round(96*z/72*1e4)/1e4})},m.prototype.scale=function(P,W){if(isNaN(P)||isNaN(W))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new u(P,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.rotate=function(P){if(isNaN(P))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(P,W){if(isNaN(P)||isNaN(W))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new u(1,0,0,1,P,W);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.transform=function(P,W,z,q,Z,se){if(isNaN(P)||isNaN(W)||isNaN(z)||isNaN(q)||isNaN(Z)||isNaN(se))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new u(P,W,z,q,Z,se);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.setTransform=function(P,W,z,q,Z,se){P=isNaN(P)?1:P,W=isNaN(W)?0:W,z=isNaN(z)?0:z,q=isNaN(q)?1:q,Z=isNaN(Z)?0:Z,se=isNaN(se)?0:se,this.ctx.transform=new u(P,W,z,q,Z,se)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,W,z,q,Z,se,ee,Q,me){var Ae=this.pdf.getImageProperties(P),J=1,ke=1,ye=1,ce=1;q!==void 0&&Q!==void 0&&(ye=Q/q,ce=me/Z,J=Ae.width/q*Q/q,ke=Ae.height/Z*me/Z),se===void 0&&(se=W,ee=z,W=0,z=0),q!==void 0&&Q===void 0&&(Q=q,me=Z),q===void 0&&Q===void 0&&(Q=Ae.width,me=Ae.height);for(var qe,ze=this.ctx.transform.decompose(),mt=de(ze.rotate.shx),Te=new u,Ee=(Te=(Te=(Te=Te.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new l(se-W*ye,ee-z*ce,q*J,Z*ke)),Be=v.call(this,Ee),ut=[],bt=0;bt<Be.length;bt+=1)ut.indexOf(Be[bt])===-1&&ut.push(Be[bt]);if(_(ut),this.autoPaging)for(var Me=ut[0],at=ut[ut.length-1],yt=Me;yt<at+1;yt++){this.pdf.setPage(yt);var lr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=yt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=yt===1?0:kt+(yt-2)*ht;if(this.ctx.clip_path.length!==0){var hr=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(qe,this.posX+this.margin[3],-_t+Rt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=hr}var Ut=JSON.parse(JSON.stringify(Ee));Ut=N([Ut],this.posX+this.margin[3],-_t+Rt+this.ctx.prevPageLastElemOffset)[0];var At=(yt>Me||yt<at)&&b.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,ht,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,mt),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,mt)};var v=function(P,W,z){var q=[];W=W||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":q.push(Math.floor((P.y+Z)/z)+1);break;case"arc":q.push(Math.floor((P.y+Z-P.radius)/z)+1),q.push(Math.floor((P.y+Z+P.radius)/z)+1);break;case"qct":var se=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);q.push(Math.floor((se.y+Z)/z)+1),q.push(Math.floor((se.y+se.h+Z)/z)+1);break;case"bct":var ee=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);q.push(Math.floor((ee.y+Z)/z)+1),q.push(Math.floor((ee.y+ee.h+Z)/z)+1);break;case"rect":q.push(Math.floor((P.y+Z)/z)+1),q.push(Math.floor((P.y+P.h+Z)/z)+1)}for(var Q=0;Q<q.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<q[Q];)k.call(this);return q},k=function(){var P=this.fillStyle,W=this.strokeStyle,z=this.font,q=this.lineCap,Z=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=W,this.font=z,this.lineCap=q,this.lineWidth=Z,this.lineJoin=se},N=function(P,W,z){for(var q=0;q<P.length;q++)switch(P[q].type){case"bct":P[q].x2+=W,P[q].y2+=z;case"qct":P[q].x1+=W,P[q].y1+=z;default:P[q].x+=W,P[q].y+=z}return P},_=function(P){return P.sort(function(W,z){return W-z})},A=function(P,W){for(var z,q,Z=this.fillStyle,se=this.strokeStyle,ee=this.lineCap,Q=this.lineWidth,me=Math.abs(Q*this.ctx.transform.scaleX),Ae=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),ye=[],ce=0;ce<ke.length;ce++)if(ke[ce].x!==void 0)for(var qe=v.call(this,ke[ce]),ze=0;ze<qe.length;ze+=1)ye.indexOf(qe[ze])===-1&&ye.push(qe[ze]);for(var mt=0;mt<ye.length;mt++)for(;this.pdf.internal.getNumberOfPages()<ye[mt];)k.call(this);if(_(ye),this.autoPaging)for(var Te=ye[0],Ee=ye[ye.length-1],Be=Te;Be<Ee+1;Be++){this.pdf.setPage(Be),this.fillStyle=Z,this.strokeStyle=se,this.lineCap=ee,this.lineWidth=me,this.lineJoin=Ae;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Be===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Be===1?0:Me+(Be-2)*at;if(this.ctx.clip_path.length!==0){var lr=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(z,this.posX+this.margin[3],-yt+bt+this.ctx.prevPageLastElemOffset),D.call(this,P,!0),this.path=lr}if(q=JSON.parse(JSON.stringify(J)),this.path=N(q,this.posX+this.margin[3],-yt+bt+this.ctx.prevPageLastElemOffset),W===!1||Be===0){var Rt=(Be>Te||Be<Ee)&&b.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,at,null).clip().discardPath()),D.call(this,P,W),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}else this.lineWidth=me,D.call(this,P,W),this.lineWidth=Q;this.path=J},D=function(P,W){if((P!=="stroke"||W||!y.call(this))&&(P==="stroke"||W||!p.call(this))){for(var z,q,Z=[],se=this.path,ee=0;ee<se.length;ee++){var Q=se[ee];switch(Q.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:Q,deltas:[],abs:[]});break;case"lt":var me=Z.length;if(se[ee-1]&&!isNaN(se[ee-1].x)&&(z=[Q.x-se[ee-1].x,Q.y-se[ee-1].y],me>0)){for(;me>=0;me--)if(Z[me-1].close!==!0&&Z[me-1].begin!==!0){Z[me-1].deltas.push(z),Z[me-1].abs.push(Q);break}}break;case"bct":z=[Q.x1-se[ee-1].x,Q.y1-se[ee-1].y,Q.x2-se[ee-1].x,Q.y2-se[ee-1].y,Q.x-se[ee-1].x,Q.y-se[ee-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var Ae=se[ee-1].x+2/3*(Q.x1-se[ee-1].x),J=se[ee-1].y+2/3*(Q.y1-se[ee-1].y),ke=Q.x+2/3*(Q.x1-Q.x),ye=Q.y+2/3*(Q.y1-Q.y),ce=Q.x,qe=Q.y;z=[Ae-se[ee-1].x,J-se[ee-1].y,ke-se[ee-1].x,ye-se[ee-1].y,ce-se[ee-1].x,qe-se[ee-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(Q)}}q=W?null:P==="stroke"?"stroke":"fill";for(var ze=!1,mt=0;mt<Z.length;mt++)if(Z[mt].arc)for(var Te=Z[mt].abs,Ee=0;Ee<Te.length;Ee++){var Be=Te[Ee];Be.type==="arc"?B.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,W,!ze):V.call(this,Be.x,Be.y),ze=!0}else if(Z[mt].close===!0)this.pdf.internal.out("h"),ze=!1;else if(Z[mt].begin!==!0){var ut=Z[mt].start.x,bt=Z[mt].start.y;Y.call(this,Z[mt].deltas,ut,bt),ze=!0}q&&F.call(this,q),W&&H.call(this)}},M=function(P){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-z;case"top":return P+W-z;case"hanging":return P+W-2*z;case"middle":return P+W/2-z;default:return P}},L=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(W,z){this.colorStops.push([W,z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(P,W,z,q,Z,se,ee,Q,me){for(var Ae=X.call(this,z,q,Z,se),J=0;J<Ae.length;J++){var ke=Ae[J];J===0&&(me?O.call(this,ke.x1+P,ke.y1+W):V.call(this,ke.x1+P,ke.y1+W)),te.call(this,P,W,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}Q?H.call(this):F.call(this,ee)},F=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,W){this.pdf.internal.out(r(P)+" "+a(W)+" m")},I=function(P){var W;switch(P.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var z=this.pdf.getTextDimensions(P.text),q=M.call(this,P.y),Z=L.call(this,q)-z.h,se=this.ctx.transform.applyToPoint(new s(P.x,q)),ee=this.ctx.transform.decompose(),Q=new u;Q=(Q=(Q=Q.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var me,Ae,J,ke=this.ctx.transform.applyToRectangle(new l(P.x,q,z.w,z.h)),ye=Q.applyToRectangle(new l(P.x,Z,z.w,z.h)),ce=v.call(this,ye),qe=[],ze=0;ze<ce.length;ze+=1)qe.indexOf(ce[ze])===-1&&qe.push(ce[ze]);if(_(qe),this.autoPaging)for(var mt=qe[0],Te=qe[qe.length-1],Ee=mt;Ee<Te+1;Ee++){this.pdf.setPage(Ee);var Be=Ee===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Me=bt-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],yt=at-this.margin[3],lr=Ee===1?0:ut+(Ee-2)*Me;if(this.ctx.clip_path.length!==0){var Rt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(me,this.posX+this.margin[3],-1*lr+Be),D.call(this,"fill",!0),this.path=Rt}var kt=N([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-lr+Be+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*P.scale),J=this.lineWidth,this.lineWidth=J*P.scale);var ht=this.autoPaging!=="text";if(ht||kt.y+kt.h<=bt){if(ht||kt.y>=Be&&kt.x<=at){var _t=ht?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||at-kt.x)[0],hr=N([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-lr+Be+this.ctx.prevPageLastElemOffset)[0],Ut=ht&&(Ee>mt||Ee<Te)&&b.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Me,null).clip().discardPath()),this.pdf.text(_t,hr.x,hr.y,{angle:P.angle,align:W,renderingMode:P.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else kt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-kt.y);P.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=J)}else P.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*P.scale),J=this.lineWidth,this.lineWidth=J*P.scale),this.pdf.text(P.text,se.x+this.posX,se.y+this.posY,{angle:P.angle,align:W,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=J)},V=function(P,W,z,q){z=z||0,q=q||0,this.pdf.internal.out(r(P+z)+" "+a(W+q)+" l")},Y=function(P,W,z){return this.pdf.lines(P,W,z,null,null)},te=function(P,W,z,q,Z,se,ee,Q){this.pdf.internal.out([t(n(z+P)),t(i(q+W)),t(n(Z+P)),t(i(se+W)),t(n(ee+P)),t(i(Q+W)),"c"].join(" "))},X=function(P,W,z,q){for(var Z=2*Math.PI,se=Math.PI/2;W>z;)W-=Z;var ee=Math.abs(z-W);ee<Z&&q&&(ee=Z-ee);for(var Q=[],me=q?-1:1,Ae=W;ee>1e-5;){var J=Ae+me*Math.min(ee,se);Q.push(ae.call(this,P,Ae,J)),ee-=Math.abs(J-Ae),Ae=J}return Q},ae=function(P,W,z){var q=(z-W)/2,Z=P*Math.cos(q),se=P*Math.sin(q),ee=Z,Q=-se,me=ee*ee+Q*Q,Ae=me+ee*Z+Q*se,J=4/3*(Math.sqrt(2*me*Ae)-Ae)/(ee*se-Q*Z),ke=ee-J*Q,ye=Q+J*ee,ce=ke,qe=-ye,ze=q+W,mt=Math.cos(ze),Te=Math.sin(ze);return{x1:P*Math.cos(W),y1:P*Math.sin(W),x2:ke*mt-ye*Te,y2:ke*Te+ye*mt,x3:ce*mt-qe*Te,y3:ce*Te+qe*mt,x4:P*Math.cos(z),y4:P*Math.sin(z)}},de=function(P){return 180*P/Math.PI},oe=function(P,W,z,q,Z,se){var ee=P+.5*(z-P),Q=W+.5*(q-W),me=Z+.5*(z-Z),Ae=se+.5*(q-se),J=Math.min(P,Z,ee,me),ke=Math.max(P,Z,ee,me),ye=Math.min(W,se,Q,Ae),ce=Math.max(W,se,Q,Ae);return new l(J,ye,ke-J,ce-ye)},De=function(P,W,z,q,Z,se,ee,Q){var me,Ae,J,ke,ye,ce,qe,ze,mt,Te,Ee,Be,ut,bt,Me=z-P,at=q-W,yt=Z-z,lr=se-q,Rt=ee-Z,kt=Q-se;for(Ae=0;Ae<41;Ae++)mt=(qe=(J=P+(me=Ae/40)*Me)+me*((ye=z+me*yt)-J))+me*(ye+me*(Z+me*Rt-ye)-qe),Te=(ze=(ke=W+me*at)+me*((ce=q+me*lr)-ke))+me*(ce+me*(se+me*kt-ce)-ze),Ae==0?(Ee=mt,Be=Te,ut=mt,bt=Te):(Ee=Math.min(Ee,mt),Be=Math.min(Be,Te),ut=Math.max(ut,mt),bt=Math.max(bt,Te));return new l(Math.round(Ee),Math.round(Be),Math.round(ut-Ee),Math.round(bt-Be))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,W,z=(P=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:W}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(or.API),(function(e){var t=function(s){var l,u,d,h,m,x,p,y,b,v;for(u=[],d=0,h=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;h>d;d+=4)(m=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(m=((m=((m=((m=(m-(v=m%85))/85)-(b=m%85))/85)-(y=m%85))/85)-(p=m%85))/85)%85,u.push(x+33,p+33,y+33,b+33,v+33)):u.push(122);return(function(k,N){for(var _=N;_>0;_--)k.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(s){var l,u,d,h,m,x=String,p="length",y=255,b="charCodeAt",v="slice",k="replace";for(s[v](-2),s=s[v](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],h=0,m=(s+=l="uuuuu"[v](s[p]%5||5))[p];m>h;h+=5)u=52200625*(s[b](h)-33)+614125*(s[b](h+1)-33)+7225*(s[b](h+2)-33)+85*(s[b](h+3)-33)+(s[b](h+4)-33),d.push(y&u>>24,y&u>>16,y&u>>8,y&u);return(function(N,_){for(var A=_;A>0;A--)N.pop()})(d,l[p]),x.fromCharCode.apply(x,d)},a=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",d=0;d<s.length;d+=2)u+=String.fromCharCode("0x"+(s[d]+s[d+1]));return u},i=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return(l=uN(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,l){var u=0,d=s||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(or.API),(function(e){e.loadFile=function(t,r,a){return(function(n,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(u,d,h){var m=new XMLHttpRequest,x=0,p=function(y){var b=y.length,v=[],k=String.fromCharCode;for(x=0;x<b;x+=1)v.push(k(255&y.charCodeAt(x)));return v.join("")};if(m.open("GET",u,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return p(m.responseText)})(n,i,s)}catch{}return l})(t,r,a)},e.loadImageFile=e.loadFile})(or.API),(function(e){function t(){return(Pr.html2canvas?Promise.resolve(Pr.html2canvas):Kx(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Pr.DOMPurify?Promise.resolve(Pr.DOMPurify):Kx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var u=Fa(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},n=function(l,u){var d=document.createElement(l);for(var h in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[h]=u.style[h];return d},i=function l(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},s=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return(h=h.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var y=h[p],b=y.src.find(function(v){return v.format==="truetype"});b&&d.addFont(b.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(a(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,d,h){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,d,h){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(h,m){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,h),x}).then(h,m).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),u&&(u=u.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),x=d.call(m,l,u);return s.convert(x,h.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,or.getPageSize=function(l,u,d){if(Fa(l)==="object"){var h=l;l=h.orientation,u=h.unit||u,d=h.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var m,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var y,b=0,v=0;if(p.hasOwnProperty(x))b=p[x][1]/m,v=p[x][0]/m;else try{b=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>b&&(y=v,v=b,b=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",b>v&&(y=v,v=b,b=y)}return{width:v,height:b,unit:u,k:m,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(rS):null;var d=new s(u);return u.worker?d:d.from(l).doCallback()}})(or.API),or.API.addJS=function(e){return zM=e,this.internal.events.subscribe("postPutResources",function(){by=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(by+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){by!==void 0&&UM!==void 0&&this.internal.out("/Names <</JavaScript "+by+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var s=n[i],l=a.exec(s);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var m=r.internal.newObject();h.push(m);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var s={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var s=a.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(or.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,i,s,l){var u,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=(function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),y=m.length,b={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=p,t.indexOf(m.charCodeAt(v+1))!==-1){x=256*m.charCodeAt(v+5)+m.charCodeAt(v+6),b={width:256*m.charCodeAt(v+7)+m.charCodeAt(v+8),height:x,numcomponents:m.charCodeAt(v+9)};break}p=256*m.charCodeAt(v+2)+m.charCodeAt(v+3)}return b})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:n}}return h}})(or.API),or.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=aAe(e,{checkCrc:!0}),s=i.width,l=i.height,u=i.channels,d=i.palette,h=i.depth;n=d&&u===1?(function(B){for(var F=B.width,H=B.height,O=B.data,I=B.palette,V=B.depth,Y=!1,te=[],X=[],ae=void 0,de=!1,oe=0,De=0;De<I.length;De++){var re=WL(I[De],4),P=re[0],W=re[1],z=re[2],q=re[3];te.push(P,W,z),q!=null&&(q===0?(oe++,X.length<1&&X.push(De)):q<255&&(de=!0))}if(de||oe>1){Y=!0,X=void 0;var Z=F*H;ae=new Uint8Array(Z);for(var se=new DataView(O.buffer),ee=0;ee<Z;ee++){var Q=nS(se,ee,V),me=WL(I[Q],4)[3];ae[ee]=me}}else oe===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:O,alphaBytes:ae,needSMask:Y,palette:te,mask:X}})(i):u===2||u===4?(function(B){for(var F=B.data,H=B.width,O=B.height,I=B.channels,V=B.depth,Y=I===2?"DeviceGray":"DeviceRGB",te=I-1,X=H*O,ae=te,de=X*ae,oe=1*X,De=Math.ceil(de*V/8),re=Math.ceil(oe*V/8),P=new Uint8Array(De),W=new Uint8Array(re),z=new DataView(F.buffer),q=new DataView(P.buffer),Z=new DataView(W.buffer),se=!1,ee=0;ee<X;ee++){for(var Q=ee*I,me=0;me<ae;me++)XM(q,nS(z,Q+me,V),ee*ae+me,V);var Ae=nS(z,Q+ae,V);Ae<(1<<V)-1&&(se=!0),XM(Z,Ae,1*ee,V)}return{colorSpace:Y,colorsPerPixel:te,sMaskBitsPerComponent:se?V:void 0,colorBytes:P,alphaBytes:W,needSMask:se}})(i):(function(B){var F=B.data,H=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(O){for(var I=O.length,V=new Uint8Array(2*I),Y=new DataView(V.buffer,V.byteOffset,V.byteLength),te=0;te<I;te++)Y.setUint16(2*te,O[te],!1);return V})(F):F,needSMask:!1}})(i);var m,x,p,y=n,b=y.colorSpace,v=y.colorsPerPixel,k=y.sMaskBitsPerComponent,N=y.colorBytes,_=y.alphaBytes,A=y.needSMask,D=y.palette,M=y.mask,L=null;return a!==or.API.image_compression.NONE&&typeof uN=="function"?(L=(function(B){var F;switch(B){case or.API.image_compression.FAST:F=11;break;case or.API.image_compression.MEDIUM:F=13;break;case or.API.image_compression.SLOW:F=14;break;default:F=12}return F})(a),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(L," /Colors ").concat(v," /BitsPerComponent ").concat(h," /Columns ").concat(s),e=WM(N,Math.ceil(s*v*h/8),v,h,a),A&&(p=WM(_,Math.ceil(s*k/8),1,k,a))):(m=void 0,x=void 0,e=N,A&&(p=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:x,transparency:M,palette:D,sMask:p,predictor:L,width:s,height:l,bitsPerComponent:h,sMaskBitsPerComponent:k,colorSpace:b}}},(function(e){e.processGIF89A=function(t,r,a,n){var i=new SAe(t),s=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},h=new iS(100).encode(d,100);return e.processJPEG.call(this,h,r,a,n)},e.processGIF87A=e.processGIF89A})(or.API),Ec.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ec.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){tn.log("bit decode error:"+r)}},Ec.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ec.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+2*n*4,l=i>>4,u=15&i,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*n+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ec.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var s=this.palette[n];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ec.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,d=i>>15?255:0,h=a*this.width*4+4*n;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},Ec.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,u=(s>>5&r)/r*255|0,d=(s>>11)/t*255|0,h=n*this.width*4+4*i;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},Ec.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=255}this.pos+=this.width%4}},Ec.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=s}},Ec.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,n){var i=new Ec(t,!1),s=i.width,l=i.height,u={data:i.getData(),width:s,height:l},d=new iS(100).encode(u,100);return e.processJPEG.call(this,d,r,a,n)}})(or.API),JM.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,n){var i=new JM(t),s=i.width,l=i.height,u={data:i.getData(),width:s,height:l},d=new iS(100).encode(u,100);return e.processJPEG.call(this,d,r,a,n)}})(or.API),or.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),s=new Uint8Array(n/4),l=0,u=0,d=0;d<n;d+=4){var h=a[d],m=a[d+1],x=a[d+2],p=a[d+3];i[l++]=h,i[l++]=m,i[l++]=x,s[u++]=p}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},or.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jp=or.API,yy=jp.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:n.metadata.Unicode.widths,u=l.fof?l.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,x=0,p=e.length,y=0,b=l[0]||u,v=[];for(r=0;r<p;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?v.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+s*(1e3/i)||0)/1e3):(x=m&&Fa(d[a])==="object"&&!isNaN(parseInt(d[a][y],10))?d[a][y]/h:0,v.push((l[a]||b)/u+x)),y=a;return v},qM=jp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return jp.processArabic&&(e=jp.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:yy.apply(this,arguments).reduce(function(i,s){return i+s},0)},$M=function(e,t,r,a){for(var n=[],i=0,s=e.length,l=0;i!==s&&l+t[i]<r;)l+=t[i],i++;n.push(e.slice(0,i));var u=i;for(l=0;i!==s;)l+t[i]>a&&(n.push(e.slice(u,i)),l=0,u=i),l+=t[i],i++;return u!==i&&n.push(e.slice(u,i)),n},HM=function(e,t,r){r||(r={});var a,n,i,s,l,u,d,h=[],m=[h],x=r.textIndent||0,p=0,y=0,b=e.split(" "),v=yy.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var k=Array(u).join(" "),N=[];b.map(function(A){(A=A.split(/\s*\n/)).length>1?N=N.concat(A.map(function(D,M){return(M&&D.length?`
`:"")+D})):N.push(A[0])}),b=N,u=qM.apply(this,[k,r])}for(i=0,s=b.length;i<s;i++){var _=0;if(a=b[i],u&&a[0]==`
`&&(a=a.substr(1),_=1),x+p+(y=(n=yy.apply(this,[a,r])).reduce(function(A,D){return A+D},0))>t||_){if(y>t){for(l=$M.apply(this,[a,n,t-(x+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);y=n.slice(a.length-(h[0]?h[0].length:0)).reduce(function(A,D){return A+D},0)}else h=[a];m.push(h),x=y+u,p=v}else h.push(a),x+=p+y,p=v}return d=u?function(A,D){return(D?k:"")+A.join(" ")}:function(A){return A.join(" ")},m.map(d)},jp.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var l,u,d=[];for(l=0,u=a.length;l<u;l++)d=d.concat(HM.apply(this,[a[l],s,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[r[i]]=t[i],n[t[i]]=r[i];var s=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var p,y,b,v,k=["{"];for(var N in x){if(p=x[N],isNaN(parseInt(N,10))?y="'"+N+"'":(N=parseInt(N,10),y=(y=s(N).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),v="-"):(b=s(p).slice(2),v=""),b=v+b.slice(0,-1)+n[b.slice(-1)];else{if(Fa(p)!=="object")throw new Error("Don't know what to do with value type "+Fa(p)+".");b=l(p)}k.push(y+b)}return k.push("}"),k.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,b,v,k={},N=1,_=k,A=[],D="",M="",L=x.length-1,B=1;B<L;B+=1)(v=x[B])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(A.push([_,b]),_={},b=void 0):v=="}"?((y=A.pop())[0][y[1]]=_,b=void 0,_=y[0]):v=="-"?N=-1:b===void 0?a.hasOwnProperty(v)?(D+=a[v],b=parseInt(D,16)*N,N=1,D=""):D+=v:a.hasOwnProperty(v)?(M+=a[v],_[b]=parseInt(M,16)*N,N=1,b=void 0,M=""):M+=v;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,y=m.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var b=h.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])})(or.API),(function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ey(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,a)}}])})(or),or.API.addSvgAsImage=function(e,t,r,a,n,i,s,l){if(isNaN(t)||isNaN(r))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=n;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Pr.canvg?Promise.resolve(Pr.canvg):Kx(()=>import("./index.es-BIHAz6Dl.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),t,r,a,n,s,l)})},or.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},or.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,h=0,m=0;function x(y,b){var v,k=!1;for(v=0;v<y.length;v+=1)y[v]===b&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Fa(e)==="object"){for(n in e)if(i=e[n],x(l,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&x(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(a=!1);a===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}r[n].value="["+u.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?b.push("/"+y+" /"+r[y].value):b.push("/"+y+" "+r[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+s.length+l.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(or.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,x=i.length;m<x;++m){if(l=s.metadata.characterToGlyph(i.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},a=function(i){var s,l,u,d,h,m,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,x=(l=Object.keys(i).sort(function(p,y){return p-y})).length;m<x;m++)s=l[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(d=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var l=s.font,u=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",y=0;y<x.length;y++)p+=String.fromCharCode(x[y]);var b=d();h({data:p,addLength1:!0,objectId:b}),u("endobj");var v=d();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var k=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Op(l.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var N=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Op(l.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+v+" 0 R"),u("/BaseFont /"+Op(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+N+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var l=s.font,u=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var y=d();h({data:x,addLength1:!0,objectId:y}),u("endobj");var b=d();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var v=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Op(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var k=0;k<l.metadata.hmtx.widths.length;k++)l.metadata.hmtx.widths[k]=parseInt(l.metadata.hmtx.widths[k]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Op(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var n=function(i){var s,l=i.text||"",u=i.x,d=i.y,h=i.options||{},m=i.mutex||{},x=m.pdfEscape,p=m.activeFontKey,y=m.fonts,b=p,v="",k=0,N="",_=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:l,x:u,y:d,options:h,mutex:m};for(N=l,b=p,Array.isArray(l)&&(N=l[0]),k=0;k<N.length;k+=1)y[b].metadata.hasOwnProperty("cmap")&&(s=y[b].metadata.cmap.unicode.codeMap[N[k].charCodeAt(0)]),s||N[k].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?v+=N[k]:v+="";var A="";return parseInt(b.slice(1))<14||_==="WinAnsiEncoding"?A=x(v,b).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(v,y[b])),m.isHex=!0,{text:A,x:u,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var s=i.text||"",l=[],u={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([n(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(n(Object.assign({},u,{text:s[d]})).text);i.text=l}else i.text=n(Object.assign({},u,{text:s})).text}])})(or),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(or.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,s,l,u,d,h,m=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,_=0;this.__bidiEngine__={};var A=function(O){var I=O.charCodeAt(),V=I>>8,Y=b[V];return Y!==void 0?m[256*Y+(255&I)]:V===252||V===253?"AL":k.test(V)?"L":V===8?"R":"N"},D=function(O){for(var I,V=0;V<O.length;V++){if((I=A(O.charAt(V)))==="L")return!1;if(I==="R")return!0}return!1},M=function(O,I,V,Y){var te,X,ae,de,oe=I[Y];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(oe="AN");break;case"AL":N=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":Y<1||Y+1>=I.length||(te=V[Y-1])!=="EN"&&te!=="AN"||(X=I[Y+1])!=="EN"&&X!=="AN"?oe="N":N&&(X="AN"),oe=X===te?X:"N";break;case"ES":oe=(te=Y>0?V[Y-1]:"B")==="EN"&&Y+1<I.length&&I[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&V[Y-1]==="EN"){oe="EN";break}if(N){oe="N";break}for(ae=Y+1,de=I.length;ae<de&&I[ae]==="ET";)ae++;oe=ae<de&&I[ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(de=I.length,ae=Y+1;ae<de&&I[ae]==="NSM";)ae++;if(ae<de){var De=O[Y],re=De>=1425&&De<=2303||De===64286;if(te=I[ae],re&&(te==="R"||te==="AL")){oe="R";break}}}oe=Y<1||(te=I[Y-1])==="B"?"N":V[Y-1];break;case"B":N=!1,n=!0,oe=_;break;case"S":i=!0,oe="N"}return oe},L=function(O,I,V){var Y=O.split("");return V&&B(Y,V,{hiLevel:_}),Y.reverse(),I&&I.reverse(),Y.join("")},B=function(O,I,V){var Y,te,X,ae,de,oe=-1,De=O.length,re=0,P=[],W=_?p:x,z=[];for(N=!1,n=!1,i=!1,te=0;te<De;te++)z[te]=A(O[te]);for(X=0;X<De;X++){if(de=re,P[X]=M(O,z,P,X),Y=240&(re=W[de][y[P[X]]]),re&=15,I[X]=ae=W[re][5],Y>0)if(Y===16){for(te=oe;te<X;te++)I[te]=1;oe=-1}else oe=-1;if(W[re][6])oe===-1&&(oe=X);else if(oe>-1){for(te=oe;te<X;te++)I[te]=ae;oe=-1}z[X]==="B"&&(I[X]=0),V.hiLevel|=ae}i&&(function(q,Z,se){for(var ee=0;ee<se;ee++)if(q[ee]==="S"){Z[ee]=_;for(var Q=ee-1;Q>=0&&q[Q]==="WS";Q--)Z[Q]=_}})(z,I,De)},F=function(O,I,V,Y,te){if(!(te.hiLevel<O)){if(O===1&&_===1&&!n)return I.reverse(),void(V&&V.reverse());for(var X,ae,de,oe,De=I.length,re=0;re<De;){if(Y[re]>=O){for(de=re+1;de<De&&Y[de]>=O;)de++;for(oe=re,ae=de-1;oe<ae;oe++,ae--)X=I[oe],I[oe]=I[ae],I[ae]=X,V&&(X=V[oe],V[oe]=V[ae],V[ae]=X);re=de}re++}}},H=function(O,I,V){var Y=O.split(""),te={hiLevel:_};return V||(V=[]),B(Y,V,te),(function(X,ae,de){if(de.hiLevel!==0&&h)for(var oe,De=0;De<X.length;De++)ae[De]===1&&(oe=v.indexOf(X[De]))>=0&&(X[De]=v[oe+1])})(Y,V,te),F(2,Y,I,V,te),F(1,Y,I,V,te),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(O,I,V){if((function(te,X){if(X)for(var ae=0;ae<te.length;ae++)X[ae]=ae;l===void 0&&(l=D(te)),d===void 0&&(d=D(te))})(O,I),s||!u||d)if(s&&u&&l^d)_=l?1:0,O=L(O,I,V);else if(!s&&u&&d)_=l?1:0,O=H(O,I,V),O=L(O,I);else if(!s||l||u||d){if(s&&!u&&l^d)O=L(O,I),l?(_=0,O=H(O,I,V)):(_=1,O=H(O,I,V),O=L(O,I));else if(s&&l&&!u&&d)_=1,O=H(O,I,V),O=L(O,I);else if(!s&&!u&&l^d){var Y=h;l?(_=1,O=H(O,I,V),_=0,h=!1,O=H(O,I,V),h=Y):(_=0,O=H(O,I,V),O=L(O,I),_=1,h=!1,O=H(O,I,V),h=Y,O=L(O,I))}}else _=0,O=H(O,I,V);else _=l?1:0,O=H(O,I,V);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,u=O.isOutputVisual,l=O.isInputRtl,d=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(s=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?s.push([r.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):s.push([r.doBidiReorder(n[l])]);a.text=s}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(or),or.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new BAe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new NAe(this.contents),this.head=new AAe(this),this.name=new PAe(this),this.cmap=new pW(this),this.toUnicode={},this.hhea=new TAe(this),this.maxp=new DAe(this),this.hmtx=new LAe(this),this.post=new CAe(this),this.os2=new EAe(this),this.loca=new FAe(this),this.glyf=new MAe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)t=u[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,i,s,l;for(s=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)n=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Gc,kh=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,i,s,l,u;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*s+256*l+u},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),NAe=(function(){var e;function t(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,i,s,l,u,d,h,m,x,p,y,b;for(b in p=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(p)/u),s=Math.floor(m/u),h=16*p-m,(n=new kh).writeInt(this.scalarType),n.writeShort(p),n.writeShort(m),n.writeShort(s),n.writeShort(h),i=16*p,d=n.pos+i,l=null,y=[],r)for(x=r[b],n.writeString(b),n.writeInt(e(x)),n.writeInt(d),n.writeInt(x.length),y=y.concat(x),b==="head"&&(l=d),d+=x.length;d%4;)y.push(0),d++;return n.write(y),a=2981146554-e(n.data),n.pos=l+8,n.writeUInt32(a),n.data},e=function(r){var a,n,i,s;for(r=gW.call(r);r.length%4;)r.push(0);for(i=new kh(r),n=0,a=0,s=r.length;a<s;a=a+=4)n+=i.readUInt32();return 4294967295&n},t})(),jAe={}.hasOwnProperty,$u=function(e,t){for(var r in t)jAe.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Gc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var AAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new kh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),ZM=(function(){function e(t,r){var a,n,i,s,l,u,d,h,m,x,p,y,b,v,k,N,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=(function(){var A,D;for(D=[],u=A=0;0<=x?A<x:A>x;u=0<=x?++A:--A)D.push(t.readUInt16());return D})(),t.pos+=2,b=(function(){var A,D;for(D=[],u=A=0;0<=x?A<x:A>x;u=0<=x?++A:--A)D.push(t.readUInt16());return D})(),d=(function(){var A,D;for(D=[],u=A=0;0<=x?A<x:A>x;u=0<=x?++A:--A)D.push(t.readUInt16());return D})(),h=(function(){var A,D;for(D=[],u=A=0;0<=x?A<x:A>x;u=0<=x?++A:--A)D.push(t.readUInt16());return D})(),n=(this.length-t.pos+this.offset)/2,l=(function(){var A,D;for(D=[],u=A=0;0<=n?A<n:A>n;u=0<=n?++A:--A)D.push(t.readUInt16());return D})(),u=k=0,_=i.length;k<_;u=++k)for(v=i[u],a=N=y=b[u];y<=v?N<=v:N>=v;a=y<=v?++N:--N)h[u]===0?s=a+d[u]:(s=l[h[u]/2+(a-y)-(x-u)]||0)!==0&&(s+=d[u]),this.codeMap[a]=65535&s}t.pos=m}return e.encode=function(t,r){var a,n,i,s,l,u,d,h,m,x,p,y,b,v,k,N,_,A,D,M,L,B,F,H,O,I,V,Y,te,X,ae,de,oe,De,re,P,W,z,q,Z,se,ee,Q,me,Ae,J;switch(Y=new kh,s=Object.keys(t).sort(function(ke,ye){return ke-ye}),r){case"macroman":for(b=0,v=(function(){var ke=[];for(y=0;y<256;++y)ke.push(0);return ke})(),N={0:0},i={},te=0,oe=s.length;te<oe;te++)N[Q=t[n=s[te]]]==null&&(N[Q]=++b),i[n]={old:t[n],new:N[t[n]]},v[n]=N[t[n]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(v),{charMap:i,subtable:Y.data,maxGlyphID:b+1};case"unicode":for(I=[],m=[],_=0,N={},a={},k=d=null,X=0,De=s.length;X<De;X++)N[D=t[n=s[X]]]==null&&(N[D]=++_),a[n]={old:D,new:N[D]},l=N[D]-n,k!=null&&l===d||(k&&m.push(k),I.push(n),d=l),k=n;for(k&&m.push(k),m.push(65535),I.push(65535),H=2*(F=I.length),B=2*Math.pow(Math.log(F)/Math.LN2,2),x=Math.log(B/2)/Math.LN2,L=2*F-B,u=[],M=[],p=[],y=ae=0,re=I.length;ae<re;y=++ae){if(O=I[y],h=m[y],O===65535){u.push(0),M.push(0);break}if(O-(V=a[O].new)>=32768)for(u.push(0),M.push(2*(p.length+F-y)),n=de=O;O<=h?de<=h:de>=h;n=O<=h?++de:--de)p.push(a[n].new);else u.push(V-O),M.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*F+2*p.length),Y.writeUInt16(0),Y.writeUInt16(H),Y.writeUInt16(B),Y.writeUInt16(x),Y.writeUInt16(L),se=0,P=m.length;se<P;se++)n=m[se],Y.writeUInt16(n);for(Y.writeUInt16(0),ee=0,W=I.length;ee<W;ee++)n=I[ee],Y.writeUInt16(n);for(me=0,z=u.length;me<z;me++)l=u[me],Y.writeUInt16(l);for(Ae=0,q=M.length;Ae<q;Ae++)A=M[Ae],Y.writeUInt16(A);for(J=0,Z=p.length;J<Z;J++)b=p[J],Y.writeUInt16(b);return{charMap:a,subtable:Y.data,maxGlyphID:_+1}}},e})(),pW=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new ZM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,n;return r==null&&(r="macroman"),a=ZM.encode(t,r),(n=new kh).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e})(),TAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),EAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),CAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var s,l,u;for(u=[],i=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;i=0<=l?++s:--s)u.push(t.readUInt32());return u}).call(this)}},e})(),OAe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},PAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,n,i,s,l,u,d,h,m,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},i=h=0,m=a.length;h<m;i=++h)n=a[i],t.pos=n.offset,d=t.readString(n.length),s=new OAe(d,n),u[x=n.nameID]==null&&(u[x]=[]),u[n.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),DAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),LAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,n,i,s,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],r=d=0;0<=n?d<n:d>n;r=0<=n?++d:--d)h.push(t.readInt16());return h})(),this.widths=(function(){var d,h,m,x;for(x=[],d=0,h=(m=this.metrics).length;d<h;d++)i=m[d],x.push(i.advance);return x}).call(this),a=this.widths[this.widths.length-1],u=[],r=s=0;0<=n?s<n:s>n;r=0<=n?++s:--s)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),gW=[].slice,MAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,n,i,s,l,u,d,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,s=(l=new kh(r.read(n))).readShort(),d=l.readShort(),m=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[t]=s===-1?new RAe(l,d,m,u,h):new IAe(l,s,d,m,u,h),this.cache[t]))},e.prototype.encode=function(t,r,a){var n,i,s,l,u;for(s=[],i=[],l=0,u=r.length;l<u;l++)n=t[r[l]],i.push(s.length),n&&(s=s.concat(n.encode(a)));return i.push(s.length),{table:s,offsets:i}},e})(),IAe=(function(){function e(t,r,a,n,i,s){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),RAe=(function(){function e(t,r,a,n,i){var s,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new kh(gW.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),FAe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return $u(e,Gc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,s=0;s<a.length;++s)if(a[s]=n,i<r.length&&r[i]==s){++i,a[s]=n;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(n+=u)}for(var d=new Array(4*a.length),h=0;h<a.length;++h)d[4*h+3]=255&a[h],d[4*h+2]=(65280&a[h])>>8,d[4*h+1]=(16711680&a[h])>>16,d[4*h]=(4278190080&a[h])>>24;return d},e})(),BAe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,i,s,l,u;for(n={},s=0,l=t.length;s<l;s++)n[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))a=u[i],n[i]=a;return n},e.prototype.encode=function(t,r){var a,n,i,s,l,u,d,h,m,x,p,y,b,v,k;for(n in a=pW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},k=a.charMap)p[(u=k[n]).old]=u.new;for(y in x=a.maxGlyphID,s)y in p||(p[y]=x++);return h=(function(N){var _,A;for(_ in A={},N)A[N[_]]=_;return A})(p),m=Object.keys(h).sort(function(N,_){return N-_}),b=(function(){var N,_,A;for(A=[],N=0,_=m.length;N<_;N++)l=m[N],A.push(h[l]);return A})(),i=this.font.glyf.encode(s,b,p),d=this.font.loca.encode(i.offsets,b),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();or.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,i,s;if(Array.isArray(r))return"["+(function(){var l,u,d;for(d=[],l=0,u=r.length;l<u;l++)a=r[l],d.push(t.convert(a));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)s=r[n],i.push("/"+n+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();function xW(e,t,r,a,n){a=a||{};var i=1.15,s=n.internal.scaleFactor,l=n.internal.getFontSize()/s,u=n.getLineHeightFactor?n.getLineHeightFactor():i,d=l*u,h=/\r\n|\r|\n/g,m="",x=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof e=="string"?e.split(h):e,x=m.length||1),r+=l*(2-i),a.valign==="middle"?r-=x/2*d:a.valign==="bottom"&&(r-=x*d),a.halign==="center"||a.halign==="right"){var p=l;if(a.halign==="center"&&(p*=.5),m&&x>=1){for(var y=0;y<m.length;y++)n.text(m[y],t-n.getStringUnitWidth(m[y])*p,r),r+=d;return n}t-=n.getStringUnitWidth(e)*p}return a.halign==="justify"?n.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,r),n}var e9={},Yp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:e9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,n,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,u=s.fontName;if(t.font&&(u=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(u,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(a=this.jsPDFDocument).setFillColor.apply(a,h),h=e.unifyColor(t.textColor),h&&(n=this.jsPDFDocument).setTextColor.apply(n,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,n,i){return this.jsPDFDocument.rect(t,r,a,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return e9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),vN=function(e,t){return vN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},vN(e,t)};function vW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bW=(function(e){vW(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t})(Array);function UAe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zAe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function J2(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return n}function yW(e,t,r,a){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var s=wW(n,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,s)}function wW(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function hk(e,t){var r,a,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function kW(e,t){var r=hk(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function qAe(e,t,r,a,n){var i={},s=1.3333333333333333,l=sS(t,function(_){return n.getComputedStyle(_).backgroundColor});l!=null&&(i.fillColor=l);var u=sS(t,function(_){return n.getComputedStyle(_).color});u!=null&&(i.textColor=u);var d=HAe(a,r);d&&(i.cellPadding=d);var h="borderTopColor",m=s*r,x=a.borderTopWidth;if(a.borderBottomWidth===x&&a.borderRightWidth===x&&a.borderLeftWidth===x){var p=(parseFloat(x)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var y=sS(t,function(_){return n.getComputedStyle(_)[h]});y!=null&&(i.lineColor=y);var b=["left","right","center","justify"];b.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),b=["middle","bottom","top"],b.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var v=parseInt(a.fontSize||"");isNaN(v)||(i.fontSize=v/s);var k=$Ae(a);k&&(i.fontStyle=k);var N=(a.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function $Ae(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function sS(e,t){var r=_W(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function _W(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:_W(e.parentElement,t):r}function HAe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/a}),s=hk(i,0);return n>s.top&&(s.top=n),n>s.bottom&&(s.bottom=n),s}function SW(e,t,r,a,n){var i,s;a===void 0&&(a=!1),n===void 0&&(n=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var u=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],m=[],x=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:x};for(var p=0;p<l.rows.length;p++){var y=l.rows[p],b=(s=(i=y==null?void 0:y.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=WAe(u,d,r,y,a,n);v&&(b==="thead"?h.push(v):b==="tfoot"?x.push(v):m.push(v))}return{head:h,body:m,foot:x}}function WAe(e,t,r,a,n,i){for(var s=new bW(a),l=0;l<a.cells.length;l++){var u=a.cells[l],d=r.getComputedStyle(u);if(n||d.display!=="none"){var h=void 0;i&&(h=qAe(e,u,t,d,r)),s.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:VAe(u)})}}var m=r.getComputedStyle(a);if(s.length>0&&(n||m.display!=="none"))return s}function VAe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function KAe(e,t,r){for(var a=0,n=[e,t,r];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Dd(e,t,r,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])}return i}function NW(e,t){var r=new Yp(e),a=r.getDocumentOptions(),n=r.getGlobalOptions();KAe(n,a,t);var i=Dd({},n,a,t),s;typeof window<"u"&&(s=window);var l=GAe(n,a,t),u=YAe(n,a,t),d=XAe(r,i),h=JAe(r,i,s);return{id:t.tableId,content:h,hooks:u,styles:l,settings:d}}function GAe(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(u){if(u==="columnStyles"){var d=e[u],h=t[u],m=r[u];a.columnStyles=Dd({},d,h,m)}else{var x=[e,t,r],p=x.map(function(y){return y[u]||{}});a[u]=Dd({},p[0],p[1],p[2])}},i=0,s=Object.keys(a);i<s.length;i++){var l=s[i];n(l)}return a}function YAe(e,t,r){for(var a=[e,t,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=a;i<s.length;i++){var l=s[i];l.didParseCell&&n.didParseCell.push(l.didParseCell),l.willDrawCell&&n.willDrawCell.push(l.willDrawCell),l.didDrawCell&&n.didDrawCell.push(l.didDrawCell),l.willDrawPage&&n.willDrawPage.push(l.willDrawPage),l.didDrawPage&&n.didDrawPage.push(l.didDrawPage)}return n}function XAe(e,t){var r,a,n,i,s,l,u,d,h,m,x,p,y=hk(t.margin,40/e.scaleFactor()),b=(r=QAe(e,t.startY))!==null&&r!==void 0?r:y.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(N?"plain":"striped"),A=!!t.horizontalPageBreak,D=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:N,theme:_,startY:b,margin:y,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:v,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:A,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function QAe(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/a:null}function JAe(e,t,r){var a=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var l=SW(e,t.html,r,s,t.useCss)||{};a=l.head||a,n=l.body||a,i=l.foot||a}else console.error("Cannot parse html in non browser environment")}var u=t.columns||ZAe(a,n,i);return{columns:u,head:a,body:n,foot:i}}function ZAe(e,t,r){var a=e[0]||t[0]||r[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,l;Array.isArray(a)?l=a[parseInt(i)]:l=a[i],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var u=0;u<s;u++){var d=void 0;Array.isArray(a)?d=n.length:d=i+(u>0?"_".concat(u):"");var h={dataKey:d};n.push(h)}}),n}var bN=(function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),eTe=(function(e){vW(t,e);function t(r,a,n,i,s,l){var u=e.call(this,r,a,l)||this;return u.cell=n,u.row=i,u.column=s,u.section=i.section,u}return t})(bN),tTe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,n,i,s){for(var l=0,u=r;l<u.length;l++){var d=u[l],h=new eTe(t,this,a,n,i,s),m=d(h)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new bN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new bN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),jW=(function(){function e(t,r,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof bW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,n){var i;return Math.max(a,((i=r.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var n=r.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(n,i){var s=a.cells[i.index];if(!s)return 0;var l=r.getLineHeight(s.styles.fontSize),u=s.padding("vertical"),d=u+l;return d>n?d:n},0)},e})(),AW=(function(){function e(t,r,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*r,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=hk(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),rTe=(function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,n=t.allRows();a<n.length;a++){var i=n[a],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function aTe(e,t){nTe(e,t);var r=[],a=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=yN(r,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=yN(r,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),sTe(t),oTe(t,e),iTe(t)}function nTe(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=kW(e,t);t.allRows().forEach(function(i){for(var s=0,l=t.columns;s<l.length;s++){var u=l[s],d=i.cells[u.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,i,u,null);var m=d.padding("horizontal");d.contentWidth=J2(d.text,d.styles,e)+m;var x=J2(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,l=t.columns;s<l.length;s++){var u=l[s],d=i.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function yN(e,t,r){for(var a=t,n=e.reduce(function(p,y){return p+y.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],l=s.wrappedWidth/n,u=a*l,d=s.width+u,h=r(s),m=d<h?h:d;t-=m-s.width,s.width=m}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(p){return t<0?p.width>r(p):!0});x.length&&(t=yN(x,t,r))}return t}function iTe(e){for(var t={},r=1,a=e.allRows(),n=0;n<a.length;n++)for(var i=a[n],s=0,l=e.columns;s<l.length;s++){var u=l[s],d=t[u.index];if(r>1)r--,delete i.cells[u.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[u.index],d.left--,d.left<=1&&delete t[u.index];else{var h=i.cells[u.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=a.length-n,x=h.rowSpan>m?m:h.rowSpan;t[u.index]={cell:h,left:x,row:i}}}}}function sTe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],n=null,i=0,s=0,l=0;l<e.columns.length;l++){var u=e.columns[l];if(s-=1,s>1&&e.columns[l+1])i+=u.width,delete a.cells[u.index];else if(n){var d=n;delete a.cells[u.index],n=null,d.width=u.width+i}else{var d=a.cells[u.index];if(!d)continue;if(s=d.colSpan,i=0,d.colSpan>1){n=d,i+=u.width;continue}d.width=u.width+i}}}function oTe(e,t){for(var r={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var i=n[a],s=0,l=e.columns;s<l.length;s++){var u=l[s],d=i.cells[u.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=t9(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=t9(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,h);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<x*d.rowSpan?r={height:x,count:d.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function t9(e,t,r,a,n){return e.map(function(i){return lTe(i,t,r,a,n)})}function lTe(e,t,r,a,n){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=J2(e,r,a))return e;for(;t<J2(e+n,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function TW(e,t){var r=new Yp(e),a=cTe(t,r.scaleFactor()),n=new tTe(t,a);return aTe(r,n),r.applyStyles(r.userStyles),n}function cTe(e,t){var r=e.content,a=dTe(r.columns);if(r.head.length===0){var n=r9(a,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=r9(a,"foot");n&&r.foot.push(n)}var i=e.settings.theme,s=e.styles;return{columns:a,head:oS("head",r.head,a,s,i,t),body:oS("body",r.body,a,s,i,t),foot:oS("foot",r.foot,a,s,i,t)}}function oS(e,t,r,a,n,i){var s={},l=t.map(function(u,d){for(var h=0,m={},x=0,p=0,y=0,b=r;y<b.length;y++){var v=b[y];if(s[v.index]==null||s[v.index].left===0)if(p===0){var k=void 0;Array.isArray(u)?k=u[v.index-x-h]:k=u[v.dataKey];var N={};typeof k=="object"&&!Array.isArray(k)&&(N=(k==null?void 0:k.styles)||{});var _=hTe(e,v,d,n,a,i,N),A=new AW(k,_,e);m[v.dataKey]=A,m[v.index]=A,p=A.colSpan-1,s[v.index]={left:A.rowSpan-1,times:p}}else p--,x++;else s[v.index].left--,p=s[v.index].times,h++}return new jW(u,d,e,m)});return l}function r9(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var n=uTe(t,a.raw);n!=null&&(r[a.dataKey]=n)}}),Object.keys(r).length>0?r:null}function uTe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function dTe(e){return e.map(function(t,r){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:r:n=r,new rTe(n,t,r)})}function hTe(e,t,r,a,n,i,s){var l=zAe(a),u;e==="head"?u=n.headStyles:e==="body"?u=n.bodyStyles:e==="foot"&&(u=n.footStyles);var d=Dd({},l.table,l[e],n.styles,u),h=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},m=e==="body"?h:{},x=e==="body"&&r%2===0?Dd({},l.alternateRow,n.alternateRowStyles):{},p=UAe(i),y=Dd({},p,d,x,m);return Dd(y,s)}function fTe(e,t,r){var a;r===void 0&&(r={});var n=kW(e,t),i=new Map,s=[],l=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(x){var p=t.columns.find(function(y){return y.dataKey===x||y.index===x});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),l.push(t.columns[p.index]),n-=p.wrappedWidth)});for(var d=!0,h=(a=r==null?void 0:r.start)!==null&&a!==void 0?a:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(d||n>=m)d=!1,s.push(h),l.push(t.columns[h]),n-=m;else break;h++}return{colIndexes:s,columns:l,lastIndex:h-1}}function mTe(e,t){for(var r=[],a=0;a<t.columns.length;a++){var n=fTe(e,t,{start:a});n.columns.length&&(r.push(n),a=n.lastIndex)}return r}function EW(e,t){var r=t.settings,a=r.startY,n=r.margin,i={x:n.left,y:a},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=a+n.bottom+s;if(r.pageBreak==="avoid"){var u=t.body,d=u.reduce(function(x,p){return x+p.height},0);l+=d}var h=new Yp(e);(r.pageBreak==="always"||r.startY!=null&&l>h.pageSize().height)&&(OW(h),i.y=n.top),t.callWillDrawPageHooks(h,i);var m=Dd({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?pTe(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return Zd(h,t,x,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,p){var y=p===t.body.length-1;Z2(h,t,x,y,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return Zd(h,t,x,i,t.columns)})),yW(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function pTe(e,t,r,a){var n=mTe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?u1(e,t,r,a,d.columns,!0):a9(e,t,a,d.columns),gTe(e,t,r,a,d.columns),lS(e,t,a,d.columns)});else for(var s=-1,l=n[0],u=function(){var d=s;if(l){e.applyStyles(e.userStyles);var h=l.columns;s>=0?u1(e,t,r,a,h,!0):a9(e,t,a,h),d=n9(e,t,s+1,a,h),lS(e,t,a,h)}var m=d-s;n.slice(1).forEach(function(x){e.applyStyles(e.userStyles),u1(e,t,r,a,x.columns,!0),n9(e,t,s+1,a,x.columns,m),lS(e,t,a,x.columns)}),s=d};s<t.body.length-1;)u()}function a9(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return Zd(e,t,i,r,a)})}function gTe(e,t,r,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var l=s===t.body.length-1;Z2(e,t,i,l,r,a,n)})}function n9(e,t,r,a,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,s).forEach(function(u,d){var h=r+d===t.body.length-1,m=CW(e,t,h,a);u.canEntireRowFit(m,n)&&(Zd(e,t,u,a,n),l=r+d)}),l}function lS(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return Zd(e,t,i,r,a)})}function xTe(e,t,r){var a=r.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/a);return Math.max(0,i)}function vTe(e,t,r,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,l=r.columns;s<l.length;s++){var u=l[s],d=e.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new AW(d.raw,d.styles,d.section);h=Dd(h,d),h.text=[];var m=xTe(d,t,a);d.text.length>m&&(h.text=d.text.splice(m,d.text.length));var x=a.scaleFactor(),p=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,p),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(x,p),h.contentHeight>i&&(i=h.contentHeight),n[u.index]=h}}var y=new jW(e.raw,-1,e.section,n,!0);y.height=i;for(var b=0,v=r.columns;b<v.length;b++){var u=v[b],h=y.cells[u.index];h&&(h.height=y.height);var d=e.cells[u.index];d&&(d.height=e.height)}return y}function bTe(e,t,r,a){var n=e.pageSize().height,i=a.settings.margin,s=i.top+i.bottom,l=n-s;t.section==="body"&&(l-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=t.getMinimumRowHeight(a.columns,e),d=u<r;if(u>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(a.columns),m=t.getMaxCellHeight(a.columns)>l;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||a.settings.rowPageBreak==="avoid")}function Z2(e,t,r,a,n,i,s){var l=CW(e,t,a,i);if(r.canEntireRowFit(l,s))Zd(e,t,r,i,s);else if(bTe(e,r,l,t)){var u=vTe(r,l,t,e);Zd(e,t,r,i,s),u1(e,t,n,i,s),Z2(e,t,u,a,n,i,s)}else u1(e,t,n,i,s),Z2(e,t,r,a,n,i,s)}function Zd(e,t,r,a,n){a.x=t.settings.margin.left;for(var i=0,s=n;i<s.length;i++){var l=s[i],u=r.cells[l.index];if(!u){a.x+=l.width;continue}e.applyStyles(u.styles),u.x=a.x,u.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,u,r,l,a);if(d===!1){a.x+=l.width;continue}yTe(e,u,a);var h=u.getTextPos();xW(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,r,l,a),a.x+=l.width}a.y+=r.height}function yTe(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=wW(a.lineWidth,a.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),wTe(e,t,r,a.lineWidth))}function wTe(e,t,r,a){var n,i,s,l;a.top&&(n=r.x,i=r.y,s=r.x+t.width,l=r.y,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),u(a.top,n,i,s,l)),a.bottom&&(n=r.x,i=r.y+t.height,s=r.x+t.width,l=r.y+t.height,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),u(a.bottom,n,i,s,l)),a.left&&(n=r.x,i=r.y,s=r.x,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),u(a.left,n,i,s,l)),a.right&&(n=r.x+t.width,i=r.y,s=r.x+t.width,l=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(l+=.5*a.bottom),u(a.right,n,i,s,l));function u(d,h,m,x,p){e.getDocument().setLineWidth(d),e.getDocument().line(h,m,x,p,"S")}}function CW(e,t,r,a){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function u1(e,t,r,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Zd(e,t,l,a,n)}),t.callEndPageHooks(e,a);var s=t.settings.margin;yW(e,t,r,a),OW(e),t.pageNumber++,a.x=s.left,a.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Zd(e,t,l,a,n)}),e.applyStyles(e.userStyles))}function OW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function kTe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],n=NW(this,a),i=TW(this,n);return EW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,n){xW(t,r,a,n,this)},e.API.autoTableSetDefaults=function(t){return Yp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Yp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Yp(this),i=SW(n,t,window,r,!1),s=i.head,l=i.body,u=((a=s[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:u,rows:l,data:l}}}var cS;function um(e,t){var r=NW(e,t),a=TW(e,r);EW(e,a)}try{if(typeof window<"u"&&window){var i9=window,s9=i9.jsPDF||((cS=i9.jspdf)===null||cS===void 0?void 0:cS.jsPDF);s9&&kTe(s9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const fk=(e,t,r)=>(e.setFontSize(20),e.setFont("helvetica","bold"),e.text(t,14,20),r&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text(r,14,28)),e.setFontSize(9),e.setTextColor(100),e.text(`Generated: ${new Date().toLocaleString("vi-VN")}`,14,r?35:28),e.setTextColor(0),r?42:35),mk=e=>{const t=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(100);for(let r=1;r<=t;r++)e.setPage(r),e.text(`Page ${r} of ${t}`,e.internal.pageSize.width/2,e.internal.pageSize.height-10,{align:"center"})},_Te=(e,t)=>{const r=new or,a=fk(r,"INVENTORY REPORT",`Total Products: ${e.length}`),n=e.reduce((d,h)=>{const m=h.stock[t]||0,x=h.retailPrice[t]||0;return d+m*x},0),i=e.reduce((d,h)=>d+(h.stock[t]||0),0),s=e.filter(d=>(d.stock[t]||0)>0&&(d.stock[t]||0)<=10).length,l=e.filter(d=>(d.stock[t]||0)===0).length;um(r,{startY:a,head:[["Metric","Value"]],body:[["Total Inventory Value",Oe(n)],["Total Products",e.length.toString()],["Total Stock Units",i.toString()],["Low Stock Items",s.toString()],["Out of Stock",l.toString()]],theme:"grid",headStyles:{fillColor:[59,130,246]}});const u=e.map(d=>{const h=d.stock[t]||0,m=d.retailPrice[t]||0,x=h*m;return[d.sku||"N/A",d.name,d.category||"Uncategorized",h.toString(),Oe(m),Oe(x)]});um(r,{startY:r.lastAutoTable.finalY+10,head:[["SKU","Name","Category","Stock","Price","Value"]],body:u,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8},columnStyles:{1:{cellWidth:50},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}}}),mk(r),r.save(`Inventory_Report_${new Date().toISOString().slice(0,10)}.pdf`)},STe=(e,t,r={})=>{var p;const a=new or;let n=e;(r.start||r.end)&&(n=e.filter(y=>{const b=new Date(y.date);return!(r.start&&b<r.start||r.end&&b>r.end)}));const i=r.start?`Period: ${r.start.toLocaleDateString("vi-VN")} - ${((p=r.end)==null?void 0:p.toLocaleDateString("vi-VN"))||"Now"}`:`Total Orders: ${n.length}`,s=fk(a,"SALES REPORT",i),l=n.reduce((y,b)=>y+b.total,0),u=n.length,d=n.reduce((y,b)=>y+b.items.reduce((v,k)=>v+k.quantity,0),0),h=u>0?l/u:0;um(a,{startY:s,head:[["Metric","Value"]],body:[["Total Revenue",Oe(l)],["Total Orders",u.toString()],["Total Items Sold",d.toString()],["Average Order Value",Oe(h)]],theme:"grid",headStyles:{fillColor:[16,185,129]}});const m=new Map;n.forEach(y=>{y.items.forEach(b=>{const v=m.get(b.partId),k=t.find(_=>_.id===b.partId),N=(k==null?void 0:k.name)||"Unknown Product";v?(v.quantity+=b.quantity,v.revenue+=b.sellingPrice*b.quantity):m.set(b.partId,{quantity:b.quantity,revenue:b.sellingPrice*b.quantity,name:N})})});const x=Array.from(m.entries()).map(([y,b])=>({name:b.name,quantity:b.quantity,revenue:b.revenue})).sort((y,b)=>b.revenue-y.revenue).slice(0,20);um(a,{startY:a.lastAutoTable.finalY+10,head:[["Product","Quantity Sold","Revenue"]],body:x.map(y=>[y.name,y.quantity.toString(),Oe(y.revenue)]),theme:"striped",headStyles:{fillColor:[16,185,129]},styles:{fontSize:8},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"}}}),mk(a),a.save(`Sales_Report_${new Date().toISOString().slice(0,10)}.pdf`)},NTe=(e,t,r,a,n,i,s={})=>{var D;const l=new or;let u=e,d=t;(s.start||s.end)&&(u=e.filter(M=>{const L=new Date(M.date);return!(s.start&&L<s.start||s.end&&L>s.end)}),d=t.filter(M=>{const L=new Date(M.date);return!(s.start&&L<s.start||s.end&&L>s.end)}));const h=s.start?`Period: ${s.start.toLocaleDateString("vi-VN")} - ${((D=s.end)==null?void 0:D.toLocaleDateString("vi-VN"))||"Now"}`:"All Time",m=fk(l,"FINANCIAL REPORT",h),x=u.reduce((M,L)=>M+L.total,0),p=d.filter(M=>M.type==="Nhp kho").reduce((M,L)=>{var H;const B=r.find(O=>O.id===L.partId),F=((H=B==null?void 0:B.wholesalePrice)==null?void 0:H[a])||0;return M+F*L.quantity},0),y=x-p,b=x>0?y/x*100:0,v=r.reduce((M,L)=>{const B=L.stock[a]||0,F=L.retailPrice[a]||0;return M+B*F},0),k=n.reduce((M,L)=>M+L.amount,0),N=i.reduce((M,L)=>M+L.amount,0);um(l,{startY:m,head:[["Metric","Amount"]],body:[["Total Income",Oe(x)],["Total Expenses",Oe(p)],["Net Profit",Oe(y)],["Profit Margin",`${b.toFixed(2)}%`],["Inventory Value",Oe(v)],["Customer Debts",Oe(k)],["Supplier Debts",Oe(N)],["Net Position",Oe(y+v+k-N)]],theme:"grid",headStyles:{fillColor:[139,92,246]},didParseCell:M=>{M.row.index===2&&(M.cell.styles.fillColor=y>=0?[220,252,231]:[254,226,226],M.cell.styles.textColor=y>=0?[22,101,52]:[127,29,29],M.cell.styles.fontStyle="bold")}});const _=l.lastAutoTable.finalY+10;l.setFontSize(10),l.setFont("helvetica","bold"),l.text("Notes:",14,_),l.setFontSize(9),l.setFont("helvetica","normal"),[" Income includes all sales revenue"," Expenses include inventory purchase costs"," Profit margin = (Net Profit / Income)  100%"," Net Position = Profit + Inventory + Customer Debts - Supplier Debts"].forEach((M,L)=>{l.text(M,14,_+7+L*5)}),mk(l),l.save(`Financial_Report_${new Date().toISOString().slice(0,10)}.pdf`)},jTe=(e,t)=>{const r=new or,a=e.filter(s=>{const l=s.stock[t]||0;return l>0&&l<=10}),n=e.filter(s=>(s.stock[t]||0)===0),i=fk(r,"LOW STOCK ALERT",`Low Stock: ${a.length} | Out of Stock: ${n.length}`);if(a.length>0){r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Low Stock Items ( 10 units)",14,i);const s=a.sort((l,u)=>(l.stock[t]||0)-(u.stock[t]||0)).map(l=>{const u=l.stock[t]||0,d=u<=3?"Critical":u<=5?"Warning":"Low";return[l.sku||"N/A",l.name,l.category||"Uncategorized",u.toString(),d]});um(r,{startY:i+5,head:[["SKU","Name","Category","Stock","Status"]],body:s,theme:"striped",headStyles:{fillColor:[245,158,11]},styles:{fontSize:8},columnStyles:{1:{cellWidth:60},3:{halign:"center"},4:{halign:"center"}},didParseCell:l=>{if(l.column.index===4&&l.row.section==="body"){const u=l.cell.raw;u==="Critical"?(l.cell.styles.fillColor=[254,226,226],l.cell.styles.textColor=[127,29,29]):u==="Warning"&&(l.cell.styles.fillColor=[254,243,199],l.cell.styles.textColor=[146,64,14])}}})}if(n.length>0){const s=a.length>0?r.lastAutoTable.finalY+15:i;r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Out of Stock Items",14,s);const l=n.map(u=>[u.sku||"N/A",u.name,u.category||"Uncategorized"]);um(r,{startY:s+5,head:[["SKU","Name","Category"]],body:l,theme:"striped",headStyles:{fillColor:[239,68,68]},styles:{fontSize:8},columnStyles:{1:{cellWidth:80}}})}a.length===0&&n.length===0&&(r.setFontSize(12),r.text("All products are in stock!",14,i)),mk(r),r.save(`Low_Stock_Alert_${new Date().toISOString().slice(0,10)}.pdf`)},ATe=()=>{const[e,t]=j.useState("inventory"),{parts:r,sales:a,inventoryTransactions:n,customerDebts:i,supplierDebts:s,currentBranchId:l}=si(),u=()=>{try{switch(e){case"inventory":_Te(r,l),Xe.success(" xut bo co tn kho thnh cng!");break;case"sales":STe(a,r),Xe.success(" xut bo co bn hng thnh cng!");break;case"financial":NTe(a,n,r,l,i,s),Xe.success(" xut bo co ti chnh thnh cng!");break}}catch(m){console.error("Export error:",m),Xe.error("Li khi xut bo co PDF")}},d=()=>{try{jTe(r,l),Xe.success(" xut bo co cnh bo tn kho!")}catch(m){console.error("Export error:",m),Xe.error("Li khi xut bo co")}},h=[{id:"inventory",label:"Tn kho",icon:o.jsx(fl,{className:"w-4 h-4"})},{id:"sales",label:"Bn hng",icon:o.jsx(VN,{className:"w-4 h-4"})},{id:"financial",label:"Ti chnh",icon:o.jsx(DJ,{className:"w-4 h-4"})}];return o.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Bo co & Phn tch"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Theo di v phn tch hiu sut kinh doanh"})]}),o.jsxs("div",{className:"flex gap-2",children:[e==="inventory"&&o.jsxs("button",{onClick:d,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx(oR,{className:"w-4 h-4"})," Cnh bo tn kho"]}),o.jsxs("button",{onClick:u,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx(nv,{className:"w-4 h-4"})," Xut PDF"]})]})]}),o.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:h.map(m=>o.jsxs("button",{onClick:()=>t(m.id),className:`px-6 py-3 font-medium transition-all relative ${e===m.id?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{children:m.icon}),o.jsx("span",{children:m.label})]}),e===m.id&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]},m.id))})]}),o.jsxs("div",{className:"animate-fadeIn",children:[e==="inventory"&&o.jsx(YNe,{}),e==="sales"&&o.jsx(XNe,{}),e==="financial"&&o.jsx(QNe,{})]})]})},TTe=e=>xi({queryKey:["auditLogs",e],queryFn:async()=>{const t=await bJ(e);if(!t.ok)throw t.error;return t}}),o9={"auth.login":"ng nhp","auth.logout":"ng xut","sale.create":"To ha n","sale.delete":"Xa ha n","part.update_price":"Cp nht gi ph tng","inventory.receipt":"Nhp kho","settings.update":"Cp nht ci t","debt.customer_pay":"Thu n khch hng","debt.supplier_pay":"Tr n nh cung cp","cash.manual":"Giao dch qu th cng"},ETe=()=>{var k;const{profile:e}=rc(),[t,r]=j.useState(""),[a,n]=j.useState(50),[i,s]=j.useState(""),[l,u]=j.useState(""),[d,h]=j.useState(1),{data:m,isLoading:x,refetch:p}=TTe({action:t||void 0,page:d,pageSize:a,includeUser:!0,startDate:i?new Date(i).toISOString():void 0,endDate:l?new Date(l+"T23:59:59").toISOString():void 0}),y=(m==null?void 0:m.data)||[],b=((k=m==null?void 0:m.meta)==null?void 0:k.total)||0,v=Math.max(1,Math.ceil(b/a));return!e||e.role!=="owner"?o.jsxs("div",{className:"flex items-center justify-center h-96 text-slate-500 dark:text-slate-400",children:[o.jsx(eZ,{className:"w-5 h-5 mr-2"})," Ch ch ca hng c xem nht k h thng."]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Nht k h thng"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{value:t,onChange:N=>r(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[o.jsx("option",{value:"",children:"Tt c hnh ng"}),Object.entries(o9).map(([N,_])=>o.jsx("option",{value:N,children:_},N))]}),o.jsx("input",{type:"date",value:i,onChange:N=>s(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),o.jsx("input",{type:"date",value:l,onChange:N=>u(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),o.jsx("select",{value:a,onChange:N=>n(parseInt(N.target.value)),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[25,50,100].map(N=>o.jsxs("option",{value:N,children:[N," dng"]},N))}),o.jsxs("button",{onClick:()=>p(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 text-sm",children:[o.jsx(ZJ,{className:"w-4 h-4"})," Ti li"]}),o.jsx("button",{onClick:()=>CTe(y),className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"JSON"}),o.jsx("button",{onClick:()=>OTe(y),className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"CSV"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:x?"ang ti...":`Hin th ${y.length} dng  Trang ${d}/${v}  Tng ${b}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>h(N=>Math.max(1,N-1)),disabled:d<=1,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang trc"}),o.jsx("button",{onClick:()=>h(N=>Math.min(v,N+1)),disabled:d>=v,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang sau"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300",children:[o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Thi gian"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Hnh ng"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Bng"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"ID bn ghi"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"D liu"}),o.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"User"})]})}),o.jsxs("tbody",{children:[x&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center",children:o.jsx($J,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})})}),!x&&y.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"Khng c d liu"})}),!x&&y.map(N=>{var A;const _=o9[N.action]||N.action;return o.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/40",children:[o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:new Date(N.created_at).toLocaleString("vi-VN")}),o.jsx("td",{className:"px-4 py-2 text-slate-700 dark:text-slate-300",children:_}),o.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.table_name||"-"}),o.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.record_id||"-"}),o.jsx("td",{className:"px-4 py-2 max-w-[280px]",children:o.jsx("pre",{className:"text-xs whitespace-pre-wrap break-all bg-slate-50 dark:bg-slate-900/40 p-2 rounded border border-slate-200 dark:border-slate-700 max-h-32 overflow-y-auto",children:N.new_data||N.old_data?JSON.stringify({old:N.old_data?l9(N.old_data):void 0,new:N.new_data?l9(N.new_data):void 0},null,2):"-"})}),o.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.user_email||N.user_name?`${N.user_name||""} ${N.user_email?"<"+N.user_email+">":""}`.trim():((A=N.user_id)==null?void 0:A.slice(0,8))||"-"})]},N.id)})]})]})})]})]})};function l9(e){try{return typeof e=="string"?JSON.parse(e):e}catch{return e}}function CTe(e){try{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`audit-logs-${new Date().toISOString()}.json`,a.click(),URL.revokeObjectURL(r)}catch{}}function OTe(e){try{const r=[["created_at","action","table_name","record_id","user_id","old_data","new_data"].join(",")];for(const s of e){const l=[s.created_at,s.action,s.table_name??"",s.record_id??"",s.user_id??"",JSON.stringify(s.old_data??""),JSON.stringify(s.new_data??"")].map(u=>`"${String(u).replace(/"/g,'""')}"`).join(",");r.push(l)}const a=new Blob([r.join(`
`)],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`audit-logs-${new Date().toISOString()}.csv`,i.click(),URL.revokeObjectURL(n)}catch{}}const PTe=()=>{const{profile:e,hasRole:t}=rc(),[r,a]=j.useState(null),[n,i]=j.useState(!0),[s,l]=j.useState(!1),[u,d]=j.useState(!1),[h,m]=j.useState(!1),[x,p]=j.useState("general");j.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:A,error:D}=await Tt.from("store_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();if(D)throw D;a(A)}catch(A){console.error("Error loading settings:",A),Xe.error("Khng th ti ci t")}finally{i(!1)}},b=async()=>{if(r){l(!0);try{const A={...r};console.log("Saving settings:",r);const{error:D,data:M}=await Tt.from("store_settings").update(r).eq("id",r.id).select();if(D)throw console.error("Update error:",D),D;console.log("Update result:",M),await y(),Xe.success(" lu ci t thnh cng!"),On((e==null?void 0:e.id)||null,{action:"settings.update",tableName:"store_settings",recordId:r.id,oldData:A,newData:r})}catch(A){console.error("Error saving settings:",A),Xe.error(A.message||"Khng th lu ci t")}finally{l(!1)}}},v=(A,D)=>{r&&a({...r,[A]:D})},k=async A=>{var M;const D=(M=A.target.files)==null?void 0:M[0];if(D){if(!D.type.startsWith("image/")){Xe.error("Vui lng chn file nh");return}if(D.size>2*1024*1024){Xe.error("Kch thc nh khng c vt qu 2MB");return}d(!0);try{const L=D.name.split(".").pop(),F=`store-assets/${`logo-${Date.now()}.${L}`}`,{error:H}=await Tt.storage.from("public-assets").upload(F,D);if(H)throw H;const{data:O}=Tt.storage.from("public-assets").getPublicUrl(F);v("logo_url",O.publicUrl),Xe.success(" ti logo ln thnh cng!")}catch(L){console.error("Error uploading logo:",L),Xe.error(L.message||"Khng th ti logo ln")}finally{d(!1)}}},N=async A=>{var M;const D=(M=A.target.files)==null?void 0:M[0];if(D){if(!D.type.startsWith("image/")){Xe.error("Vui lng chn file nh");return}if(D.size>2*1024*1024){Xe.error("Kch thc nh khng c vt qu 2MB");return}m(!0);try{const L=D.name.split(".").pop(),F=`store-assets/${`bank-qr-${Date.now()}.${L}`}`,{error:H}=await Tt.storage.from("public-assets").upload(F,D);if(H)throw H;const{data:O}=Tt.storage.from("public-assets").getPublicUrl(F);v("bank_qr_url",O.publicUrl),Xe.success(" ti m QR ngn hng ln thnh cng!")}catch(L){console.error("Error uploading QR:",L),Xe.error(L.message||"Khng th ti m QR ln")}finally{m(!1)}}};if(!t(["owner","manager"]))return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[o.jsx(HJ,{className:"w-5 h-5","aria-hidden":"true"}),o.jsx("p",{className:"text-lg",children:"Ch ch ca hng v qun l mi c quyn truy cp ci t"})]})});if(n||!r)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx(uR,{size:"lg"})});const _=t(["owner"]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(YN,{className:"w-7 h-7 text-blue-600","aria-hidden":"true"}),o.jsx("span",{children:"Ci t h thng"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l thng tin ca hng v cu hnh h thng"})]}),_&&o.jsx("button",{onClick:b,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu thay i",children:s?o.jsx("span",{children:"ang lu..."}):o.jsxs(o.Fragment,{children:[o.jsx(GS,{className:"w-5 h-5","aria-hidden":"true"}),o.jsx("span",{children:"Lu thay i"})]})})]}),!_&&o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-2",children:[o.jsx(v8,{className:"w-5 h-5 text-yellow-700 dark:text-yellow-300 mt-0.5","aria-hidden":"true"}),o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Bn ch c quyn xem. Ch ch ca hng mi c th chnh sa ci t."})]}),o.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsx("div",{className:"flex gap-4",children:[{id:"general",label:"Thng tin chung",icon:o.jsx(rZ,{className:"w-4 h-4","aria-hidden":"true"})},{id:"branding",label:"Thng hiu",icon:o.jsx(nR,{className:"w-4 h-4","aria-hidden":"true"})},{id:"banking",label:"Ngn hng",icon:o.jsx(KN,{className:"w-4 h-4","aria-hidden":"true"})},{id:"invoice",label:"Ha n",icon:o.jsx(nv,{className:"w-4 h-4","aria-hidden":"true"})}].map(A=>o.jsxs("button",{onClick:()=>p(A.id),className:`px-4 py-3 font-medium border-b-2 transition-colors inline-flex items-center gap-2 ${x===A.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[A.icon,o.jsx("span",{children:A.label})]},A.id))})}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[x==="general"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ca hng"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ca hng *"}),o.jsx("input",{type:"text",value:r.store_name||"",onChange:A=>v("store_name",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ting Anh"}),o.jsx("input",{type:"text",value:r.store_name_en||"",onChange:A=>v("store_name_en",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Slogan"}),o.jsx("input",{type:"text",value:r.slogan||"",onChange:A=>v("slogan",A.target.value),disabled:!_,placeholder:"Chm sc xe my chuyn nghip",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"a ch"}),o.jsx("input",{type:"text",value:r.address||"",onChange:A=>v("address",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),o.jsx("input",{type:"tel",value:r.phone||"",onChange:A=>v("phone",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:r.email||"",onChange:A=>v("email",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website"}),o.jsx("input",{type:"url",value:r.website||"",onChange:A=>v("website",A.target.value),disabled:!_,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M s thu"}),o.jsx("input",{type:"text",value:r.tax_code||"",onChange:A=>v("tax_code",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Gi m ca"}),o.jsx("input",{type:"text",value:r.business_hours||"",onChange:A=>v("business_hours",A.target.value),disabled:!_,placeholder:"8:00 - 18:00 (T2-T7)",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nm thnh lp"}),o.jsx("input",{type:"number",value:r.established_year||"",onChange:A=>v("established_year",Number(A.target.value)),disabled:!_,placeholder:"2020",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),x==="branding"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng hiu & Hnh nh"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Logo ca hng"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors ${_?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[o.jsx(sZ,{className:"w-5 h-5 text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:u?"ang ti ln...":"Chn nh logo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:k,disabled:!_||u,className:"hidden"})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kch thc ti a: 2MB. nh dng: JPG, PNG, SVG"})]}),r.logo_url&&o.jsx("div",{className:"w-32 h-32 border-2 border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden bg-white dark:bg-slate-700 flex items-center justify-center",children:o.jsx("img",{src:r.logo_url,alt:"Store Logo",className:"max-w-full max-h-full object-contain"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hoc nhp URL Logo"}),o.jsx("input",{type:"url",value:r.logo_url||"",onChange:A=>v("logo_url",A.target.value),disabled:!_,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),o.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M QR ngn hng"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors ${_?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[o.jsx(BJ,{className:"w-5 h-5 text-slate-500"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:h?"ang ti ln...":"Chn nh QR Code"}),o.jsx("input",{type:"file",accept:"image/*",onChange:N,disabled:!_||h,className:"hidden"})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kch thc ti a: 2MB. nh dng: JPG, PNG"})]}),r.bank_qr_url&&o.jsx("div",{className:"w-32 h-32 border-2 border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden bg-white dark:bg-slate-700 flex items-center justify-center",children:o.jsx("img",{src:r.bank_qr_url,alt:"Bank QR Code",className:"max-w-full max-h-full object-contain"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hoc nhp URL m QR"}),o.jsx("input",{type:"url",value:r.bank_qr_url||"",onChange:A=>v("bank_qr_url",A.target.value),disabled:!_,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),o.jsx("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu ch o"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:r.primary_color||"#3B82F6",onChange:A=>v("primary_color",A.target.value),disabled:!_,className:"w-16 h-12 rounded border border-slate-300 dark:border-slate-600 cursor-pointer disabled:opacity-50"}),o.jsx("input",{type:"text",value:r.primary_color||"#3B82F6",onChange:A=>v("primary_color",A.target.value),disabled:!_,placeholder:"#3B82F6",className:"flex-1 px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Mu ny s c s dng trong giao din h thng"})]})})]}),x==="banking"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ngn hng"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng *"}),o.jsx("input",{type:"text",value:r.bank_name||"",onChange:A=>v("bank_name",A.target.value),disabled:!_,placeholder:"VD: Vietcombank, Techcombank, MB Bank...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S ti khon *"}),o.jsx("input",{type:"text",value:r.bank_account_number||"",onChange:A=>v("bank_account_number",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ch ti khon *"}),o.jsx("input",{type:"text",value:r.bank_account_holder||"",onChange:A=>v("bank_account_holder",A.target.value),disabled:!_,placeholder:"VD: NGUYEN VAN A",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chi nhnh"}),o.jsx("input",{type:"text",value:r.bank_branch||"",onChange:A=>v("bank_branch",A.target.value),disabled:!_,placeholder:"VD: Chi nhnh Qun 1, TP.HCM",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(v8,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"Thng tin ngn hng"}),o.jsx("p",{children:"Thng tin ny s c hin th trn cc ha n, bin nhn v phiu dch v. Khch hng c th qut m QR hoc chuyn khon theo thng tin ny."})]})]})})]}),x==="invoice"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cu hnh ha n"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M ha n bn"}),o.jsx("input",{type:"text",value:r.invoice_prefix||"HD",onChange:A=>v("invoice_prefix",A.target.value),disabled:!_,placeholder:"HD",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: HD-001, HD-002"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu nhp"}),o.jsx("input",{type:"text",value:r.receipt_prefix||"PN",onChange:A=>v("receipt_prefix",A.target.value),disabled:!_,placeholder:"PN",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: PN-001, PN-002"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu sa cha"}),o.jsx("input",{type:"text",value:r.work_order_prefix||"SC",onChange:A=>v("work_order_prefix",A.target.value),disabled:!_,placeholder:"SC",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: SC-001, SC-002"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch cui ha n"}),o.jsx("textarea",{rows:3,value:r.invoice_footer_note||"",onChange:A=>v("invoice_footer_note",A.target.value),disabled:!_,placeholder:"Cm n qu khch  tin tng v s dng dch v!",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"nh dng ngy"}),o.jsxs("select",{value:r.date_format||"DD/MM/YYYY",onChange:A=>v("date_format",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[o.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),o.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),o.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"n v tin t"}),o.jsxs("select",{value:r.currency||"VND",onChange:A=>v("currency",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[o.jsx("option",{value:"VND",children:"VND - Vit Nam ng"}),o.jsx("option",{value:"USD",children:"USD - US Dollar"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mi gi"}),o.jsxs("select",{value:r.timezone||"Asia/Ho_Chi_Minh",onChange:A=>v("timezone",A.target.value),disabled:!_,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[o.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"H Ch Minh (GMT+7)"}),o.jsx("option",{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),o.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"})]})]})]})]})]}),_&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:b,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu tt c thay i",children:s?o.jsx("span",{children:"ang lu..."}):o.jsxs(o.Fragment,{children:[o.jsx(GS,{className:"w-5 h-5","aria-hidden":"true"}),o.jsx("span",{children:"Lu tt c thay i"})]})})})]})},DTe=()=>o.jsx(nxe,{}),LTe=()=>o.jsx(T3e,{}),MTe=()=>o.jsx(eNe,{}),ITe=()=>o.jsx(rNe,{currentBranchId:si().currentBranchId}),RTe=()=>o.jsx(nNe,{}),FTe=()=>o.jsx(oNe,{}),BTe=()=>o.jsx(_H,{}),UTe=()=>o.jsx(SH,{}),zTe=()=>o.jsx(TNe,{}),qTe=()=>o.jsx(NH,{}),$Te=()=>o.jsx(FNe,{}),HTe=()=>o.jsx(KNe,{}),WTe=()=>o.jsx(vH,{}),VTe=()=>o.jsx(bH,{}),KTe=()=>o.jsx(ATe,{}),GTe=()=>o.jsx(PTe,{});function YTe(){var u;const[e,t]=j.useState(!1),{theme:r,toggleTheme:a}=_J(),{profile:n,signOut:i}=rc(),s=n==null?void 0:n.role,l={viewFinance:s==="owner"||s==="manager",viewAnalytics:s==="owner"||s==="manager",viewDebt:s==="owner"||s==="manager",viewEmployees:s==="owner"||s==="manager",viewSettings:s==="owner"||s==="manager"};return o.jsx("nav",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>t(!e),className:"group flex items-center gap-3 focus:outline-none","aria-label":"M ci t v ti khon",children:[o.jsx("img",{src:"/logo-smartcare.png",alt:"SmartCare Logo",className:"w-14 h-14 rounded-xl shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 group-hover:shadow-md group-hover:ring-emerald-400/60 dark:group-hover:ring-emerald-500/60 transition"}),o.jsx("span",{className:"font-bold text-xl tracking-tight bg-gradient-to-r from-emerald-600 to-blue-600 text-transparent bg-clip-text dark:from-emerald-400 dark:to-blue-400 hidden md:inline",children:"Nhn Lm SmartCare"})]}),e&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),o.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 z-50",children:[o.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Ci t & ti khon"}),o.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition","aria-label":"ng",children:o.jsx(cR,{className:"w-4 h-4"})})]}),n&&o.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center gap-3",children:[o.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:((u=n.full_name)==null?void 0:u[0])||n.email[0].toUpperCase()}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:n.full_name||n.email}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate flex items-center gap-1",children:[n.role==="owner"&&o.jsx(aR,{className:"w-3.5 h-3.5 text-yellow-500"}),n.role==="manager"&&o.jsx(lR,{className:"w-3.5 h-3.5 text-indigo-500"}),n.role==="staff"&&o.jsx(XN,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{children:n.role==="owner"?"Ch ca hng":n.role==="manager"?"Qun l":"Nhn vin"})]})]})]}),o.jsxs("button",{onClick:()=>{a(),t(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-between text-sm text-slate-700 dark:text-slate-200",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?o.jsx(GJ,{className:"w-4 h-4"}):o.jsx(aZ,{className:"w-4 h-4"}),o.jsxs("span",{children:["Ch  ",r==="dark"?"ti":"sng"]})]}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:r==="dark"?"Chuyn sang sng":"Chuyn sang ti"})]}),l.viewSettings&&o.jsx(ev,{to:"/settings",onClick:()=>t(!1),className:"block w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 text-sm text-slate-700 dark:text-slate-200",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(YN,{className:"w-4 h-4"}),o.jsx("span",{children:"Ci t h thng"})]})}),n&&o.jsx("button",{onClick:async()=>{try{await i()}finally{t(!1)}},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(WJ,{className:"w-4 h-4"}),o.jsx("span",{children:"ng xut"})]})})]})]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xu,{to:"/dashboard",colorKey:"blue",icon:o.jsx(zJ,{className:"w-5 h-5"}),label:"Tng quan"}),o.jsx(xu,{to:"/service",colorKey:"violet",icon:o.jsx(Wy,{className:"w-5 h-5"}),label:"Sa cha"}),o.jsx(xu,{to:"/sales",colorKey:"emerald",icon:o.jsx(iR,{className:"w-5 h-5"}),label:"Bn hng"}),o.jsx(xu,{to:"/inventory",colorKey:"amber",icon:o.jsx(fl,{className:"w-5 h-5"}),label:"Qun l kho"}),o.jsx(xu,{to:"/customers",colorKey:"cyan",icon:o.jsx(v1,{className:"w-5 h-5"}),label:"Khch hng"}),l.viewEmployees&&o.jsx(xu,{to:"/employees",colorKey:"indigo",icon:o.jsx(qy,{className:"w-5 h-5"}),label:"Nhn vin"}),l.viewFinance&&o.jsx(xu,{to:"/finance",colorKey:"rose",icon:o.jsx(KN,{className:"w-5 h-5"}),label:"Ti chnh"}),l.viewDebt&&o.jsx(xu,{to:"/debt",colorKey:"orange",icon:o.jsx(VN,{className:"w-5 h-5"}),label:"Cng n"}),l.viewAnalytics&&o.jsx(xu,{to:"/analytics",colorKey:"teal",icon:o.jsx($y,{className:"w-5 h-5"}),label:"Phn tch"}),o.jsx(xu,{to:"/reports",colorKey:"fuchsia",icon:o.jsx(nv,{className:"w-5 h-5"}),label:"Bo co"})]}),o.jsx("div",{className:"flex items-center"})]})})})}const uS={blue:{text:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/30",hoverBg:"hover:bg-blue-50 dark:hover:bg-blue-900/20"},violet:{text:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-900/30",hoverBg:"hover:bg-violet-50 dark:hover:bg-violet-900/20"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/30",hoverBg:"hover:bg-emerald-50 dark:hover:bg-emerald-900/20"},amber:{text:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/30",hoverBg:"hover:bg-amber-50 dark:hover:bg-amber-900/20"},cyan:{text:"text-cyan-600 dark:text-cyan-400",bg:"bg-cyan-50 dark:bg-cyan-900/30",hoverBg:"hover:bg-cyan-50 dark:hover:bg-cyan-900/20"},indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/30",hoverBg:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},rose:{text:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/30",hoverBg:"hover:bg-rose-50 dark:hover:bg-rose-900/20"},orange:{text:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/30",hoverBg:"hover:bg-orange-50 dark:hover:bg-orange-900/20"},teal:{text:"text-teal-600 dark:text-teal-400",bg:"bg-teal-50 dark:bg-teal-900/30",hoverBg:"hover:bg-teal-50 dark:hover:bg-teal-900/20"},fuchsia:{text:"text-fuchsia-600 dark:text-fuchsia-400",bg:"bg-fuchsia-50 dark:bg-fuchsia-900/30",hoverBg:"hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20"}},xu=({to:e,icon:t,label:r,colorKey:a})=>{const i=Bu().pathname===e;return o.jsxs(ev,{to:e,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition ${i?`${uS[a].bg} ${uS[a].text}`:`text-slate-600 dark:text-slate-300 ${uS[a].hoverBg}`}`,children:[o.jsx("span",{className:"flex items-center justify-center",children:t}),o.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:r})]})};function XTe(){const[e,t]=j.useState(!1);return j.useEffect(()=>{t(!0)},[]),{ready:e}}const QTe=new qG({defaultOptions:{queries:{staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",retry:2}}});function JTe(){const{ready:e}=XTe();return e?o.jsx($G,{client:QTe,children:o.jsx(kJ,{children:o.jsx(JI,{children:o.jsx(wJ,{children:o.jsx(uG,{children:o.jsxs(BY,{children:[o.jsx(UY,{}),o.jsxs(SC,{children:[o.jsx(Zn,{path:"/login",element:o.jsx(lZ,{})}),o.jsx(Zn,{path:"/*",element:o.jsx(mu,{children:o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors",children:[o.jsx(YTe,{}),o.jsx("main",{className:"max-w-[1600px] mx-auto p-6",children:o.jsxs(SC,{children:[o.jsx(Zn,{path:"/",element:o.jsx(O9,{to:"/dashboard",replace:!0})}),o.jsx(Zn,{path:"/dashboard",element:o.jsx(Pge,{})}),o.jsx(Zn,{path:"/sales",element:o.jsx(DTe,{})}),o.jsx(Zn,{path:"/audit-logs",element:o.jsx(mu,{requiredRoles:["owner"],children:o.jsx(ETe,{})})}),o.jsx(Zn,{path:"/inventory",element:o.jsx(LTe,{})}),o.jsx(Zn,{path:"/categories",element:o.jsx(WTe,{})}),o.jsx(Zn,{path:"/lookup",element:o.jsx(VTe,{})}),o.jsx(Zn,{path:"/service",element:o.jsx(MTe,{})}),o.jsx(Zn,{path:"/service-history",element:o.jsx(ITe,{})}),o.jsx(Zn,{path:"/customers",element:o.jsx(RTe,{})}),o.jsx(Zn,{path:"/debt",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(FTe,{})})}),o.jsx(Zn,{path:"/cashbook",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(BTe,{})})}),o.jsx(Zn,{path:"/loans",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(UTe,{})})}),o.jsx(Zn,{path:"/payroll",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(qTe,{})})}),o.jsx(Zn,{path:"/employees",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(HTe,{})})}),o.jsx(Zn,{path:"/finance",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(zTe,{})})}),o.jsx(Zn,{path:"/analytics",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(KTe,{})})}),o.jsx(Zn,{path:"/reports",element:o.jsx($Te,{})}),o.jsx(Zn,{path:"/settings",element:o.jsx(mu,{requiredRoles:["owner","manager"],children:o.jsx(GTe,{})})})]})})]})})})]}),o.jsx($Y,{initialIsOpen:!1}),!1]})})})})})}):null}JV.createRoot(document.getElementById("root")).render(o.jsxs(fa.StrictMode,{children:[o.jsx(JTe,{}),o.jsx(FY,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}));export{Fa as _,eEe as c,Hc as g};
