import{c as b,h as q,r as o,n as x,s as r,j as e,bo as A,aq as P,bp as R,J as H,o as B}from"./index-9wxNecOd.js";import{S as M}from"./save-DYFgRByO.js";import{P as E}from"./palette-D9yCaBLf.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=b("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=b("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=b("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=b("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=b("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J=()=>{const{profile:g,hasRole:k}=q(),[a,y]=o.useState(null),[S,Y]=o.useState(!0),[p,j]=o.useState(!1),[f,v]=o.useState(!1),[w,N]=o.useState(!1),[m,L]=o.useState("general");o.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:t,error:d}=await x.from("store_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();if(d)throw d;y(t)}catch(t){console.error("Error loading settings:",t),r.error("Không thể tải cài đặt")}finally{Y(!1)}},C=async()=>{if(a){j(!0);try{const t={...a};console.log("Saving settings:",a);const{error:d,data:n}=await x.from("store_settings").update(a).eq("id",a.id).select();if(d)throw console.error("Update error:",d),d;console.log("Update result:",n),await _(),r.success("Đã lưu cài đặt thành công!"),B((g==null?void 0:g.id)||null,{action:"settings.update",tableName:"store_settings",recordId:a.id,oldData:t,newData:a})}catch(t){console.error("Error saving settings:",t),r.error(t.message||"Không thể lưu cài đặt")}finally{j(!1)}}},l=(t,d)=>{a&&y({...a,[t]:d})},T=async t=>{var n;const d=(n=t.target.files)==null?void 0:n[0];if(d){if(!d.type.startsWith("image/")){r.error("Vui lòng chọn file ảnh");return}if(d.size>2*1024*1024){r.error("Kích thước ảnh không được vượt quá 2MB");return}v(!0);try{const i=d.name.split(".").pop(),c=`store-assets/${`logo-${Date.now()}.${i}`}`,{error:h}=await x.storage.from("public-assets").upload(c,d);if(h)throw h;const{data:u}=x.storage.from("public-assets").getPublicUrl(c);l("logo_url",u.publicUrl),r.success("Đã tải logo lên thành công!")}catch(i){console.error("Error uploading logo:",i),r.error(i.message||"Không thể tải logo lên")}finally{v(!1)}}},U=async t=>{var n;const d=(n=t.target.files)==null?void 0:n[0];if(d){if(!d.type.startsWith("image/")){r.error("Vui lòng chọn file ảnh");return}if(d.size>2*1024*1024){r.error("Kích thước ảnh không được vượt quá 2MB");return}N(!0);try{const i=d.name.split(".").pop(),c=`store-assets/${`bank-qr-${Date.now()}.${i}`}`,{error:h}=await x.storage.from("public-assets").upload(c,d);if(h)throw h;const{data:u}=x.storage.from("public-assets").getPublicUrl(c);l("bank_qr_url",u.publicUrl),r.success("Đã tải mã QR ngân hàng lên thành công!")}catch(i){console.error("Error uploading QR:",i),r.error(i.message||"Không thể tải mã QR lên")}finally{N(!1)}}};if(!k(["owner","manager"]))return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[e.jsx(G,{className:"w-5 h-5","aria-hidden":"true"}),e.jsx("p",{className:"text-lg",children:"Chỉ chủ cửa hàng và quản lý mới có quyền truy cập cài đặt"})]})});if(S||!a)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx(A,{size:"lg"})});const s=k(["owner"]);return e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx(P,{className:"w-6 h-6 md:w-7 md:h-7 text-blue-600","aria-hidden":"true"}),e.jsx("span",{children:"Cài đặt hệ thống"})]}),e.jsx("p",{className:"text-xs md:text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Quản lý thông tin cửa hàng và cấu hình hệ thống"})]}),s&&e.jsx("button",{onClick:C,disabled:p,className:"w-full sm:w-auto px-4 py-2 md:px-6 md:py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg text-sm md:text-base font-semibold transition-colors inline-flex items-center justify-center gap-2","aria-label":"Lưu thay đổi",children:p?e.jsx("span",{children:"Đang lưu..."}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 md:w-5 md:h-5","aria-hidden":"true"}),e.jsx("span",{children:"Lưu thay đổi"})]})})]}),!s&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 md:p-4 flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-700 dark:text-yellow-300 mt-0.5 flex-shrink-0","aria-hidden":"true"}),e.jsx("p",{className:"text-xs md:text-sm text-yellow-800 dark:text-yellow-200",children:"Bạn chỉ có quyền xem. Chỉ chủ cửa hàng mới có thể chỉnh sửa cài đặt."})]}),e.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700 -mx-4 px-4 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex gap-2 md:gap-4 overflow-x-auto pb-px",children:[{id:"general",label:"Thông tin chung",shortLabel:"Thông tin",icon:e.jsx(K,{className:"w-3.5 h-3.5 md:w-4 md:h-4","aria-hidden":"true"})},{id:"branding",label:"Thương hiệu",shortLabel:"Thương hiệu",icon:e.jsx(E,{className:"w-3.5 h-3.5 md:w-4 md:h-4","aria-hidden":"true"})},{id:"banking",label:"Ngân hàng",shortLabel:"Ngân hàng",icon:e.jsx(R,{className:"w-3.5 h-3.5 md:w-4 md:h-4","aria-hidden":"true"})},{id:"invoice",label:"Hóa đơn",shortLabel:"Hóa đơn",icon:e.jsx(H,{className:"w-3.5 h-3.5 md:w-4 md:h-4","aria-hidden":"true"})}].map(t=>e.jsxs("button",{onClick:()=>L(t.id),className:`px-2.5 py-2 md:px-4 md:py-3 text-xs md:text-sm font-medium border-b-2 transition-colors inline-flex items-center gap-1.5 md:gap-2 whitespace-nowrap ${m===t.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[t.icon,e.jsx("span",{className:"hidden sm:inline",children:t.label}),e.jsx("span",{className:"inline sm:hidden",children:t.shortLabel})]},t.id))})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-4 md:p-6",children:[m==="general"&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-white mb-3 md:mb-4",children:"Thông tin cửa hàng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Tên cửa hàng *"}),e.jsx("input",{type:"text",value:a.store_name||"",onChange:t=>l("store_name",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Tên tiếng Anh"}),e.jsx("input",{type:"text",value:a.store_name_en||"",onChange:t=>l("store_name_en",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Slogan"}),e.jsx("input",{type:"text",value:a.slogan||"",onChange:t=>l("slogan",t.target.value),disabled:!s,placeholder:"Chăm sóc xe máy chuyên nghiệp",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Địa chỉ"}),e.jsx("input",{type:"text",value:a.address||"",onChange:t=>l("address",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Số điện thoại"}),e.jsx("input",{type:"tel",value:a.phone||"",onChange:t=>l("phone",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Email"}),e.jsx("input",{type:"email",value:a.email||"",onChange:t=>l("email",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Website"}),e.jsx("input",{type:"url",value:a.website||"",onChange:t=>l("website",t.target.value),disabled:!s,placeholder:"https://...",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Mã số thuế"}),e.jsx("input",{type:"text",value:a.tax_code||"",onChange:t=>l("tax_code",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Giờ mở cửa"}),e.jsx("input",{type:"text",value:a.business_hours||"",onChange:t=>l("business_hours",t.target.value),disabled:!s,placeholder:"8:00 - 18:00 (T2-T7)",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Năm thành lập"}),e.jsx("input",{type:"number",value:a.established_year||"",onChange:t=>l("established_year",Number(t.target.value)),disabled:!s,placeholder:"2020",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),m==="branding"&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-white mb-3 md:mb-4",children:"Thương hiệu & Hình ảnh"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Logo cửa hàng"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors ${s?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx($,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-500"}),e.jsx("span",{className:"text-xs md:text-sm text-slate-600 dark:text-slate-400",children:f?"Đang tải lên...":"Chọn ảnh logo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:T,disabled:!s||f,className:"hidden"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kích thước tối đa: 2MB. Định dạng: JPG, PNG, SVG"})]}),a.logo_url&&e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 border-2 border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden bg-white dark:bg-slate-700 flex items-center justify-center",children:e.jsx("img",{src:a.logo_url,alt:"Store Logo",className:"max-w-full max-h-full object-contain"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Hoặc nhập URL Logo"}),e.jsx("input",{type:"url",value:a.logo_url||"",onChange:t=>l("logo_url",t.target.value),disabled:!s,placeholder:"https://...",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 md:pt-6 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Mã QR ngân hàng"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors ${s?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(Q,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-500"}),e.jsx("span",{className:"text-xs md:text-sm text-slate-600 dark:text-slate-400",children:w?"Đang tải lên...":"Chọn ảnh QR Code"}),e.jsx("input",{type:"file",accept:"image/*",onChange:U,disabled:!s||w,className:"hidden"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kích thước tối đa: 2MB. Định dạng: JPG, PNG"})]}),a.bank_qr_url&&e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 border-2 border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden bg-white dark:bg-slate-700 flex items-center justify-center",children:e.jsx("img",{src:a.bank_qr_url,alt:"Bank QR Code",className:"max-w-full max-h-full object-contain"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Hoặc nhập URL mã QR"}),e.jsx("input",{type:"url",value:a.bank_qr_url||"",onChange:t=>l("bank_qr_url",t.target.value),disabled:!s,placeholder:"https://...",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),e.jsx("div",{className:"pt-4 md:pt-6 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Màu chủ đạo"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:a.primary_color||"#3B82F6",onChange:t=>l("primary_color",t.target.value),disabled:!s,className:"w-12 h-10 md:w-16 md:h-12 rounded border border-slate-300 dark:border-slate-600 cursor-pointer disabled:opacity-50"}),e.jsx("input",{type:"text",value:a.primary_color||"#3B82F6",onChange:t=>l("primary_color",t.target.value),disabled:!s,placeholder:"#3B82F6",className:"flex-1 px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Màu này sẽ được sử dụng trong giao diện hệ thống"})]})})]}),m==="banking"&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-white mb-3 md:mb-4",children:"Thông tin ngân hàng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Tên ngân hàng *"}),e.jsx("input",{type:"text",value:a.bank_name||"",onChange:t=>l("bank_name",t.target.value),disabled:!s,placeholder:"VD: Vietcombank, Techcombank, MB Bank...",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Số tài khoản *"}),e.jsx("input",{type:"text",value:a.bank_account_number||"",onChange:t=>l("bank_account_number",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Chủ tài khoản *"}),e.jsx("input",{type:"text",value:a.bank_account_holder||"",onChange:t=>l("bank_account_holder",t.target.value),disabled:!s,placeholder:"VD: NGUYEN VAN A",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Chi nhánh"}),e.jsx("input",{type:"text",value:a.bank_branch||"",onChange:t=>l("bank_branch",t.target.value),disabled:!s,placeholder:"VD: Chi nhánh Quận 1, TP.HCM",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 md:p-4",children:e.jsxs("div",{className:"flex gap-2 md:gap-3",children:[e.jsx(D,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs md:text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Thông tin ngân hàng"}),e.jsx("p",{children:"Thông tin này sẽ được hiển thị trên các hóa đơn, biên nhận và phiếu dịch vụ. Khách hàng có thể quét mã QR hoặc chuyển khoản theo thông tin này."})]})]})})]}),m==="invoice"&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-white mb-3 md:mb-4",children:"Cấu hình hóa đơn"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Mã hóa đơn bán"}),e.jsx("input",{type:"text",value:a.invoice_prefix||"HD",onChange:t=>l("invoice_prefix",t.target.value),disabled:!s,placeholder:"HD",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: HD-001, HD-002"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Mã phiếu nhập"}),e.jsx("input",{type:"text",value:a.receipt_prefix||"PN",onChange:t=>l("receipt_prefix",t.target.value),disabled:!s,placeholder:"PN",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: PN-001, PN-002"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Mã phiếu sửa chữa"}),e.jsx("input",{type:"text",value:a.work_order_prefix||"SC",onChange:t=>l("work_order_prefix",t.target.value),disabled:!s,placeholder:"SC",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: SC-001, SC-002"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Ghi chú cuối hóa đơn"}),e.jsx("textarea",{rows:3,value:a.invoice_footer_note||"",onChange:t=>l("invoice_footer_note",t.target.value),disabled:!s,placeholder:"Cảm ơn quý khách đã tin tưởng và sử dụng dịch vụ!",className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Định dạng ngày"}),e.jsxs("select",{value:a.date_format||"DD/MM/YYYY",onChange:t=>l("date_format",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Đơn vị tiền tệ"}),e.jsxs("select",{value:a.currency||"VND",onChange:t=>l("currency",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[e.jsx("option",{value:"VND",children:"VND - Việt Nam Đồng"}),e.jsx("option",{value:"USD",children:"USD - US Dollar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 md:mb-2",children:"Múi giờ"}),e.jsxs("select",{value:a.timezone||"Asia/Ho_Chi_Minh",onChange:t=>l("timezone",t.target.value),disabled:!s,className:"w-full px-3 py-2 md:px-4 md:py-2.5 text-sm md:text-base border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[e.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"Hồ Chí Minh (GMT+7)"}),e.jsx("option",{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),e.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"})]})]})]})]})]}),s&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:C,disabled:p,className:"w-full sm:w-auto px-4 py-2 md:px-6 md:py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg text-sm md:text-base font-semibold transition-colors inline-flex items-center justify-center gap-2","aria-label":"Lưu tất cả thay đổi",children:p?e.jsx("span",{children:"Đang lưu..."}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 md:w-5 md:h-5","aria-hidden":"true"}),e.jsx("span",{children:"Lưu tất cả thay đổi"})]})})})]})};export{J as SettingsManager};
