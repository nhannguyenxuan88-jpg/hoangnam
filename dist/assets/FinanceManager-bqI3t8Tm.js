import{c as P,n as I,v as m,w as A,u as q,x as G,a as L,y as R,r as d,j as e,i as T,l as B,s as w,k as te,a4 as ae}from"./index-D9g1RJTX.js";import re from"./CashBook-DRdA0NyR.js";import se from"./LoansManager-CpOmUS2O.js";import{P as O}from"./Icons-DTFKuh_b.js";import"./usePaymentSourcesRepository-DiPjNWgg.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=P("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=P("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=P("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);async function ie(){try{const{data:t,error:a}=await I.from("fixed_assets").select("*").order("purchase_date",{ascending:!1});if(a)return m({code:"supabase",message:"KhÃ´ng thá»ƒ táº£i danh sÃ¡ch tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:a});const s=(t||[]).map(r=>({id:r.id,name:r.name,assetType:r.asset_type,purchasePrice:parseFloat(r.purchase_price),currentValue:parseFloat(r.current_value),purchaseDate:r.purchase_date,depreciationRate:parseFloat(r.depreciation_rate),depreciationMethod:r.depreciation_method,usefulLife:r.useful_life,status:r.status,serialNumber:r.serial_number,location:r.location,supplier:r.supplier,warranty:r.warranty,notes:r.notes,branchId:r.branch_id,created_at:r.created_at,updated_at:r.updated_at}));return A(s)}catch(t){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi táº£i tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:t})}}async function oe(t){try{const{data:a,error:s}=await I.from("fixed_assets").insert({name:t.name,asset_type:t.assetType,purchase_price:t.purchasePrice,current_value:t.currentValue,purchase_date:t.purchaseDate,depreciation_rate:t.depreciationRate,depreciation_method:t.depreciationMethod,useful_life:t.usefulLife,status:t.status,serial_number:t.serialNumber,location:t.location,supplier:t.supplier,warranty:t.warranty,notes:t.notes,branch_id:t.branchId}).select().single();return s||!a?m({code:"supabase",message:"KhÃ´ng thá»ƒ thÃªm tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:s}):A({id:a.id,name:a.name,assetType:a.asset_type,purchasePrice:parseFloat(a.purchase_price),currentValue:parseFloat(a.current_value),purchaseDate:a.purchase_date,depreciationRate:parseFloat(a.depreciation_rate),depreciationMethod:a.depreciation_method,usefulLife:a.useful_life,status:a.status,serialNumber:a.serial_number,location:a.location,supplier:a.supplier,warranty:a.warranty,notes:a.notes,branchId:a.branch_id,created_at:a.created_at,updated_at:a.updated_at})}catch(a){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi thÃªm tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:a})}}async function ce(t,a){try{const s={};a.name!==void 0&&(s.name=a.name),a.assetType!==void 0&&(s.asset_type=a.assetType),a.purchasePrice!==void 0&&(s.purchase_price=a.purchasePrice),a.currentValue!==void 0&&(s.current_value=a.currentValue),a.purchaseDate!==void 0&&(s.purchase_date=a.purchaseDate),a.depreciationRate!==void 0&&(s.depreciation_rate=a.depreciationRate),a.depreciationMethod!==void 0&&(s.depreciation_method=a.depreciationMethod),a.usefulLife!==void 0&&(s.useful_life=a.usefulLife),a.status!==void 0&&(s.status=a.status),a.serialNumber!==void 0&&(s.serial_number=a.serialNumber),a.location!==void 0&&(s.location=a.location),a.supplier!==void 0&&(s.supplier=a.supplier),a.warranty!==void 0&&(s.warranty=a.warranty),a.notes!==void 0&&(s.notes=a.notes);const{data:r,error:n}=await I.from("fixed_assets").update(s).eq("id",t).select().single();return n||!r?m({code:"supabase",message:"KhÃ´ng thá»ƒ cáº­p nháº­t tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:n}):A({id:r.id,name:r.name,assetType:r.asset_type,purchasePrice:parseFloat(r.purchase_price),currentValue:parseFloat(r.current_value),purchaseDate:r.purchase_date,depreciationRate:parseFloat(r.depreciation_rate),depreciationMethod:r.depreciation_method,usefulLife:r.useful_life,status:r.status,serialNumber:r.serial_number,location:r.location,supplier:r.supplier,warranty:r.warranty,notes:r.notes,branchId:r.branch_id,created_at:r.created_at,updated_at:r.updated_at})}catch(s){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi cáº­p nháº­t tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:s})}}async function ue(t){try{const{error:a}=await I.from("fixed_assets").delete().eq("id",t);return a?m({code:"supabase",message:"KhÃ´ng thá»ƒ xÃ³a tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:a}):A(void 0)}catch(a){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi xÃ³a tÃ i sáº£n cá»‘ Ä‘á»‹nh",cause:a})}}function xe(){const{currentBranchId:t}=q();return G({queryKey:["fixed-assets",t],queryFn:async()=>{const a=await ie();if(!a.ok)throw new Error(a.error.message);return a.data.filter(s=>s.branchId===t)},staleTime:3e4})}function he(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async s=>{const r=await oe(s);if(!r.ok)throw new Error(r.error.message);return r.data},onSuccess:()=>{t.invalidateQueries({queryKey:["fixed-assets",a]})}})}function me(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async({id:s,updates:r})=>{const n=await ce(s,r);if(!n.ok)throw new Error(n.error.message);return n.data},onSuccess:()=>{t.invalidateQueries({queryKey:["fixed-assets",a]})}})}function be(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async s=>{const r=await ue(s);if(!r.ok)throw new Error(r.error.message)},onSuccess:()=>{t.invalidateQueries({queryKey:["fixed-assets",a]})}})}const ge=()=>{const{currentBranchId:t}=q(),{data:a=[],isLoading:s}=xe(),r=he(),n=me(),j=be(),[b,x]=d.useState(!1),[g,_]=d.useState(!1),[p,S]=d.useState(null),[v,V]=d.useState("all"),[f,F]=d.useState("all"),N=d.useMemo(()=>{const i=a.reduce((l,C)=>l+C.purchasePrice,0),k=a.reduce((l,C)=>l+C.currentValue,0),u=a.filter(l=>l.status==="active").length,y=i-k;return{totalValue:i,currentValue:k,activeAssets:u,totalDepreciation:y}},[a]),M=d.useMemo(()=>a.filter(i=>!(v!=="all"&&i.assetType!==v||f!=="all"&&i.status!==f)),[a,v,f]),D=async i=>{try{await r.mutateAsync({...i,branchId:t}),w.success("ÄÃ£ thÃªm tÃ i sáº£n cá»‘ Ä‘á»‹nh"),x(!1)}catch(k){w.error(k.message||"KhÃ´ng thá»ƒ thÃªm tÃ i sáº£n")}},o=async i=>{if(p)try{await n.mutateAsync({id:p.id,updates:i}),w.success("ÄÃ£ cáº­p nháº­t tÃ i sáº£n"),_(!1),S(null)}catch(k){w.error(k.message||"KhÃ´ng thá»ƒ cáº­p nháº­t tÃ i sáº£n")}},h=async i=>{if(window.confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a tÃ i sáº£n nÃ y?"))try{await j.mutateAsync(i),w.success("ÄÃ£ xÃ³a tÃ i sáº£n")}catch(k){w.error(k.message||"KhÃ´ng thá»ƒ xÃ³a tÃ i sáº£n")}};return s?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Äang táº£i..."})}):e.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"TÃ i sáº£n cá»‘ Ä‘á»‹nh"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Quáº£n lÃ½ tÃ i sáº£n vÃ  theo dÃµi kháº¥u hao"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"ThÃªm tÃ i sáº£n"})]})]})}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Tá»•ng giÃ¡ trá»‹ mua"}),e.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white",children:T(N.totalValue)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"GiÃ¡ trá»‹ hiá»‡n táº¡i"}),e.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:T(N.currentValue)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Kháº¥u hao lÅ©y káº¿"}),e.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:T(N.totalDepreciation)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"TÃ i sáº£n Ä‘ang dÃ¹ng"}),e.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:N.activeAssets})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Loáº¡i:"}),e.jsxs("select",{value:v,onChange:i=>V(i.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Táº¥t cáº£"}),e.jsx("option",{value:"equipment",children:"Thiáº¿t bá»‹"}),e.jsx("option",{value:"vehicle",children:"Xe cá»™"}),e.jsx("option",{value:"building",children:"NhÃ  xÆ°á»Ÿng"}),e.jsx("option",{value:"furniture",children:"Ná»™i tháº¥t"}),e.jsx("option",{value:"other",children:"KhÃ¡c"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tráº¡ng thÃ¡i:"}),e.jsxs("select",{value:f,onChange:i=>F(i.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Táº¥t cáº£"}),e.jsx("option",{value:"active",children:"Äang dÃ¹ng"}),e.jsx("option",{value:"maintenance",children:"Báº£o trÃ¬"}),e.jsx("option",{value:"disposed",children:"ÄÃ£ thanh lÃ½"})]})]})]})}),M.length===0?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center text-slate-500 dark:text-slate-400",children:a.length===0?"ChÆ°a cÃ³ tÃ i sáº£n cá»‘ Ä‘á»‹nh nÃ o":"KhÃ´ng tÃ¬m tháº¥y tÃ i sáº£n phÃ¹ há»£p"}):e.jsx("div",{className:"grid gap-4",children:M.map(i=>e.jsx(pe,{asset:i,onEdit:()=>{S(i),_(!0)},onDelete:()=>h(i.id)},i.id))})]}),b&&e.jsx($,{onClose:()=>x(!1),onSave:D,branchId:t}),g&&p&&e.jsx($,{asset:p,onClose:()=>{_(!1),S(null)},onSave:o,branchId:t})]})},pe=({asset:t,onEdit:a,onDelete:s})=>{const r=(t.purchasePrice-t.currentValue)/t.purchasePrice*100,n=x=>({equipment:"Thiáº¿t bá»‹",vehicle:"Xe cá»™",building:"NhÃ  xÆ°á»Ÿng",furniture:"Ná»™i tháº¥t",other:"KhÃ¡c"})[x]||x,j=x=>{const g={active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",maintenance:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",disposed:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"};return g[x]||g.active},b=x=>({active:"Äang dÃ¹ng",maintenance:"Báº£o trÃ¬",disposed:"ÄÃ£ thanh lÃ½"})[x]||x;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:t.name}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:n(t.assetType)}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(t.status)}`,children:b(t.status)})]}),t.serialNumber&&e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Serial: ",t.serialNumber]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"px-3 py-1.5 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-medium transition-colors",children:"âœï¸ Sá»­a"}),e.jsx("button",{onClick:s,className:"px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:"ðŸ—‘ï¸ XÃ³a"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"GiÃ¡ mua"}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:T(t.purchasePrice)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"GiÃ¡ trá»‹ hiá»‡n táº¡i"}),e.jsx("div",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:T(t.currentValue)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Kháº¥u hao/nÄƒm"}),e.jsxs("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[t.depreciationRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Thá»i gian SD"}),e.jsxs("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[t.usefulLife," nÄƒm"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-2",children:[e.jsxs("span",{children:["Kháº¥u hao: ",r.toFixed(1),"%"]}),e.jsxs("span",{children:["CÃ²n láº¡i: ",(100-r).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${r}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{children:["NgÃ y mua: ",B(new Date(t.purchaseDate))]}),t.location&&e.jsxs("span",{children:["Vá»‹ trÃ­: ",t.location]})]})]})},$=({asset:t,onClose:a,onSave:s,branchId:r})=>{const[n,j]=d.useState((t==null?void 0:t.name)||""),[b,x]=d.useState((t==null?void 0:t.assetType)||"equipment"),[g,_]=d.useState((t==null?void 0:t.purchaseDate.split("T")[0])||new Date().toISOString().split("T")[0]),[p,S]=d.useState((t==null?void 0:t.purchasePrice.toString())||"0"),[v,V]=d.useState((t==null?void 0:t.depreciationRate.toString())||"10"),[f,F]=d.useState((t==null?void 0:t.usefulLife.toString())||"5"),[N,M]=d.useState((t==null?void 0:t.status)||"active"),[D,o]=d.useState((t==null?void 0:t.location)||""),[h,i]=d.useState((t==null?void 0:t.serialNumber)||""),[k,u]=d.useState((t==null?void 0:t.supplier)||""),[y,l]=d.useState((t==null?void 0:t.warranty)||""),[C,z]=d.useState((t==null?void 0:t.notes)||""),X=c=>{c.preventDefault();const K=parseFloat(p),E=parseFloat(v),U=parseFloat(f),W=(new Date().getTime()-new Date(g).getTime())/(1e3*60*60*24*365),Z=K*E/100,J=Math.min(Z*W,K),Y=Math.max(0,K-J),ee={name:n,assetType:b,purchaseDate:new Date(g).toISOString(),purchasePrice:K,currentValue:Y,depreciationRate:E,depreciationMethod:"straight-line",usefulLife:U,status:N,location:D,serialNumber:h,supplier:k,warranty:y,notes:C,branchId:r};s(ee)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-3xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:t?"Chá»‰nh sá»­a tÃ i sáº£n":"ThÃªm tÃ i sáº£n cá»‘ Ä‘á»‹nh"})}),e.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"TÃªn tÃ i sáº£n *"}),e.jsx("input",{type:"text",value:n,onChange:c=>j(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loáº¡i tÃ i sáº£n *"}),e.jsxs("select",{value:b,onChange:c=>x(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[e.jsx("option",{value:"equipment",children:"Thiáº¿t bá»‹"}),e.jsx("option",{value:"vehicle",children:"Xe cá»™"}),e.jsx("option",{value:"building",children:"NhÃ  xÆ°á»Ÿng"}),e.jsx("option",{value:"furniture",children:"Ná»™i tháº¥t"}),e.jsx("option",{value:"other",children:"KhÃ¡c"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tráº¡ng thÃ¡i"}),e.jsxs("select",{value:N,onChange:c=>M(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[e.jsx("option",{value:"active",children:"Äang dÃ¹ng"}),e.jsx("option",{value:"maintenance",children:"Báº£o trÃ¬"}),e.jsx("option",{value:"disposed",children:"ÄÃ£ thanh lÃ½"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"NgÃ y mua *"}),e.jsx("input",{type:"date",value:g,onChange:c=>_(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"GiÃ¡ mua *"}),e.jsx("input",{type:"number",value:p,onChange:c=>S(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tá»· lá»‡ kháº¥u hao (%/nÄƒm) *"}),e.jsx("input",{type:"number",step:"0.1",value:v,onChange:c=>V(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Thá»i gian sá»­ dá»¥ng (nÄƒm) *"}),e.jsx("input",{type:"number",value:f,onChange:c=>F(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sá»‘ Serial"}),e.jsx("input",{type:"text",value:h,onChange:c=>i(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vá»‹ trÃ­"}),e.jsx("input",{type:"text",value:D,onChange:c=>o(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"NhÃ  cung cáº¥p"}),e.jsx("input",{type:"text",value:k,onChange:c=>u(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Báº£o hÃ nh Ä‘áº¿n"}),e.jsx("input",{type:"date",value:y,onChange:c=>l(c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi chÃº"}),e.jsx("textarea",{value:C,onChange:c=>z(c.target.value),rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Há»§y"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:t?"Cáº­p nháº­t":"ThÃªm tÃ i sáº£n"})]})]})]})})};async function ve(){try{const{data:t,error:a}=await I.from("capital").select("*").order("date",{ascending:!1});if(a)return m({code:"supabase",message:"KhÃ´ng thá»ƒ táº£i danh sÃ¡ch nguá»“n vá»‘n",cause:a});const s=(t||[]).map(r=>({id:r.id,type:r.type,sourceName:r.source_name,amount:parseFloat(r.amount),date:r.date,notes:r.notes,interestRate:r.interest_rate?parseFloat(r.interest_rate):void 0,interestType:r.interest_type,paymentFrequency:r.payment_frequency,maturityDate:r.maturity_date,branchId:r.branch_id,created_at:r.created_at}));return A(s)}catch(t){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi táº£i nguá»“n vá»‘n",cause:t})}}async function fe(t){try{const{data:a,error:s}=await I.from("capital").insert({type:t.type,source_name:t.sourceName,amount:t.amount,date:t.date,notes:t.notes,interest_rate:t.interestRate,interest_type:t.interestType,payment_frequency:t.paymentFrequency,maturity_date:t.maturityDate,branch_id:t.branchId}).select().single();return s||!a?m({code:"supabase",message:"KhÃ´ng thá»ƒ thÃªm nguá»“n vá»‘n",cause:s}):A({id:a.id,type:a.type,sourceName:a.source_name,amount:parseFloat(a.amount),date:a.date,notes:a.notes,interestRate:a.interest_rate?parseFloat(a.interest_rate):void 0,interestType:a.interest_type,paymentFrequency:a.payment_frequency,maturityDate:a.maturity_date,branchId:a.branch_id,created_at:a.created_at})}catch(a){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi thÃªm nguá»“n vá»‘n",cause:a})}}async function ke(t,a){try{const s={};a.type!==void 0&&(s.type=a.type),a.sourceName!==void 0&&(s.source_name=a.sourceName),a.amount!==void 0&&(s.amount=a.amount),a.date!==void 0&&(s.date=a.date),a.notes!==void 0&&(s.notes=a.notes),a.interestRate!==void 0&&(s.interest_rate=a.interestRate),a.interestType!==void 0&&(s.interest_type=a.interestType),a.paymentFrequency!==void 0&&(s.payment_frequency=a.paymentFrequency),a.maturityDate!==void 0&&(s.maturity_date=a.maturityDate);const{data:r,error:n}=await I.from("capital").update(s).eq("id",t).select().single();return n||!r?m({code:"supabase",message:"KhÃ´ng thá»ƒ cáº­p nháº­t nguá»“n vá»‘n",cause:n}):A({id:r.id,type:r.type,sourceName:r.source_name,amount:parseFloat(r.amount),date:r.date,notes:r.notes,interestRate:r.interest_rate?parseFloat(r.interest_rate):void 0,interestType:r.interest_type,paymentFrequency:r.payment_frequency,maturityDate:r.maturity_date,branchId:r.branch_id,created_at:r.created_at})}catch(s){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi cáº­p nháº­t nguá»“n vá»‘n",cause:s})}}async function ye(t){try{const{error:a}=await I.from("capital").delete().eq("id",t);return a?m({code:"supabase",message:"KhÃ´ng thá»ƒ xÃ³a nguá»“n vá»‘n",cause:a}):A(void 0)}catch(a){return m({code:"network",message:"Lá»—i káº¿t ná»‘i khi xÃ³a nguá»“n vá»‘n",cause:a})}}function je(){const{currentBranchId:t}=q();return G({queryKey:["capitals",t],queryFn:async()=>{const a=await ve();if(!a.ok)throw new Error(a.error.message);return a.data.filter(s=>s.branchId===t)},staleTime:3e4})}function we(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async s=>{const r=await fe(s);if(!r.ok)throw new Error(r.error.message);return r.data},onSuccess:()=>{t.invalidateQueries({queryKey:["capitals",a]})}})}function Ne(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async({id:s,updates:r})=>{const n=await ke(s,r);if(!n.ok)throw new Error(n.error.message);return n.data},onSuccess:()=>{t.invalidateQueries({queryKey:["capitals",a]})}})}function Ce(){const t=L(),{currentBranchId:a}=q();return R({mutationFn:async s=>{const r=await ye(s);if(!r.ok)throw new Error(r.error.message)},onSuccess:()=>{t.invalidateQueries({queryKey:["capitals",a]})}})}const _e=()=>{const{currentBranchId:t}=q(),{data:a=[],isLoading:s}=je(),r=we(),n=Ne(),j=Ce(),[b,x]=d.useState(!1),[g,_]=d.useState(!1),[p,S]=d.useState(null),[v,V]=d.useState("all"),f=d.useMemo(()=>{const o=a.reduce((u,y)=>u+y.amount,0),h=a.filter(u=>u.type==="owner").reduce((u,y)=>u+y.amount,0),i=a.filter(u=>u.type==="investor").reduce((u,y)=>u+y.amount,0),k=a.filter(u=>u.type==="loan").reduce((u,y)=>u+y.amount,0);return{totalCapital:o,ownerCapital:h,investorCapital:i,loanCapital:k}},[a]),F=d.useMemo(()=>v==="all"?a:a.filter(o=>o.type===v),[a,v]),N=async o=>{try{await r.mutateAsync({...o,branchId:t}),w.success("ÄÃ£ thÃªm nguá»“n vá»‘n"),x(!1)}catch(h){w.error(h.message||"KhÃ´ng thá»ƒ thÃªm nguá»“n vá»‘n")}},M=async o=>{if(p)try{await n.mutateAsync({id:p.id,updates:o}),w.success("ÄÃ£ cáº­p nháº­t nguá»“n vá»‘n"),_(!1),S(null)}catch(h){w.error(h.message||"KhÃ´ng thá»ƒ cáº­p nháº­t nguá»“n vá»‘n")}},D=async o=>{if(window.confirm("Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a nguá»“n vá»‘n nÃ y?"))try{await j.mutateAsync(o),w.success("ÄÃ£ xÃ³a nguá»“n vá»‘n")}catch(h){w.error(h.message||"KhÃ´ng thá»ƒ xÃ³a nguá»“n vá»‘n")}};return s?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Äang táº£i..."})}):e.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Vá»‘n Ä‘áº§u tÆ°"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Quáº£n lÃ½ vá»‘n chá»§ sá»Ÿ há»¯u, vá»‘n Ä‘áº§u tÆ° vÃ  vá»‘n vay"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"ThÃªm nguá»“n vá»‘n"})]})]})}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg border-2 border-purple-200 dark:border-purple-700 p-4",children:[e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300 mb-1 font-medium",children:"Tá»•ng vá»‘n"}),e.jsx("div",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:T(f.totalCapital)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Vá»‘n chá»§"}),e.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:T(f.ownerCapital)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Vá»‘n Ä‘áº§u tÆ°"}),e.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:T(f.investorCapital)})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Vá»‘n vay"}),e.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:T(f.loanCapital)})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Loáº¡i nguá»“n vá»‘n:"}),e.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"Táº¥t cáº£"},{value:"owner",label:"Vá»‘n chá»§"},{value:"investor",label:"Äáº§u tÆ°"},{value:"loan",label:"Vá»‘n vay"}].map(o=>e.jsx("button",{onClick:()=>V(o.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${v===o.value?"bg-purple-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:o.label},o.value))})]})}),F.length===0?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center text-slate-500 dark:text-slate-400",children:a.length===0?"ChÆ°a cÃ³ nguá»“n vá»‘n nÃ o":"KhÃ´ng tÃ¬m tháº¥y nguá»“n vá»‘n phÃ¹ há»£p"}):e.jsx("div",{className:"grid gap-4",children:F.map(o=>e.jsx(Se,{capital:o,onEdit:()=>{S(o),_(!0)},onDelete:()=>D(o.id)},o.id))})]}),b&&e.jsx(Q,{onClose:()=>x(!1),onSave:N,branchId:t}),g&&p&&e.jsx(Q,{capital:p,onClose:()=>{_(!1),S(null)},onSave:M,branchId:t})]})},Se=({capital:t,onEdit:a,onDelete:s})=>{const n=(j=>{const b={owner:{label:"Vá»‘n chá»§ sá»Ÿ há»¯u",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",icon:"ðŸ‘¤"},investor:{label:"Vá»‘n Ä‘áº§u tÆ°",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",icon:"ðŸ’¼"},loan:{label:"Vá»‘n vay",color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",icon:"ðŸ¦"}};return b[j]||b.owner})(t.type);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:n.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:t.sourceName}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${n.color} mt-1`,children:n.label})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"px-3 py-1.5 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-medium transition-colors",children:"âœï¸ Sá»­a"}),e.jsx("button",{onClick:s,className:"px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:"ðŸ—‘ï¸ XÃ³a"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Sá»‘ tiá»n"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:T(t.amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"NgÃ y nháº­n"}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:B(new Date(t.date))})]})]}),(t.type==="investor"||t.type==="loan")&&t.interestRate&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"LÃ£i suáº¥t"}),e.jsxs("div",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:[t.interestRate,"%/nÄƒm"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Loáº¡i lÃ£i"}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.interestType==="simple"?"LÃ£i Ä‘Æ¡n":"LÃ£i kÃ©p"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Ká»³ tráº£ lÃ£i"}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:t.paymentFrequency==="monthly"?"HÃ ng thÃ¡ng":t.paymentFrequency==="quarterly"?"HÃ ng quÃ½":"HÃ ng nÄƒm"})]}),t.maturityDate&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Äáº¿n háº¡n"}),e.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:B(new Date(t.maturityDate))})]})]}),t.notes&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Ghi chÃº"}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:t.notes})]})]})},Q=({capital:t,onClose:a,onSave:s,branchId:r})=>{var u,y;const[n,j]=d.useState((t==null?void 0:t.type)||"owner"),[b,x]=d.useState((t==null?void 0:t.sourceName)||""),[g,_]=d.useState((t==null?void 0:t.amount.toString())||"0"),[p,S]=d.useState((t==null?void 0:t.date.split("T")[0])||new Date().toISOString().split("T")[0]),[v,V]=d.useState((t==null?void 0:t.notes)||""),[f,F]=d.useState(((u=t==null?void 0:t.interestRate)==null?void 0:u.toString())||"0"),[N,M]=d.useState((t==null?void 0:t.interestType)||"simple"),[D,o]=d.useState((t==null?void 0:t.paymentFrequency)||"monthly"),[h,i]=d.useState(((y=t==null?void 0:t.maturityDate)==null?void 0:y.split("T")[0])||""),k=l=>{if(l.preventDefault(),!b.trim()){w.error("Vui lÃ²ng nháº­p tÃªn nguá»“n vá»‘n");return}const C={type:n,sourceName:b.trim(),amount:parseFloat(g),date:new Date(p).toISOString(),notes:v.trim(),branchId:r};(n==="investor"||n==="loan")&&(C.interestRate=parseFloat(f),C.interestType=N,C.paymentFrequency=D,h&&(C.maturityDate=new Date(h).toISOString())),s(C)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:e.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:t?"Chá»‰nh sá»­a nguá»“n vá»‘n":"ThÃªm nguá»“n vá»‘n"})}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loáº¡i nguá»“n vá»‘n *"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"owner",label:"ðŸ‘¤ Vá»‘n chá»§",color:"blue"},{value:"investor",label:"ðŸ’¼ Äáº§u tÆ°",color:"green"},{value:"loan",label:"ðŸ¦ Vay",color:"orange"}].map(l=>e.jsx("button",{type:"button",onClick:()=>j(l.value),className:`px-4 py-3 rounded-lg border-2 font-medium transition-all ${n===l.value?`border-${l.color}-500 bg-${l.color}-50 dark:bg-${l.color}-900/20 text-${l.color}-700 dark:text-${l.color}-300`:"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"TÃªn nguá»“n vá»‘n *"}),e.jsx("input",{type:"text",value:b,onChange:l=>x(l.target.value),placeholder:n==="owner"?"VD: Vá»‘n chá»§ - Nguyá»…n VÄƒn A":n==="investor"?"VD: NhÃ  Ä‘áº§u tÆ° ABC":"VD: NgÃ¢n hÃ ng Vietcombank",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sá»‘ tiá»n *"}),e.jsx("input",{type:"number",value:g,onChange:l=>_(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0,min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"NgÃ y nháº­n *"}),e.jsx("input",{type:"date",value:p,onChange:l=>S(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]})]}),(n==="investor"||n==="loan")&&e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/10 rounded-lg border-2 border-orange-200 dark:border-orange-800 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"ThÃ´ng tin lÃ£i suáº¥t"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"LÃ£i suáº¥t (%/nÄƒm)"}),e.jsx("input",{type:"number",step:"0.1",value:f,onChange:l=>F(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loáº¡i lÃ£i"}),e.jsxs("select",{value:N,onChange:l=>M(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[e.jsx("option",{value:"simple",children:"LÃ£i Ä‘Æ¡n"}),e.jsx("option",{value:"compound",children:"LÃ£i kÃ©p"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ká»³ tráº£ lÃ£i"}),e.jsxs("select",{value:D,onChange:l=>o(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[e.jsx("option",{value:"monthly",children:"HÃ ng thÃ¡ng"}),e.jsx("option",{value:"quarterly",children:"HÃ ng quÃ½"}),e.jsx("option",{value:"yearly",children:"HÃ ng nÄƒm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"NgÃ y Ä‘áº¿n háº¡n"}),e.jsx("input",{type:"date",value:h,onChange:l=>i(l.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi chÃº"}),e.jsx("textarea",{value:v,onChange:l=>V(l.target.value),rows:3,placeholder:"ThÃªm ghi chÃº vá» nguá»“n vá»‘n...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Há»§y"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:t?"Cáº­p nháº­t":"ThÃªm nguá»“n vá»‘n"})]})]})]})})},H={cashbook:{label:"Sá»• quá»¹",Icon:ae,activeClass:"bg-gradient-to-r from-blue-600 to-indigo-500 text-white border-transparent shadow-lg shadow-blue-500/40",inactiveClass:"bg-white/90 dark:bg-slate-900/60 text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-700 hover:bg-blue-50/80 dark:hover:bg-blue-900/20",dotClass:"bg-blue-400"},loans:{label:"Khoáº£n vay",Icon:te,activeClass:"bg-gradient-to-r from-cyan-500 to-teal-500 text-white border-transparent shadow-lg shadow-cyan-500/40",inactiveClass:"bg-white/90 dark:bg-slate-900/60 text-cyan-800 dark:text-cyan-200 border border-cyan-200 dark:border-cyan-800 hover:bg-cyan-50/80 dark:hover:bg-cyan-900/20",dotClass:"bg-cyan-400"},assets:{label:"TSCÄ",Icon:ne,activeClass:"bg-gradient-to-r from-emerald-500 to-lime-500 text-white border-transparent shadow-lg shadow-emerald-500/40",inactiveClass:"bg-white/90 dark:bg-slate-900/60 text-emerald-700 dark:text-emerald-200 border border-emerald-200 dark:border-emerald-800 hover:bg-emerald-50/80 dark:hover:bg-emerald-900/20",dotClass:"bg-emerald-400"},capital:{label:"Vá»‘n",Icon:le,activeClass:"bg-gradient-to-r from-fuchsia-500 to-purple-500 text-white border-transparent shadow-lg shadow-fuchsia-500/40",inactiveClass:"bg-white/90 dark:bg-slate-900/60 text-fuchsia-700 dark:text-fuchsia-200 border border-fuchsia-200 dark:border-fuchsia-800 hover:bg-fuchsia-50/80 dark:hover:bg-fuchsia-900/20",dotClass:"bg-fuchsia-400"}},Ie=()=>{const[t,a]=d.useState("cashbook");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900 rounded-lg shadow-lg border border-primary-border p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold text-primary-text mb-2",children:[e.jsx(de,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}),"Quáº£n lÃ½ TÃ i chÃ­nh"]}),e.jsx("p",{className:"text-secondary-text",children:"Quáº£n lÃ½ sá»• quá»¹, khoáº£n vay vÃ  cÃ¡c giao dá»‹ch tÃ i chÃ­nh"})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto mt-4 md:mt-0",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 w-full md:w-auto",children:Object.keys(H).map(s=>{const r=H[s],n=t===s,j=r.Icon;return e.jsxs("button",{type:"button","aria-pressed":n,onClick:()=>a(s),className:`px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 border ${n?`${r.activeClass} scale-[1.03]`:r.inactiveClass}`,children:[e.jsx("span",{"aria-hidden":!0,className:`w-2.5 h-2.5 rounded-full ${n?"bg-white/90":r.dotClass}`}),e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"whitespace-nowrap",children:r.label})]},s)})})})]})}),e.jsxs("div",{children:[t==="cashbook"&&e.jsx(re,{}),t==="loans"&&e.jsx(se,{}),t==="assets"&&e.jsx(ge,{}),t==="capital"&&e.jsx(_e,{})]})]})};export{Ie as default};
